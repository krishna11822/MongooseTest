!function(modules){function webpackJsonpCallback(data){for(var moduleId,chunkId,chunkIds=data[0],moreModules=data[1],executeModules=data[2],i=0,resolves=[];i<chunkIds.length;i++)chunkId=chunkIds[i],Object.prototype.hasOwnProperty.call(installedChunks,chunkId)&&installedChunks[chunkId]&&resolves.push(installedChunks[chunkId][0]),installedChunks[chunkId]=0;for(moduleId in moreModules)Object.prototype.hasOwnProperty.call(moreModules,moduleId)&&(modules[moduleId]=moreModules[moduleId]);for(parentJsonpFunction&&parentJsonpFunction(data);resolves.length;)resolves.shift()();return deferredModules.push.apply(deferredModules,executeModules||[]),checkDeferredModules()}function checkDeferredModules(){for(var result,i=0;i<deferredModules.length;i++){for(var deferredModule=deferredModules[i],fulfilled=!0,j=1;j<deferredModule.length;j++){var depId=deferredModule[j];0!==installedChunks[depId]&&(fulfilled=!1)}fulfilled&&(deferredModules.splice(i--,1),result=__webpack_require__(__webpack_require__.s=deferredModule[0]))}return result}var installedModules={},installedChunks={3:0},deferredModules=[];function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module.default}:function getModuleExports(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="scripts/";var jsonpArray=window.webpackJsonp=window.webpackJsonp||[],oldJsonpFunction=jsonpArray.push.bind(jsonpArray);jsonpArray.push=webpackJsonpCallback,jsonpArray=jsonpArray.slice();for(var i=0;i<jsonpArray.length;i++)webpackJsonpCallback(jsonpArray[i]);var parentJsonpFunction=oldJsonpFunction;deferredModules.push([581,8,9,1,6,0,2,4,5,7,10]),checkDeferredModules()}([,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ComponentNames=exports.IdoDataType=exports.DatagridExportTypes=exports.TextAlignment=exports.SummaryTextPlacement=exports.GridAggregators=exports.RegexStrings=exports.ABFormScriptMethod=exports.ComponentClassNames=exports.ElementDataKeys=exports.CSSClasses=exports.FileExtensions=exports.StatusCodes=exports.Subcodes=exports.ProjectLimit=exports.ListTemplateIdEnum=exports.ImageBase64=exports.BorderType=exports.MarginType=exports.ImagePositions=exports.MaskProcess=exports.RowHeight=exports.InteractionPairOperation=exports.ValueObject=exports.SubstitutionTags=exports.ButtonStyle=exports.HourMode=exports.MinInterval=exports.LanguageConsts=exports.DateFormat=exports.SettingKeys=exports.DEFAULT_BOUNDARY=exports.FeatureIdEnum=exports.DirectionType=exports.ContextKeys=exports.InteractionTriggerEnum=exports.InteractionActionEnum=exports.MimeTypes=exports.ProjectFileKeys=exports.InjectNames=exports.SettingInputKeys=exports.SidebarTabTypes=exports.OrientationTypes=exports.ComponentConstants=exports.ComponentSizeTypes=exports.InsertEventTypes=exports.ConditionType=exports.Operators=exports.CssConstantValues=exports.CssConstantKeys=exports.EventTypes=exports.BindingTypes=exports.SettingTypes=exports.AppTypeEnum=exports.ServerPaths=exports.Config=exports.ProjectTypeEnum=exports.DeveloperConstants=exports.MGPlatform=exports.SaveProjectSettingEnum=exports.SaveFlagsEnum=exports.SortEnum=exports.AlignmentEnum=exports.WizardFocusEnum=exports.FlexOverflowEnum=exports.FlexSizeTypeEnum=exports.ThemeEnum=exports.DirectionEnum=exports.HorizontalAlignmentEnum=exports.ColumnFormatterType=exports.DatagridPageSizesEnum=exports.ProjectLayout=exports.Numbers=exports.ChartTypeEnum=exports.AppEnvTypes=exports.BuildEnvTypes=exports.IdoProperties=exports.availableDatasourceTypes=exports.ReplaceEnum=exports.DashboardViewStates=exports.DashboardStates=exports.AppStatus=exports.CanvasModeEnum=void 0;var datasource_type_enum_1=__webpack_require__(57);!function(CanvasModeEnum){CanvasModeEnum[CanvasModeEnum.RUNTIME=0]="RUNTIME",CanvasModeEnum[CanvasModeEnum.SELECTION=1]="SELECTION",CanvasModeEnum[CanvasModeEnum.INSERT=2]="INSERT",CanvasModeEnum[CanvasModeEnum.FINDER=3]="FINDER",CanvasModeEnum[CanvasModeEnum.WIZARD=4]="WIZARD"}(exports.CanvasModeEnum||(exports.CanvasModeEnum={})),function(AppStatus){AppStatus[AppStatus.OFFLINE=0]="OFFLINE",AppStatus[AppStatus.ONLINE=1]="ONLINE"}(exports.AppStatus||(exports.AppStatus={})),function(DashboardStates){DashboardStates[DashboardStates.LIST=0]="LIST",DashboardStates[DashboardStates.CREATE=1]="CREATE"}(exports.DashboardStates||(exports.DashboardStates={})),function(DashboardViewStates){DashboardViewStates[DashboardViewStates.TILE=0]="TILE",DashboardViewStates[DashboardViewStates.GRID=1]="GRID"}(exports.DashboardViewStates||(exports.DashboardViewStates={})),function(ReplaceEnum){ReplaceEnum[ReplaceEnum.DONOTHING=0]="DONOTHING",ReplaceEnum[ReplaceEnum.OVERWRITE=1]="OVERWRITE",ReplaceEnum[ReplaceEnum.COPYNEW=2]="COPYNEW"}(exports.ReplaceEnum||(exports.ReplaceEnum={})),exports.availableDatasourceTypes=[{name:"IDM",value:datasource_type_enum_1.DatasourceTypeEnum.IDM},{name:"M3",value:datasource_type_enum_1.DatasourceTypeEnum.M3},{name:"MONGOOSE",value:datasource_type_enum_1.DatasourceTypeEnum.MONGOOSE},{name:"Generic",value:datasource_type_enum_1.DatasourceTypeEnum.generic},{name:"Static List",value:datasource_type_enum_1.DatasourceTypeEnum.INLINE_LIST}];var Numbers,IdoProperties=function(){function IdoProperties(){}return IdoProperties.ITEM_ID="ItemID",IdoProperties.RECORD_DATE="RecordDate",IdoProperties.ROW_POINTER="RowPointer",IdoProperties}();exports.IdoProperties=IdoProperties,function(BuildEnvTypes){BuildEnvTypes.DEV="DEV",BuildEnvTypes.PROD="PROD",BuildEnvTypes.CI="CI"}(exports.BuildEnvTypes||(exports.BuildEnvTypes={})),function(AppEnvTypes){AppEnvTypes.RUNTIME="RUNTIME",AppEnvTypes.DESIGNER="DESIGNER"}(exports.AppEnvTypes||(exports.AppEnvTypes={})),function(ChartTypeEnum){ChartTypeEnum[ChartTypeEnum.Area="Area"]="Area",ChartTypeEnum[ChartTypeEnum.Bar="Bar"]="Bar",ChartTypeEnum[ChartTypeEnum.BarGrouped="BarGrouped"]="BarGrouped",ChartTypeEnum[ChartTypeEnum.BarStacked="BarStacked"]="BarStacked",ChartTypeEnum[ChartTypeEnum.Column="Column"]="Column",ChartTypeEnum[ChartTypeEnum.ColumnGrouped="ColumnGrouped"]="ColumnGrouped",ChartTypeEnum[ChartTypeEnum.ColumnStacked="ColumnStacked"]="ColumnStacked",ChartTypeEnum[ChartTypeEnum.Donut="Donut"]="Donut",ChartTypeEnum[ChartTypeEnum.Line="Line"]="Line",ChartTypeEnum[ChartTypeEnum.Pie="Pie"]="Pie",ChartTypeEnum[ChartTypeEnum.Radar="Radar"]="Radar",ChartTypeEnum[ChartTypeEnum.Profile="Profile"]="Profile",ChartTypeEnum[ChartTypeEnum.StackedLine="StackedLine"]="StackedLine",ChartTypeEnum[ChartTypeEnum.StackedColumn="StackedColumn"]="StackedColumn"}(exports.ChartTypeEnum||(exports.ChartTypeEnum={})),function(Numbers){Numbers[Numbers.HALF=.5]="HALF",Numbers[Numbers.ZERO=0]="ZERO",Numbers[Numbers.ONE=1]="ONE",Numbers[Numbers.TWO=2]="TWO",Numbers[Numbers.THREE=3]="THREE",Numbers[Numbers.FOUR=4]="FOUR",Numbers[Numbers.FIVE=5]="FIVE",Numbers[Numbers.SIX=6]="SIX",Numbers[Numbers.SEVEN=7]="SEVEN",Numbers[Numbers.TEN=10]="TEN",Numbers[Numbers.TWENTY=20]="TWENTY",Numbers[Numbers.TWENTYFIVE=25]="TWENTYFIVE",Numbers[Numbers.FIFTY=50]="FIFTY",Numbers[Numbers.SEVENTYFIVE=75]="SEVENTYFIVE",Numbers[Numbers.HUNDRED=100]="HUNDRED",Numbers[Numbers.TWO_HUNDRED=200]="TWO_HUNDRED",Numbers[Numbers.THREE_HUNDRED=300]="THREE_HUNDRED",Numbers[Numbers.FOUR_HUNDRED=400]="FOUR_HUNDRED",Numbers[Numbers.SIX_HUNDRED=600]="SIX_HUNDRED",Numbers[Numbers.ONE_THOUSAND=1e3]="ONE_THOUSAND",Numbers[Numbers.FIVE_THOUSAND=5e3]="FIVE_THOUSAND",Numbers[Numbers.MILLION=1e6]="MILLION"}(Numbers=exports.Numbers||(exports.Numbers={})),function(ProjectLayout){ProjectLayout[ProjectLayout.ONE=1]="ONE",ProjectLayout[ProjectLayout.TWO=2]="TWO",ProjectLayout[ProjectLayout.THREE=3]="THREE",ProjectLayout[ProjectLayout.FOUR=4]="FOUR",ProjectLayout[ProjectLayout.FIVE=5]="FIVE",ProjectLayout[ProjectLayout.SIX=6]="SIX",ProjectLayout[ProjectLayout.SEVEN=7]="SEVEN",ProjectLayout[ProjectLayout.EIGHT=8]="EIGHT",ProjectLayout[ProjectLayout.NINE=9]="NINE",ProjectLayout[ProjectLayout.TEN=10]="TEN",ProjectLayout[ProjectLayout.ELEVEN=11]="ELEVEN",ProjectLayout[ProjectLayout.TWELVE=12]="TWELVE",ProjectLayout[ProjectLayout.THIRTEEN=13]="THIRTEEN"}(exports.ProjectLayout||(exports.ProjectLayout={})),function(DatagridPageSizesEnum){DatagridPageSizesEnum[DatagridPageSizesEnum.OPTION1=Numbers.TEN]="OPTION1",DatagridPageSizesEnum[DatagridPageSizesEnum.OPTION2=Numbers.TWENTYFIVE]="OPTION2",DatagridPageSizesEnum[DatagridPageSizesEnum.OPTION3=Numbers.FIFTY]="OPTION3",DatagridPageSizesEnum[DatagridPageSizesEnum.OPTION4=Numbers.SEVENTYFIVE]="OPTION4"}(exports.DatagridPageSizesEnum||(exports.DatagridPageSizesEnum={})),function(ColumnFormatterType){ColumnFormatterType[ColumnFormatterType.BASIC=0]="BASIC",ColumnFormatterType[ColumnFormatterType.LIST=1]="LIST",ColumnFormatterType[ColumnFormatterType.HYPERLINK=2]="HYPERLINK"}(exports.ColumnFormatterType||(exports.ColumnFormatterType={})),function(HorizontalAlignmentEnum){HorizontalAlignmentEnum[HorizontalAlignmentEnum.LEFT=1]="LEFT",HorizontalAlignmentEnum[HorizontalAlignmentEnum.CENTER=2]="CENTER",HorizontalAlignmentEnum[HorizontalAlignmentEnum.RIGHT=3]="RIGHT"}(exports.HorizontalAlignmentEnum||(exports.HorizontalAlignmentEnum={})),function(DirectionEnum){DirectionEnum[DirectionEnum.RIGHT=1]="RIGHT",DirectionEnum[DirectionEnum.LEFT=2]="LEFT",DirectionEnum[DirectionEnum.UP=3]="UP",DirectionEnum[DirectionEnum.DOWN=4]="DOWN",DirectionEnum[DirectionEnum.AUTO=5]="AUTO"}(exports.DirectionEnum||(exports.DirectionEnum={})),function(ThemeEnum){ThemeEnum[ThemeEnum.DEFAULT=0]="DEFAULT",ThemeEnum[ThemeEnum.LIGHT=1]="LIGHT",ThemeEnum[ThemeEnum.DARK=2]="DARK",ThemeEnum[ThemeEnum.HIGH_CONTRAST=3]="HIGH_CONTRAST",ThemeEnum[ThemeEnum.LIGHT_TRANSPARENT=4]="LIGHT_TRANSPARENT",ThemeEnum[ThemeEnum.DARK_TRANSPARENT=5]="DARK_TRANSPARENT"}(exports.ThemeEnum||(exports.ThemeEnum={})),function(FlexSizeTypeEnum){FlexSizeTypeEnum[FlexSizeTypeEnum.PIXELS=1]="PIXELS",FlexSizeTypeEnum[FlexSizeTypeEnum.FLEX=2]="FLEX"}(exports.FlexSizeTypeEnum||(exports.FlexSizeTypeEnum={})),function(FlexOverflowEnum){FlexOverflowEnum[FlexOverflowEnum.HIDDEN=1]="HIDDEN",FlexOverflowEnum[FlexOverflowEnum.WRAP=2]="WRAP",FlexOverflowEnum[FlexOverflowEnum.SCROLL=3]="SCROLL"}(exports.FlexOverflowEnum||(exports.FlexOverflowEnum={})),function(WizardFocusEnum){WizardFocusEnum[WizardFocusEnum.FOCUSED=1]="FOCUSED",WizardFocusEnum[WizardFocusEnum.RESTING=2]="RESTING",WizardFocusEnum[WizardFocusEnum.UNFOCUSED=3]="UNFOCUSED"}(exports.WizardFocusEnum||(exports.WizardFocusEnum={})),function(AlignmentEnum){AlignmentEnum[AlignmentEnum.FLEX_START=1]="FLEX_START",AlignmentEnum[AlignmentEnum.CENTER=2]="CENTER",AlignmentEnum[AlignmentEnum.FLEX_END=3]="FLEX_END"}(exports.AlignmentEnum||(exports.AlignmentEnum={})),function(SortEnum){SortEnum[SortEnum.SELECTED_SORT_ORDER=0]="SELECTED_SORT_ORDER",SortEnum[SortEnum.SELECTED_SORT_PROPERTY=1]="SELECTED_SORT_PROPERTY",SortEnum[SortEnum.FILTER_USER_NAME=2]="FILTER_USER_NAME",SortEnum[SortEnum.FILTER_NAME=3]="FILTER_NAME",SortEnum[SortEnum.SORT_DEFINITION=4]="SORT_DEFINITION",SortEnum[SortEnum.FILTER_STATUS=5]="FILTER_STATUS"}(exports.SortEnum||(exports.SortEnum={})),function(SaveFlagsEnum){SaveFlagsEnum[SaveFlagsEnum.MANIFEST=1]="MANIFEST",SaveFlagsEnum[SaveFlagsEnum.CANVAS_COMPONENTS=2]="CANVAS_COMPONENTS",SaveFlagsEnum[SaveFlagsEnum.INTERACTIONS=4]="INTERACTIONS",SaveFlagsEnum[SaveFlagsEnum.DATASOURCES=8]="DATASOURCES",SaveFlagsEnum[SaveFlagsEnum.SCREENSHOT=16]="SCREENSHOT",SaveFlagsEnum[SaveFlagsEnum.CUSTOMCOMPONENTS=32]="CUSTOMCOMPONENTS",SaveFlagsEnum[SaveFlagsEnum.COMPOSITE_COMPONENTS=64]="COMPOSITE_COMPONENTS",SaveFlagsEnum[SaveFlagsEnum.TRANSLATIONS=128]="TRANSLATIONS",SaveFlagsEnum[SaveFlagsEnum.TAGS=256]="TAGS",SaveFlagsEnum[SaveFlagsEnum.URL_VARIABLES=512]="URL_VARIABLES",SaveFlagsEnum[SaveFlagsEnum.EXPRESSIONS=1024]="EXPRESSIONS",SaveFlagsEnum[SaveFlagsEnum.QUESTIONS=2048]="QUESTIONS",SaveFlagsEnum[SaveFlagsEnum.PROJECT=1999]="PROJECT"}(exports.SaveFlagsEnum||(exports.SaveFlagsEnum={})),function(SaveProjectSettingEnum){SaveProjectSettingEnum[SaveProjectSettingEnum.INFO=1]="INFO",SaveProjectSettingEnum[SaveProjectSettingEnum.ROLES=2]="ROLES",SaveProjectSettingEnum[SaveProjectSettingEnum.ALL=3]="ALL"}(exports.SaveProjectSettingEnum||(exports.SaveProjectSettingEnum={})),function(MGPlatform){MGPlatform.WEB="Web",MGPlatform.WIN_FORMS="WinForms"}(exports.MGPlatform||(exports.MGPlatform={}));var DeveloperConstants=function(){function DeveloperConstants(){}return DeveloperConstants.ION_PROXY="dev-ion-proxy",DeveloperConstants.ION_TOKEN="dev-ion-token",DeveloperConstants.LAUNCH_WITH_ANGULAR="dev-launch-with-angular",DeveloperConstants}();exports.DeveloperConstants=DeveloperConstants,function(ProjectTypeEnum){ProjectTypeEnum[ProjectTypeEnum.APP=0]="APP",ProjectTypeEnum[ProjectTypeEnum.BASE=1]="BASE"}(exports.ProjectTypeEnum||(exports.ProjectTypeEnum={}));var Config=function(){function Config(){}return Config.APP_ROOT="",Config.REST_ROOT="",Config.APP_BUILDER_ROOT="/appbuilder/",Config.APP_BUILDER_REST_ROOT="/appbuilderrest/",Config.APP_RUNTIME_ROOT="/appruntime/",Config.APP_RUNTIME_REST_ROOT="/appruntimerest/",Config.ION_API_ROOT="/ionapi",Config.ION_API_URL="",Config.ION_API_TOKEN=localStorage.getItem(DeveloperConstants.ION_TOKEN),Config.ION_API_PROXY_PORT="8083",Config.TENANT_ID="",Config.IS_DEV=!1,Config.IS_BASE_BUILDER=!1,Config.IS_FIRST_LOAD=!0,Config.IS_CONFIG_LOADED=!1,Config.MAX_PROJECTS=0,Config.MAX_DATASOURCES=0,Config.MAX_COMPOSITES=0,Config.MAX_APPS=0,Config.RUN_PATH="run/",Config.RUN_ROOT=Config.APP_BUILDER_ROOT+Config.RUN_PATH,Config.RUN_RUNTIME_ROOT=Config.APP_RUNTIME_ROOT+Config.RUN_PATH,Config.MG_FORM_NAME="",Config.MG_FORM_ONLY=!1,Config.MG_PLATFORM="",Config.MG_CONFIG_NAME="",Config.MG_HELP_BASE_URL="",Config}();exports.Config=Config;var ServerPaths=function(){function ServerPaths(){}return ServerPaths.PROJECT="project/",ServerPaths.ADMINISTRATION="administration/",ServerPaths.RUNTIME="runtime/",ServerPaths.SETTINGS="settings/",ServerPaths.SWITCHABLE_FEATURES="switchableFeatures/",ServerPaths.REPOSITORY="repository/",ServerPaths.COMPOSITE_COMPONENTS="compositeComponents/",ServerPaths.DATASOURCES="datasources/",ServerPaths.IDO="ido/",ServerPaths.LOCAL_IDO="local-ido/",ServerPaths.DESIGNER="designer/",ServerPaths.ADMIN="admin/",ServerPaths}();exports.ServerPaths=ServerPaths,function(AppTypeEnum){AppTypeEnum.ADMIN_PREVIEW="ADMIN_PREVIEW",AppTypeEnum.RUNTIME="RUNTIME",AppTypeEnum.DESIGNER_PREVIEW="DESIGNER_PREVIEW",AppTypeEnum.APPHUB="APPHUB"}(exports.AppTypeEnum||(exports.AppTypeEnum={}));var SettingTypes=function(){function SettingTypes(){}return SettingTypes.SOURCE="wizard-source",SettingTypes.TARGET="wizard-target",SettingTypes}();exports.SettingTypes=SettingTypes;var BindingTypes=function(){function BindingTypes(){}return BindingTypes.STATIC="<static>",BindingTypes.CONTEXT="<target>",BindingTypes.URL="<url>",BindingTypes}();exports.BindingTypes=BindingTypes;var EventTypes=function(){function EventTypes(){}return EventTypes.CLICK="click",EventTypes.DRAGEND="dragend",EventTypes.DRAGLEAVE="dragleave",EventTypes.DRAGOVER="dragover",EventTypes.DRAGSTART="dragstart",EventTypes.DROP="drop",EventTypes.KEYDOWN="keydown",EventTypes.KEYUP="keyup",EventTypes.MOUSEUP="mouseup",EventTypes}();exports.EventTypes=EventTypes;var CssConstantKeys=function(){function CssConstantKeys(){}return CssConstantKeys.DISPLAY="display",CssConstantKeys.POINTER_EVENTS="pointer-events",CssConstantKeys.CURSOR="cursor",CssConstantKeys.BACKGROUND_COLOR="background-color",CssConstantKeys}();exports.CssConstantKeys=CssConstantKeys;var CssConstantValues=function(){function CssConstantValues(){}return CssConstantValues.CURSOR_NODROP="no-drop",CssConstantValues.CURSOR_POINTER="pointer",CssConstantValues.AUTO="auto",CssConstantValues.NONE="none",CssConstantValues.INLINE_BLOCK="inline-block",CssConstantValues}();exports.CssConstantValues=CssConstantValues;var Operators=function(){function Operators(){}return Operators.EQUALS="=",Operators.NOT_EQUALS="<>",Operators.GREATER=">",Operators.SAME_GREATER=">=",Operators.LOWER="<",Operators.SAME_LOWER="<=",Operators.INCLUDES="*",Operators}();exports.Operators=Operators;var ConditionType=function(){function ConditionType(){}return ConditionType.ALL="all",ConditionType.DISABLE="disable",ConditionType.HIDE="hide",ConditionType}();exports.ConditionType=ConditionType;var InsertEventTypes=function(){function InsertEventTypes(){}return InsertEventTypes.MOVE="move",InsertEventTypes.COPY="copy",InsertEventTypes}();exports.InsertEventTypes=InsertEventTypes;var ComponentSizeTypes=function(){function ComponentSizeTypes(){}return ComponentSizeTypes.SMALL="small-component",ComponentSizeTypes.LARGE="big-component",ComponentSizeTypes}();exports.ComponentSizeTypes=ComponentSizeTypes;var ComponentConstants=function(){function ComponentConstants(){}return ComponentConstants.COPY_SUFFIX="_Copy",ComponentConstants}();exports.ComponentConstants=ComponentConstants;var OrientationTypes=function(){function OrientationTypes(){}return OrientationTypes.HORIZONTAL="Horizontal",OrientationTypes.VERTICAL="Vertical",OrientationTypes.PAGE="Page",OrientationTypes}();exports.OrientationTypes=OrientationTypes;var SidebarTabTypes=function(){function SidebarTabTypes(){}return SidebarTabTypes.CONTENT="content",SidebarTabTypes.INTERACTION="interaction",SidebarTabTypes.STYLE="style",SidebarTabTypes}();exports.SidebarTabTypes=SidebarTabTypes;var SettingInputKeys=function(){function SettingInputKeys(){}return SettingInputKeys.CHECKBOX="checkbox",SettingInputKeys.DROPDOWN="dropdown",SettingInputKeys.MARGIN="margin",SettingInputKeys.BORDER="border",SettingInputKeys.NUMBER="number",SettingInputKeys.RADIO="radiobutton",SettingInputKeys.SWITCH="switch",SettingInputKeys.TEXT="text",SettingInputKeys.COLOR_PICKER="color-picker",SettingInputKeys}();exports.SettingInputKeys=SettingInputKeys;var InjectNames=function(){function InjectNames(){}return InjectNames.ADMINISTRATION_SERVICE="eirAdminisrationService",InjectNames.APP_ENV_CONSTANT="APP_ENV",InjectNames.BINDING_MANAGEMENT_SERVICE="eirBindingManagementService",InjectNames.BOUNDARY_MANAGEMENT_SERVICE="eirBoundaryManagementService",InjectNames.BUILD_ENV_CONSTANT="BUILD_ENV",InjectNames.COMMON_SERVICE="eirCommonService",InjectNames.COMPOSITE_COMPONENT_MANAGEMENT_SERVICE="eirCompositeComponentService",InjectNames.CONFLICT_RESOLUTION_SERVICE="eirConflictResolutionService",InjectNames.DATASOURCE_SERVICE="eirDatasourceService",InjectNames.DESIGNER_COMPONENT_SERVICE="eirFrameworkService",InjectNames.DESIGNER_SERVICE="eirDesignerService",InjectNames.DIALOG_SERVICE="eirDialogService",InjectNames.EDITOR_SERVICE="eirEditorService",InjectNames.EXPRESSION_SERVICE="eirExpressionService",InjectNames.FEATURE_SWITCH_SERVICE="eirFeatureSwitchService",InjectNames.FRAMEWORK_SERVICE="eirFrameworkService",InjectNames.HASH_SERVICE="eirHashService",InjectNames.HOTKEY_SERVICE="eirHotkeyService",InjectNames.HTTP_SERVICE="eirHttpService",InjectNames.HUB_SERVICE="eirHubService",InjectNames.INSERT_COMPONENT_SERVICE="eirInsertComponentService",InjectNames.INTERACTION_MANAGEMENT_SERVICE="eirInteractionManagementService",InjectNames.ION_API_SERVICE="eirIonApiService",InjectNames.ION_METADATA_SERVICE="eirIonMetadataService",InjectNames.LANGUAGE_SERVICE="eirLanguageService",InjectNames.LOCAL_IDO_SERVICE="eirLocalIdoService",InjectNames.MINGLE_SERVICE="eirMingleService",InjectNames.NO_CACHE_INTERCEPTOR="noCacheInterceptor",InjectNames.PROJECT_SERVICE="eirProjectService",InjectNames.REPOSITORY_SERVICE="eirRepositoryService",InjectNames.RUNTIME_SERVICE="eirRuntimeService",InjectNames.SAVE_SERVICE="eirSaveService",InjectNames.TAG_SERVICE="eirTagService",InjectNames.THEME_SERVICE="eirThemeService",InjectNames.TRANSLATION_MANAGEMENT_SERVICE="eirTranslationManagementService",InjectNames.UNDO_SERVICE="eirUndoService",InjectNames}();exports.InjectNames=InjectNames;var ProjectFileKeys=function(){function ProjectFileKeys(){}return ProjectFileKeys.ROOT_COMPONENT="rootcomponent",ProjectFileKeys.DATASOURCE="datasources",ProjectFileKeys.INTERACTION="interactions",ProjectFileKeys.CUSTOM_COMPONENT="customcomponents",ProjectFileKeys.COMPOSITE_COMPONENTS="compositecomponents",ProjectFileKeys.TRANSLATIONS="translations",ProjectFileKeys}();exports.ProjectFileKeys=ProjectFileKeys;var InteractionActionEnum,InteractionTriggerEnum,MimeTypes=function(){function MimeTypes(){}return MimeTypes.COMPONENT="component",MimeTypes.DATASOURCE="datasources",MimeTypes.INTERACTION="interactions",MimeTypes.CUSTOM_COMPONENT="customcomponents",MimeTypes.COMPOSITE_COMPONENTS="compositecomponents",MimeTypes.TRANSLATIONS="translations",MimeTypes}();exports.MimeTypes=MimeTypes,function(InteractionActionEnum){InteractionActionEnum.ADD_TEXT="AddText",InteractionActionEnum.DISABLE="Disable",InteractionActionEnum.GET="Get",InteractionActionEnum.LIST="List",InteractionActionEnum.SET_CURRENT_ITEM="SetCurrentItem",InteractionActionEnum.CLEAR="Clear"}(InteractionActionEnum=exports.InteractionActionEnum||(exports.InteractionActionEnum={})),function(InteractionTriggerEnum){InteractionTriggerEnum.APPLY="Apply",InteractionTriggerEnum.BROADCAST="Broadcast",InteractionTriggerEnum.BROWSE="Browse",InteractionTriggerEnum.CLEAR="Clear",InteractionTriggerEnum.CLICK="Click",InteractionTriggerEnum.CHANGED="Changed",InteractionTriggerEnum.CHECKED="IsChecked",InteractionTriggerEnum.CLOSE="Close",InteractionTriggerEnum.CREATE="Create",InteractionTriggerEnum.CURRENT_ITEM_CHANGED="CurrentItemChanged",InteractionTriggerEnum.CURRENT_ITEM_UPDATED="CurrentItemUpdated",InteractionTriggerEnum.DELETE="Delete",InteractionTriggerEnum.FILL_FORM="FillForm",InteractionTriggerEnum.GO_TO_PAGE="GoToPage",InteractionTriggerEnum.INITIALIZED="Initialized",InteractionTriggerEnum.KEY_PRESS="KeyPress",InteractionTriggerEnum.NEXT_PAGE="NextPage",InteractionTriggerEnum.NONE="None",InteractionTriggerEnum.ON_LOAD="OnLoad",InteractionTriggerEnum.ON_COLUMN_UPDATED="OnColumnUpdated",InteractionTriggerEnum.OPEN="Open",InteractionTriggerEnum.PREV_PAGE="PrevPage",InteractionTriggerEnum.READ="Read",InteractionTriggerEnum.RECEIVED="Received",InteractionTriggerEnum.REFRESH="Refresh",InteractionTriggerEnum.RIGHT_CLICK="RightClick",InteractionTriggerEnum.RUNNING="Running",InteractionTriggerEnum.SEND="Send",InteractionTriggerEnum.STARTUP="Startup",InteractionTriggerEnum.TIME_RELAPSED="Elapsed",InteractionTriggerEnum.TIMER_START="Start",InteractionTriggerEnum.TIMER_STOP="Stop",InteractionTriggerEnum.UNCHECKED="IsUnChecked",InteractionTriggerEnum.UPDATE="Update",InteractionTriggerEnum.UPDATE_COMPLETE="UpdateComplete"}(InteractionTriggerEnum=exports.InteractionTriggerEnum||(exports.InteractionTriggerEnum={}));var ContextKeys=function(){function ContextKeys(){}return ContextKeys.DETAIL_RESULT="DetailResult",ContextKeys.LIST_RESULT="ListResult",ContextKeys}();exports.ContextKeys=ContextKeys,function(DirectionType){DirectionType.NONE="none",DirectionType.BACK="back",DirectionType.DIRECTIONAL="directional"}(exports.DirectionType||(exports.DirectionType={})),function(FeatureIdEnum){FeatureIdEnum.ShowFeatureCatalog="ShowFeatureCatalog",FeatureIdEnum.TranslationService="TranslationService"}(exports.FeatureIdEnum||(exports.FeatureIdEnum={})),exports.DEFAULT_BOUNDARY={id:"Default",displayName:"Default"};var SettingKeys=function(){function SettingKeys(){}return SettingKeys.HEIGHT="height",SettingKeys.MARGIN="margin",SettingKeys.VISIBILITY="visibility",SettingKeys.WIDTH="width",SettingKeys.SHOW_ERROR="showError",SettingKeys.SIZE="size",SettingKeys.SIZE_TYPE="sizeType",SettingKeys.ORIENTATION="orientation",SettingKeys.ALIGNMENT_HORIZONTAL="horizontalAlignment",SettingKeys.ALIGNMENT_VERTICAL="verticalAlignment",SettingKeys.OVERFLOW="overflow",SettingKeys.ITEM_TEMPLATE="itemTemplate",SettingKeys.KEEP_SELECTED="keepSelected",SettingKeys.SEARCH="search",SettingKeys.CHART_VIEW="chartView",SettingKeys.CHART_TYPE="chartType",SettingKeys.CHART_LEGEND_DISPLAY="legendDisplay",SettingKeys.CHART_STARTUP_ANIMATION_ENABLE="startupAnimationEnable",SettingKeys.CHART_TITLE="title",SettingKeys.CHART_AXIS_CATEGORY_TITLE="axisCategoryTitle",SettingKeys.CHART_AXIS_CATEGORY_UNITS="axisCategoryUnits",SettingKeys.CHART_AXIS_VALUES_TITLE="axisValuesTitle",SettingKeys.CHART_AXIS_VALUES_UNITS="axisValuesUnits",SettingKeys.LOOKUP_OUTPUT_ID="lookupOutputId",SettingKeys.IS_RESIZABLE="resizable",SettingKeys.MAX_LENGTH="maxLength",SettingKeys.ROW_HEIGHT="rowHeight",SettingKeys.USE_PAGING="usePaging",SettingKeys.PAGE_SIZE="pageSize",SettingKeys.SUMMARY_ROW="summaryRow",SettingKeys.ROW_COUNT="rowCount",SettingKeys.FILTER_BAR="filterBar",SettingKeys.ENABLE_EXPORT="enableExport",SettingKeys.ROW_COUNT_OUTPUT="rowCountOutput",SettingKeys.SUMMARY_OUTPUT="summaryOutput",SettingKeys.DATE_FORMAT_SHOW="dateFormatShow",SettingKeys.DATE_FORMAT_BINDING="dateFormatBinding",SettingKeys.DATE_FORMAT_INPUT="dateFormatInput",SettingKeys.DATE_FORMATTED="dateFormatted",SettingKeys.DATE_VALUE="dateValue",SettingKeys.DATE_TODAY="isDefaultTodayDate",SettingKeys.BOX_WIDTH="boxWidth",SettingKeys.TIME_FORMAT="timeFormat",SettingKeys.ENABLE_SECONDS="enableSeconds",SettingKeys.TIME_VALUE="timeValue",SettingKeys.LANGUAGE="language",SettingKeys.LANGUAGE_SHORT="languageShort",SettingKeys.USER_NAME="userName",SettingKeys.USER_DESCRIPTION="userDescription",SettingKeys.TIMESTAMP="timestamp",SettingKeys.APPLICATION_HEADER="applicationHeader",SettingKeys.BACKGROUND_COLOR="backgroundColor",SettingKeys.BORDER="border",SettingKeys.BORDER_COLOR="borderColor",SettingKeys.CHECK_STATE="checkboxState",SettingKeys.COLOR="color",SettingKeys.CONTENT="content",SettingKeys.CURRENT_ITEM="currentItem",SettingKeys.CURRENT_ITEM_NAME="currentItemName",SettingKeys.CURRENT_ITEM_VALUE="currentItemValue",SettingKeys.DISPLAY_VALUE="displayValue",SettingKeys.DIRECTION="direction",SettingKeys.FONT_STYLE="fontStyle",SettingKeys.FONT_CHAR="fontChar",SettingKeys.IS_DEFAULT="isDefault",SettingKeys.IS_DRILLBACK="isDrillback",SettingKeys.IS_LIST="isList",SettingKeys.IS_READONLY="isReadonly",SettingKeys.LABEL="label",SettingKeys.LINK_VALUE="link",SettingKeys.MULTI_SELECT="multiSelect",SettingKeys.PLACEHOLDER="placeholder",SettingKeys.POSITION="position",SettingKeys.SELECTED_ITEM="selectedItem",SettingKeys.DIRTY_ITEMS="dirtyItems",SettingKeys.SHOW_LABEL="showLabel",SettingKeys.SOURCE="source",SettingKeys.STYLE="style",SettingKeys.TEXT="text",SettingKeys.TOOLTIP="toolTip",SettingKeys}();exports.SettingKeys=SettingKeys;var DateFormat=function(){function DateFormat(){}return DateFormat.FORMAT_1="MM/dd/yyyy",DateFormat.FORMAT_2="yyyy/MM/dd",DateFormat.FORMAT_3="dd-MM-yyyy",DateFormat.FORMAT_4="dd/MM/yyyy hh:mm",DateFormat.ISO8601="yyyy-MM-dd",DateFormat.M3="yyyyMMdd",DateFormat.AUTOMATIC="AUTO",DateFormat.RAW="RAW",DateFormat}();exports.DateFormat=DateFormat;var LanguageConsts=function(){function LanguageConsts(){}return LanguageConsts.SUPPORTED_LANGUAGES=[{key:"ar-SA",value:"Arabic (Saudi Arabia)"},{key:"zh-CN",value:"Chinese (S)"},{key:"zh-TW",value:"Chinese (T)"},{key:"cs-CZ",value:"Czech (Czech Republic)"},{key:"da-DK",value:"Danish (Denmark)"},{key:"nl-NL",value:"Dutch (Netherlands)"},{key:"en-US",value:"English (United States)"},{key:"fi-FI",value:"Finnish (Finland)"},{key:"fr-FR",value:"French (France)"},{key:"de-DE",value:"German (Germany)"},{key:"he-IL",value:"Hebrew (Israel)"},{key:"hu-HU",value:"Hungarian (Hungary)"},{key:"it-IT",value:"Italian (Italy)"},{key:"ja-JP",value:"Japanese (Japan)"},{key:"nb-NO",value:"Norwegian (Norway)"},{key:"pl-PL",value:"Polish (Poland)"},{key:"pt-BR",value:"Portuguese (Brazil)"},{key:"ru-RU",value:"Russian (Russia)"},{key:"es-ES",value:"Spanish (Spain)"},{key:"sv-SE",value:"Swedish (Sweden)"},{key:"th-TH",value:"Thai (Thailand)"},{key:"tr-TR",value:"Turkish (Turkey)"},{key:"vi-VN",value:"Vietnamese (Vietnam)"},{key:"el-GR",value:"Greek (Greece)"},{key:"af-ZA",value:"Afrikaans (South Africa)"},{key:"pt-PT",value:"Portuguese (Portugal)"},{key:"uk-UA",value:"Ukrainian (Ukraine)"}],LanguageConsts.DEFAULT=LanguageConsts.SUPPORTED_LANGUAGES[6],LanguageConsts}();exports.LanguageConsts=LanguageConsts;var MinInterval=function(){function MinInterval(){}return MinInterval.ONE=1,MinInterval.FIVE=5,MinInterval.TEN=10,MinInterval.FIFTEEN=15,MinInterval}();exports.MinInterval=MinInterval;var HourMode=function(){function HourMode(){}return HourMode.TWELVE="h:mm a",HourMode.TWENTYFOUR="HH:mm",HourMode}();exports.HourMode=HourMode;var ButtonStyle=function(){function ButtonStyle(){}return ButtonStyle.PRIMARY="primary",ButtonStyle.SECONDARY="secondary",ButtonStyle.TERTIARY="tertiary",ButtonStyle.FILL="full-width",ButtonStyle}();exports.ButtonStyle=ButtonStyle;var SubstitutionTags=function(){function SubstitutionTags(){}return SubstitutionTags.VALUE="{$value}",SubstitutionTags}();exports.SubstitutionTags=SubstitutionTags;var ValueObject=function(){function ValueObject(){}return ValueObject.TARGET_CONTEXT="{In Context Value}",ValueObject.STATIC_VALUE="{Static Value}",ValueObject.URL_VALUE="{URL Value}",ValueObject}();exports.ValueObject=ValueObject;var InteractionPairOperation=function(){function InteractionPairOperation(){}return InteractionPairOperation.CLEAR={name:"Clear",value:InteractionActionEnum.CLEAR},InteractionPairOperation.GET={name:"Get",value:InteractionActionEnum.GET},InteractionPairOperation.LIST={name:"List",value:InteractionActionEnum.LIST},InteractionPairOperation.ON_LOAD={name:"On Load",value:InteractionTriggerEnum.ON_LOAD},InteractionPairOperation.ON_ITEM_CHANGED={name:"On Selection Changed",value:InteractionTriggerEnum.CURRENT_ITEM_CHANGED},InteractionPairOperation.ON_ITEM_UPDATED={name:"On Row Updated",value:InteractionTriggerEnum.CURRENT_ITEM_UPDATED},InteractionPairOperation.ON_STARTUP={name:"On Startup",value:InteractionTriggerEnum.STARTUP},InteractionPairOperation.ON_CLOSE={name:"On Close",value:InteractionTriggerEnum.CLOSE},InteractionPairOperation.ON_CLICK={name:"On Click",value:InteractionTriggerEnum.CLICK},InteractionPairOperation.ON_CHANGED={name:"On Changed",value:InteractionTriggerEnum.CHANGED},InteractionPairOperation.IS_CHECKED={name:"On Checked",value:InteractionTriggerEnum.CHECKED},InteractionPairOperation.IS_UNCHECKED={name:"On Not Checked",value:InteractionTriggerEnum.UNCHECKED},InteractionPairOperation.NONE={name:"None",value:""},InteractionPairOperation.SET_CURRENT_ITEM={name:"Set Selection",value:InteractionActionEnum.SET_CURRENT_ITEM},InteractionPairOperation}();exports.InteractionPairOperation=InteractionPairOperation;var RowHeight=function(){function RowHeight(){}return RowHeight.SHORT="short",RowHeight.MEDIUM="medium",RowHeight.TALL="tall",RowHeight}();exports.RowHeight=RowHeight;var MaskProcess=function(){function MaskProcess(){}return MaskProcess.NONE="none",MaskProcess.NUMBER="number",MaskProcess.DATE_TIME="date",MaskProcess.STRING="string",MaskProcess.PASSWORD="password",MaskProcess}();exports.MaskProcess=MaskProcess,function(ImagePositions){ImagePositions.FILL="fill",ImagePositions.FIT="fit",ImagePositions.CENTER="center"}(exports.ImagePositions||(exports.ImagePositions={})),function(MarginType){MarginType[MarginType.ALL=1]="ALL",MarginType[MarginType.INDIVIDUAL=2]="INDIVIDUAL"}(exports.MarginType||(exports.MarginType={})),function(BorderType){BorderType[BorderType.ALL=1]="ALL",BorderType[BorderType.INDIVIDUAL=2]="INDIVIDUAL"}(exports.BorderType||(exports.BorderType={}));var ImageBase64=function(){function ImageBase64(){}return ImageBase64.DEFAULT="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAMAAAGiQbecAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFEUExURQAAAFtbW1tbW1paWlxcXFtbW1paWlhYWFxcXFpaWlxcXFlZWVtbW11dXVtbW1paWl1dXVlZWV1dXVtbW1xcXFpaWllZWf///2RkZFxcXFtbW11dXV1dXVxcXFtbW0hISFpaWqqqqlpaWltbW1xcXFtbW1lZWVtbW1xcXF1dXVpaWlxcXF1dXVxcXFlZWVxcXFxcXFpaWlpaWlpaWl5eXl5eXltbW19fX1lZWVRUVFtbW39/f1xcXF5eXltbW1tbW3FxcVxcXFpaWlpaWltbW1tbW11dXVtbW1paWktLS1tbW1paWlpaWltbW1lZWVxcXFpaWl9fX2FhYVtbW1VVVVpaWmBgYF9fX1hYWFtbW19fX1tbW1paWltbW1paWltbW1xcXFtbW11dXVxcXFlZWVlZWVpaWmZmZl1dXVtbW1VVVVtbW8YYTK4AAABsdFJOUwCDxJ5Ci6Y0+u/n9xlSyU9taojRo5jhARwWcin/2bMHzgPpegu7b1SoOd6VJoKlw7Dm0z4bNlkI0BL2AnQrTv4JfHGyQ8W9880R4Lro+1tmrzAVnAwiHTgX+FORx5m0hu0yv9r9FLwKc5YG17qYuwUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAItSURBVFhH7ZjpW9NAEMbXW/HEuzoV8UJFxWor9UJRwFsoqBUUwQPP//+7s5M36SapOVsefJ75fejO7My7s0k3x8YUhSywGcccd+xwWsjpH1LGryPtgphe5JnrUMhZh7kVoTOtX2gBB16ZH9byDwN4R8NsjwbqPkfQo+RlE84tsxNdHs7yCa8k8WhfYAawd+duYDqQ/QvXlqpiulDDq8xr9V+BZnQo/OP1tXDgK/KZAXQpSlmwpKIg2oVOrLUNBt/QMgm+0T1Y6QI7iTfcvpOuNEFFJs3Yq311jK6mCYLLL2Aur6CZLOgKooqiKBuf4d24c4WZRDhOFRlREI5To3lYLomCt7DMyn4YGQWjTlYmwc08glt0wZjfXo8lTWCfVcvWq0hfquCinMgZY3bRDjNkexMFxz9KPtHpJ/zziOhhiiB4iAbcziuwL8IIx1kPwXu8PDskCV5i0CgIx7mChAhTCCuKoiiKomxszp29XMvKQflwnY8TeDvKRoGvmmdYNjuRiRecClUOaqwKdhvJLPSswMmjRIuv4XToXYEt3EeH4HToQYGRmUFpJ66dGjwmlkvZAsMHFtmmD7yR6U65AuOjD+zwlk/elqx942lLDJ8yBSrXZWif6ftmRDbXq3tN/Tv99FKLF6hcsoMlsWz3jCUKxD+Bxviyp88F6E+/CzRLFJhvyxDJVAsWGGDVUqOVzuf240IFDtvZZeY5VHlobMbTJJ3zW6FRFEVR/kuM+QtaNbQNSNPAaQAAAABJRU5ErkJggg==",ImageBase64}();exports.ImageBase64=ImageBase64,function(ListTemplateIdEnum){ListTemplateIdEnum.OneLabelFlexbox="OneLabelFlexbox",ListTemplateIdEnum.TwoVerticalLabels="TwoVerticalLabels",ListTemplateIdEnum.ImageAndLabels="ImageAndLabels",ListTemplateIdEnum.OneHyperlink="OneHyperlink",ListTemplateIdEnum.OneHyperlinkAndLabel="OneHyperlinkAndLabel",ListTemplateIdEnum.ImageLabelAndHyperlink="ImageLabelAndHyperlink"}(exports.ListTemplateIdEnum||(exports.ListTemplateIdEnum={}));var ProjectLimit=function(){function ProjectLimit(){}return Object.defineProperty(ProjectLimit,"MAX_DATASOURCES",{get:function(){return this.maxDatasource},enumerable:!1,configurable:!0}),Object.defineProperty(ProjectLimit,"MAX_COMPOSITE_COMPONENTS",{get:function(){return this.maxCompositeComponent},enumerable:!1,configurable:!0}),ProjectLimit.errorMessage=function(item){return"The maximum amount of "+item+" has been reached. Please delete "+item+"(s) before adding new ones."},ProjectLimit.importErrorMessage=function(item){return"Import would exceed allowed "+item+". Please delete "+item+"(s) before importing new ones."},Object.defineProperty(ProjectLimit,"COMPOSITE_COMPONENT_ERROR_MESSAGE",{get:function(){return this.errorMessage("composite components")},enumerable:!1,configurable:!0}),Object.defineProperty(ProjectLimit,"COMPOSITE_COMPONENT_IMPORT_ERROR_MESSAGE",{get:function(){return this.importErrorMessage("composite component")},enumerable:!1,configurable:!0}),Object.defineProperty(ProjectLimit,"DATASOURCE_ERROR_MESSAGE",{get:function(){return this.errorMessage("data services")},enumerable:!1,configurable:!0}),Object.defineProperty(ProjectLimit,"DATASOURCE_IMPORT_ERROR_MESSAGE",{get:function(){return this.importErrorMessage("data service")},enumerable:!1,configurable:!0}),ProjectLimit.MAX_BOUNDARIES=11,ProjectLimit.maxDatasource=50,ProjectLimit.maxCompositeComponent=50,ProjectLimit}();exports.ProjectLimit=ProjectLimit;var Subcodes=function(){function Subcodes(){}return Subcodes.CONTACT_SYSTEM_ADMIN="Please contact system administrator",Subcodes.GENERIC_ERROR=4e3,Subcodes.UNABLE_TO_UNZIP_ERROR=4001,Subcodes.GENERIC_ID_ERROR=4100,Subcodes.PROJECT_ID_CONFLICT=4101,Subcodes.PROJECT_DISPLAYNAME_CONFLICT=4102,Subcodes.PROJECT_IMPORT_ERROR=4103,Subcodes.DATA_SERVICE_ERROR=4104,Subcodes}();exports.Subcodes=Subcodes;var StatusCodes=function(){function StatusCodes(){}return StatusCodes.success=["200","201","202","203","204","205","206"],StatusCodes}();exports.StatusCodes=StatusCodes;var FileExtensions=function(){function FileExtensions(){}return FileExtensions.PROJECT="iap",FileExtensions.DATA_SERVICE="iads",FileExtensions.COMPOSITE_COMPONENT="iac",FileExtensions}();exports.FileExtensions=FileExtensions,function(CSSClasses){CSSClasses.mashupRootContainer="mashupRootContainer"}(exports.CSSClasses||(exports.CSSClasses={})),function(ElementDataKeys){ElementDataKeys.isMashupReady="isMashupReady",ElementDataKeys.manageCompositesCtrl="manageCompositesCtrl",ElementDataKeys.compositeTabCtrl="compositeTabCtrl",ElementDataKeys.allProjectsToolbar="allProjectsToolbar"}(exports.ElementDataKeys||(exports.ElementDataKeys={}));var ComponentClassNames=function(){function ComponentClassNames(){}return ComponentClassNames.EDITOR_COMPONENT_PREFIX="editor-",ComponentClassNames.COMPONENT="Component",ComponentClassNames}();exports.ComponentClassNames=ComponentClassNames;var ABFormScriptMethod=function(){function ABFormScriptMethod(){}return ABFormScriptMethod.SHOW_OPEN_FILE_DIALOG="ShowOpenFileDialog",ABFormScriptMethod.SHOW_SAVE_FILE_DIALOG="ShowSaveFileDialog",ABFormScriptMethod.TOKEN="token",ABFormScriptMethod.APPBUILDER_REST="appbuilderrest",ABFormScriptMethod}();exports.ABFormScriptMethod=ABFormScriptMethod;var RegexStrings=function(){function RegexStrings(){}return RegexStrings.GLOBALSTRING="{([^)]+)}",RegexStrings.EMAIL=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,RegexStrings.SPECIAL_CHARACTERS=/[?!@#\$%\^\&*\)\(+=._-]+/,RegexStrings.NUMERIC=/^-?[0-9]+$/,RegexStrings.NO_NUMERIC=/\d+/g,RegexStrings.NUMERIC_NO_NEGATIVE=/^[0-9]+$/,RegexStrings.NEW_LINES=/(\r\n|\n|\r)/gm,RegexStrings.STARTS_WITH_NUMBER=/^\d/,RegexStrings.NO_SPECIAL=/[^a-zA-Z0-9-_.]/g,RegexStrings.TIME=/(?:(?:0?[0-9]|1[0-2]):[0-5][0-9](:[0-5][0-9])? [aApP][mM]|(?:[01][0-9]|2[0-3]):[0-5][0-9](:[0-5][0-9])?)$/,RegexStrings.FIRST_CHAR_LETTER=/^[a-zA-Z]/,RegexStrings}();exports.RegexStrings=RegexStrings,function(GridAggregators){GridAggregators.SUM="sum"}(exports.GridAggregators||(exports.GridAggregators={})),function(SummaryTextPlacement){SummaryTextPlacement.BEFORE="before",SummaryTextPlacement.AFTER="after"}(exports.SummaryTextPlacement||(exports.SummaryTextPlacement={})),function(TextAlignment){TextAlignment.LEFT="left",TextAlignment.RIGHT="right",TextAlignment.CENTER="center"}(exports.TextAlignment||(exports.TextAlignment={}));var DatagridExportTypes=function(){function DatagridExportTypes(){}return DatagridExportTypes.EXCEL="excel",DatagridExportTypes.CSV="csv",DatagridExportTypes}();exports.DatagridExportTypes=DatagridExportTypes;var IdoDataType=function(){function IdoDataType(){}return IdoDataType.file="File",IdoDataType.boolean="Boolean",IdoDataType.date="Date",IdoDataType.decimal="Decimal",IdoDataType.integer="Integer",IdoDataType.string="String",IdoDataType}();exports.IdoDataType=IdoDataType;var ComponentNames=function(){function ComponentNames(){}return ComponentNames.Chart="Chart",ComponentNames.Datagrid="Datagrid",ComponentNames.Dropdown="Dropdown",ComponentNames.Flexbox="Flexbox",ComponentNames.List="List",ComponentNames.Lookup="Lookup",ComponentNames.RadioButton="RadioButton",ComponentNames.Tabs="Tabs",ComponentNames.TabPanel="TabPanel",ComponentNames.TextBox="TextBox",ComponentNames}();exports.ComponentNames=ComponentNames},,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var AngularConstants=function(){function AngularConstants(){}return AngularConstants.CACHE_FACTORY="$cacheFactory",AngularConstants.COMPILE="$compile",AngularConstants.CONTROLLER="$controller",AngularConstants.DESTROY="$destroy",AngularConstants.ELEMENT="$element",AngularConstants.FILTER="$filter",AngularConstants.HTTP="$http",AngularConstants.INTERVAL="$interval",AngularConstants.Q="$q",AngularConstants.ROOT_SCOPE="$rootScope",AngularConstants.ROUTE="$route",AngularConstants.SCOPE="$scope",AngularConstants.STATE_PARAMS="$stateParams",AngularConstants.STATE_SERVICE="$state",AngularConstants.TEMPLATE_CACHE="$templateCache",AngularConstants.TIMEOUT="$timeout",AngularConstants.WINDOW="$window",AngularConstants}();exports.AngularConstants=AngularConstants},,,,,,function(module,exports,__webpack_require__){"use strict";(function($){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.DialogService=exports.DialogButtonType=exports.StandardDialogButtons=exports.Util=void 0;var StandardDialogButtons,DialogButtonType,angular_1=__importDefault(__webpack_require__(12)),isUndefined_1=__importDefault(__webpack_require__(84)),common_constant_1=__webpack_require__(3),angular_constants_1=__webpack_require__(7),defines_1=__webpack_require__(16),helper_1=__webpack_require__(15),Util=function(){function Util(){}return Util.removePopupMenus=function(element){for(var popupMenus=element.find(".btn-menu[aria-haspopup]"),i=0;i<popupMenus.length;i++){var data=$(popupMenus[i]).data("popupmenu");data&&(data.close(),data.destroy())}},Util.random=function(stringLength){void 0===stringLength&&(stringLength=16);for(var chars=this.chars,randomstring="",i=0;i<stringLength;i++){var rnum=Math.floor(Math.random()*chars.length);randomstring+=chars.substring(rnum,rnum+1)}return randomstring},Util.chars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",Util}();exports.Util=Util,function(StandardDialogButtons){StandardDialogButtons[StandardDialogButtons.Ok=1]="Ok",StandardDialogButtons[StandardDialogButtons.OkCancel=2]="OkCancel",StandardDialogButtons[StandardDialogButtons.YesNo=3]="YesNo",StandardDialogButtons[StandardDialogButtons.YesNoCancel=4]="YesNoCancel"}(StandardDialogButtons=exports.StandardDialogButtons||(exports.StandardDialogButtons={})),function(DialogButtonType){DialogButtonType[DialogButtonType.None=1]="None",DialogButtonType[DialogButtonType.Ok=2]="Ok",DialogButtonType[DialogButtonType.Cancel=3]="Cancel",DialogButtonType[DialogButtonType.Yes=4]="Yes",DialogButtonType[DialogButtonType.No=5]="No",DialogButtonType[DialogButtonType.Custom=6]="Custom",DialogButtonType[DialogButtonType.Back=7]="Back"}(DialogButtonType=exports.DialogButtonType||(exports.DialogButtonType={}));var DialogService=function(){function DialogService($rootScope,$compile,$q){this.$rootScope=$rootScope,this.$compile=$compile,this.$q=$q}return DialogService.prototype.show=function(options){var _this=this,deferred=this.$q.defer(),title=null;options&&(title=options.title,this.dialogOptions=options),title||(title="");var dialog=new Dialog(deferred),modalScope=(options.scope||this.$rootScope).$new();options&&options.parameter&&(dialog.parameter=options.parameter),modalScope.eirDialog=dialog;var contentTemplate=options.template;if(!contentTemplate){var url=options.templateUrl;if(!url)throw"One of the template and templateUrl properties must be set";contentTemplate="<div ng-include=\"'"+url+"'\"></div>"}var style=options.style||"",cssClass=options.cssClass||"",draggable=!!options.draggable,id=options.id||Util.random(8),template='\n\t\t<div class="modal lm-scroll-no-y '+cssClass+" "+(options.draggable?"draggable-dialog":"")+'" id="'+id+'" style="'+style+'">\n\t\t\t<div class="modal-content">\n\t\t\t\t<div class="modal-header"></div>\n\t\t\t\t<div class="modal-body">'+contentTemplate+"</div>",element=$(template);element.find(".modal-header").append($('<h1 class="modal-title">'+title+"<h1>"));var compiledTemplate=this.$compile(element)(modalScope);draggable&&compiledTemplate.css("position",""),$("body").append(compiledTemplate),this.hasHideOverlayOption()&&this.toggleOverlay();var buttons=null;options.buttons&&(buttons=this.setSpecificButtons(options.buttons,deferred,dialog));var unsubscribe=modalScope.$on("$includeContentLoaded",(function(){_this.createAndOpenModal(element,dialog,title,buttons,modalScope),unsubscribe()}));return isUndefined_1.default(options.templateUrl)&&!isUndefined_1.default(options.template)&&this.createAndOpenModal(element,dialog,title,buttons,modalScope),deferred.promise},DialogService.prototype.createAndOpenModal=function(element,dialog,title,buttons,modalScope){var _this=this;helper_1.Helper.isIE()&&setTimeout((function(){element.find("use").each((function(idx,elem){elem.setAttribute("xlink:href",elem.getAttribute("xlink:href"))}))}));var modal=element.modal({title:title,buttons:buttons});dialog.init(modal),buttons||modal.modal("addButtons"),modal.one("beforeclose",(function(){modalScope.$destroy(),Util.removePopupMenus(element),_this.hasHideOverlayOption()&&_this.toggleOverlay()})),modal.modal("open")},DialogService.prototype.hasHideOverlayOption=function(options){var dialogOptions=this.dialogOptions;return!(!dialogOptions||!dialogOptions.hideOverlay)},DialogService.prototype.showContextualActionPanel=function(options){var template=options.template||"<div ng-include=\"'"+options.templateUrl+"'\"></div>",element=$(template);$("body").contextualactionpanel({title:options.title,content:this.$compile(element)(this.$rootScope.$new()),trigger:"immediate",buttons:[{text:"Close",cssClass:"btn",icon:"#icon-close"}]})},DialogService.prototype.showMessage=function(options){var _this=this,deferred=this.$q.defer(),element=$("body");this.dialogOptions=options,options.buttons||options.standardButtons||(options.standardButtons=StandardDialogButtons.Ok),null!==options.standardButtons?options.buttons=this.setDefaultButtons(options.standardButtons,deferred,void 0===options.hasPrimaryButton||options.hasPrimaryButton):options.buttons&&(options.buttons=this.setSpecificButtons(options.buttons,deferred,null)),element.message(options);var isChildDialog=this.hasHideOverlayOption();return isChildDialog&&this.toggleOverlay(),deferred.promise.finally((function(){isChildDialog&&_this.toggleOverlay()}))},DialogService.prototype.showError=function(title,message){var options={title:"<span>"+title+"</span>",message:message,standardButtons:StandardDialogButtons.Ok,isError:!0,status:"error",audibleLabel:"Error"};if(0===angular_1.default.element(".is-error.modal-title").length)return this.showMessage(options)},DialogService.prototype.showYesNo=function(title,message,cssClass){var options={title:title,message:message,standardButtons:StandardDialogButtons.YesNo,cssClass:cssClass};return this.showMessage(options)},DialogService.prototype.toggleOverlay=function(){$("body").toggleClass("no-overlay")},DialogService.prototype.showToast=function(options){options.position||(options.position="bottom right"),options.timeout||(options.timeout=3e3),$("body").toast(options)},DialogService.prototype.setDefaultButtons=function(defaults,deferred,hasPrimaryButton){var buttons=[];return defaults!==StandardDialogButtons.OkCancel&&defaults!==StandardDialogButtons.YesNoCancel||buttons.push({text:"Cancel",click:function(){$(this).modal("close"),deferred.resolve({button:DialogButtonType.Cancel})},isDefault:!1}),defaults===StandardDialogButtons.Ok||defaults===StandardDialogButtons.OkCancel?buttons.push({text:"OK",click:function(){$(this).modal("close"),deferred.resolve({button:DialogButtonType.Ok})},isDefault:hasPrimaryButton}):defaults!==StandardDialogButtons.YesNo&&defaults!==StandardDialogButtons.YesNoCancel||(buttons.push({text:"No",click:function(){$(this).modal("close"),deferred.resolve({button:DialogButtonType.No})},isDefault:!1}),buttons.push({text:"Yes",click:function(){$(this).modal("close"),deferred.resolve({button:DialogButtonType.Yes})},isDefault:hasPrimaryButton})),buttons},DialogService.prototype.setSpecificButtons=function(specificButtons,deferred,dialog){var buttons=[];return specificButtons.forEach((function(button,index){button.click=function(){var result;dialog?dialog.close():$(this).modal("close"),dialog?((result=dialog.result||{}).button=button.type,deferred.resolve(result)):result={button:button.type},deferred.resolve(result)},buttons.push(button)})),buttons},DialogService.add=function(ngModule){ngModule.service(common_constant_1.InjectNames.DIALOG_SERVICE,DialogService)},DialogService.$inject=[angular_constants_1.AngularConstants.ROOT_SCOPE,angular_constants_1.AngularConstants.COMPILE,angular_constants_1.AngularConstants.Q],DialogService}();exports.DialogService=DialogService;var Dialog=function(){function Dialog(deferred){this.deferred=deferred,this.canClose=!1}return Dialog.prototype.resolve=function(){var modal=this.modal;if(modal){var modalParent=modal.parent(),modalGrandParent=modalParent.parent();modalParent.hasClass("modal-wrapper")&&modalGrandParent.hasClass("modal-page-container")&&(modalGrandParent.remove(),modalParent.remove()),modal.remove(),this.modal=null}var result=this.result||{};this.deferred.resolve(result)},Dialog.prototype.init=function(modal){var _this=this;this.modal=modal;var closeOnEscape=function($event){if($event.keyCode===defines_1.KeyCodeEnum.ESCAPE){var result={value:defines_1.KeyCodeEnum.ESCAPE};_this.close(result)}};angular_1.default.element("body").on(common_constant_1.EventTypes.KEYDOWN+".dialog",closeOnEscape),modal.one("beforeclose",(function(){angular_1.default.element("body").off(common_constant_1.EventTypes.KEYDOWN+".dialog",closeOnEscape);var closing=_this.closing;if(closing){var e={dialog:_this};return closing(e),!e.cancel}return _this.canClose})),modal.one("afterclose",(function(){var closed=_this.closed;closed&&closed({dialog:_this});_this.resolve()})),modal.one("open",(function(){var opened=_this.opened;(modal.attr("dialog-id",helper_1.Helper.generateUniqueId()),$(".overlay:not([id])").attr("id",modal.attr("dialog-id")),opened)&&opened({dialog:_this})}))},Dialog.prototype.getPromise=function(){return this.deferred.promise},Dialog.prototype.close=function(result){this.canClose=!0,result&&(this.result=result);var modal=this.modal;modal&&modal.modal("close")},Dialog.prototype.hide=function(){this.modal.hide(),$("div#"+this.modal.attr("dialog-id")+".overlay").hide()},Dialog.prototype.show=function(){this.modal.show(),$("div#"+this.modal.attr("dialog-id")+".overlay").show()},Dialog}()}).call(this,__webpack_require__(21))},,function(module,exports,__webpack_require__){"use strict";(function($){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.SmartBlob=exports.Helper=exports.RegExpMatchCandidate=void 0;var RegExpMatchCandidate,angular_1=__importDefault(__webpack_require__(12)),filter_1=__importDefault(__webpack_require__(1222)),find_1=__importDefault(__webpack_require__(1220)),union_1=__importDefault(__webpack_require__(1219)),common_constant_1=__webpack_require__(3);!function(RegExpMatchCandidate){RegExpMatchCandidate[RegExpMatchCandidate.BASE_NAME=1]="BASE_NAME",RegExpMatchCandidate[RegExpMatchCandidate.IS_COPY=2]="IS_COPY",RegExpMatchCandidate[RegExpMatchCandidate.NUMBER=3]="NUMBER"}(RegExpMatchCandidate=exports.RegExpMatchCandidate||(exports.RegExpMatchCandidate={}));var Helper=function(){function Helper(){}return Helper.getFormattedDate=function(format){void 0===format&&(format="yyyy-mm-dd");var date=new Date,year=date.getFullYear(),formattedMonth=(date.getMonth()+1).toString().padStart(2,"0"),formattedDay=date.getDate().toString().padStart(2,"0"),formattedHour=date.getHours().toString().padStart(2,"0"),formattedMinute=date.getMinutes().toString().padStart(2,"0"),formattedSecond=date.getSeconds().toString().padStart(2,"0"),formattedMilleSecond=date.getMilliseconds().toString().padStart(3,"0");switch(format){case"yyyy-mm-dd":return year+"-"+formattedMonth+"-"+formattedDay;case"yyyymmdd HH:mm:ss.fff":return""+year+formattedMonth+formattedDay+" "+formattedHour+":"+formattedMinute+":"+formattedSecond+"."+formattedMilleSecond;default:return year+"-"+formattedMonth+"-"+formattedDay+"T"+formattedHour+":"+formattedMinute}},Helper.become=function(obj,newClass){obj.__proto__=(new newClass).__proto__},Helper.getDeepValue=function(obj,paths){for(var i=0,path=paths.split("."),len=path.length;i<len;i++){if(this.isUndefinedOrNull(obj[path[i]]))return null;obj=obj[path[i]]}return obj},Helper.setDeepValue=function(obj,paths,newValue){for(var i=0,path=paths.split("."),secondToLast=path.length-1;i<secondToLast;i++)obj[path[i]]||(obj[path[i]]={}),obj=obj[path[i]];obj[path[i]]=newValue},Helper.stringReplace=function(str,context){return str.replace(/({\w+})/g,(function(match,$1,$2){var trimmed=/{(\w+)}/.exec(match)[1];return context[trimmed]}))},Helper.getStringParameters=function(str){var match=str.match(/({\w+})/g);return match?match.map((function(hit){return hit.match(/\w+/g)[0]})):[]},Helper.isUndefined=function(anyObject){return void 0===anyObject},Helper.isUndefinedOrNull=function(anyObject){return null==anyObject},Helper.isFloat=function(value){return!this.isInt(value)},Helper.isInt=function(value){return Number(value)%1==0},Helper.random=function(stringLength){void 0===stringLength&&(stringLength=16);for(var chars=this.chars,randomstring="",i=0;i<stringLength;i++){var rnum=Math.floor(Math.random()*chars.length);randomstring+=chars.substring(rnum,rnum+1)}return randomstring},Helper.isUndefinedEmpty=function(item){return null==item||""===item},Helper.getListByRegex=function(regex,myString){var cleanedString=myString.match(regex)[2];return cleanedString.substring(1,cleanedString.length-1).split(",")},Helper.createQueryParameters=function(values,key){return values.map((function(value){return key+"="+value})).join("&")},Helper.deepObjectTrim=function(objectToTrim){var deepTrim=function(object){Object.keys(object).forEach((function(property){"string"==typeof object[property]?object[property]=object[property].trim():"object"==typeof object[property]&&deepTrim(object[property])}))};return deepTrim(objectToTrim),objectToTrim},Helper.getListFromMap=function(list){var arrayList=[];for(var key in list)arrayList=arrayList.concat(list[key]);return arrayList},Helper.sortObjectByProperty=function(object,property,reverse){void 0===reverse&&(reverse=!1);var output=reverse?[1,-1]:[-1,1];return object.sort((function(a,b){return a[property]<b[property]?output[0]:a[property]>b[property]?output[1]:0}))},Helper.sortObjectKeys=function(unordered,doNotSortKey){var ordered={},sortedKeys=Object.keys(unordered).sort();return doNotSortKey&&(sortedKeys.splice(sortedKeys.indexOf(doNotSortKey),1),sortedKeys.unshift(doNotSortKey)),sortedKeys.forEach((function(key){ordered[key]=unordered[key]})),ordered},Helper.objectHasValue=function(object,value){return Object.keys(object).some((function(key){return object[key]===value}))},Helper.objectHasKey=function(object,value){return Object.keys(object).some((function(key){return key===value}))},Helper.exceedAllowed=function(limit,listA,listB){var numberOfNewDatasource=listB?listB.length:1;return listA.length+numberOfNewDatasource>limit},Helper.wrapKeyInBrackets=function(key){var wrapInBrackets=function(item){return"['"+item+"']"},sanitizedSourceKey=[];return key.indexOf(" ")&&key.indexOf(".")?sanitizedSourceKey=key.split(".").map(wrapInBrackets):sanitizedSourceKey.push(wrapInBrackets(key)),sanitizedSourceKey.join("")},Helper.cleanNulls=function(obj){for(var propName in obj)null===obj[propName]||void 0===obj[propName]?delete obj[propName]:"object"==typeof obj[propName]&&Helper.cleanNulls(obj[propName])},Helper.cleanTemplateLiteral=function(templateLiteral){return templateLiteral.replace(/(\r\n\t|\n|\r\t)/gm,"").replace(/[\t]+/gm,"")},Helper.htmlEncode=function(value){return $("<div/>").text(value).html()},Helper.htmlDecode=function(value){return $("<div/>").html(value).text()},Helper.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},Helper.generateUniqueId=function(){return(new Date).getTime()+""+Math.floor(Math.random()*common_constant_1.Numbers.MILLION+1)},Helper.generateNewDisplayName=function(oldDisplayName,conflictingCandidates){if(void 0===conflictingCandidates&&(conflictingCandidates=[]),!oldDisplayName)return"Lasagna al forno";var newDisplayName,splitCopyNumber=/(.+?)(_[Cc]opy(\d*))?$/,oldDisplayNameBase=oldDisplayName.match(splitCopyNumber)[1],numbers=[];(conflictingCandidates.filter((function(maybeString){return"string"==typeof maybeString})).forEach((function(conflictCandidate){var matches=conflictCandidate.match(splitCopyNumber),candidateBaseName=matches[RegExpMatchCandidate.BASE_NAME],candidateIsCopy=Boolean(matches[RegExpMatchCandidate.IS_COPY]),candidateNumber=parseInt(matches[RegExpMatchCandidate.NUMBER]);oldDisplayNameBase===candidateBaseName&&candidateIsCopy&&(candidateNumber?numbers.push(parseInt(matches[RegExpMatchCandidate.NUMBER])):numbers.push(1))})),newDisplayName=oldDisplayNameBase+common_constant_1.ComponentConstants.COPY_SUFFIX,numbers.length>0)&&(newDisplayName+=numbers.sort((function(a,b){return a-b})).pop()+1);return newDisplayName},Helper.getListNames=function(items){var itemNames=[];return items.forEach((function(item){itemNames.push(item.name)})),itemNames},Helper.getProposedNewDisplayName=function(projectName,projects,exceptID){var proposedName=projectName,recursiveInnerFunction=function(counter){for(var index in projects)if((!exceptID||exceptID!==projects[index].manifest.id)&&projects[index].manifest.displayName===proposedName)return proposedName=projectName+counter,recursiveInnerFunction(counter+1);return proposedName};return recursiveInnerFunction(1)},Helper.joinWithDefauldEmptyString=function(stringArray,joinChar){return this.isUndefined(joinChar)&&(joinChar=""),stringArray.join(joinChar)},Helper.appIsReadyForSelenium=function(){angular_1.default.element("."+common_constant_1.CSSClasses.mashupRootContainer).data(common_constant_1.ElementDataKeys.isMashupReady,!0)},Helper.parseQueryString=function(query){for(var rPlus=/\+/g,rQueryParameter=/([^&=]+)=?([^&]*)/g,decode=function(uriEncodedText){return decodeURIComponent(uriEncodedText.replace(rPlus," "))},urlParams={},match=rQueryParameter.exec(query);match;){var name=decode(match[1]),value=decode(match[2]);urlParams[name]=value,match=rQueryParameter.exec(query)}return urlParams},Helper.trimIfPossible=function(value){return"string"==typeof value&&(value=value.trim()),value},Helper.isSafari=function(){var myWindow=window,isChrome=!!myWindow.chrome&&!!myWindow.chrome.webstore;return Object.prototype.toString.call(myWindow.HTMLElement).indexOf("Constructor")>0||!isChrome&&void 0!==myWindow.webkitAudioContext},Helper.isEdge=function(){return window.navigator.userAgent.indexOf("Edge")>-1},Helper.isIE=function(){return!!document.documentMode},Helper.convertBase64ToSaveableBlob=function(base64String,type){for(var byteString=atob(base64String),arrayBuffer=new ArrayBuffer(byteString.length),ia=new Uint8Array(arrayBuffer),i=0;i<byteString.length;i++)ia[i]=byteString.charCodeAt(i);return new SmartBlob([arrayBuffer],type)},Helper.getBase64FileExtension=function(value){switch(value.substring(0,5).toUpperCase()){case"IVBOR":return"png";case"/9J/4":return"jpeg";case"R0lGO":return"gif";case"UklGR":return"webp";case"AAAAF":return"mp4";case"JVBER":return"pdf";case"AAABA":return"ico";case"UMFYI":return"rar";case"E1XYD":return"rtf";case"U1PKC":return"txt";case"MQOWM":case"77U/M":return"srt";default:return""}},Helper.parseBase64=function(value){return-1===value.indexOf("data")?("data:image/"+this.getBase64FileExtension(value)+";base64,"+value).replace(common_constant_1.RegexStrings.NEW_LINES,""):value},Helper.isDifferent=function(array1,array2){function compare(x,y){return filter_1.default(x,(function(object){return!find_1.default(y,object)}))}return union_1.default(compare(array1,array2),compare(array2,array1)).length>0},Helper.removeItemFromListByIndex=function(list,index){list.splice(index,1)},Helper.instanceOfLayoutComponent=function(object){return"children"in object},Helper.instanceOfListComponent=function(object){return"children"in object},Helper.isFirstCharLetter=function(string){return common_constant_1.RegexStrings.FIRST_CHAR_LETTER.test(string)},Helper.chars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",Helper}();exports.Helper=Helper;var SmartBlob=function(){function SmartBlob(blobParts,type){this.smartBlob=new Blob(blobParts,type)}return SmartBlob.prototype.saveAs=function(fileName){if(Helper.isIE()||window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(this.smartBlob,fileName);else{var url_1=URL.createObjectURL(this.smartBlob),a_1=document.createElement("a");a_1.href=url_1,a_1.download=fileName,document.body.appendChild(a_1),a_1.click(),setTimeout((function(){document.body.removeChild(a_1),window.URL.revokeObjectURL(url_1)}),0)}},SmartBlob}();exports.SmartBlob=SmartBlob}).call(this,__webpack_require__(21))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.KeyCodeEnum=exports.ViewEnum=void 0;var ViewEnum=function(){function ViewEnum(value){this.value=value}return ViewEnum.EDITOR=new ViewEnum("editor"),ViewEnum.DASHBOARD=new ViewEnum("dashboard"),ViewEnum.REPOSITORY=new ViewEnum("repository"),ViewEnum.ADMIN=new ViewEnum("admin"),ViewEnum}();exports.ViewEnum=ViewEnum,function(KeyCodeEnum){KeyCodeEnum[KeyCodeEnum.BACKSPACE=8]="BACKSPACE",KeyCodeEnum[KeyCodeEnum.TAB=9]="TAB",KeyCodeEnum[KeyCodeEnum.ENTER=13]="ENTER",KeyCodeEnum[KeyCodeEnum.SHIFT=16]="SHIFT",KeyCodeEnum[KeyCodeEnum.CTRL=17]="CTRL",KeyCodeEnum[KeyCodeEnum.ALT=18]="ALT",KeyCodeEnum[KeyCodeEnum.PAUSE=19]="PAUSE",KeyCodeEnum[KeyCodeEnum.CAPS_LOCK=20]="CAPS_LOCK",KeyCodeEnum[KeyCodeEnum.ESCAPE=27]="ESCAPE",KeyCodeEnum[KeyCodeEnum.SPACE=32]="SPACE",KeyCodeEnum[KeyCodeEnum.PAGE_UP=33]="PAGE_UP",KeyCodeEnum[KeyCodeEnum.PAGE_DOWN=34]="PAGE_DOWN",KeyCodeEnum[KeyCodeEnum.END=35]="END",KeyCodeEnum[KeyCodeEnum.HOME=36]="HOME",KeyCodeEnum[KeyCodeEnum.LEFT_ARROW=37]="LEFT_ARROW",KeyCodeEnum[KeyCodeEnum.UP_ARROW=38]="UP_ARROW",KeyCodeEnum[KeyCodeEnum.RIGHT_ARROW=39]="RIGHT_ARROW",KeyCodeEnum[KeyCodeEnum.DOWN_ARROW=40]="DOWN_ARROW",KeyCodeEnum[KeyCodeEnum.INSERT=45]="INSERT",KeyCodeEnum[KeyCodeEnum.DELETE=46]="DELETE",KeyCodeEnum[KeyCodeEnum.KEY_0=48]="KEY_0",KeyCodeEnum[KeyCodeEnum.KEY_1=49]="KEY_1",KeyCodeEnum[KeyCodeEnum.KEY_2=50]="KEY_2",KeyCodeEnum[KeyCodeEnum.KEY_3=51]="KEY_3",KeyCodeEnum[KeyCodeEnum.KEY_4=52]="KEY_4",KeyCodeEnum[KeyCodeEnum.KEY_5=53]="KEY_5",KeyCodeEnum[KeyCodeEnum.KEY_6=54]="KEY_6",KeyCodeEnum[KeyCodeEnum.KEY_7=55]="KEY_7",KeyCodeEnum[KeyCodeEnum.KEY_8=56]="KEY_8",KeyCodeEnum[KeyCodeEnum.KEY_9=57]="KEY_9",KeyCodeEnum[KeyCodeEnum.KEY_A=65]="KEY_A",KeyCodeEnum[KeyCodeEnum.KEY_B=66]="KEY_B",KeyCodeEnum[KeyCodeEnum.KEY_C=67]="KEY_C",KeyCodeEnum[KeyCodeEnum.KEY_D=68]="KEY_D",KeyCodeEnum[KeyCodeEnum.KEY_E=69]="KEY_E",KeyCodeEnum[KeyCodeEnum.KEY_F=70]="KEY_F",KeyCodeEnum[KeyCodeEnum.KEY_G=71]="KEY_G",KeyCodeEnum[KeyCodeEnum.KEY_H=72]="KEY_H",KeyCodeEnum[KeyCodeEnum.KEY_I=73]="KEY_I",KeyCodeEnum[KeyCodeEnum.KEY_J=74]="KEY_J",KeyCodeEnum[KeyCodeEnum.KEY_K=75]="KEY_K",KeyCodeEnum[KeyCodeEnum.KEY_L=76]="KEY_L",KeyCodeEnum[KeyCodeEnum.KEY_M=77]="KEY_M",KeyCodeEnum[KeyCodeEnum.KEY_N=78]="KEY_N",KeyCodeEnum[KeyCodeEnum.KEY_O=79]="KEY_O",KeyCodeEnum[KeyCodeEnum.KEY_P=80]="KEY_P",KeyCodeEnum[KeyCodeEnum.KEY_Q=81]="KEY_Q",KeyCodeEnum[KeyCodeEnum.KEY_R=82]="KEY_R",KeyCodeEnum[KeyCodeEnum.KEY_S=83]="KEY_S",KeyCodeEnum[KeyCodeEnum.KEY_T=84]="KEY_T",KeyCodeEnum[KeyCodeEnum.KEY_U=85]="KEY_U",KeyCodeEnum[KeyCodeEnum.KEY_V=86]="KEY_V",KeyCodeEnum[KeyCodeEnum.KEY_W=87]="KEY_W",KeyCodeEnum[KeyCodeEnum.KEY_X=88]="KEY_X",KeyCodeEnum[KeyCodeEnum.KEY_Y=89]="KEY_Y",KeyCodeEnum[KeyCodeEnum.KEY_Z=90]="KEY_Z",KeyCodeEnum[KeyCodeEnum.LEFT_META=91]="LEFT_META",KeyCodeEnum[KeyCodeEnum.RIGHT_META=92]="RIGHT_META",KeyCodeEnum[KeyCodeEnum.SELECT=93]="SELECT",KeyCodeEnum[KeyCodeEnum.NUMPAD_0=96]="NUMPAD_0",KeyCodeEnum[KeyCodeEnum.NUMPAD_1=97]="NUMPAD_1",KeyCodeEnum[KeyCodeEnum.NUMPAD_2=98]="NUMPAD_2",KeyCodeEnum[KeyCodeEnum.NUMPAD_3=99]="NUMPAD_3",KeyCodeEnum[KeyCodeEnum.NUMPAD_4=100]="NUMPAD_4",KeyCodeEnum[KeyCodeEnum.NUMPAD_5=101]="NUMPAD_5",KeyCodeEnum[KeyCodeEnum.NUMPAD_6=102]="NUMPAD_6",KeyCodeEnum[KeyCodeEnum.NUMPAD_7=103]="NUMPAD_7",KeyCodeEnum[KeyCodeEnum.NUMPAD_8=104]="NUMPAD_8",KeyCodeEnum[KeyCodeEnum.NUMPAD_9=105]="NUMPAD_9",KeyCodeEnum[KeyCodeEnum.MULTIPLY=106]="MULTIPLY",KeyCodeEnum[KeyCodeEnum.ADD=107]="ADD",KeyCodeEnum[KeyCodeEnum.SUBTRACT=109]="SUBTRACT",KeyCodeEnum[KeyCodeEnum.DECIMAL=110]="DECIMAL",KeyCodeEnum[KeyCodeEnum.DIVIDE=111]="DIVIDE",KeyCodeEnum[KeyCodeEnum.F1=112]="F1",KeyCodeEnum[KeyCodeEnum.F2=113]="F2",KeyCodeEnum[KeyCodeEnum.F3=114]="F3",KeyCodeEnum[KeyCodeEnum.F4=115]="F4",KeyCodeEnum[KeyCodeEnum.F5=116]="F5",KeyCodeEnum[KeyCodeEnum.F6=117]="F6",KeyCodeEnum[KeyCodeEnum.F7=118]="F7",KeyCodeEnum[KeyCodeEnum.F8=119]="F8",KeyCodeEnum[KeyCodeEnum.F9=120]="F9",KeyCodeEnum[KeyCodeEnum.F10=121]="F10",KeyCodeEnum[KeyCodeEnum.F11=122]="F11",KeyCodeEnum[KeyCodeEnum.F12=123]="F12",KeyCodeEnum[KeyCodeEnum.NUM_LOCK=144]="NUM_LOCK",KeyCodeEnum[KeyCodeEnum.SCROLL_LOCK=145]="SCROLL_LOCK",KeyCodeEnum[KeyCodeEnum.SEMICOLON=186]="SEMICOLON",KeyCodeEnum[KeyCodeEnum.EQUALS=187]="EQUALS",KeyCodeEnum[KeyCodeEnum.COMMA=188]="COMMA",KeyCodeEnum[KeyCodeEnum.DASH=189]="DASH",KeyCodeEnum[KeyCodeEnum.PERIOD=190]="PERIOD",KeyCodeEnum[KeyCodeEnum.FORWARD_SLASH=191]="FORWARD_SLASH",KeyCodeEnum[KeyCodeEnum.GRAVE_ACCENT=192]="GRAVE_ACCENT",KeyCodeEnum[KeyCodeEnum.OPEN_BRACKET=219]="OPEN_BRACKET",KeyCodeEnum[KeyCodeEnum.BACK_SLASH=220]="BACK_SLASH",KeyCodeEnum[KeyCodeEnum.CLOSE_BRACKET=221]="CLOSE_BRACKET",KeyCodeEnum[KeyCodeEnum.SINGLE_QUOTE=222]="SINGLE_QUOTE",KeyCodeEnum[KeyCodeEnum.LESS_THAN=226]="LESS_THAN"}(exports.KeyCodeEnum||(exports.KeyCodeEnum={}))},,,,function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.EditorService=void 0;var angular_1=__importDefault(__webpack_require__(12)),angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3),binding_type_enum_1=__webpack_require__(30);__webpack_require__(44),__webpack_require__(132);var defines_1=__webpack_require__(16),instance_event_1=__webpack_require__(85);__webpack_require__(130);var helper_1=__webpack_require__(15),dialog_service_1=__webpack_require__(13),helper_2=__webpack_require__(69);__webpack_require__(552),__webpack_require__(443);var defines_2=__webpack_require__(65);__webpack_require__(114);var defines_3=__webpack_require__(78);__webpack_require__(28),__webpack_require__(152),__webpack_require__(331),__webpack_require__(237),__webpack_require__(329);var application_parent_1=__webpack_require__(207),datagrid_1=__webpack_require__(233),flexbox_1=__webpack_require__(208),list_1=__webpack_require__(276),lookup_1=__webpack_require__(234),radiobutton_1=__webpack_require__(320),tab_panel_1=__webpack_require__(235),EditorService=function(){function EditorService($q,saveService,designerService,frameworkService,bindingManagementService,undoService,dialogService){var _this=this;this.$q=$q,this.saveService=saveService,this.designerService=designerService,this.frameworkService=frameworkService,this.bindingManagementService=bindingManagementService,this.undoService=undoService,this.dialogService=dialogService,this.translationChangedEvent=new instance_event_1.InstanceEvent,this.projectBoundariesChangedEvent=new instance_event_1.InstanceEvent,this.finderComponentSelectedEvent=new instance_event_1.InstanceEvent,this.canvasModeChangedEvent=new instance_event_1.InstanceEvent,this.sidebarViewChangedEvent=new instance_event_1.InstanceEvent,this.sidebarChangedEvent=new instance_event_1.InstanceEvent,this.currentSidebarTab="style",this.selectedComponentChangedEvent=new instance_event_1.InstanceEvent,this.selectedInteractionChangedEvent=new instance_event_1.InstanceEvent,this.selectedDatasourceChangedEvent=new instance_event_1.InstanceEvent,this.refreshSettingEvent=new instance_event_1.InstanceEvent,this.currentFlexOrientationChangedEvent=new instance_event_1.InstanceEvent,this.currentFlexIsParentChangedEvent=new instance_event_1.InstanceEvent,this.triggerSourceComponentChangedEvent=new instance_event_1.InstanceEvent,this.targetActionComponentChangedEvent=new instance_event_1.InstanceEvent,this.wizardFocusComponentChangedEvent=new instance_event_1.InstanceEvent,this.finderModeChangedEvent=new instance_event_1.InstanceEvent,this.wizardSetFinderModeEvent=new instance_event_1.InstanceEvent,this.wizardCloseEvent=new instance_event_1.InstanceEvent,this.wizardTickChangedEvent=new instance_event_1.InstanceEvent,this.newWizardInteractionEvent=new instance_event_1.InstanceEvent,this.isWizardChangedEvent=new instance_event_1.InstanceEvent,this.setSourceTriggerEvent=new instance_event_1.InstanceEvent,this.setTargetActionEvent=new instance_event_1.InstanceEvent,this.removeSelectedInteractionEvent=new instance_event_1.InstanceEvent,this.cancelInsertEvent=new instance_event_1.InstanceEvent,this.compositeComponentsChangedEvent=new instance_event_1.InstanceEvent,this.toggleCanvasChangedEvent=new instance_event_1.InstanceEvent,this.projectSettingsChangedEvent=new instance_event_1.InstanceEvent,this.hyperlinkAliasChangedEvent=new instance_event_1.InstanceEvent,this.urlVariableChangedEvent=new instance_event_1.InstanceEvent,this.sidebarView=defines_2.SidebarViewEnum.NEW_COMPONENT,this.isSidebarVisible=!0,this.idCounter=0,this.projectSettingsChangedEvent=designerService.projectSettingsChangedEvent,this.currentBoundaryChangedEvent=designerService.currentBoundaryChangedEvent,this.currentCanvasThemeChangedEvent=designerService.currentCanvasThemeChangedEvent,this.currentBoundaryChangedEvent.on((function(boundary){if(_this.selectedComponent&&_this.selectedComponent.getTypedef()===flexbox_1.Flexbox.name){var currentOrientation=_this.selectedComponent.getBoundarySetting(common_constant_1.SettingKeys.ORIENTATION,boundary.id);_this.currentFlexOrientationChangedEvent.raise(currentOrientation)}})),this.sidebarChangedEvent.on((function(value){_this.setSidebarVisibility(value)})),this.selectedComponentChangedEvent.on((function(component){component?_this.setSidebarView(defines_2.SidebarViewEnum.SETTINGS):_this.setSidebarView(defines_2.SidebarViewEnum.NEW_COMPONENT)})),this.projectSettingsChangedEvent.on((function(manifest){manifest&&_this.designerService.setCanvasTheme(manifest.defaultTheme?manifest.defaultTheme:common_constant_1.ThemeEnum.LIGHT)}))}return EditorService.prototype.loadProject=function(projectId,canvasWidth){var _this=this;return this.designerService.loadProject(projectId,canvasWidth).then((function(project){var ids=[];_this.forEachComponent(project.rootComponent,(function(component){ids.push(component.id)})),_this.idCounter=helper_2.ComponentsHelper.nextNumber(ids),ids.sort();for(var index=0;index<ids.length;index++)ids[index]===ids[index+1]&&console.warn("[EditorService] Duplicate ids on components");return project}))},EditorService.prototype.setView=function(){this.designerService.setView(defines_1.ViewEnum.EDITOR)},EditorService.prototype.setCurrentSidebarTab=function(tabView){this.currentSidebarTab=tabView},EditorService.prototype.getCurrentSidebarTab=function(){return this.currentSidebarTab},EditorService.prototype.unloadProject=function(){this.designerService.unloadProject()},EditorService.prototype.updateCurrentBoundary=function(canvasWidth){this.designerService.updateCurrentBoundary(canvasWidth)},EditorService.prototype.clearIdCounter=function(){this.idCounter=0},EditorService.prototype.generateId=function(componentTypeName){var newId=componentTypeName+this.idCounter++,components=this.getAllComponents();for(var component in components)if(components[component].getId()===newId)return this.generateId(componentTypeName);return newId},EditorService.prototype.setTriggerSourceComponent=function(component){this.triggerSourceComponentChangedEvent.raise(component)},EditorService.prototype.setTargetActionComponent=function(component){this.targetActionComponentChangedEvent.raise(component)},EditorService.prototype.setFinderActivity=function(value){this.finderModeChangedEvent.raise(value)},EditorService.prototype.setSourceTrigger=function(sourceTrigger){this.setSourceTriggerEvent.raise(sourceTrigger)},EditorService.prototype.setTargetAction=function(targetAction){this.setTargetActionEvent.raise(targetAction)},EditorService.prototype.setWizardFocusComponent=function(focus,component,setting){var focusSettings={focus:focus,component:component,setting:setting};this.wizardFocusComponentChangedEvent.raise(focusSettings)},EditorService.prototype.deselectComponent=function(){this.setSelectedComponent(null)},EditorService.prototype.isRuntimeMode=function(){return this.getCanvasMode()===common_constant_1.CanvasModeEnum.RUNTIME},EditorService.prototype.saveCanvas=function(){var project=this.getCurrentProject();return this.addUndoStack(project),this.saveService.save(project,common_constant_1.SaveFlagsEnum.CANVAS_COMPONENTS)},EditorService.prototype.addUndoStack=function(project){this.undoService.pushUndoAction(project)},EditorService.prototype.saveCurrent=function(flags){return this.getCanvasMode()===common_constant_1.CanvasModeEnum.WIZARD?this.getNewDeferred().promise:(flags===common_constant_1.SaveFlagsEnum.INTERACTIONS&&this.refreshLatestUndoStack(),this.saveService.save(this.getCurrentProject(),flags))},EditorService.prototype.refreshLatestUndoStack=function(){this.undoService.pop(),this.undoService.pushUndoAction(this.getCurrentProject())},EditorService.prototype.renameProject=function(id,newDisplayName){return this.saveService.renameProject(id,newDisplayName)},EditorService.prototype.setSidebarView=function(view){this.sidebarView!==view&&(this.sidebarView=view,this.raiseSidebarViewChanged())},EditorService.prototype.setSidebarVisibility=function(isSidebarVisible){isSidebarVisible!==this.isSidebarVisible&&(this.isSidebarVisible=isSidebarVisible,this.raiseSidebarViewChanged())},EditorService.prototype.raiseSidebarViewChanged=function(){this.sidebarViewChangedEvent.raise(this.getSidebarView())},EditorService.prototype.getSidebarView=function(){return angular_1.default.copy({view:this.sidebarView,isSidebarVisible:this.isSidebarVisible})},EditorService.prototype.setSelectedComponent=function(component){this.setHoveredComponent(),this.selectedComponent&&this.selectedComponent.setIsSelected(!1),component&&(component.setIsSelected(!0),component.refreshMetaSettings()),this.selectedComponent=component,this.selectedComponentChangedEvent.raise(component)},EditorService.prototype.getSelectedComponent=function(){return this.selectedComponent},EditorService.prototype.setFinderComponent=function(component){var finderComponent=this.finderComponent;finderComponent&&finderComponent.setIsFinder(!1),component?this.canvasMode===common_constant_1.CanvasModeEnum.FINDER&&(component.setIsFinder(!0),this.finderComponent=component):this.finderComponent=null},EditorService.prototype.canCut=function(component){return component||(component=this.getSelectedComponent()),component.canCut},EditorService.prototype.canCopy=function(component){return component||(component=this.getSelectedComponent()),component.canCopy},EditorService.prototype.isMovable=function(component){return component||(component=this.getSelectedComponent()),component&&!(component.parent instanceof application_parent_1.ApplicationParent)&&!component.isGenerated},EditorService.prototype.selectFinderComponent=function(component){component.setIsFinder&&component.setIsFinder(!1),this.finderComponentSelectedEvent.raise(component),this.finderModeOptions.closeOnSelect&&this.setCanvasMode(common_constant_1.CanvasModeEnum.SELECTION)},EditorService.prototype.setHoveredComponent=function(component){var hoveredComponent=this.hoveredComponent;hoveredComponent&&hoveredComponent.setIsHovered(!1),component?this.canvasMode===common_constant_1.CanvasModeEnum.SELECTION&&(component.setIsHovered(!0),this.hoveredComponent=component):this.hoveredComponent=null},EditorService.prototype.startFinderMode=function(options){var _this=this,previousMode=this.getCanvasMode();this.finderModeOptions=angular_1.default.extend({title:"",hideCancel:!1,closeOnSelect:!0},options),this.finderModeOptions.cancel=function(){_this.setCanvasMode(previousMode),options.cancel&&options.cancel()},this.setCanvasMode(common_constant_1.CanvasModeEnum.FINDER);var deferred=this.$q.defer(),unsubscribeFinderComponent=this.finderComponentSelectedEvent.on((function(component){component?deferred.resolve(component):deferred.reject(null)})),unsubscribeCanvasMode=this.canvasModeChangedEvent.on((function(mode){mode!==common_constant_1.CanvasModeEnum.FINDER&&(unsubscribeCanvasMode(),unsubscribeFinderComponent(),deferred.reject(null))}));return deferred.promise},EditorService.prototype.getFinderModeOptions=function(){return this.finderModeOptions},EditorService.prototype.removeFinderComponent=function(){this.setFinderComponent()},EditorService.prototype.setCanvasMode=function(newCanvasMode){var canvasModeChanged=this.canvasMode!==newCanvasMode,isSelectionMode=newCanvasMode===common_constant_1.CanvasModeEnum.SELECTION,isFinderMode=newCanvasMode===common_constant_1.CanvasModeEnum.FINDER,isWizardMode=newCanvasMode===common_constant_1.CanvasModeEnum.WIZARD;canvasModeChanged&&(this.canvasMode=newCanvasMode,this.canvasModeChangedEvent.raise(newCanvasMode),this.selectedComponent&&!1===isSelectionMode&&!1===isFinderMode&&!1===isWizardMode&&this.deselectComponent(),this.selectedComponent&&!1===isFinderMode&&this.removeFinderComponent())},EditorService.prototype.getCanvasMode=function(){return this.canvasMode},EditorService.prototype.triggerDatasourceChanged=function(datasource){this.selectedDatasourceChangedEvent.raise(datasource)},EditorService.prototype.getCurrentProject=function(){return this.designerService.getCurrentProject()},EditorService.prototype.getCurrentBoundary=function(){return this.designerService.getCurrentBoundary()},EditorService.prototype.setCurrentBoundary=function(boundary){this.designerService.setCurrentBoundary(boundary)},EditorService.prototype.getCurrentRootComponentInstance=function(){return this.designerService.getCurrentRootComponentInstance()},EditorService.prototype.setCurrentRootComponentInstance=function(component){this.designerService.setCurrentRootComponentInstance(component)},EditorService.prototype.setManifest=function(manifest){this.designerService.getCurrentProject().manifest=manifest,this.projectSettingsChangedEvent.raise(manifest)},EditorService.prototype.getCurrentCanvasTheme=function(){return this.designerService.getCanvasTheme()},EditorService.prototype.getApplicationParent=function(){return this.getCurrentRootComponentInstance().parent},EditorService.prototype.getAllComponents=function(filterFn){var componentList=[];return filterFn||(filterFn=function(){return!0}),this.getCurrentRootComponentInstance().forEachChild((function(child){filterFn(child)&&componentList.push(child)}),!0),componentList},EditorService.prototype.openURLDialog=function(){var _this=this,dialogOptions={template:__webpack_require__(1044),title:"Manage URL Variables",cssClass:"url-variable-dialog"};this.dialogService.show(dialogOptions).then((function(result){result.button===dialog_service_1.DialogButtonType.Ok&&_this.setUrlVariables(result.value).then((function(){_this.saveCurrent(common_constant_1.SaveFlagsEnum.URL_VARIABLES),_this.urlVariableChangedEvent.raise(),_this.initializeUrlBindings()}))}))},EditorService.prototype.initializeUrlBindings=function(newValue,sourceKey){this.getAllComponents().forEach((function(component){var hasUrlBinding=!1;component.forEachBindable((function(bindable){var field=component.getBindableField(bindable.ref);field&&field.Type===binding_type_enum_1.BindingTypeEnum.URL_BINDING&&(newValue&&sourceKey&&sourceKey===field.sourceKey&&(field.value=newValue),hasUrlBinding=!0)})),hasUrlBinding&&component.initializeBindings()}))},EditorService.prototype.getAllInteractiveComponents=function(){var generatedIdsIterated=[];return[this.getApplicationParent()].concat(this.getAllComponents((function(component){if(component.isGenerated){if(generatedIdsIterated.indexOf(component.getId())>=0)return!1;generatedIdsIterated.push(component.getId())}var componentClass=defines_3.Defines.allComponents[component.getTypedef()].class;return!!(component.getDatasource()||componentClass.SOURCE_TRIGGERS.length>0||componentClass.TARGET_ACTIONS.length>0)})))},EditorService.prototype.getAllBindableComponents=function(){return[this.getApplicationParent()].concat(this.getAllComponents((function(component){return"function"==typeof component.exposesReadableBindables&&!component.isGenerated&&component.exposesReadableBindables()})))},EditorService.prototype.getAllTranslatableComponents=function(){return[this.getApplicationParent()].concat(this.getAllComponents((function(component){return!component.isGenerated&&component.exposesLocalizedBindables()})))},EditorService.prototype.copy=function(componentObject,oldToNewIdMap,suffix){void 0===oldToNewIdMap&&(oldToNewIdMap={}),void 0===suffix&&(suffix=common_constant_1.ComponentConstants.COPY_SUFFIX);var copiedComponent=angular_1.default.copy(componentObject);return"TabPanel"===copiedComponent.typedef&&(copiedComponent.typedef="Flexbox"),angular_1.default.extend(oldToNewIdMap,this.generateNewIdsForTree(copiedComponent)),oldToNewIdMap[application_parent_1.ApplicationParent.applicationParentDatabearer.id]=application_parent_1.ApplicationParent.applicationParentDatabearer.id,""!==suffix&&(copiedComponent.displayName=this.getNewDisplayName(copiedComponent.displayName)),this.redirectBindings(copiedComponent,oldToNewIdMap),copiedComponent},EditorService.prototype.syncComponentTranslations=function(component){var _this=this;this.forEachBindable(component,(function(bindableField,currValueSource){if(currValueSource){var value=_this.frameworkService.getTranslatableStringByProperty(component.id,bindableField.ref);if(void 0!==value&&value!==currValueSource.value){var updatedTranslation={locale:_this.frameworkService.getSelectedLocale(),value:currValueSource.value};_this.frameworkService.setTranslatableStringByProperty(component.id,bindableField.ref,updatedTranslation)}}}))},EditorService.prototype.redirectBindings=function(newComponent,oldToNewIdMap){var _this=this;this.forEachComponent(newComponent,(function(component,index){_this.frameworkService.forEachBindable(component,(function(field,currentValueSource){currentValueSource&&currentValueSource.Type===binding_type_enum_1.BindingTypeEnum.BINDING&&oldToNewIdMap.hasOwnProperty(currentValueSource.sourceName)&&(currentValueSource.sourceName=oldToNewIdMap[currentValueSource.sourceName])}))}))},EditorService.prototype.getNameBase=function(displayName){if(displayName.match(/_[Cc]opy/)){var strLength=displayName.lastIndexOf(common_constant_1.ComponentConstants.COPY_SUFFIX);displayName=displayName.substr(0,strLength)}return displayName},EditorService.prototype.getNewDisplayName=function(oldDisplayName){var _this=this,copyRegexExpression=common_constant_1.ComponentConstants.COPY_SUFFIX+"\\d*",copyRegex=new RegExp(copyRegexExpression+"$"),replaceSuffixRegex=new RegExp("("+copyRegexExpression+")?$"),suffix=common_constant_1.ComponentConstants.COPY_SUFFIX,nameBase=this.getNameBase(oldDisplayName),conflictingNames=[];if(this.getAllComponents((function(component){var componentNameBase=_this.getNameBase(component.getDisplayName());return nameBase===componentNameBase&&conflictingNames.push(component.getDisplayName()),!1})),conflictingNames.length){var nextHighestNumber=helper_2.ComponentsHelper.nextNumber(conflictingNames.filter((function(displayName){return displayName.match(copyRegex)})));1===nextHighestNumber&&(nextHighestNumber=2),suffix+=0!==nextHighestNumber?nextHighestNumber:""}return oldDisplayName.replace(replaceSuffixRegex,suffix)},EditorService.prototype.generateNewIdsForTree=function(parentComponent){var _this=this,oldToNewIdMap={};return this.forEachComponent(parentComponent,(function(component,parent){var oldId=component.id,newId=_this.generateId(component.typedef);switch(component.id=newId,oldToNewIdMap[oldId]=newId,component.typedef){case radiobutton_1.RadioButton.name:component.componentRadioButtons.forEach((function(radioButton){var oldRadioButtonId=radioButton.id;radioButton.id=radioButton.id.replace(oldId,newId),oldToNewIdMap[oldRadioButtonId]=radioButton.id}));break;case list_1.List.name:var listComponent=component;for(var boundaryId in listComponent.boundarySettings)listComponent.boundarySettings[boundaryId].itemTemplate&&_this.generateNewIdsForTree(listComponent.boundarySettings[boundaryId].itemTemplate);break;case tab_panel_1.TabPanel.name:parent.componentTabs.find((function(componentTab){return componentTab.id===oldId})).id=newId;break;case lookup_1.Lookup.name:case datagrid_1.Datagrid.name:component.columns.forEach((function(column){var newId=_this.generateId(component.typedef+"column");oldToNewIdMap[column.id]=newId,column.id=newId}))}})),oldToNewIdMap},EditorService.prototype.updateClassesAndSizes=function(){this.getCurrentRootComponentInstance().newBoundaryEntered(this.getCurrentBoundary().id)},EditorService.prototype.setDefaultBindings=function(component,availOutput){this.bindingManagementService.setDefaultBindings(component,availOutput)},EditorService.prototype.getComponentInstanceById=function(id){return this.frameworkService.getComponentInstance(id)},EditorService.prototype.getNewDeferred=function(){return this.frameworkService.getNewDeferred()},EditorService.prototype.onAllPromises=function(promises){return this.$q.all(promises)},EditorService.prototype.forEachBindable=function(component,fn){return this.frameworkService.forEachBindable(component,fn)},EditorService.prototype.forEachComponent=function(component,fn){return this.frameworkService.forEachComponent(component,fn)},EditorService.prototype.getDatasourceObject=function(id){return this.frameworkService.getDatasourceObject(id)},EditorService.prototype.updateDatasourceOnComponents=function(datasource){var _this=this;this.getAllComponents().forEach((function(component){if(component.datasource&&component.datasource.id===datasource.id){var datasourceObject=_this.getDatasourceObject(datasource.id);component.setDatasource(datasourceObject),component.refreshMetaSettings()}}))},EditorService.prototype.getTranslationsFromComponentTree=function(component){var _this=this,languageComponents={};return this.forEachComponent(component,(function(componentChild){var componentTranslations=_this.getCurrentProject().getTranslation(componentChild.id);componentTranslations&&(languageComponents[componentChild.id]=angular_1.default.copy(componentTranslations))})),languageComponents},EditorService.prototype.findInComponentTree=function(parent,predicate){var foundChild;return this.forEachComponent(parent,(function(child){predicate(child)&&(foundChild=child)})),foundChild},EditorService.prototype.copyTranslationsToCurrentProject=function(languageComponents,oldToNewIdMap,newComponentTree){var _this=this;helper_1.Helper.getListFromMap(angular_1.default.copy(languageComponents)).forEach((function(componentTranslation){!!oldToNewIdMap&&_this.copyTranslationByMapList(componentTranslation,oldToNewIdMap,newComponentTree),_this.getCurrentProject().addTranslation(componentTranslation)}))},EditorService.prototype.copyTranslationByMapList=function(componentTranslation,idMap,newComponentTree){componentTranslation.id=helper_1.Helper.generateUniqueId(),componentTranslation.componentId=idMap[componentTranslation.componentId];var foundChild=this.findInComponentTree(newComponentTree,(function(child){return child.id===componentTranslation.componentId})),bindableRefs=[];return this.forEachBindable(foundChild,(function(bindable){bindableRefs.push(bindable.ref)})),-1===bindableRefs.indexOf(componentTranslation.property)&&(componentTranslation.property=idMap[componentTranslation.property]),componentTranslation},EditorService.prototype.createLanguageComponentFromOldComponents=function(){this.frameworkService.createLanguageComponentFromOldComponents()},EditorService.prototype.setCanvasTheme=function(theme){this.designerService.setCanvasTheme(theme)},EditorService.prototype.updateTranslatables=function(){this.getAllTranslatableComponents().forEach((function(component){component.initializeBindings()})),this.saveCurrent(common_constant_1.SaveFlagsEnum.TRANSLATIONS)},EditorService.prototype.syncTranslations=function(newTranslations){var currentProject=this.getCurrentProject(),newTranslationList=helper_1.Helper.getListFromMap(newTranslations),addTranslations=newTranslationList.length>currentProject.getTranslationsList().length,removeTranslations=newTranslationList.length<currentProject.getTranslationsList().length;addTranslations?newTranslationList.forEach((function(translation){currentProject.getTranslation(translation.componentId)||currentProject.addTranslation(translation)})):removeTranslations?currentProject.getTranslationsList().forEach((function(translation){newTranslations[translation.componentId]||currentProject.removeTranslation(translation.componentId)})):currentProject.getTranslationsList().forEach((function(projectLanguageComponent,index){newTranslationList[index].translations.forEach((function(undoTranslation){for(var projectTranslations=projectLanguageComponent.translations,i=0;i<projectTranslations.length;i++)if(projectTranslations[i].locale===undoTranslation.locale){projectTranslations[i].value=undoTranslation.value;break}}))}))},EditorService.prototype.readValueSource=function(valueSource,context){return this.frameworkService.readValueSource(valueSource,context)},EditorService.prototype.getUrlMetaData=function(){return this.frameworkService.getUrlMetaData()},EditorService.prototype.setUrlMetaData=function(newUrlMetaData){this.frameworkService.setUrlMetaData(newUrlMetaData)},EditorService.prototype.setUrlVariables=function(variables){return this.getCurrentProject().setUrlVariables(variables),this.frameworkService.generateUrlMetaData()},EditorService.prototype.getUrlValue=function(sourceKey){return this.frameworkService.getUrlValue(sourceKey)},EditorService.prototype.removeCacheObject=function(projectId){this.frameworkService.removeCacheObject(projectId)},EditorService.prototype.getTimeout=function(){return this.frameworkService.getTimeout()},EditorService.prototype.getActiveUrlBindings=function(){var urlBindings=[];return this.getAllComponents((function(component){return component.getTypedef()!==flexbox_1.Flexbox.name})).forEach((function(component){component.forEachBindable((function(bindable){var valueSource=component.getBindableField(bindable.ref);valueSource&&valueSource.Type===binding_type_enum_1.BindingTypeEnum.URL_BINDING&&urlBindings.push(valueSource)}))})),urlBindings},EditorService.add=function(ngModule){ngModule.service(common_constant_1.InjectNames.EDITOR_SERVICE,EditorService)},EditorService.$inject=[angular_constants_1.AngularConstants.Q,common_constant_1.InjectNames.SAVE_SERVICE,common_constant_1.InjectNames.DESIGNER_SERVICE,common_constant_1.InjectNames.FRAMEWORK_SERVICE,common_constant_1.InjectNames.BINDING_MANAGEMENT_SERVICE,common_constant_1.InjectNames.UNDO_SERVICE,common_constant_1.InjectNames.DIALOG_SERVICE],EditorService}();exports.EditorService=EditorService},,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ValueTypeEnum=void 0,function(ValueTypeEnum){ValueTypeEnum[ValueTypeEnum.STRING=1]="STRING",ValueTypeEnum[ValueTypeEnum.BOOLEAN=2]="BOOLEAN",ValueTypeEnum[ValueTypeEnum.NUMBER=3]="NUMBER",ValueTypeEnum[ValueTypeEnum.OBJECT=4]="OBJECT",ValueTypeEnum[ValueTypeEnum.LIST=5]="LIST",ValueTypeEnum[ValueTypeEnum.BINARY=6]="BINARY",ValueTypeEnum[ValueTypeEnum.LOCALIZED_STRING=7]="LOCALIZED_STRING",ValueTypeEnum[ValueTypeEnum.DATE=8]="DATE"}(exports.ValueTypeEnum||(exports.ValueTypeEnum={}))},,function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.FrameworkService=void 0;var angular_1=__importDefault(__webpack_require__(12)),angular_constants_1=__webpack_require__(7),isNil_1=__importDefault(__webpack_require__(164));__webpack_require__(114);var common_constant_1=__webpack_require__(3),binding_type_enum_1=__webpack_require__(30),value_type_enum_1=__webpack_require__(26);__webpack_require__(519),__webpack_require__(32),__webpack_require__(317),__webpack_require__(41),__webpack_require__(42),__webpack_require__(205),__webpack_require__(23),__webpack_require__(518),__webpack_require__(116),__webpack_require__(105),__webpack_require__(132),__webpack_require__(149),__webpack_require__(16);var instance_event_1=__webpack_require__(85),dialog_service_1=__webpack_require__(13),defines_1=__webpack_require__(78);__webpack_require__(855),__webpack_require__(46),__webpack_require__(130);var helper_1=__webpack_require__(15);__webpack_require__(70),__webpack_require__(534),__webpack_require__(166),__webpack_require__(535),__webpack_require__(209),__webpack_require__(71),__webpack_require__(204);var FrameworkService=function(){function FrameworkService($window,$compile,$q,$timeout,$cacheFactoryService,commonService,datasourceService,languageService,translationManagementService,mingleService,expressionService,dialogService){this.$window=$window,this.$compile=$compile,this.$q=$q,this.$timeout=$timeout,this.$cacheFactoryService=$cacheFactoryService,this.commonService=commonService,this.datasourceService=datasourceService,this.languageService=languageService,this.translationManagementService=translationManagementService,this.mingleService=mingleService,this.expressionService=expressionService,this.dialogService=dialogService,this.datasourceChangedEvent=new instance_event_1.InstanceEvent,this.activeBindings={},this.currentCanvasThemeChangedEvent=commonService.currentCanvasThemeChangedEvent,this.projectSettingsChangedEvent=commonService.projectSettingsChangedEvent,commonService.currentBoundaryChangedEvent.on((function(newBoundary){var rootComponent=commonService.getCurrentRootComponentInstance();rootComponent&&rootComponent.newBoundaryEntered(newBoundary.id)}))}return FrameworkService.prototype.openComponentDialog=function(options){return this.dialogService.show(options)},FrameworkService.prototype.createLanguageComponentFromOldComponents=function(){var _this=this,rootComponent=this.commonService.getCurrentRootComponentInstance(),currentManifest=this.getCurrentProject().getManifest();this.translationManagementService.createGeneralLanguageComponent(rootComponent.getId(),common_constant_1.SettingKeys.APPLICATION_HEADER,currentManifest.title),this.projectSettingsChangedEvent.raise(currentManifest),rootComponent.forEachChild((function(componentInstance){switch(componentInstance.forEachBindable((function(binding,currentValueSource){binding.valueType===value_type_enum_1.ValueTypeEnum.LOCALIZED_STRING&&_this.translationManagementService.createGeneralLanguageComponent(componentInstance.getId(),binding.ref,currentValueSource.value)})),componentInstance.getTypedef()){case common_constant_1.ComponentNames.Tabs:componentInstance.componentTabs.forEach((function(tab){_this.translationManagementService.createGeneralLanguageComponent(componentInstance.getId(),tab.id,tab.name)}));break;case common_constant_1.ComponentNames.RadioButton:componentInstance.radioButtons.forEach((function(radiobutton){_this.translationManagementService.createGeneralLanguageComponent(componentInstance.getId(),radiobutton.id,radiobutton.name)}));break;case common_constant_1.ComponentNames.Datagrid:componentInstance.datagridOptions.columns.forEach((function(column){_this.translationManagementService.createGeneralLanguageComponent(componentInstance.getId(),column.id,column.name),column.text&&_this.translationManagementService.createGeneralLanguageComponent(componentInstance.getId(),column.id+"CellText",column.text)}))}}),!1)},FrameworkService.prototype.openWindow=function(url){this.$window.open(url,"_blank")},FrameworkService.prototype.getCurrentLanguage=function(){return this.translationManagementService.getCurrentLanguage()},FrameworkService.prototype.getSelectedLocale=function(){return this.translationManagementService.getSelectedLocale()},FrameworkService.prototype.getTranslatableStringByProperty=function(componentId,property){return this.translationManagementService.getTranslatableStringByProperty(componentId,property)},FrameworkService.prototype.setTranslatableStringByProperty=function(componentId,property,updatedValue){this.translationManagementService.setTranslatableStringByProperty(componentId,property,updatedValue)},FrameworkService.prototype.sendDrillbackMessage=function(message){this.mingleService.sendDrillbackMessage(message)},FrameworkService.prototype.getGlobalValue=function(value,component){var _this=this,stringValue=null;if(!isNil_1.default(value)&&"boolean"!=typeof value){var cleanedValue=value.replace(common_constant_1.SubstitutionTags.VALUE,"").match(common_constant_1.RegexStrings.GLOBALSTRING);if(cleanedValue&&cleanedValue[1]){var globalValue=this.languageService.getGlobalString(cleanedValue[1]);globalValue?stringValue=value.replace(cleanedValue[0],globalValue):this.translationManagementService.openNewStringDialog(cleanedValue[1]).then((function(result){result.button===dialog_service_1.DialogButtonType.Ok&&_this.translationManagementService.addGlobalString(result.value).then((function(){component.initializeBindings()}))}))}}return stringValue},FrameworkService.prototype.getTranslatableHeaderString=function(){return this.translationManagementService.getTranslatableHeaderString()},FrameworkService.prototype.getCurrentProject=function(){return this.commonService.getCurrentProject()},FrameworkService.prototype.getUrlMetaData=function(){return this.commonService.getUrlMetaData()},FrameworkService.prototype.setUrlMetaData=function(newUrlMetaData){return this.commonService.setUrlMetaData(newUrlMetaData)},FrameworkService.prototype.generateUrlMetaData=function(){var project=this.commonService.getCurrentProject();return this.commonService.generateUrlMetaData(project)},FrameworkService.prototype.getUrlValue=function(sourceKey){var value="",result=this.getUrlMetaData().find((function(data){return data.sourceKey===sourceKey}));return result&&result.currentValue&&(value=result.currentValue),value},FrameworkService.prototype.getTimeout=function(){return this.$timeout},FrameworkService.prototype.getProjectCacheObject=function(){var cacheId=""+this.getCurrentProject().getId();return this.getCacheObject(cacheId)},FrameworkService.prototype.getCacheObject=function(cacheId){cacheId=void 0!==cacheId?cacheId:""+this.getCurrentProject().getId();var cacheObject=this.$cacheFactoryService.get(cacheId);return cacheObject||this.$cacheFactoryService(cacheId)},FrameworkService.prototype.removeCacheObject=function(cacheId){this.getCacheObject(cacheId).destroy()},FrameworkService.prototype.checkIfListTemplate=function(componentId){return"TwoHorizontalLabels"===componentId||"ImageAndLabels"===componentId||"Stack"===componentId},FrameworkService.prototype.forEachBindable=function(component,fn){defines_1.Defines.allComponents[component.typedef].class.BINDABLE_FIELDS_2.forEach((function(field){fn(field,component[field.ref])}))},FrameworkService.prototype.forEachComponent=function(component,fn,parent){var _this=this;void 0===parent&&(parent=null),fn(component,parent),defines_1.Defines.allComponents[component.typedef].isLayoutComponent&&component.children.forEach((function(child){_this.forEachComponent(child,fn,component)}))},FrameworkService.prototype.getNextProjectBoundary=function(boundaryId){if(boundaryId===common_constant_1.DEFAULT_BOUNDARY.id)return common_constant_1.DEFAULT_BOUNDARY;var projectBoundaries=this.getCurrentProject().manifest.mashupBoundaries;if(projectBoundaries){projectBoundaries.sort((function(a,b){return"Default"===a.id?1:"Default"===b.id||a.limitX<b.limitX?-1:b.limitX<a.limitX?1:0}));for(var i=0;i<projectBoundaries.length;i++)if(projectBoundaries[i].id===boundaryId)return projectBoundaries[i+1]}return common_constant_1.DEFAULT_BOUNDARY},FrameworkService.prototype.triggerExpressions=function(){var components=this.getAllComponentInstances();this.expressionService.trigger(components)},FrameworkService.prototype.setCanvasTheme=function(theme){this.commonService.setCanvasTheme(theme,this.isDesigner())},FrameworkService.prototype.getCurrentBoundary=function(){return this.commonService.getCurrentBoundary()},FrameworkService.prototype.getTranslatableFieldDisplayName=function(componentId,reference){var displayName="",componentInstance=this.getComponentInstance(componentId);if(componentInstance){switch(componentInstance.getTypedef()){case common_constant_1.ComponentNames.Tabs:displayName="Tab "+(componentInstance.componentTabs.findIndex((function(tab){return tab.id===reference}))+1);break;case common_constant_1.ComponentNames.RadioButton:if(reference===common_constant_1.SettingKeys.LABEL)displayName=this.getBindableDisplayName(reference,componentId);else displayName="Radio Button "+(componentInstance.radioButtons.findIndex((function(radiobutton){return radiobutton.id===reference}))+1);break;case common_constant_1.ComponentNames.Datagrid:if(reference===common_constant_1.SettingKeys.LABEL)displayName=this.getBindableDisplayName(reference,componentId);else{var cellName_1="";reference.includes("CellText")&&(cellName_1=" Cell Text"),displayName="Column "+(componentInstance.datagridOptions.columns.findIndex((function(column){return column.id+cellName_1.replace(/\s+/g,"")===reference}))+1)+cellName_1}break;case"Lookup":if(reference===common_constant_1.SettingKeys.LABEL)displayName=this.getBindableDisplayName(reference,componentId);else displayName="Column "+(componentInstance.getDatabearer().columns.findIndex((function(column){return column.id===reference}))+1)}displayName||(displayName=this.getBindableDisplayName(reference,componentId))}return displayName},FrameworkService.prototype.getBindableDisplayName=function(reference,componentId){var displayName="",componentInstance=this.getComponentInstance(componentId),bindables=defines_1.Defines.allComponents[componentInstance.getTypedef()].class.BINDABLE_FIELDS_2;if(bindables.length>0){var maybeDefinition=bindables.find((function(bindableDefinition){return bindableDefinition.ref===reference}));displayName=maybeDefinition?maybeDefinition.name:displayName}return displayName},FrameworkService.prototype.getComponentInstance=function(componentId,fromRoot){if(!componentId)return null;var recursive=function(component){var foundChild;if(component.getId()===componentId)return component;if(helper_1.Helper.instanceOfLayoutComponent(component)){for(var index in component.children)if(foundChild=recursive(component.children[index]))return foundChild}else if(helper_1.Helper.instanceOfListComponent(component))for(var index in component.children)if(foundChild=recursive(component.children[index]))return foundChild;return null};fromRoot||(fromRoot=this.commonService.getCurrentRootComponentInstance().parent);return recursive(fromRoot)},FrameworkService.prototype.getComponentInstances=function(attrName,attrValue,fromRoot){var components=[];return fromRoot||(fromRoot=this.commonService.getCurrentRootComponentInstance()),fromRoot.forEachChild((function(child){helper_1.Helper.getDeepValue(child,attrName)===attrValue&&components.push(child)}),!0),components},FrameworkService.prototype.getAllComponentInstances=function(){var components=[];return this.commonService.getCurrentRootComponentInstance().forEachChild((function(child){components.push(child)}),!0),components},FrameworkService.prototype.getCustomComponentDefinition=function(customId){return this.commonService.getCurrentProject().getCustomComponentDefinitions()[customId]},FrameworkService.prototype.getNewDeferred=function(){return this.$q.defer()},FrameworkService.prototype.isRuntimeMode=function(){var container=angular_1.default.element("."+common_constant_1.CSSClasses.mashupRootContainer);return 0===container.length||container.hasClass("runtimeMode")},FrameworkService.prototype.isDesigner=function(){return this.commonService.isDesigner()},FrameworkService.prototype.getDatasource=function(datasourceId){return this.commonService.getCurrentProject().getDatasource(datasourceId)},FrameworkService.prototype.getDatasourceObject=function(datasourceId){var datasourceInstance,datasourceObject=this.commonService.getCurrentProject().getDatasource(datasourceId);return datasourceObject&&(datasourceInstance=this.datasourceService.parseDatasourceToTS(datasourceObject)),datasourceInstance},FrameworkService.prototype.readParameters=function(parameters,context){var _this=this,values={};return parameters.forEach((function(parameter){var value=_this.readValueSource(parameter.valueSource,context);if(value){var multipleValue=value.split("%%");if(multipleValue.length>1&&parameter.valueSource.Type!==binding_type_enum_1.BindingTypeEnum.STATIC_VALUE){for(var i=0;i<multipleValue.length;i++)multipleValue[i]=helper_1.Helper.trimIfPossible(multipleValue[i]);values[parameter.targetKey]=multipleValue}else values[parameter.targetKey]=helper_1.Helper.trimIfPossible(value)}else values[parameter.targetKey]=""})),values},FrameworkService.prototype.setParameter=function(parameter,newValue){var valueSource=parameter.valueSource,sourceComponent=this.getComponentInstance(valueSource.sourceName),path=valueSource.sourceKey;helper_1.Helper.setDeepValue(sourceComponent,path,newValue)},FrameworkService.prototype.applyValuesourceFormatter=function(value,newValue){return value&&value.indexOf(common_constant_1.SubstitutionTags.VALUE)>-1?helper_1.Helper.joinWithDefauldEmptyString(value.split(common_constant_1.SubstitutionTags.VALUE),newValue):newValue},FrameworkService.prototype.readValueSource=function(valueSource,context){var value;if(valueSource.Type===binding_type_enum_1.BindingTypeEnum.BINDING){var sourceComponent=this.getComponentInstance(valueSource.sourceName);if(sourceComponent&&valueSource.sourceKey){var result=sourceComponent.getValue(valueSource.sourceKey);value=null===result?"":result,value=this.applyValuesourceFormatter(valueSource.value,value)}else sourceComponent||console.error("[DatasourceService] BINDING failed, source component not found"),valueSource.sourceKey||console.error("[DatasourceService] BINDING failed, source key not set"),value=null}else valueSource.Type===binding_type_enum_1.BindingTypeEnum.CONTEXT_BINDING?context?(value=context[valueSource.sourceKey],value=this.applyValuesourceFormatter(valueSource.value,value)):console.error("[DatasourceService] BINDING failed, no context for CONTEXT_BINDING"):value=valueSource.Type===binding_type_enum_1.BindingTypeEnum.URL_BINDING&&this.isRuntimeMode()?this.getUrlValue(valueSource.sourceKey):valueSource.value;return value},FrameworkService.prototype.getActiveBinding=function(){return this.activeBindings},FrameworkService.prototype.registerContextBinding=function(targetComponent,targetKey,sourceKey,value){var _this=this,targetComponentScope=targetComponent.getScope();if(targetComponentScope){var targetComponentId=targetComponent.isGenerated?targetComponent.generatedId:targetComponent.getId(),bindingId_1=this.getContextBindingId(targetComponentId,targetKey,sourceKey);this.activeBindings[bindingId_1]&&this.activeBindings[bindingId_1]();var dereg_1=targetComponentScope.$watch('context["'+sourceKey+'"]',(function(newValue){newValue=_this.applyValuesourceFormatter(value,newValue),targetComponent.setBindableValue(targetKey,newValue||"")}));this.activeBindings[bindingId_1]=dereg_1,targetComponentScope.$on(angular_constants_1.AngularConstants.DESTROY,(function(){dereg_1(),delete _this.activeBindings[bindingId_1]}))}else console.warn("[FrameworkService] No element/scope on target component, CONTEXT_BINDING not registered")},FrameworkService.prototype.getBindingId=function(targetComponentId,targetKey,valueSourceObject){return valueSourceObject.sourceName+valueSourceObject.sourceKey+targetComponentId+targetKey},FrameworkService.prototype.getContextBindingId=function(targetComponentId,targetKey,sourceKey){return"context"+sourceKey+targetComponentId+targetKey},FrameworkService.prototype.registerBinding=function(targetComponent,targetKey,valuesourceObject,value){var component,_this=this,sourceComponentId=valuesourceObject.sourceName,sourceComponentKey=valuesourceObject.sourceKey,sourceComponent=this.getComponentInstance(sourceComponentId);if(sourceComponent){var bindingId_2=this.getBindingId(targetComponent.getId(),targetKey,valuesourceObject);this.activeBindings[bindingId_2]&&this.activeBindings[bindingId_2]();var sourcePath=helper_1.Helper.wrapKeyInBrackets(sourceComponentKey),watchKey="componentInstance"+(sourcePath=(component=sourceComponent).isLayoutComponent()&&void 0!==component.getDatasource()?".scope.context"+sourcePath:sourcePath),dereg_2=sourceComponent.getScope().$watch(watchKey,(function(newValue){null==newValue&&(newValue=""),newValue=_this.applyValuesourceFormatter(value,newValue),targetComponent.setBindableValue(targetKey,newValue),targetComponent.onUpdateValue()}));this.activeBindings[bindingId_2]=dereg_2,sourceComponent.getScope().$on(angular_constants_1.AngularConstants.DESTROY,(function(){dereg_2(),delete _this.activeBindings[bindingId_2]}))}else console.warn("[FrameworkService] Dead binding on component id: "+targetComponent.getId())},FrameworkService.prototype.trigger=function(source,triggerName){var _this=this;this.commonService.getCurrentProject().getInteractions().forEach((function(interaction){interaction.sourceName===source.getId()&&interaction.sourceTriggerName===triggerName&&_this.runInteraction(interaction)}))},FrameworkService.prototype.runInteraction=function(interaction){interaction.targetName&&interaction.targetActionName?this.getComponentInstances("databearer.id",interaction.targetName).forEach((function(component){component.loadInteraction(interaction)})):console.warn("[FrameworkService] Interaction: "+interaction.getId()+" did not run, not all prerequisites were present")},FrameworkService.prototype.runStartupInteractions=function(){var _this=this;this.commonService.getCurrentProject().getInteractions().filter((function(ev){return ev.sourceTriggerName===common_constant_1.InteractionTriggerEnum.STARTUP})).forEach((function(ev){_this.runInteraction(ev)}))},FrameworkService.prototype.convertImageUrlToBase64=function(url){return this.commonService.convertImageUrlToBase64(url)},FrameworkService.add=function(ngModule){ngModule.service(common_constant_1.InjectNames.FRAMEWORK_SERVICE,FrameworkService)},FrameworkService.$inject=[angular_constants_1.AngularConstants.WINDOW,angular_constants_1.AngularConstants.COMPILE,angular_constants_1.AngularConstants.Q,angular_constants_1.AngularConstants.TIMEOUT,angular_constants_1.AngularConstants.CACHE_FACTORY,common_constant_1.InjectNames.COMMON_SERVICE,common_constant_1.InjectNames.DATASOURCE_SERVICE,common_constant_1.InjectNames.LANGUAGE_SERVICE,common_constant_1.InjectNames.TRANSLATION_MANAGEMENT_SERVICE,common_constant_1.InjectNames.MINGLE_SERVICE,common_constant_1.InjectNames.EXPRESSION_SERVICE,common_constant_1.InjectNames.DIALOG_SERVICE],FrameworkService}();exports.FrameworkService=FrameworkService},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SizeTypeEnum=void 0,function(SizeTypeEnum){SizeTypeEnum[SizeTypeEnum.PIXELS=1]="PIXELS",SizeTypeEnum[SizeTypeEnum.PERCENT=2]="PERCENT",SizeTypeEnum[SizeTypeEnum.AUTO=3]="AUTO"}(exports.SizeTypeEnum||(exports.SizeTypeEnum={}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BindingTypeEnum=void 0,function(BindingTypeEnum){BindingTypeEnum[BindingTypeEnum.STATIC_VALUE=1]="STATIC_VALUE",BindingTypeEnum[BindingTypeEnum.BINDING=2]="BINDING",BindingTypeEnum[BindingTypeEnum.CONTEXT_BINDING=3]="CONTEXT_BINDING",BindingTypeEnum[BindingTypeEnum.URL_BINDING=4]="URL_BINDING"}(exports.BindingTypeEnum||(exports.BindingTypeEnum={}))},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(29),__webpack_require__(23)},,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DateFormatEnum=exports.ColumnOptionEnum=exports.FormatterEnum=exports.SelectableEnum=void 0,function(SelectableEnum){SelectableEnum.Single="single",SelectableEnum.Multiple="multiple",SelectableEnum.Mixed="mixed",SelectableEnum.Siblings="siblings"}(exports.SelectableEnum||(exports.SelectableEnum={})),function(FormatterEnum){FormatterEnum.Text="text",FormatterEnum.Ellipsis="ellipsis",FormatterEnum.Password="password",FormatterEnum.Date="date",FormatterEnum.Autocomplete="autocomplete",FormatterEnum.Lookup="lookup",FormatterEnum.Decimal="decimal",FormatterEnum.Integer="integer",FormatterEnum.Hyperlink="hyperlink",FormatterEnum.Template="template",FormatterEnum.Drilldown="drilldown",FormatterEnum.Checkbox="checkbox",FormatterEnum.SelectionCheckbox="selectionCheckbox",FormatterEnum.Actions="actions",FormatterEnum.Textarea="textarea",FormatterEnum.Expander="expander",FormatterEnum.ClassRange="classRanger",FormatterEnum.Badge="badge",FormatterEnum.Tag="tag",FormatterEnum.Alert="alert",FormatterEnum.Image="image",FormatterEnum.Color="color",FormatterEnum.Button="button",FormatterEnum.Dropdown="dropdown",FormatterEnum.Favorite="favorite",FormatterEnum.Status="status",FormatterEnum.Tree="tree",FormatterEnum.Datetime="datetime",FormatterEnum.Time="time",FormatterEnum.AbsoluteValue="absolutevalue"}(exports.FormatterEnum||(exports.FormatterEnum={})),function(ColumnOptionEnum){ColumnOptionEnum.Editable="editable",ColumnOptionEnum.Sortable="sortable",ColumnOptionEnum.Resizable="resizable"}(exports.ColumnOptionEnum||(exports.ColumnOptionEnum={})),function(DateFormatEnum){DateFormatEnum.Datetime="datetime",DateFormatEnum.Long="long",DateFormatEnum.Short="short",DateFormatEnum.Timestamp="timestamp",DateFormatEnum.Timeformat="timeFormat"}(exports.DateFormatEnum||(exports.DateFormatEnum={}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(57),__webpack_require__(315),__webpack_require__(131),__webpack_require__(273),__webpack_require__(201),__webpack_require__(23),__webpack_require__(202)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(30),__webpack_require__(26),__webpack_require__(23)},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.OrientationEnum=void 0,function(OrientationEnum){OrientationEnum[OrientationEnum.HORIZONTAL=1]="HORIZONTAL",OrientationEnum[OrientationEnum.VERTICAL=2]="VERTICAL",OrientationEnum[OrientationEnum.PAGE=3]="PAGE"}(exports.OrientationEnum||(exports.OrientationEnum={}))},,function(module,exports,__webpack_require__){"use strict";(function($){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Component=void 0;var angular_1=__importDefault(__webpack_require__(12)),isUndefined_1=__importDefault(__webpack_require__(84)),common_constant_1=__webpack_require__(3),binding_type_enum_1=__webpack_require__(30),datasource_type_enum_1=__webpack_require__(57),http_verb_enum_1=__webpack_require__(131),orientation_enum_1=__webpack_require__(44),size_type_enum_1=__webpack_require__(29),value_type_enum_1=__webpack_require__(26),defines_1=__webpack_require__(78),helper_1=__webpack_require__(15);__webpack_require__(28),__webpack_require__(415);var Component=function(){function Component(databearer,$element,parent,frameworkService){this.frameworkService=frameworkService,this.isVisible=!0,this.isShowError=!0,this.canCut=!0,this.canCopy=!0,this.isGenerated=!1,this.databearer=databearer,databearer.datasource&&(this.datasource=frameworkService.getDatasourceObject(databearer.datasource),this.datasource?this.datasource.usedBy.push(this):(console.warn("[Component] Missing data service unsetting the property"),databearer.datasource=null)),this.element=$element,this.scope=this.element.data("eir-scope"),this.parent=parent,databearer&&"Datagrid"!==databearer.typedef&&(this.isReadonly=databearer.isReadonly),this.updateClassesAndStyle(),this.scope.generatedId?this.setGenerated(this.scope.generatedId):this.databearer.generatedId&&this.setGenerated(this.databearer.generatedId),this.createCacheObject()}return Component.prototype.canDelete=function(){return!this.isGenerated},Component.prototype.getScope=function(){return this.scope},Component.prototype.getDatabearer=function(){return this.databearer},Component.prototype.getTypedef=function(){return this.databearer.typedef},Component.prototype.getId=function(){return this.databearer.id},Component.prototype.getDisplayName=function(){return this.databearer.displayName},Component.prototype.getDatasource=function(){return this.datasource},Component.prototype.setGenerated=function(generatedId){this.isGenerated=!0,this.generatedId=generatedId},Component.prototype.is=function(classs){return this instanceof classs},Component.prototype.newBoundaryEntered=function(boundaryId){this.updateClassesAndStyle()},Component.prototype.calcNewSizes=function(){this.calcNewWidth(),this.calcNewHeight()},Component.prototype.calcNewWidth=function(){var margin=this.getBoundarySetting(common_constant_1.SettingKeys.MARGIN);this.cssWidth=this.calcNewSize(this.getBoundarySetting(common_constant_1.SettingKeys.WIDTH),orientation_enum_1.OrientationEnum.HORIZONTAL,margin.left+margin.right)},Component.prototype.calcNewHeight=function(){var margin=this.getBoundarySetting(common_constant_1.SettingKeys.MARGIN);this.cssHeight=this.calcNewSize(this.getBoundarySetting(common_constant_1.SettingKeys.HEIGHT),orientation_enum_1.OrientationEnum.VERTICAL,margin.top+margin.bottom)},Component.prototype.calcNewSize=function(sizeObject,orientation,margin){void 0===margin&&(margin=0);var retSize="";if(this.parent.hasIndividualChildSizes(orientation))if(sizeObject.sizeType===size_type_enum_1.SizeTypeEnum.PERCENT){var pxPerPercentComponent=this.parent.getPxPerPercentComponent(orientation,sizeObject.value);retSize="calc("+(sizeObject.value||common_constant_1.Numbers.HUNDRED)+"% - "+(pxPerPercentComponent+margin)+"px)"}else sizeObject.sizeType===size_type_enum_1.SizeTypeEnum.PIXELS&&(retSize="calc("+sizeObject.value+"px)");return retSize},Component.prototype.setBoundarySettingIfChanged=function(settingId){var value=this.getBoundarySetting(settingId);helper_1.Helper.isUndefinedOrNull(value)||this[settingId]===value||(this[settingId]=value)},Component.prototype.getBoundarySetting=function(settingId,boundaryId,noTraverse){var boundarySettings,frameworkService=this.frameworkService,componentBoundarySettings=this.databearer.boundarySettings;if(boundaryId||(boundaryId=frameworkService.getCurrentBoundary().id),noTraverse)return componentBoundarySettings[boundaryId][settingId];for(;!boundarySettings;){if(componentBoundarySettings[boundaryId]&&void 0!==componentBoundarySettings[boundaryId][settingId]&&null!==componentBoundarySettings[boundaryId][settingId]){boundarySettings=componentBoundarySettings[boundaryId];break}if((boundaryId=frameworkService.getNextProjectBoundary(boundaryId).id)===common_constant_1.DEFAULT_BOUNDARY.id){boundarySettings=componentBoundarySettings[common_constant_1.DEFAULT_BOUNDARY.id];break}}return boundarySettings[settingId]},Component.prototype.getBindableValue=function(bindableReference){return this[bindableReference]},Component.prototype.setBindableValue=function(bindableReference,value){bindableReference===common_constant_1.SettingKeys.TOOLTIP?this[bindableReference]=helper_1.Helper.htmlEncode(value):this[bindableReference]=value},Component.prototype.onUpdateValue=function(){this.frameworkService.triggerExpressions()},Component.prototype.isLayoutComponent=function(){return defines_1.Defines.allComponents[this.getTypedef()].isLayoutComponent},Component.prototype.isTranslatableComponent=function(){return this.getTypedef()!==Image.name&&!this.isLayoutComponent()},Component.prototype.updateClasses=function(){this.element.removeClass(this.cssClasses),this.cssClasses=this.getClassList().join(" "),this.element.addClass(this.cssClasses)},Component.prototype.updateInlineStyle=function(){this.calcNewSizes();var style=this.getInlineStyle();this.element.css(style)},Component.prototype.updateVisibility=function(){this.isVisible=this.getBoundarySetting(common_constant_1.SettingKeys.VISIBILITY)},Component.prototype.updateShowError=function(){this.isShowError=this.getBoundarySetting(common_constant_1.SettingKeys.SHOW_ERROR)},Component.prototype.updateClassesAndStyle=function(){this.updateClasses(),this.updateInlineStyle(),this.updateVisibility(),this.updateShowError()},Component.prototype.getClassList=function(){var classList=["eir-component","eir"+this.databearer.typedef];return this.isGenerated&&classList.push("generatedComponent"),classList},Component.prototype.getInlineStyle=function(){var margin=this.getBoundarySetting(common_constant_1.SettingKeys.MARGIN);return{width:this.cssWidth,height:this.cssHeight,margin:margin.top+"px "+margin.right+"px "+margin.bottom+"px "+margin.left+"px"}},Component.prototype.getGeneratingParent=function(){return this.parent.isGenerated?this.parent.getGeneratingParent():this.parent},Component.prototype.getValue=function(key){var value=helper_1.Helper.getDeepValue(this,key);if(helper_1.Helper.isUndefinedOrNull(value)&&this.getContext()){var path="scope.context."+key;value=helper_1.Helper.getDeepValue(this,path)}return value},Component.prototype.resetLayout=function(){this.setErrorTooltip(null),this.stopLoading()},Component.prototype.setErrorTooltip=function(errorMessage){this.errorTooltip=errorMessage||null},Component.prototype.startLoading=function(){this.isLoading=!0},Component.prototype.stopLoading=function(){this.isLoading=!1},Component.prototype.loadInteraction=function(interaction){var _this=this,deferred=this.frameworkService.getNewDeferred();this.resetLayout(),this.startLoading();var dataserviceAction=this.isDataserviceAction(interaction);if(dataserviceAction&&this.datasource){var parameters=this.frameworkService.readParameters(interaction.getParameters(),this.getContext());switch(interaction.targetActionName){case common_constant_1.InteractionActionEnum.LIST:this.datasource.getListData(parameters).then((function(listResult){_this.getContext().ListResult=listResult,deferred.resolve(listResult)})).catch((function(errResponse){_this.resetContext(),deferred.reject(errResponse)}));break;case common_constant_1.InteractionActionEnum.GET:this.datasource.getDetailData(parameters).then((function(detailData){_this.setDetailResultForGetAction(detailData),_this.updateItemID(detailData,interaction);var detailResult=_this.getContext().DetailResult;detailResult?deferred.resolve(detailResult):deferred.reject({message:"Nothing in response"}),_this.frameworkService.getTimeout()((function(){_this.trigger(common_constant_1.InteractionTriggerEnum.ON_LOAD),_this.refreshBindings(),_this.frameworkService.triggerExpressions()}),common_constant_1.Numbers.TEN)})).catch((function(errResponse){_this.resetContext(),deferred.reject(errResponse)}));break;default:console.warn("[Component] Invalid interaction action")}}else if(dataserviceAction){var errorTooltip="No Data Service available on component: "+this.databearer.displayName;this.setErrorTooltip(errorTooltip);var errorResponse={message:errorTooltip,detail:errorTooltip};deferred.reject(errorResponse)}else this.runComponentAction(interaction),deferred.resolve();return deferred.promise.catch((function(errorResponse){_this.setErrorTooltip(errorResponse.message)})).finally((function(){_this.stopLoading()})),deferred.promise},Component.prototype.buildLink=function(link,sources){var _this=this,renderedLink=angular_1.default.copy(link);return sources.forEach((function(source){var value="",component=_this.frameworkService.getComponentInstance(source.type);if(component)value=component.getDatasource()?component.getValue(source.value):component.getBindableValue(source.value),helper_1.Helper.isUndefinedOrNull(value)&&(value="");else if(source.type===common_constant_1.BindingTypes.CONTEXT){var valuesource={Type:binding_type_enum_1.BindingTypeEnum.CONTEXT_BINDING,sourceKey:source.value};value=_this.frameworkService.readValueSource(valuesource,_this.getContext())}renderedLink=renderedLink.replace(new RegExp("{"+source.alias+"}","gi"),value)})),renderedLink},Component.prototype.refreshBindings=function(){var _this=this;isUndefined_1.default(this.getContext().DetailResult)||this.forEachChild((function(child){child.forEachBindable((function(bindable,valueSource){if(valueSource){var isBinding=valueSource.sourceName===_this.getId()&&valueSource.Type===binding_type_enum_1.BindingTypeEnum.BINDING,isContextBinding=valueSource.sourceName===common_constant_1.BindingTypes.CONTEXT&&valueSource.Type===binding_type_enum_1.BindingTypeEnum.CONTEXT_BINDING;if(isBinding||isContextBinding){var newValue=_this.getContext().DetailResult[valueSource.sourceKey],oldValue=child.getBindableValue(bindable.ref);isUndefined_1.default(oldValue)||isUndefined_1.default(newValue)||newValue===oldValue||child.setBindableValue(bindable.ref,newValue)}}}))}),!1)},Component.prototype.updateItemID=function(detailData,interaction){var generic2Databearer=this.datasource.getDatabearer();if(generic2Databearer.typedef===datasource_type_enum_1.DatasourceTypeEnum.IDO&&generic2Databearer.method===http_verb_enum_1.HttpVerbEnum.PUT){var itemIdParameter=generic2Databearer.inputParameters.find((function(parameter){return parameter.key===common_constant_1.IdoProperties.ITEM_ID}));if(!helper_1.Helper.isUndefined(itemIdParameter)&&!helper_1.Helper.isUndefined(detailData[itemIdParameter.id])){var interactionParameter=interaction.getParameter(itemIdParameter.id);this.frameworkService.setParameter(interactionParameter,detailData[itemIdParameter.id])}}},Component.prototype.trigger=function(triggerName){this.frameworkService.trigger(this,triggerName)},Component.prototype.getContext=function(){return this.getScope()?this.getScope().context:this.parent.getScope().context},Component.prototype.initializeBindings=function(){var _this=this;this.forEachBindable((function(bindableField,currentValueSource){if(currentValueSource&&bindableField.write){var value="";if(currentValueSource.Type!==binding_type_enum_1.BindingTypeEnum.URL_BINDING){var currentStringValue=_this.getComponentTranslation(bindableField,currentValueSource.value);(value=_this.frameworkService.getGlobalValue(currentStringValue,_this))||(currentValueSource.value=value=currentStringValue)}switch(currentValueSource.Type){case binding_type_enum_1.BindingTypeEnum.CONTEXT_BINDING:_this.frameworkService.registerContextBinding(_this,bindableField.ref,currentValueSource.sourceKey,value);break;case binding_type_enum_1.BindingTypeEnum.BINDING:_this.frameworkService.registerBinding(_this,bindableField.ref,currentValueSource,value);break;case binding_type_enum_1.BindingTypeEnum.STATIC_VALUE:_this.setBindableValue(bindableField.ref,value);break;case binding_type_enum_1.BindingTypeEnum.URL_BINDING:""!==(value=_this.frameworkService.getUrlValue(currentValueSource.sourceKey))||_this.frameworkService.isRuntimeMode()||(value=currentValueSource.value),_this.setBindableValue(bindableField.ref,value);break;default:console.warn("[Component] Invalid valueSource type")}}}))},Component.prototype.setDetailResultForGetAction=function(detailData){var databearer2=this.datasource.getDatabearer(),localContext=this.getContext();detailData&&"object"==typeof detailData&&angular_1.default.extend(localContext,detailData),databearer2.isOutputFile?localContext.DetailResult=detailData[databearer2.outputParameters[0].id]:localContext.DetailResult=detailData},Component.prototype.runComponentAction=function(interaction){switch(interaction.targetActionName){case common_constant_1.InteractionActionEnum.CLEAR:this.clear()}},Component.prototype.isDataserviceAction=function(interaction){switch(interaction.targetActionName){case common_constant_1.InteractionActionEnum.CLEAR:return!1;default:return!0}},Component.prototype.getComponentTranslation=function(field,value){var translationValue;if(field.valueType===value_type_enum_1.ValueTypeEnum.LOCALIZED_STRING){var newValue=this.frameworkService.getTranslatableStringByProperty(this.getId(),field.ref);translationValue=newValue||""===newValue?newValue:value}else translationValue=value;return translationValue},Component.prototype.forEachParent=function(fn){this.parent.forEachParent(fn)},Component.prototype.getPredictedSize=function(){var sizePredicter,sizes={};return this.getBoundarySetting(common_constant_1.SettingKeys.HEIGHT).sizeType===size_type_enum_1.SizeTypeEnum.AUTO&&((sizePredicter=$("<div class='sizePredicter'></div>").appendTo("body")).append(this.element.clone()),sizes.height=sizePredicter.outerHeight(!0),sizePredicter.remove()),sizes},Component.prototype.forEachBindable=function(fn){var _this=this;defines_1.Defines.allComponents[this.databearer.typedef].class.BINDABLE_FIELDS_2.forEach((function(field){var valueSource=_this.databearer[field.ref]?_this.databearer[field.ref]:_this[field.ref];fn(field,valueSource)}))},Component.prototype.forEachFieldSetting=function(fn){defines_1.Defines.allComponents[this.databearer.typedef].class.SETTING_FIELDS.forEach((function(field){fn(field)}))},Component.prototype.forEachChild=function(fn,doGenerated){fn(this)},Component.prototype.resetContext=function(){var context=this.getContext();for(var key in context)delete context[key]},Component.prototype.clear=function(){},Component.prototype.createCacheObject=function(){this.cache=this.frameworkService.getProjectCacheObject()},Component.SETTING_FIELDS=[{title:"Margin",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{title:"Margin",ref:common_constant_1.SettingKeys.MARGIN,boundarySetting:!0,inputType:common_constant_1.SettingInputKeys.MARGIN,defaultValue:{left:0,top:0,right:0,bottom:0}}]},{title:"Visibility",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{title:"Show Component",ref:common_constant_1.SettingKeys.VISIBILITY,inputType:common_constant_1.SettingInputKeys.SWITCH,boundarySetting:!0,defaultValue:!0,button:{icon:"#icon-preview",tooltip:"Hide Component When...",dialog:!0}}]},{title:"Show Error",tab:common_constant_1.SidebarTabTypes.CONTENT,settings:[{title:"Show Error",ref:common_constant_1.SettingKeys.SHOW_ERROR,inputType:common_constant_1.SettingInputKeys.SWITCH,defaultValue:!0,boundarySetting:!0}]}],Component}();exports.Component=Component}).call(this,__webpack_require__(21))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Utils=function(){function Utils(){}return Utils.getData=function(element,key){return element.data(key)},Utils}();exports.Utils=Utils},,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var ErrorResponse=function ErrorResponse(message,code,stack){void 0===code&&(code=-1),void 0===stack&&(stack="No-stacktrace/details"),this.message=message,this.detail=stack,this.code=code};exports.ErrorResponse=ErrorResponse},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.InteractionDefines=void 0;var common_constant_1=__webpack_require__(3),InteractionDefines=function(){function InteractionDefines(){}return InteractionDefines.SOURCE_TRIGGERS=[common_constant_1.InteractionPairOperation.ON_LOAD],InteractionDefines.TARGET_ACTIONS=[common_constant_1.InteractionPairOperation.GET],InteractionDefines}();exports.InteractionDefines=InteractionDefines},,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DatasourceTypeEnum=void 0,function(DatasourceTypeEnum){DatasourceTypeEnum.IDM="IDM",DatasourceTypeEnum.IDO="IDO",DatasourceTypeEnum.M3="M3",DatasourceTypeEnum.MINGLE="MINGLE",DatasourceTypeEnum.MONGOOSE="MONGOOSE",DatasourceTypeEnum.generic="generic",DatasourceTypeEnum.INLINE_LIST="INLINE_LIST"}(exports.DatasourceTypeEnum||(exports.DatasourceTypeEnum={}))},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.EditorComponentDirective=exports.EditorComponentCtrl=void 0;var angular_1=__importDefault(__webpack_require__(12)),common_constant_1=__webpack_require__(3),datasource_type_enum_1=__webpack_require__(57),orientation_enum_1=__webpack_require__(44),size_type_enum_1=__webpack_require__(29),value_type_enum_1=__webpack_require__(26),angular_constants_1=__webpack_require__(7),defines_1=__webpack_require__(78),helper_1=__webpack_require__(69),helper_2=__webpack_require__(153),EditorComponentCtrl=function(){function EditorComponentCtrl($scope,$element,$compile,$timeout,editorService,interactionManagementService,bindingManagementService,insertComponentService,translationManagementService,dialogService){var _this=this;this.$scope=$scope,this.$element=$element,this.$compile=$compile,this.$timeout=$timeout,this.editorService=editorService,this.interactionManagementService=interactionManagementService,this.bindingManagementService=bindingManagementService,this.insertComponentService=insertComponentService,this.translationManagementService=translationManagementService,this.dialogService=dialogService,this.isDraggable=!0;var unsubscribe=$scope.$watch("componentInstance",(function(component){var selectionBox=_this.$compile("<eir-selection-box data-html2canvas-ignore ng-if='eirEditorComponent.isSelected'></eir-selection-box>")($scope);_this.init(component),_this.$element.prepend(selectionBox),component.updateClasses(),unsubscribe()}))}return EditorComponentCtrl.add=function(m){m.controller(common_constant_1.ComponentClassNames.EDITOR_COMPONENT_PREFIX+common_constant_1.ComponentClassNames.COMPONENT,EditorComponentCtrl)},EditorComponentCtrl.prototype.exposesReadableBindables=function(){var exposesBindables,component=this.component;return exposesBindables=defines_1.Defines.allComponents[component.getTypedef()].class.BINDABLE_FIELDS_2.some((function(bindableField){return bindableField.read})),component.getDatasource()&&(exposesBindables=!0),exposesBindables},EditorComponentCtrl.prototype.exposesLocalizedBindables=function(){var component=this.component;return defines_1.Defines.allComponents[component.getTypedef()].class.BINDABLE_FIELDS_2.some((function(bindableField){return bindableField.valueType===value_type_enum_1.ValueTypeEnum.LOCALIZED_STRING}))},EditorComponentCtrl.prototype.init=function(component){var _this=this;component.exposesLocalizedBindables=this.exposesLocalizedBindables.bind(this),component.exposesReadableBindables=this.exposesReadableBindables.bind(this),component.onClick=this.onClick.bind(this),component.onDragenter=function(e){EditorComponentCtrl.dragEnterCounter++,_this.onMouseOver(e)},component.onDragleave=function(e){EditorComponentCtrl.dragEnterCounter--,_this.onMouseLeave(e)},component.onDragover=this.onMouseMove.bind(this),component.onDragstart=this.onDragstart.bind(this),component.onDrop=this.onClick.bind(this),component.onMouseLeave=this.onMouseLeave.bind(this),component.onMouseMove=this.onMouseMove.bind(this),component.onMouseOver=function(e){_this.onMouseOver(e)},component.resizableHeight=this.resizableHeight.bind(this),component.resizableWidth=this.resizableWidth.bind(this),component.setIsFinder=this.setIsFinder.bind(this),component.setIsHovered=this.setIsHovered.bind(this),component.setIsInsertChild=this.setIsInsertChild.bind(this),component.setIsInsertParent=this.setIsInsertParent.bind(this),component.setIsSelected=this.setIsSelected.bind(this),component.setIsWizardFocus=this.setIsWizardFocus.bind(this),component.wizardFocusType=common_constant_1.WizardFocusEnum.UNFOCUSED,component.getBindingMetaData=this.getBindingMetaData.bind(this),component.getContextMetaData=this.getContextMetaData.bind(this),component.getLocalContextMetaData=this.getLocalContextMetaData.bind(this),component.getParameterMetadata=this.getParameterMetadata.bind(this),component.getFieldSettings=this.getFieldSettings.bind(this),component.getSourceTriggers=this.getSourceTriggers.bind(this),component.getTargetActions=this.getTargetActions.bind(this),component.getDefaultAction=this.getDefaultAction.bind(this),component.getDefaultTrigger=this.getDefaultTrigger.bind(this),component.detach=this.detach.bind(this),component.setProperty=this.setProperty.bind(this),component.setDatasource=this.setDatasource.bind(this),component.removeDatasource=this.removeDatasource.bind(this),component.getBindableField=this.getBindableField.bind(this),component.setSetting=this.setSetting.bind(this),component.setBoundarySetting=this.setBoundarySetting.bind(this),component.getSettingCategories=this.getCurrentComponentFieldSettings.bind(this),component.refreshMetaSettings=this.refreshMetaSettings.bind(this),component.openDialog=this.openDialog.bind(this),this.component=component,this.insertComponentService.getInsertComponent()===component.getDatabearer()&&(this.isInsertChild=!0),this.editorService.getCanvasMode()===common_constant_1.CanvasModeEnum.SELECTION&&(this.isDraggable=!0),this.editorService.canvasModeChangedEvent.on((function(canvasMode){canvasMode===common_constant_1.CanvasModeEnum.SELECTION?_this.isDraggable=!0:_this.isDraggable=!1}))},EditorComponentCtrl.prototype.openDialog=function(settingKey){var options,deferred=this.editorService.getNewDeferred();return settingKey===common_constant_1.SettingKeys.IS_READONLY?options={style:"width: 780px;",title:"Component Expression - Disable When",parameter:{component:this.component,option:common_constant_1.ConditionType.DISABLE},template:__webpack_require__(442)}:settingKey===common_constant_1.SettingKeys.VISIBILITY&&(options={style:"width: 780px;",title:"Component Expression - Hide When",parameter:{component:this.component,option:common_constant_1.ConditionType.HIDE},template:__webpack_require__(442)}),options&&this.dialogService.show(options),deferred.promise},EditorComponentCtrl.prototype.setSetting=function(settingMeta,newSettingValue){var _this=this,component=this.component,settingReference=settingMeta.ref;if(component.isGenerated){var generatingParent=component.getGeneratingParent();if(generatingParent.getTypedef()===common_constant_1.ComponentNames.List){var generatingList=generatingParent;this.editorService.forEachComponent(generatingList.currentTemplate,(function(subComponent){if(subComponent.id===component.getId())if(settingMeta.boundarySetting){var currentBoundaryId=_this.editorService.getCurrentBoundary().id;_this.setBoundarySettingOnDatabearer(subComponent,settingReference,newSettingValue,currentBoundaryId)}else subComponent[settingReference]=newSettingValue})),generatingList.refresh()}}else settingMeta.boundarySetting?this.setBoundarySetting(settingReference,newSettingValue):this.setProperty(settingReference,newSettingValue);settingReference===common_constant_1.SettingKeys.VISIBILITY?component.updateVisibility():settingReference===common_constant_1.SettingKeys.SHOW_ERROR&&component.updateShowError()},EditorComponentCtrl.prototype.detach=function(){return this.component.parent.isLayoutComponent()?this.component.parent.detachChild(this.component.getId()):null},EditorComponentCtrl.prototype.setBoundarySetting=function(settingId,settingValue,boundaryId){this.component.getDatabearer().boundarySettings;var currentBoundaryId=this.editorService.getCurrentBoundary().id;boundaryId||(boundaryId=currentBoundaryId),this.setBoundarySettingOnDatabearer(this.component.getDatabearer(),settingId,settingValue,boundaryId),boundaryId===currentBoundaryId&&this.component.newBoundaryEntered(boundaryId)},EditorComponentCtrl.prototype.setBoundarySettingOnDatabearer=function(databearer,settingId,settingValue,boundaryId){var componentBoundarySettings=databearer.boundarySettings;componentBoundarySettings[boundaryId]||(componentBoundarySettings[boundaryId]={}),componentBoundarySettings[boundaryId][settingId]=settingValue},EditorComponentCtrl.prototype.onClick=function(event){var editorService=this.editorService,canvasMode=editorService.getCanvasMode(),component=this.component;switch(canvasMode){case common_constant_1.CanvasModeEnum.SELECTION:this.isSelected?editorService.deselectComponent():editorService.setSelectedComponent(component),event.stopPropagation();break;case common_constant_1.CanvasModeEnum.FINDER:component.wizardFocusType!==common_constant_1.WizardFocusEnum.UNFOCUSED&&(component=helper_2.EditorHelper.getUnderlyingComponent(component,event,editorService)),this.editorService.selectFinderComponent(component),event.stopPropagation();break;case common_constant_1.CanvasModeEnum.INSERT:this.$timeout.cancel(this.dragstartTimer),component.isLayoutComponent()&&!component.isGenerated&&(this.insertComponentService.finishInsert(event,component),event.stopPropagation())}angular_1.default.element("body").click()},EditorComponentCtrl.prototype.onMouseLeave=function(e){var editorService=this.editorService;switch(editorService.getCanvasMode()){case common_constant_1.CanvasModeEnum.SELECTION:editorService.setHoveredComponent(),e.stopPropagation();break;case common_constant_1.CanvasModeEnum.FINDER:editorService.setFinderComponent(),e.stopPropagation();break;case common_constant_1.CanvasModeEnum.INSERT:this.component.isLayoutComponent()&&!this.component.isGenerated&&(e.type===common_constant_1.EventTypes.DRAGLEAVE?0===EditorComponentCtrl.dragEnterCounter&&this.insertComponentService.setInsertParent(null):this.insertComponentService.setInsertParent(null),e.stopPropagation())}},EditorComponentCtrl.prototype.onDragstart=function(event){switch(event.stopPropagation(),this.editorService.getCanvasMode()){case common_constant_1.CanvasModeEnum.SELECTION:var component_1=this.component,editorService_1=this.editorService;if(this.$timeout.cancel(this.dragstartTimer),!component_1.isLayoutComponent()&&!component_1.isGenerated){window.getSelection().removeAllRanges(),event.originalEvent.dataTransfer.effectAllowed="move",this.dragstartTimer=this.$timeout((function(){component_1.detach()})),component_1.element.css(common_constant_1.CssConstantKeys.POINTER_EVENTS,common_constant_1.CssConstantValues.AUTO);var originIndex_1=component_1.parent.getDatabearer().children.indexOf(component_1.getDatabearer());this.insertComponentService.startInserting(component_1.getDatabearer(),common_constant_1.InsertEventTypes.MOVE).then((function(newParent){editorService_1.saveCanvas()})).catch((function(){component_1.parent.insert(component_1.getDatabearer(),originIndex_1)})).finally((function(){editorService_1.setCanvasMode(common_constant_1.CanvasModeEnum.SELECTION)}))}break;case common_constant_1.CanvasModeEnum.FINDER:case common_constant_1.CanvasModeEnum.INSERT:}},EditorComponentCtrl.prototype.onMouseMove=function(event){switch(this.editorService.getCanvasMode()){case common_constant_1.CanvasModeEnum.SELECTION:case common_constant_1.CanvasModeEnum.FINDER:break;case common_constant_1.CanvasModeEnum.INSERT:this.insertComponentService.getInsertComponent()&&this.component.isLayoutComponent()&&!this.component.isGenerated&&(this.insertComponentService.insertIteration(event,this.component),event.stopPropagation())}},EditorComponentCtrl.prototype.onMouseOver=function(e){var component=this.component,editorService=this.editorService;switch(editorService.getCanvasMode()){case common_constant_1.CanvasModeEnum.SELECTION:editorService.setHoveredComponent(this.isSelected?null:component),e.stopPropagation();break;case common_constant_1.CanvasModeEnum.FINDER:editorService.setFinderComponent(component),e.stopPropagation();break;case common_constant_1.CanvasModeEnum.INSERT:component.isLayoutComponent()&&!component.isGenerated&&(this.insertComponentService.setInsertParent(component),e.stopPropagation())}},EditorComponentCtrl.prototype.resizableHeight=function(){var component=this.component,height=component.getBoundarySetting(common_constant_1.SettingKeys.HEIGHT);if(!height)return!1;var heightType=height.sizeType;return!(heightType!==size_type_enum_1.SizeTypeEnum.PIXELS&&heightType!==size_type_enum_1.SizeTypeEnum.PERCENT||!component.parent.resizableChildren(orientation_enum_1.OrientationEnum.VERTICAL)||component.isGenerated)},EditorComponentCtrl.prototype.resizableWidth=function(){var component=this.component,width=component.getBoundarySetting(common_constant_1.SettingKeys.WIDTH);if(!width)return!1;var widthType=width.sizeType;return!(widthType!==size_type_enum_1.SizeTypeEnum.PIXELS&&widthType!==size_type_enum_1.SizeTypeEnum.PERCENT||!component.parent.resizableChildren(orientation_enum_1.OrientationEnum.HORIZONTAL)||component.isGenerated)},EditorComponentCtrl.prototype.setIsFinder=function(isFinder){this.isFinder=isFinder},EditorComponentCtrl.prototype.setIsHovered=function(isHovered){this.isHovered=isHovered},EditorComponentCtrl.prototype.setIsInsertChild=function(isInsertChild){this.isInsertChild=isInsertChild},EditorComponentCtrl.prototype.setIsInsertParent=function(isInsertParent){this.isInsertParent=isInsertParent},EditorComponentCtrl.prototype.setIsSelected=function(isSelected){this.isSelected=isSelected},EditorComponentCtrl.prototype.setIsWizardFocus=function(isWizardFocusEnum){this.wizardFocusType=isWizardFocusEnum,this.component.wizardFocusType=isWizardFocusEnum},EditorComponentCtrl.prototype.setProperty=function(propertyName,newValue){this.component[propertyName]=newValue,this.component.getDatabearer()[propertyName]=newValue,this.component.updateClassesAndStyle()},EditorComponentCtrl.prototype.getCurrentComponentFieldSettings=function(){return this.component.getFieldSettings()},EditorComponentCtrl.prototype.setDatasource=function(newDatasource){var _this=this,component=this.component,deferred=this.editorService.getNewDeferred();return component.resetLayout(),component.datasource&&component.datasource.usedBy.forEach((function(usedByComponent,index,list){usedByComponent===component&&list.splice(index,1)})),newDatasource?(component.datasource=newDatasource,component.getDatabearer().datasource=newDatasource.id,newDatasource.usedBy.push(component),component.isGenerated&&this.refreshGeneratedComponents(component),newDatasource.getMetaData().catch((function(){console.error("[EdtiorComponent] Problem getting datasourceMetadata"),_this.clearData(),deferred.reject()})).finally((function(){deferred.resolve()}))):(this.removeDatasource(),deferred.resolve()),deferred.promise},EditorComponentCtrl.prototype.refreshGeneratedComponents=function(component){var parent=component.getGeneratingParent();parent.getTypedef()===common_constant_1.ComponentNames.List&&parent.refresh()},EditorComponentCtrl.prototype.clearData=function(){var component=this.component;(component.resetContext(),component.isGenerated)&&component.getGeneratingParent().refresh()},EditorComponentCtrl.prototype.refreshMetaSettings=function(showDialog){},EditorComponentCtrl.prototype.removeDatasource=function(){var component=this.component;this.clearData(),component.datasource=null,component.getDatabearer().datasource=null,this.refreshMetaSettings(),component.resetLayout()},EditorComponentCtrl.prototype.getParameterMetadata=function(action){var component=this.component,deferred=this.editorService.getNewDeferred();return component.datasource?component.datasource.getMetaData().then((function(metaData){return metaData.inputFields.map((function(inputField){var isMandatory="1"===inputField.MAND;return{visibleName:inputField.FLDS+" ("+(isMandatory?"Required":"Optional")+")",targetKey:inputField.FLNM,isMandatory:isMandatory,Meta:{name:inputField.FLDS,ref:inputField.FLNM,valueType:value_type_enum_1.ValueTypeEnum.STRING,write:!0,read:!0}}}))})):(deferred.reject(),deferred.promise)},EditorComponentCtrl.prototype.getLocalContextMetaData=function(){var deferred=this.editorService.getNewDeferred(),meta=[],datasource=this.component.getDatasource();return datasource?(datasource.typedef===datasource_type_enum_1.DatasourceTypeEnum.generic&&1===datasource.version&&(meta.push({visibleName:datasource.displayName+"(ListData)",sourceKey:common_constant_1.ContextKeys.LIST_RESULT,sourceKeyShort:common_constant_1.ContextKeys.LIST_RESULT,currentValue:""}),meta.push({visibleName:datasource.displayName+"(SingleData)",sourceKey:common_constant_1.ContextKeys.DETAIL_RESULT,sourceKeyShort:common_constant_1.ContextKeys.DETAIL_RESULT,currentValue:""})),datasource.getMetaData().then((function(metaData){metaData.outputFields.map((function(outputField){meta.push({visibleName:outputField.FLDS.trim(),sourceKey:outputField.FLNM,sourceKeyShort:outputField.FLNM})})),deferred.resolve(meta)}))):deferred.resolve([]),deferred.promise},EditorComponentCtrl.prototype.getContextMetaData=function(){var _this=this,deferred=this.editorService.getNewDeferred(),promiseList=[],availableSourceField=[];this.component.forEachParent((function(parent){var promise=parent.getLocalContextMetaData();promise.then((function(parentMeta){availableSourceField=availableSourceField.concat(parentMeta)})),promiseList.push(promise)}));var promise=this.getLocalContextMetaData();return promiseList.push(promise),promise.then((function(metadata){availableSourceField=availableSourceField.concat(metadata)})),this.editorService.onAllPromises(promiseList).then((function(){var values={};(availableSourceField=availableSourceField.filter((function(item){var val=item.sourceKey,exists=values[val];return values[val]=!0,!exists}))).forEach((function(contextField){var context=_this.component.getContext(),maxLength=common_constant_1.Numbers.TWENTY,key=contextField.sourceKeyShort;context[key]&&(key===common_constant_1.ContextKeys.DETAIL_RESULT?contextField.currentValue="size: "+context[key].length:key===common_constant_1.ContextKeys.LIST_RESULT?contextField.currentValue="length: "+context[key].length:contextField.currentValue=helper_1.ComponentsHelper.truncate(context[key],maxLength))})),deferred.resolve(availableSourceField)})),deferred.promise},EditorComponentCtrl.prototype.getBindingMetaData=function(){var _this=this,promises=[],component=this.component,availableBindings=[];if(component.getDatasource()&&!this.hasBindableFields()){var deferred_1=this.editorService.getNewDeferred();this.getContextMetaData().then((function(availableSourceFields){availableBindings=availableSourceFields,deferred_1.resolve()})),promises.push(deferred_1.promise)}else this.component.forEachBindable((function(bindableFieldDefinition,currentValueSource){var deferred=_this.editorService.getNewDeferred();bindableFieldDefinition.valueType===value_type_enum_1.ValueTypeEnum.OBJECT?(_this.getMetaData(bindableFieldDefinition.ref,(function(objectMetaData){objectMetaData.forEach((function(currentItemMetaData){var currentValue=currentValueSource?currentValueSource[currentItemMetaData.FLNM]:null,fldsName=currentItemMetaData.FLDS?" ["+currentItemMetaData.FLDS+"]":"",currentVisibleName=bindableFieldDefinition.name+fldsName;availableBindings.push({visibleName:currentVisibleName,sourceKey:bindableFieldDefinition.ref+"."+currentItemMetaData.FLNM,sourceKeyShort:currentItemMetaData.FLNM,currentValue:currentValue})})),deferred.resolve()})),promises.push(deferred.promise)):bindableFieldDefinition.read&&availableBindings.push({visibleName:bindableFieldDefinition.name,sourceKey:bindableFieldDefinition.ref,sourceKeyShort:bindableFieldDefinition.ref,currentValue:_this[bindableFieldDefinition.ref]})}));var deferred=this.editorService.getNewDeferred();return this.editorService.onAllPromises(promises).then((function(){deferred.resolve(availableBindings)})),deferred.promise},EditorComponentCtrl.prototype.getMetaData=function(fieldRef,onSuccess){console.warn("[Component] Unimplemented method getMetaData()")},EditorComponentCtrl.prototype.getBindableField=function(bindableReference){return this.component.getDatabearer()[bindableReference]},EditorComponentCtrl.prototype.getFieldSettings=function(){return defines_1.Defines.allComponents[this.component.getTypedef()].class.SETTING_FIELDS},EditorComponentCtrl.prototype.getSourceTriggers=function(){return defines_1.Defines.allComponents[this.component.getTypedef()].class.SOURCE_TRIGGERS},EditorComponentCtrl.prototype.getTargetActions=function(){return defines_1.Defines.allComponents[this.component.getTypedef()].class.TARGET_ACTIONS},EditorComponentCtrl.prototype.getDefaultAction=function(){return defines_1.Defines.allComponents[this.component.getTypedef()].class.DEFAULT_ACTION},EditorComponentCtrl.prototype.getDefaultTrigger=function(){return defines_1.Defines.allComponents[this.component.getTypedef()].class.DEFAULT_TRIGGER},EditorComponentCtrl.prototype.hasBindableFields=function(){return defines_1.Defines.allComponents[this.component.getDatabearer().typedef].class.BINDABLE_FIELDS_2.length>0},EditorComponentCtrl.dragEnterCounter=0,EditorComponentCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,angular_constants_1.AngularConstants.ELEMENT,angular_constants_1.AngularConstants.COMPILE,angular_constants_1.AngularConstants.TIMEOUT,common_constant_1.InjectNames.EDITOR_SERVICE,common_constant_1.InjectNames.INTERACTION_MANAGEMENT_SERVICE,common_constant_1.InjectNames.BINDING_MANAGEMENT_SERVICE,common_constant_1.InjectNames.INSERT_COMPONENT_SERVICE,common_constant_1.InjectNames.TRANSLATION_MANAGEMENT_SERVICE,common_constant_1.InjectNames.DIALOG_SERVICE],EditorComponentCtrl}();exports.EditorComponentCtrl=EditorComponentCtrl;var EditorComponentDirective=function(){function EditorComponentDirective(){}return EditorComponentDirective.add=function(m){m.directive("eirEditorComponent",(function(){return{restrict:"A",controller:"@",controllerAs:"eirEditorComponent"}}))},EditorComponentDirective}();exports.EditorComponentDirective=EditorComponentDirective},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.SettingsBase=void 0;var angular_1=__importDefault(__webpack_require__(12)),angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3);__webpack_require__(115),__webpack_require__(517),__webpack_require__(23),__webpack_require__(105),__webpack_require__(20);var SettingsBase=function(){function SettingsBase($scope,editorService){var _this=this;this.$scope=$scope,this.editorService=editorService,this.unsubscribers=[],this.unsubscribers.push(editorService.selectedComponentChangedEvent.on((function(newComponent){newComponent?_this.onComponentChanged(newComponent):_this.onComponentChanged(null)}))),this.unsubscribers.push(editorService.currentBoundaryChangedEvent.on((function(newBoundary){_this.onBoundaryChanged(newBoundary)}))),this.selectedComponent=this.editorService.getSelectedComponent(),this.currentBoundary=this.editorService.getCurrentBoundary(),$scope.$on(angular_constants_1.AngularConstants.DESTROY,(function(){angular_1.default.forEach(_this.unsubscribers,(function(unsubscribe){unsubscribe()}))}))}return SettingsBase.prototype.onChangeSetting=function(settingMeta,settingValue){this.selectedComponent.setSetting(settingMeta,settingValue),this.editorService.saveCanvas()},SettingsBase.prototype.onIconClick=function(){var _this=this;this.button&&this.button.dialog&&this.selectedComponent.openDialog(this.settingsRef).then((function(){_this.refresh(),_this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.CANVAS_COMPONENTS|common_constant_1.SaveFlagsEnum.MANIFEST)}))},SettingsBase.prototype.refresh=function(){},SettingsBase.prototype.onBoundaryChanged=function(newBoundary){this.currentBoundary=newBoundary},SettingsBase.prototype.onComponentChanged=function(newComponent){this.selectedComponent&&newComponent&&this.selectedComponent.getTypedef()!==newComponent.getTypedef()?this.selectedComponent=null:this.selectedComponent=newComponent},SettingsBase.prototype.readSettingValue=function(setting){var component=this.selectedComponent,reference=setting.ref,value=void 0;return setting.boundarySetting?null===(value=component.getBoundarySetting(reference,this.currentBoundary.id))&&(value=setting.defaultValue):void 0!==component[reference]?value=component[reference]:void 0!==component.getDatabearer()[reference]&&(value=component.getDatabearer()[reference]),value},SettingsBase}();exports.SettingsBase=SettingsBase},,,,,function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.BackwardCompatible=void 0;var isEmpty_1=__importDefault(__webpack_require__(230)),isNil_1=__importDefault(__webpack_require__(164)),isUndefined_1=__importDefault(__webpack_require__(84)),common_constant_1=__webpack_require__(3),http_accept_enum_1=__webpack_require__(315),BackwardCompatible=function(){function BackwardCompatible(){}return BackwardCompatible.setDataServiceHeader=function(headers){return isUndefined_1.default(headers)||isEmpty_1.default(headers)?{Accept:http_accept_enum_1.HttpAcceptEnum.APPLICATION_JSON}:headers},BackwardCompatible.tryUpdateUrlName=function(manifest){if("url"===manifest.urlName){var newUrlName="(SETVARVALUES(InitURL=run/"+manifest.id+"))";return manifest.urlName=newUrlName,!0}return!1},BackwardCompatible.tryGetMask=function(obj){return obj.mask?obj.mask:{process:"none"}},BackwardCompatible.getShowLabel=function(obj){var defaultBoundary=obj.boundarySettings[common_constant_1.DEFAULT_BOUNDARY.id];return isNil_1.default(defaultBoundary.showLabel)?(obj.showLabel?obj.boundarySettings[common_constant_1.DEFAULT_BOUNDARY.id].showLabel=obj.showLabel.value:obj.boundarySettings[common_constant_1.DEFAULT_BOUNDARY.id].showLabel=!0,obj.boundarySettings[common_constant_1.DEFAULT_BOUNDARY.id].showLabel):defaultBoundary.showLabel},BackwardCompatible.tryGetBoxWidth=function(width){return width||"input-default"},BackwardCompatible.tryUpdateButtonStyle=function(obj){var style;return obj.style?style=obj.style:(style=obj.isDefault?common_constant_1.ButtonStyle.PRIMARY:common_constant_1.ButtonStyle.SECONDARY,console.warn("Deprecated property found in Button component")),style},BackwardCompatible.getHref=function(rowData,column){return column.hyperlinkOptions?column.field===common_constant_1.ValueObject.STATIC_VALUE?column.hyperlinkOptions.value.replace("{$value}",column.text):column.hyperlinkOptions.value.replace("{$value}",rowData[column.field]):column.field===common_constant_1.ValueObject.STATIC_VALUE?column.text:rowData[column.field]},BackwardCompatible.tryConvertLegacyChart=function(databearer,obj){var defaultBoundary=obj.boundarySettings[common_constant_1.DEFAULT_BOUNDARY.id];if(this.isLegacyChart(databearer)){if(this.isLegacyChartType(defaultBoundary.chartType)||!defaultBoundary.chartType){var newType=void 0;switch(defaultBoundary.chartType){case common_constant_1.ChartTypeEnum.StackedColumn:newType=common_constant_1.ChartTypeEnum.ColumnStacked;break;case common_constant_1.ChartTypeEnum.Profile:case common_constant_1.ChartTypeEnum.StackedLine:newType=common_constant_1.ChartTypeEnum.Line;break;default:newType=common_constant_1.ChartTypeEnum.Bar}obj.boundarySettings[common_constant_1.DEFAULT_BOUNDARY.id].chartType=newType}this.hasLegacyChartData(databearer)&&this.convertToNewChartFormat(databearer)}isNil_1.default(defaultBoundary.legendDisplay)&&(obj.boundarySettings[common_constant_1.DEFAULT_BOUNDARY.id].legendDisplay=!0),isNil_1.default(defaultBoundary.startupAnimationEnable)&&(obj.boundarySettings[common_constant_1.DEFAULT_BOUNDARY.id].startupAnimationEnable=!0)},BackwardCompatible.isLegacyChart=function(databearer){return this.hasLegacyChartData(databearer)||this.isLegacyChartType(databearer.boundarySettings[common_constant_1.DEFAULT_BOUNDARY.id].chartType)||!databearer.boundarySettings[common_constant_1.DEFAULT_BOUNDARY.id].chartType},BackwardCompatible.hasLegacyChartData=function(databearer){return databearer.categories&&databearer.categories.length>0},BackwardCompatible.isLegacyChartType=function(chartType){return[common_constant_1.ChartTypeEnum.Profile,common_constant_1.ChartTypeEnum.StackedColumn,common_constant_1.ChartTypeEnum.StackedLine].includes(chartType)},BackwardCompatible.convertToNewChartFormat=function(databearer){databearer.categories.forEach((function(category,i){var newDataset;databearer.series[i]&&(newDataset={name:category.name,categories:category.field,series:databearer.series[i].field},databearer.datasets.push(newDataset))})),databearer.series=null,databearer.categories=null},BackwardCompatible}();exports.BackwardCompatible=BackwardCompatible},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SidebarViewEnum=exports.Defines=exports.SourceComponent=void 0;var common_constant_1=__webpack_require__(3);__webpack_require__(44),__webpack_require__(32),__webpack_require__(23);var chart_settings_1=__webpack_require__(440),datagrid_settings_1=__webpack_require__(1049),flexbox_settings_1=__webpack_require__(332),list_settings_1=__webpack_require__(558),lookup_settings_1=__webpack_require__(1057),radiobutton_settings_1=__webpack_require__(1060),tab_panel_settings_1=__webpack_require__(445),tabs_settings_1=__webpack_require__(1064),textbox_settings_1=__webpack_require__(560),SourceComponent=function(){function SourceComponent(){}return SourceComponent.STATIC_VALUE_OBJECT={id:common_constant_1.BindingTypes.STATIC,name:common_constant_1.ValueObject.STATIC_VALUE,isComponent:!1},SourceComponent.TARGET_CONTEXT_OBJECT={id:common_constant_1.BindingTypes.CONTEXT,name:common_constant_1.ValueObject.TARGET_CONTEXT,isComponent:!1},SourceComponent.URL_VALUE_OBJECT={id:common_constant_1.BindingTypes.URL,name:common_constant_1.ValueObject.URL_VALUE,isComponent:!1},SourceComponent}();exports.SourceComponent=SourceComponent;var Defines=function(){function Defines(){}return Object.defineProperty(Defines,"allSettingsComponents",{get:function(){var settingsComponentsList={};return settingsComponentsList[common_constant_1.ComponentNames.Chart]={settingsClass:chart_settings_1.ChartSettingsCtrl},settingsComponentsList[common_constant_1.ComponentNames.Datagrid]={settingsClass:datagrid_settings_1.DatagridSettings},settingsComponentsList[common_constant_1.ComponentNames.Flexbox]={settingsClass:flexbox_settings_1.FlexboxSettings},settingsComponentsList[common_constant_1.ComponentNames.List]={settingsClass:list_settings_1.ListSettings},settingsComponentsList[common_constant_1.ComponentNames.Lookup]={settingsClass:lookup_settings_1.LookupSettings},settingsComponentsList[common_constant_1.ComponentNames.RadioButton]={settingsClass:radiobutton_settings_1.RadioButtonSettings},settingsComponentsList[common_constant_1.ComponentNames.Tabs]={settingsClass:tabs_settings_1.TabsSettings},settingsComponentsList[common_constant_1.ComponentNames.TabPanel]={settingsClass:tab_panel_settings_1.TabPanelSettings},settingsComponentsList[common_constant_1.ComponentNames.TextBox]={settingsClass:textbox_settings_1.TextboxSettings},settingsComponentsList},enumerable:!1,configurable:!0}),Defines}();exports.Defines=Defines;var SidebarViewEnum=function(){function SidebarViewEnum(value){this.value=value}return SidebarViewEnum.prototype.toString=function(){return this.value},SidebarViewEnum.NEW_COMPONENT=new SidebarViewEnum("newcomponent"),SidebarViewEnum.SETTINGS=new SidebarViewEnum("settings"),SidebarViewEnum.BOTH=new SidebarViewEnum("both"),SidebarViewEnum}();exports.SidebarViewEnum=SidebarViewEnum},,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(114),__webpack_require__(274),__webpack_require__(115),__webpack_require__(32),__webpack_require__(42),__webpack_require__(413),__webpack_require__(165),__webpack_require__(76),__webpack_require__(828),__webpack_require__(415)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ComponentsHelper=void 0,__webpack_require__(114),__webpack_require__(274),__webpack_require__(115),__webpack_require__(150),__webpack_require__(32),__webpack_require__(41),__webpack_require__(273),__webpack_require__(68),__webpack_require__(76);var application_parent_1=__webpack_require__(207),component_1=__webpack_require__(46),defines_1=__webpack_require__(78);__webpack_require__(28);var ComponentsHelper=function(){function ComponentsHelper(){}return ComponentsHelper.instantiateComponent=function(obj,$element,parentInstance,frameworkService){var instance;if(obj){if(!defines_1.Defines.allComponents[obj.typedef])throw new Error("Unknown class "+obj.typedef);instance=new(0,defines_1.Defines.allComponents[obj.typedef].class)(obj,$element,parentInstance,frameworkService)}return instance},ComponentsHelper.getComponentDisplayName=function(className){var clazz=defines_1.Defines.allComponents[className];return clazz.displayName?clazz.displayName:className},ComponentsHelper.isApplicationParent=function(component){return(component instanceof component_1.Component?component.getTypedef():component.typedef)===application_parent_1.ApplicationParent.name},ComponentsHelper.nextNumber=function(names){var highestNumber=0;return names&&names.length&&(names.forEach((function(name){var lastNumberMatch=name.match(/\d+$/);if(lastNumberMatch){var suffixNumber=parseInt(lastNumberMatch[0]);suffixNumber>highestNumber&&(highestNumber=suffixNumber)}})),highestNumber++),highestNumber},ComponentsHelper.sortComponentList=function(componentList){var _this=this;return componentList.sort((function(a,b){return _this.naturalCompare(a.getDisplayName(),b.getDisplayName())}))},ComponentsHelper.naturalCompare=function(a,b){var ax=[],bx=[];for(a.replace(/(\d+)|(\D+)/g,(function(_,$1,$2){ax.push([$1||1/0,$2||""])})),b.replace(/(\d+)|(\D+)/g,(function(_,$1,$2){bx.push([$1||1/0,$2||""])}));ax.length&&bx.length;){var an=ax.shift(),bn=bx.shift(),nn=an[0]-bn[0]||an[1].localeCompare(bn[1]);if(nn)return nn}return ax.length-bx.length},ComponentsHelper.isBase64=function(newValue){var base64Str=newValue;-1!==newValue.indexOf("data")&&(base64Str=newValue.substr(newValue.indexOf(",")+1,newValue.length));try{return window.atob(base64Str),!0}catch(e){return!1}},ComponentsHelper.generateId=function(prefix,occupiedStrings,idCounter){void 0===idCounter&&(idCounter=0);var newId=prefix+idCounter;return occupiedStrings.some((function(possibleConflict){return possibleConflict===newId}))?this.generateId(prefix,occupiedStrings,idCounter+1):newId},ComponentsHelper.findItemIndexById=function(listResults,itemId){var index=null;itemId?1===listResults.filter((function(item){return item.id===itemId})).length&&(index=listResults.findIndex((function(item){return item.id&&item.id===itemId}))):index=-1;return index},ComponentsHelper.incrementIndex=function(index,context,previousItem,datasource){var newItem=context.ListResult[index],outputParameters=datasource.getDatabearer().outputParameters,newIndex=index;null!==newItem&&(outputParameters.some((function(params){return previousItem[params.id]!==newItem[params.id]}))&&(newIndex=index+=1));return newIndex},ComponentsHelper.getDefaultComponentSettingValue=function(settingCategories,ref,title){var componentFieldSetting,componentCategory=settingCategories.find((function(category){return category.title===title}));return componentCategory.settings.length>0&&(componentFieldSetting=componentCategory.settings.find((function(setting){return setting.ref===ref}))),componentFieldSetting.defaultValue},ComponentsHelper.truncate=function(str,maxlength){return str.length>maxlength?str.substr(0,maxlength-1)+"...":str},ComponentsHelper}();exports.ComponentsHelper=ComponentsHelper},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.CommonService=void 0;var isNil_1=__importDefault(__webpack_require__(164)),common_constant_1=__webpack_require__(3),angular_constants_1=__webpack_require__(7),instance_event_1=__webpack_require__(85),user_control_es_1=__webpack_require__(148);__webpack_require__(149),__webpack_require__(270);var helper_1=__webpack_require__(15);__webpack_require__(79),__webpack_require__(166),__webpack_require__(426),__webpack_require__(209);var CommonService=function(){function CommonService($q,$timeout,httpService,datasourceService,themeService,languageService){this.$q=$q,this.$timeout=$timeout,this.httpService=httpService,this.datasourceService=datasourceService,this.themeService=themeService,this.languageService=languageService,this.projectSettingsChangedEvent=new instance_event_1.InstanceEvent,this.currentBoundaryChangedEvent=new instance_event_1.InstanceEvent,this.currentCanvasThemeChangedEvent=new instance_event_1.InstanceEvent,this.onDuplicateProjectChangedEvent=new instance_event_1.InstanceEvent,this.urlMetaData=[],this.currentBoundary=common_constant_1.DEFAULT_BOUNDARY}return CommonService.prototype.loadProjects=function(){return this.httpService.executeGet(""+common_constant_1.ServerPaths.PROJECT)},CommonService.prototype.loadActivatedApps=function(){return this.httpService.executeGet(common_constant_1.ServerPaths.RUNTIME+"active")},CommonService.prototype.loadProject=function(projectId,canvasWidth){return this.httpService.executeGet(common_constant_1.ServerPaths.PROJECT+projectId)},CommonService.prototype.loadPublishedProject=function(projectId,canvasWidth){var locale=this.languageService.getLanguage().substring(0,2);return this.httpService.executeGet(common_constant_1.ServerPaths.RUNTIME+projectId,{locale:locale})},CommonService.prototype.loadPublishedProjectNoConstraints=function(projectId,canvasWidth){return this.httpService.executeGet(common_constant_1.ServerPaths.ADMINISTRATION+common_constant_1.ServerPaths.PROJECT+projectId)},CommonService.prototype.setUrlMetaData=function(newUrlMetaData){this.urlMetaData=newUrlMetaData},CommonService.prototype.getUrlMetaData=function(){return this.urlMetaData},CommonService.prototype.cleanOldDataservices=function(project){for(var datasourceId in project.datasources){this.datasourceService.parseDatasourceToTS(project.datasources[datasourceId])||(project.removeDatasource(datasourceId),console.info("Removed invalid data service from project"))}},CommonService.prototype.loadEnvironmentSettings=function(){var path=common_constant_1.ServerPaths.SETTINGS;return this.httpService.executeGet(path)},CommonService.prototype.loadDBVersions=function(){return this.httpService.executeGet(common_constant_1.ServerPaths.SETTINGS+"dbversions")},CommonService.prototype.loadLicensesHtml=function(){return this.httpService.executeGet(common_constant_1.ServerPaths.RUNTIME+"about/licenses")},CommonService.prototype.loadApplicationVersion=function(){return this.httpService.executeGet(common_constant_1.ServerPaths.SETTINGS+"version")},CommonService.prototype.unloadProject=function(){this.currentProject=null,this.currentRootComponentInstance=null},CommonService.prototype.getCurrentProject=function(){return this.currentProject},CommonService.prototype.setCurrentProject=function(newCurrentProject,updateTheme){if(void 0===updateTheme&&(updateTheme=!0),this.currentProject=newCurrentProject,updateTheme){var defaultTheme=this.currentProject.manifest.defaultTheme;this.setCanvasTheme(defaultTheme,this.isDesigner())}},CommonService.prototype.buildPrerequisites=function(mashup,canvasWidth){var _this=this;return this.generateUrlMetaData(mashup).then((function(mashup){return _this.setCurrentProject(mashup),_this.updateCurrentBoundary(canvasWidth),_this.cleanOldDataservices(mashup),mashup}))},CommonService.prototype.generateUrlMetaData=function(mashup){var _this=this,deferred=this.$q.defer();this.urlMetaData=[];var urlAlias=mashup.getUrlVariables();return urlAlias&&urlAlias.length>0?urlAlias.forEach((function(urlVar){user_control_es_1.WSForm.getVarValue(urlVar.name,(function(value){var sourceField={visibleName:urlVar.name,sourceKey:urlVar.name,sourceKeyShort:urlVar.name,currentValue:value};_this.urlMetaData.push(sourceField),_this.urlMetaData.length===urlAlias.length&&deferred.resolve(mashup)}))})):deferred.resolve(mashup),deferred.promise},CommonService.prototype.getCurrentBoundary=function(){return this.currentBoundary},CommonService.prototype.setCurrentBoundary=function(boundary){this.currentBoundary=boundary,this.currentBoundaryChangedEvent.raise(boundary)},CommonService.prototype.setCurrentRootComponentInstance=function(componentInstance){this.currentRootComponentInstance=componentInstance,componentInstance.forEachChild((function(child){child.initializeBindings()}),!0)},CommonService.prototype.getCurrentRootComponentInstance=function(){return this.currentRootComponentInstance},CommonService.prototype.getCurrentTheme=function(){return this.currentCanvasTheme},CommonService.prototype.setCanvasTheme=function(newTheme,isDesigner){var _this=this;this.currentCanvasTheme!==newTheme&&(this.currentCanvasTheme=newTheme,this.themeService.changeThemeCss(newTheme,isDesigner).finally((function(){_this.currentCanvasThemeChangedEvent.raise(newTheme)})))},CommonService.prototype.updateCurrentBoundary=function(canvasWidth){var newBoundary=this.getBoundaryForWidth(canvasWidth);this.getCurrentBoundary()!==newBoundary&&this.setCurrentBoundary(newBoundary)},CommonService.prototype.getBoundaryForWidth=function(width){var projectBoundaries=this.currentProject.manifest.mashupBoundaries;if(projectBoundaries&&!isNil_1.default(width))for(var index in projectBoundaries.sort((function(a,b){return a.limitX<b.limitX?-1:b.limitX<a.limitX?1:0})),projectBoundaries){var boundary=projectBoundaries[index];if(boundary.limitX&&width<=boundary.limitX)return boundary}return common_constant_1.DEFAULT_BOUNDARY},CommonService.prototype.isDesigner=function(){return 0===location.hash.indexOf("#!/editor")},CommonService.prototype.exportProjectContent=function(contentIds,filePath,saveFlagEnum,projectId){void 0===projectId&&(projectId=void 0);var resourceName=this.getProjectContentResourcePath(projectId,saveFlagEnum).concat(helper_1.Helper.createQueryParameters(contentIds,"id"));this.httpService.executeGet(resourceName,filePath).then((function(response){if(common_constant_1.Config.MG_PLATFORM===common_constant_1.MGPlatform.WEB){var rawJson=JSON.stringify(response);new helper_1.SmartBlob([rawJson],{type:"application/json"}).saveAs(filePath)}}))},CommonService.prototype.convertImageUrlToBase64=function(url){return this.httpService.executeGet(common_constant_1.ServerPaths.DESIGNER+"base64/?urlname="+url).then((function(result){var filteredBase64=result.base64.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,"");return"data:"+result.contentType+";base64,"+filteredBase64}))},CommonService.prototype.getProjectContentResourcePath=function(projectId,saveFlagEnum){switch(saveFlagEnum){case common_constant_1.SaveFlagsEnum.DATASOURCES:return projectId?""+common_constant_1.ServerPaths.PROJECT+projectId+"/datasources/export/?":common_constant_1.ServerPaths.REPOSITORY+"datasources/export/?";case common_constant_1.SaveFlagsEnum.COMPOSITE_COMPONENTS:return projectId?""+common_constant_1.ServerPaths.PROJECT+projectId+"/compositeComponents/export/?":common_constant_1.ServerPaths.REPOSITORY+"compositeComponents/export/?";default:throw new Error("SaveFlagsEnum '"+saveFlagEnum+"' not handled")}},CommonService.prototype.getLanguage=function(){return this.languageService.getLanguage()},CommonService.prototype.openHelp=function(){window.open(common_constant_1.Config.MG_HELP_BASE_URL+"/default.html?helpcontent=mgabahug/cover.html#","_blank")},CommonService.add=function(ngModule){ngModule.service(common_constant_1.InjectNames.COMMON_SERVICE,CommonService)},CommonService.$inject=[angular_constants_1.AngularConstants.Q,angular_constants_1.AngularConstants.TIMEOUT,common_constant_1.InjectNames.HTTP_SERVICE,common_constant_1.InjectNames.DATASOURCE_SERVICE,common_constant_1.InjectNames.THEME_SERVICE,common_constant_1.InjectNames.LANGUAGE_SERVICE],CommonService}();exports.CommonService=CommonService},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.TranslationManagementService=void 0;var angular_1=__importDefault(__webpack_require__(12)),common_constant_1=__webpack_require__(3),value_type_enum_1=__webpack_require__(26);__webpack_require__(23),__webpack_require__(116),__webpack_require__(68);var instance_event_1=__webpack_require__(85);__webpack_require__(32),__webpack_require__(204),__webpack_require__(42),__webpack_require__(317),__webpack_require__(428),__webpack_require__(322);var helper_1=__webpack_require__(15);__webpack_require__(70),__webpack_require__(13),__webpack_require__(166),__webpack_require__(429),__webpack_require__(280);var sohoxi_constant_1=__webpack_require__(40);__webpack_require__(77),__webpack_require__(416);var datagrid_helper_1=__webpack_require__(93),defines_1=__webpack_require__(78),TranslationManagementService=function(){function TranslationManagementService(languageService,commonService,dialogService){this.languageService=languageService,this.commonService=commonService,this.dialogService=dialogService,this.onTranslationsChangedEvent=new instance_event_1.InstanceEvent,this.initLookupOptions()}return TranslationManagementService.prototype.openTranslations=function(component,property){var dialogOptions={template:__webpack_require__(861),title:"Translations",cssClass:"language-dialog",style:"min-width: 1050px; max-width: 1050px;",parameter:{component:component,property:property}};return this.dialogService.show(dialogOptions)},TranslationManagementService.prototype.openNewStringDialog=function(value){var options={title:"Add New String",template:__webpack_require__(862),parameter:value};return this.dialogService.show(options)},TranslationManagementService.prototype.addGlobalString=function(globalString){return this.languageService.addGlobalString(globalString)},TranslationManagementService.prototype.getGlobalString=function(name){return this.languageService.getGlobalString(name)},TranslationManagementService.prototype.fetchGlobalStrings=function(locale){return this.languageService.fetchGlobalStrings(locale)},TranslationManagementService.prototype.getCurrentStringsList=function(){var currentStringList=[],currentStringDictionary=this.languageService.getCurrentStrings();for(var key in currentStringDictionary)currentStringDictionary.hasOwnProperty(key)&&"string"!=typeof currentStringDictionary[key]&&currentStringList.push(currentStringDictionary[key]);return currentStringList},TranslationManagementService.prototype.saveGlobalTranslations=function(globalStrings){var _this=this;return this.languageService.saveGlobalStrings(globalStrings).then((function(){_this.languageService.loadGlobalStrings()}))},TranslationManagementService.prototype.deleteGlobalTranslations=function(globalStrings){var _this=this;return this.languageService.deleteGlobalStrings(globalStrings).then((function(){_this.languageService.loadGlobalStrings()}))},TranslationManagementService.prototype.getSelectedLocale=function(){var _this=this;return this.getProjectLanguages().some((function(language){return _this.localeEquals(language.key,_this.getCurrentLanguage())}))?this.getCurrentLanguage():this.getDefaultLanguage()},TranslationManagementService.prototype.getCurrentLanguage=function(){return this.languageService.getLanguage()},TranslationManagementService.prototype.removeTranslation=function(componentId,propertyId,triggerEvent){void 0===triggerEvent&&(triggerEvent=!0);var currentProject=this.commonService.getCurrentProject();if(propertyId){var translations=currentProject.getTranslation(componentId),index=translations.findIndex((function(translation){return translation.property===propertyId}));translations.splice(index,1)}else currentProject.removeTranslation(componentId);triggerEvent&&this.onTranslationsChangedEvent.raise(this.commonService.getCurrentProject().getTranslations())},TranslationManagementService.prototype.getSupportedLanguages=function(){return this.languageService.getSupportedLanguages()},TranslationManagementService.prototype.addLanguage=function(newLanguage,translatedValue){this.commonService.getCurrentProject().getTranslationsList().forEach((function(componentLanguage){var newComponentLanguage={locale:newLanguage.key,value:translatedValue||componentLanguage.translations[0].value};componentLanguage.translations.push(angular_1.default.copy(newComponentLanguage))})),this.onTranslationsChangedEvent.raise(this.commonService.getCurrentProject().getTranslations())},TranslationManagementService.prototype.deleteLanguage=function(deletedlanguage){var _this=this;this.commonService.getCurrentProject().getTranslationsList().forEach((function(componentLanguage){componentLanguage.translations.forEach((function(language,index){_this.localeEquals(language.locale,deletedlanguage.key)&&componentLanguage.translations.splice(index,1)}))})),this.onTranslationsChangedEvent.raise(this.commonService.getCurrentProject().getTranslations())},TranslationManagementService.prototype.localeEquals=function(locale1,locale2){if(locale1.length<3||locale2.length<3){return locale1.substring(0,2)===locale2.substring(0,2)}return locale1===locale2},TranslationManagementService.prototype.hasLanguageComponent=function(componentId,reference){var currentTranslations=this.commonService.getCurrentProject().getTranslations()[componentId],hasTranslations=!1;return currentTranslations&&reference&&(hasTranslations=currentTranslations.some((function(translation){return translation.property===reference}))),hasTranslations},TranslationManagementService.prototype.setTranslatableStringByProperty=function(componentId,property,updatedTranslation,triggerEvent){var _this=this;void 0===triggerEvent&&(triggerEvent=!0),this.commonService.getCurrentProject().getTranslations()[componentId].forEach((function(componentLanguage){componentLanguage.property===property&&componentLanguage.translations.forEach((function(language){_this.localeEquals(language.locale,updatedTranslation.locale)&&(language.value=updatedTranslation.value)}))})),triggerEvent&&this.onTranslationsChangedEvent.raise(this.commonService.getCurrentProject().getTranslations())},TranslationManagementService.prototype.setTranslatableStringByTranslationIndex=function(componentIndex,translationIndex,newValue){var projectLanguageComponents=this.commonService.getCurrentProject().getTranslationsList();projectLanguageComponents[componentIndex].translations[translationIndex].value!==newValue&&(projectLanguageComponents[componentIndex].translations[translationIndex].value=newValue,this.onTranslationsChangedEvent.raise(this.commonService.getCurrentProject().getTranslations()))},TranslationManagementService.prototype.getDefaultLanguage=function(){return this.languageService.getDefaultLanguage()},TranslationManagementService.prototype.getTranslatableStringByProperty=function(componentId,property,locale){var languageValue,_this=this,currentTranslations=this.commonService.getCurrentProject().getTranslation(componentId),currentLanguageKey=this.languageService.getLanguage();return currentTranslations?(locale?currentLanguageKey=locale:this.projectHasLanguage(currentLanguageKey)||(currentLanguageKey=this.getDefaultLanguage()),currentTranslations.forEach((function(componentLanguage){componentLanguage.property===property&&(languageValue=_this.setTranslationFromComponentLanguage(componentLanguage.translations,currentLanguageKey,componentId,property))})),languageValue):languageValue},TranslationManagementService.prototype.getTranslatableHeaderString=function(locale){var languageValue,_this=this,project=this.commonService.getCurrentProject(),currentTranslations=project.getTranslations()[project.rootComponent.id];if(currentTranslations){var currentLanguageKey_1=this.languageService.getLanguage();locale?currentLanguageKey_1=locale:this.projectHasLanguage(currentLanguageKey_1)||(currentLanguageKey_1=this.getDefaultLanguage()),currentTranslations.forEach((function(componentLanguage){if(componentLanguage.property===common_constant_1.SettingKeys.APPLICATION_HEADER)for(var i=0;i<componentLanguage.translations.length;i++){var languageComponent=componentLanguage.translations[i];if(_this.localeEquals(languageComponent.locale,currentLanguageKey_1)){languageValue=""===languageComponent.value&&languageComponent.locale!==common_constant_1.LanguageConsts.DEFAULT.key?_this.getTranslatableHeaderString(common_constant_1.LanguageConsts.DEFAULT.key):languageComponent.value;break}}}))}return languageValue},TranslationManagementService.prototype.setTranslatableStringById=function(id,updatedTranslation){var _this=this;this.commonService.getCurrentProject().getTranslationsList().forEach((function(componentLanguage){componentLanguage.id===id&&componentLanguage.translations.forEach((function(language){_this.localeEquals(language.locale,updatedTranslation.locale)&&(language.value=updatedTranslation.value)}))})),this.onTranslationsChangedEvent.raise(this.commonService.getCurrentProject().getTranslations())},TranslationManagementService.prototype.projectHasLanguage=function(locale){var _this=this,currentTranslations=this.commonService.getCurrentProject().getTranslationsList();return 0!==currentTranslations.length&&currentTranslations[0].translations.some((function(translation){return _this.localeEquals(translation.locale,locale)}))},TranslationManagementService.prototype.getProjectLanguages=function(){var _this=this,projectLanguages=[common_constant_1.LanguageConsts.DEFAULT],firstTranslation=this.commonService.getCurrentProject().getTranslationsList()[0];return firstTranslation&&firstTranslation.translations.forEach((function(language){_this.localeEquals(language.locale,common_constant_1.LanguageConsts.DEFAULT.key)||projectLanguages.push({key:language.locale,value:_this.getLocaleDisplayName(language.locale)})})),projectLanguages},TranslationManagementService.prototype.getLocaleDisplayName=function(locale){var _this=this,localeDisplayName=this.getSupportedLanguages().find((function(language){return _this.localeEquals(language.key,locale)}));return localeDisplayName?localeDisplayName.value:common_constant_1.LanguageConsts.DEFAULT.value},TranslationManagementService.prototype.createGeneralLanguageComponent=function(componentId,reference,value,triggerEvent){void 0===triggerEvent&&(triggerEvent=!0);var languageComponent={id:helper_1.Helper.generateUniqueId(),componentId:componentId,property:reference,translations:[]};this.hasLanguageComponent(componentId,reference)||(this.getProjectLanguages().forEach((function(language){var newComponentLanguage={locale:language.key,value:value};languageComponent.translations.push(newComponentLanguage)})),this.commonService.getCurrentProject().addTranslation(languageComponent),triggerEvent&&this.onTranslationsChangedEvent.raise(this.commonService.getCurrentProject().getTranslations()))},TranslationManagementService.prototype.createDefaultLanguageComponents=function(component){var _this=this;switch(this.createLanguageComponentFromBindableField(component),component.typedef){case common_constant_1.ComponentNames.Tabs:component.componentTabs.forEach((function(tab){_this.createGeneralLanguageComponent(component.id,tab.id,tab.name)}));break;case common_constant_1.ComponentNames.RadioButton:component.componentRadioButtons.forEach((function(radioButton){_this.createGeneralLanguageComponent(component.id,radioButton.id,radioButton.name)}));break;case common_constant_1.ComponentNames.Lookup:case common_constant_1.ComponentNames.Datagrid:component.columns.forEach((function(column){_this.createGeneralLanguageComponent(component.id,column.id,column.name)}))}},TranslationManagementService.prototype.getLookupOptions=function(){return this.lookupOptions},TranslationManagementService.prototype.getAutoOptions=function(){var _this=this;return{source:function(searchInput,done){if("{"===searchInput.charAt(0)&&searchInput.length>1){for(var autoCompleteGlobalStrings=[],trimmedInput_1=searchInput.replace("{",""),filteredList=_this.getCurrentStringsList().filter((function(item){return item.Name.substring(0,trimmedInput_1.length)===trimmedInput_1})),maxItems=filteredList.length<11?filteredList.length:11,i=0;i<maxItems;i++)autoCompleteGlobalStrings.push(filteredList[i].Name);done(trimmedInput_1,autoCompleteGlobalStrings)}}}},TranslationManagementService.prototype.initLookupOptions=function(){var _this=this,columns=[];columns.push({id:"Name",name:"Name",field:"Name",width:250,resizable:!1,sortable:!0}),columns.push({id:"Value",name:"Value",field:"Value",width:250,resizable:!1,sortable:!0,formatter:Soho.Formatters.Ellipsis}),this.lookupOptions={title:"Select Item",field:function(selectedRow){return"{"+selectedRow.Name+"}"},match:function(){},options:{paging:!0,pagesize:10,columns:columns,dataset:[],source:function(request,done){var stringList=_this.getCurrentStringsList();request.total=stringList.length;var datasetCopy=angular_1.default.copy(stringList);request.filterExpr&&request.filterExpr[0]&&(datasetCopy=datagrid_helper_1.DatagridHelper.getSearchResultOnPaths(datasetCopy,request.filterExpr[0],"Name")),request.sortId&&(datasetCopy=datagrid_helper_1.DatagridHelper.sortDatasetByField(datasetCopy,request.sortField,request.sortAsc)),done(datagrid_helper_1.DatagridHelper.getPage(datasetCopy,request),request)},selectable:sohoxi_constant_1.SelectableEnum.Single,toolbar:{keywordFilter:!0}}}},TranslationManagementService.prototype.setTranslationFromComponentLanguage=function(translations,locale,componentId,reference){for(var languageValue,i=0;i<translations.length;i++){var languageComponent=translations[i];if(this.localeEquals(languageComponent.locale,locale)){var localeNotDefault=languageComponent.locale!==common_constant_1.LanguageConsts.DEFAULT.key;languageValue=""===languageComponent.value&&localeNotDefault?this.getTranslatableStringByProperty(componentId,reference,common_constant_1.LanguageConsts.DEFAULT.key):languageComponent.value;break}}return languageValue},TranslationManagementService.prototype.createLanguageComponentFromBindableField=function(component){var _this=this;defines_1.Defines.allComponents[component.typedef].class.BINDABLE_FIELDS_2.forEach((function(bindable,index){if(bindable.valueType===value_type_enum_1.ValueTypeEnum.LOCALIZED_STRING){var value=component[bindable.ref].value;_this.createGeneralLanguageComponent(component.id,bindable.ref,value||bindable.defaultValue.value)}}))},TranslationManagementService.add=function(ngModule){ngModule.service(common_constant_1.InjectNames.TRANSLATION_MANAGEMENT_SERVICE,TranslationManagementService)},TranslationManagementService.$inject=[common_constant_1.InjectNames.LANGUAGE_SERVICE,common_constant_1.InjectNames.COMMON_SERVICE,common_constant_1.InjectNames.DIALOG_SERVICE],TranslationManagementService}();exports.TranslationManagementService=TranslationManagementService},,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(40),__webpack_require__(416)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Defines=void 0,__webpack_require__(150),__webpack_require__(92),__webpack_require__(32),__webpack_require__(42),__webpack_require__(23),__webpack_require__(68),__webpack_require__(165),__webpack_require__(76);var application_parent_1=__webpack_require__(207),button_1=__webpack_require__(523),chart_1=__webpack_require__(318),checkbox_1=__webpack_require__(524),datagrid_1=__webpack_require__(233),datepicker_1=__webpack_require__(525),dropdown_1=__webpack_require__(419),flexbox_1=__webpack_require__(208),hyperlink_1=__webpack_require__(420),image_1=__webpack_require__(421),label_1=__webpack_require__(422),layout_component_1=__webpack_require__(275),list_1=__webpack_require__(276),lookup_1=__webpack_require__(234),radiobutton_1=__webpack_require__(320),tab_panel_1=__webpack_require__(235),tabs_1=__webpack_require__(277),textarea_1=__webpack_require__(528),textbox_1=__webpack_require__(424),timepicker_1=__webpack_require__(531);__webpack_require__(28);var Defines=function(){function Defines(){}return Object.defineProperty(Defines,"allComponents",{get:function(){var componentList={};return componentList[application_parent_1.ApplicationParent.name]={class:application_parent_1.ApplicationParent,available:!1,isLayoutComponent:!1},componentList[button_1.Button.name]={class:button_1.Button,available:!0,isLayoutComponent:!1},componentList[chart_1.Chart.name]={class:chart_1.Chart,available:!0,isLayoutComponent:!1},componentList[checkbox_1.Checkbox.name]={class:checkbox_1.Checkbox,available:!0,isLayoutComponent:!1},componentList[datagrid_1.Datagrid.name]={class:datagrid_1.Datagrid,available:!0,isLayoutComponent:!1},componentList[datepicker_1.Datepicker.name]={class:datepicker_1.Datepicker,available:!0,isLayoutComponent:!1},componentList[dropdown_1.Dropdown.name]={class:dropdown_1.Dropdown,available:!0,isLayoutComponent:!1},componentList[flexbox_1.Flexbox.name]={class:flexbox_1.Flexbox,available:!1,isLayoutComponent:!0},componentList[hyperlink_1.Hyperlink.name]={class:hyperlink_1.Hyperlink,available:!0,isLayoutComponent:!1},componentList[image_1.Image.name]={class:image_1.Image,available:!0,isLayoutComponent:!1},componentList[label_1.Label.name]={class:label_1.Label,available:!0,isLayoutComponent:!1},componentList[list_1.List.name]={class:list_1.List,available:!0,isLayoutComponent:!1},componentList[lookup_1.Lookup.name]={class:lookup_1.Lookup,available:!0,isLayoutComponent:!1},componentList[radiobutton_1.RadioButton.name]={class:radiobutton_1.RadioButton,available:!0,isLayoutComponent:!1},componentList[tabs_1.Tabs.name]={class:tabs_1.Tabs,available:!0,isLayoutComponent:!0},componentList[tab_panel_1.TabPanel.name]={class:tab_panel_1.TabPanel,available:!1,isLayoutComponent:!0},componentList[textbox_1.TextBox.name]={class:textbox_1.TextBox,available:!0,isLayoutComponent:!1},componentList[textarea_1.TextArea.name]={class:textarea_1.TextArea,available:!0,isLayoutComponent:!1},componentList[timepicker_1.Timepicker.name]={class:timepicker_1.Timepicker,available:!0,isLayoutComponent:!1},componentList},enumerable:!1,configurable:!0}),Defines.addComponents=function(m){var _loop_1=function(key){if(Defines.allComponents.hasOwnProperty(key)){var componentName=key.toLowerCase(),componentClass=Defines.allComponents[key].class;if("function"==typeof componentClass.directive[0]){var directive_1=componentClass.directive[0]();directive_1&&(directive_1.templateUrl||directive_1.template)&&!directive_1.link&&this_1.appendLinkFunction(directive_1),m.directive("d"+componentName,[function(){return directive_1}])}}},this_1=this;for(var key in Defines.allComponents)_loop_1(key)},Defines.appendLinkFunction=function(directive){directive.link=function($scope){$scope.componentInstance instanceof layout_component_1.LayoutComponent||$scope.componentReady({componentInstance:$scope.componentInstance})}},Object.defineProperty(Defines,"CustomComponentType",{get:function(){return"CustomComponent"},enumerable:!1,configurable:!0}),Defines}();exports.Defines=Defines},function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.HttpService=void 0;var angular_1=__importDefault(__webpack_require__(12)),common_constant_1=(__importDefault(__webpack_require__(33)),__webpack_require__(3)),http_verb_enum_1=__webpack_require__(131),angular_constants_1=__webpack_require__(7),debugger_1=__webpack_require__(112),error_response_1=__webpack_require__(51),user_control_es_1=__webpack_require__(148),helper_1=__webpack_require__(15),HttpService=function(){function HttpService(http,q){this.http=http,this.q=q}return HttpService.prototype.getUrl=function(path){return path?this.getBaseUrl()+common_constant_1.Config.REST_ROOT+path:this.getBaseUrl()+common_constant_1.Config.REST_ROOT},HttpService.prototype.setOverrideUrl=function(url){this.overrideUrl=url},HttpService.prototype.executeGet=function(resource,params,external){return this.execute(resource,http_verb_enum_1.HttpVerbEnum.GET,null,params,external)},HttpService.prototype.executePost=function(resource,data,params){return this.execute(resource,http_verb_enum_1.HttpVerbEnum.POST,data,params)},HttpService.prototype.executePut=function(resource,data,params){return this.execute(resource,http_verb_enum_1.HttpVerbEnum.PUT,data,params)},HttpService.prototype.executeDelete=function(resource,params){return this.execute(resource,http_verb_enum_1.HttpVerbEnum.DELETE,null,params)},HttpService.prototype.executeRequest=function(requestConfig){this.debug("Executing "+requestConfig.method+" "+requestConfig.url);var deferred=this.q.defer();return 0===requestConfig.url.indexOf(common_constant_1.Config.REST_ROOT+"dev/token")||0===requestConfig.url.indexOf("/grid/rest/security/sessions/oauth")?(user_control_es_1.WSForm.call({name:common_constant_1.ABFormScriptMethod.TOKEN,parameters:[JSON.stringify(requestConfig)],onCompleted:function(response){var httpResponse={data:response};if(helper_1.Helper.isUndefinedEmpty(response)){var error=new error_response_1.ErrorResponse("Could not retrieve ION token. "+common_constant_1.Subcodes.CONTACT_SYSTEM_ADMIN,common_constant_1.Subcodes.GENERIC_ERROR);deferred.reject(error)}else deferred.resolve(httpResponse)}}),deferred.promise):this.executeHttp(requestConfig)},HttpService.prototype.upload=function(resource,files,formFields){for(var _this=this,deferred=this.q.defer(),url=this.getBaseUrl()+common_constant_1.Config.REST_ROOT+resource,formData=new FormData,i=0;i<files.length;i++)formData.append("file",files[i]);if(formFields)for(var key in formFields)null!==formFields[key]&&formData.append(key,formFields[key]);var params={headers:{"Content-Type":void 0},transformRequest:angular_1.default.identity};return this.http.post(encodeURI(url),formData,params).then((function(httpResponse){_this.debug("[HttpService] Completed ",httpResponse),deferred.resolve(httpResponse)})).catch((function(httpResponse){var errorPayload=httpResponse.data;errorPayload&&errorPayload.error||(errorPayload={success:!1,error:{code:httpResponse.status,message:httpResponse.statusText,detail:httpResponse.statusText}}),deferred.reject(errorPayload.error)})),deferred.promise},HttpService.prototype.reduce=function(promises){return this.q.all(promises)},HttpService.prototype.execute=function(resource,method,data,params,outside){var deferred=this.q.defer(),url=""+common_constant_1.Config.REST_ROOT+resource;this.debug("Executing "+method+" "+url);var requestConfig={method:method,url:url,data:data,params:params,cache:!1};return outside?outside?this.executeHttp(requestConfig).then((function(result){result.data&&deferred.resolve(result.data)})):deferred.reject("Failed due to: WSForm not available."):user_control_es_1.WSForm.call({name:common_constant_1.ABFormScriptMethod.APPBUILDER_REST,parameters:[JSON.stringify(requestConfig)],onCompleted:function(rawJson){if(""!==rawJson){var response=JSON.parse(rawJson);response.success?deferred.resolve(response.data):deferred.reject(response.error)}else deferred.reject("Response from '"+requestConfig.url+"', contains invalid JSON")}}),deferred.promise},HttpService.prototype.executeHttp=function(requestConfig){var deferred=this.q.defer();return this.http(requestConfig).then((function(httpResponse){deferred.resolve(httpResponse)})).catch((function(httpResponse){var modifiedHttpResponse=__assign({},httpResponse),logMessage="\n\t\t\t\t[HttpService] Failed to "+requestConfig.method+" "+requestConfig.url+",\n\t\t\t\tResponse: "+angular_1.default.toJson(modifiedHttpResponse)+"\n\t\t\t";if(logMessage.replace("\n","_").replace("\r","_"),console.error(logMessage),-1===modifiedHttpResponse.status){var possibleReasons=["You're Offline","The http request timed out","CORS options http request failed for some reason"];console.error("Status -1 was returned from angular httpService, this could mean multiple things:\n\t\t\t\t\t"+possibleReasons.map((function(reason){return"\n- "+reason})).join()+"\n\t\t\t\t");var newStatusText="\n\t\t\t\t\tThis could mean multiple things:\n\t\t\t\t\t"+possibleReasons.map((function(reason){return"<br>- "+reason})).join()+"\n\t\t\t\t";modifiedHttpResponse.statusText=modifiedHttpResponse.statusText?modifiedHttpResponse.statusText:newStatusText}deferred.reject(modifiedHttpResponse)})),deferred.promise},HttpService.prototype.getBaseUrl=function(){return this.overrideUrl?this.overrideUrl:""},HttpService.prototype.debug=function(message,data){common_constant_1.Config.IS_DEV&&debugger_1.Debugger.isEnabled()&&(data?console.debug("[HttpService] "+message,data):console.debug("[HttpService] "+message))},HttpService.add=function(ngModule){ngModule.service(common_constant_1.InjectNames.HTTP_SERVICE,HttpService)},HttpService.$inject=[angular_constants_1.AngularConstants.HTTP,angular_constants_1.AngularConstants.Q],HttpService}();exports.HttpService=HttpService},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FeatureSwitchService=void 0;var common_constant_1=__webpack_require__(3),angular_constants_1=__webpack_require__(7),FeatureSwitchService=function(){function FeatureSwitchService(httpService,$q){this.httpService=httpService,this.$q=$q,this.features=[],this.fetchFeatures().catch((function(error){}))}return FeatureSwitchService.prototype.fetchFeatures=function(){var _this=this,path=common_constant_1.ServerPaths.SETTINGS+common_constant_1.ServerPaths.SWITCHABLE_FEATURES;return this.httpService.executeGet(path).then((function(fetchedFeatures){_this.features.splice(0,_this.features.length),fetchedFeatures.forEach((function(feature){_this.features.push(feature)}))}))},FeatureSwitchService.prototype.getFeatures=function(){return this.features},FeatureSwitchService.prototype.getFeature=function(id){return this.features.find((function(feature){return feature.id===id}))},FeatureSwitchService.prototype.isFeatureEnabled=function(id){var feature=this.getFeature(id);return feature&&feature.status&&feature.status.enabled},FeatureSwitchService.prototype.toggleFeatureStatus=function(id){var _this=this;if(!this.getFeature(id))return this.$q.reject("Feature with id '"+id+"' does not exist");var enable=!this.isFeatureEnabled(id),path=common_constant_1.ServerPaths.SETTINGS+common_constant_1.ServerPaths.SWITCHABLE_FEATURES+id+"/status";return this.httpService.executePost(path,void 0,{enable:enable}).then((function(){return _this.fetchFeatures()}))},FeatureSwitchService.add=function(ngModule){ngModule.service(common_constant_1.InjectNames.FEATURE_SWITCH_SERVICE,FeatureSwitchService)},FeatureSwitchService.$inject=[common_constant_1.InjectNames.HTTP_SERVICE,angular_constants_1.AngularConstants.Q],FeatureSwitchService}();exports.FeatureSwitchService=FeatureSwitchService},,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var InstanceEvent=function(){function InstanceEvent(){this.handlers=[]}return InstanceEvent.prototype.on=function(handler){var _this=this;return this.handlers.push(handler),function(){_this.off(handler)}},InstanceEvent.prototype.off=function(handler){this.handlers=this.handlers.filter((function(h){return h!==handler}))},InstanceEvent.prototype.raise=function(data){if(this.handlers)try{this.handlers.slice(0).forEach((function(h){return h(data)}))}catch(e){throw console.error("[InstanceEvent] Exception in raise",e),e}},InstanceEvent.prototype.clear=function(){this.handlers=[]},InstanceEvent}();exports.InstanceEvent=InstanceEvent},,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";(function(jQuery){Object.defineProperty(exports,"__esModule",{value:!0}),exports.DatagridHelper=void 0;var helper_1=__webpack_require__(15),custom_formatters_1=__webpack_require__(133),locale_helper_1=__webpack_require__(836),common_constant_1=__webpack_require__(3),sohoxi_constant_1=__webpack_require__(40),date_helper_1=__webpack_require__(272),DatagridHelper=function(){function DatagridHelper(){}return DatagridHelper.getPage=function(dataset,pageRequest){return pageRequest.total=dataset.length,dataset.length>pageRequest.pagesize?dataset.slice((pageRequest.activePage-1)*pageRequest.pagesize,pageRequest.activePage*pageRequest.pagesize):(pageRequest.total=dataset.length,dataset)},DatagridHelper.normalizeValue=function(value){return value?value.toString().toLowerCase():value},DatagridHelper.sortDatasetByField=function(dataset,sortField,sortAsc){var _this=this;return dataset=dataset.sort((function(itemA,itemB){var a=_this.normalizeValue(helper_1.Helper.getDeepValue(itemA,sortField)),b=_this.normalizeValue(helper_1.Helper.getDeepValue(itemB,sortField));return a<b?-1:a>b?1:0})),sortAsc?dataset:dataset.reverse()},DatagridHelper.getSearchResultOnPaths=function(dataset,filterExpression,paths){return dataset.forEach(DatagridHelper.clearSohoProperties),dataset.filter((function(item){var deepValue=helper_1.Helper.getDeepValue(item,paths);return!!deepValue&&-1!==deepValue.toLowerCase().indexOf(filterExpression.value)}))},DatagridHelper.getSearchResultOnKeyword=function(dataset,filterExpression){return dataset.filter((function(item){for(var key in item){var value=item[key];if("string"==typeof value&&-1!==value.toLowerCase().indexOf(filterExpression.value))return!0}return!1}))},DatagridHelper.clearSohoProperties=function(item){delete item.isFiltered,delete item._selected,delete item._isFilteredOut},DatagridHelper.setEditableOnColumn=function(column,locale){if(column.editable)switch(delete column.editorOptions,column.formatterName){case sohoxi_constant_1.FormatterEnum.Checkbox:column.editor=Soho.Editors.Checkbox;break;case sohoxi_constant_1.FormatterEnum.Date:column.editor=Soho.Editors.Date;break;case sohoxi_constant_1.FormatterEnum.Time:column.editor=Soho.Editors.Time,column.editorOptions={timeFormat:Soho.Locale.cultures[locale].calendars[0].dateFormat.timestamp,minuteInterval:5,secondInterval:5};break;case sohoxi_constant_1.FormatterEnum.Datetime:column.editor=Soho.Editors.Date,column.editorOptions={timeFormat:column.timeFormat,dateFormat:column.dateFormat,showTime:!0};break;case sohoxi_constant_1.FormatterEnum.Hyperlink:column.editor=Soho.Editors.Input;break;case sohoxi_constant_1.FormatterEnum.Textarea:column.editor=Soho.Editors.Textarea;break;case sohoxi_constant_1.FormatterEnum.Button:column.editor=Soho.Editors.Button;break;case sohoxi_constant_1.FormatterEnum.Dropdown:column.editor=Soho.Editors.Dropdown;break;case sohoxi_constant_1.FormatterEnum.Autocomplete:column.editor=Soho.Editors.Autocomplete;break;case sohoxi_constant_1.FormatterEnum.Lookup:column.editor=Soho.Editors.Lookup;break;default:column.editor=Soho.Editors.Input}else column.editor=null;column.isEditable=function(){return column.editable}},DatagridHelper.setColumnSettings=function(column,locale){delete column.dateFormat,delete column.href,delete column.click,delete column.editorOptions,delete column.options,column.textOverflow=sohoxi_constant_1.FormatterEnum.Ellipsis,this.setFormatterOnColumns(column,locale),this.setEditableOnColumn(column,locale)},DatagridHelper.setFormatterOnColumns=function(column,locale){if(column.formatterName)switch(column.formatterName){case sohoxi_constant_1.FormatterEnum.Checkbox:column.formatter=Soho.Formatters.Checkbox,column.formatterName=sohoxi_constant_1.FormatterEnum.Checkbox,column.isChecked=function(value){return jQuery.isNumeric(value)&&"string"==typeof value?1===parseInt(value,10):"boolean"==typeof value?value:"string"==typeof value&&"true"===value.toLowerCase()};break;case sohoxi_constant_1.FormatterEnum.Date:column.formatter=custom_formatters_1.CustomFormatters.Date(locale),column.formatterName=sohoxi_constant_1.FormatterEnum.Date,column.dateFormat=locale_helper_1.LocaleHelper.getDateFormat(sohoxi_constant_1.DateFormatEnum.Short,locale);break;case sohoxi_constant_1.FormatterEnum.Hyperlink:column.formatter=Soho.Formatters.Hyperlink,column.formatterName=sohoxi_constant_1.FormatterEnum.Hyperlink;break;case sohoxi_constant_1.FormatterEnum.Integer:column.formatter=Soho.Formatters.Integer,column.formatterName=sohoxi_constant_1.FormatterEnum.Integer;break;case sohoxi_constant_1.FormatterEnum.Decimal:column.formatter=Soho.Formatters.Decimal,column.formatterName=sohoxi_constant_1.FormatterEnum.Decimal;break;case sohoxi_constant_1.FormatterEnum.Textarea:column.formatter=Soho.Formatters.Textarea,column.formatterName=sohoxi_constant_1.FormatterEnum.Textarea;break;case sohoxi_constant_1.FormatterEnum.Datetime:column.formatter=custom_formatters_1.CustomFormatters.Datetime(locale),column.formatterName=sohoxi_constant_1.FormatterEnum.Datetime,column.dateFormat=locale_helper_1.LocaleHelper.getDateFormat(sohoxi_constant_1.DateFormatEnum.Short,locale),column.timeFormat=locale_helper_1.LocaleHelper.getDateFormat(sohoxi_constant_1.DateFormatEnum.Timeformat,locale);break;case sohoxi_constant_1.FormatterEnum.Time:column.formatter=custom_formatters_1.CustomFormatters.Time(locale),column.formatterName=sohoxi_constant_1.FormatterEnum.Time,column.dateFormat=locale_helper_1.LocaleHelper.getDateFormat(sohoxi_constant_1.DateFormatEnum.Timestamp,locale);break;case sohoxi_constant_1.FormatterEnum.Button:column.formatter=Soho.Formatters.Button,column.formatterName=sohoxi_constant_1.FormatterEnum.Button;break;case sohoxi_constant_1.FormatterEnum.Dropdown:column.formatter=Soho.Formatters.Dropdown,column.formatterName=sohoxi_constant_1.FormatterEnum.Dropdown,delete column.textOverflow;break;case sohoxi_constant_1.FormatterEnum.Autocomplete:column.formatter=Soho.Formatters.Autocomplete,column.formatterName=sohoxi_constant_1.FormatterEnum.Autocomplete,delete column.textOverflow;break;case sohoxi_constant_1.FormatterEnum.Lookup:column.formatter=Soho.Formatters.Lookup,column.formatterName=sohoxi_constant_1.FormatterEnum.Lookup,delete column.textOverflow;break;case sohoxi_constant_1.FormatterEnum.SelectionCheckbox:column.formatter=Soho.Formatters.SelectionCheckbox;break;case sohoxi_constant_1.FormatterEnum.AbsoluteValue:column.formatter=custom_formatters_1.CustomFormatters.AbsoluteValue(),column.formatterName=sohoxi_constant_1.FormatterEnum.AbsoluteValue;break;default:console.error("Error: Formatter does not exist.")}},DatagridHelper.ToggleSummarizeOnColumn=function(column){column.summarize?(column.summaryRowFormatter=null,column.aggregator=null):(column.summaryRowFormatter=Soho.Formatters.SummaryRow,column.aggregator=common_constant_1.GridAggregators.SUM)},DatagridHelper.convertDatetimeToTicks=function(selectedRow,locale){var date,column=selectedRow.column,calendar=Soho.Locale.cultures[locale].calendars[0],formatterName=column.formatterName,oldDate=date_helper_1.DateHelper.parse(selectedRow.oldValue,formatterName,locale),parseOption={};switch(formatterName){case sohoxi_constant_1.FormatterEnum.Date:parseOption.pattern=calendar.dateFormat.short,(date=Soho.Locale.parseDate(selectedRow.value,parseOption)).setHours(oldDate.getHours()),date.setMinutes(oldDate.getMinutes()),date.setSeconds(oldDate.getSeconds());break;case sohoxi_constant_1.FormatterEnum.Time:parseOption.pattern=calendar.dateFormat.timestamp,(date=Soho.Locale.parseDate(selectedRow.value,parseOption)).setFullYear(oldDate.getFullYear()),date.setMonth(oldDate.getMonth()),date.setDate(oldDate.getDate());break;case sohoxi_constant_1.FormatterEnum.Datetime:parseOption.pattern=calendar.dateFormat[formatterName],date=Soho.Locale.parseDate(selectedRow.value,parseOption)}return date.getTime()},DatagridHelper.addColumnData=function(column,listResult,dataservice){var autocompleteSource=[];switch(column.formatterName){case sohoxi_constant_1.FormatterEnum.Dropdown:var dropdownOptions_1=[];listResult.forEach((function(listItem,index){dropdownOptions_1.push({id:"optionID"+index,value:listItem[column.listOptions.parameterId],label:listItem[column.listOptions.parameterId]})})),column.options=dropdownOptions_1;break;case sohoxi_constant_1.FormatterEnum.Autocomplete:listResult.forEach((function(listItem){autocompleteSource.push(listItem[column.listOptions.parameterId])}));break;case sohoxi_constant_1.FormatterEnum.Lookup:var lookupData=listResult,lookupColumns_1=[];dataservice.getDatabearer().outputParameters.forEach((function(outputParam){lookupColumns_1.push({id:outputParam.id,name:outputParam.key,field:outputParam.id})}));var lookupOptions={field:function(row){var match=row[column.listOptions.parameterId];return match||console.warn("Warning: No current match to dataset."),match},match:function(){},options:{columns:lookupColumns_1,dataset:lookupData,selectable:"single"}};column.editorOptions=lookupOptions}return autocompleteSource},DatagridHelper}();exports.DatagridHelper=DatagridHelper}).call(this,__webpack_require__(21))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FieldValidation=void 0;var common_constant_1=__webpack_require__(3);__webpack_require__(151);var helper_1=__webpack_require__(15),FieldValidation=function(){function FieldValidation(){this.DEFAULT_INPUT_FIELD_NAME="inputFieldName",this.parentAnnounce=[]}return Object.defineProperty(FieldValidation.prototype,"displayStatus",{get:function(){return this.isInvalid?"block":"none"},enumerable:!1,configurable:!0}),FieldValidation.prototype.$onInit=function(){helper_1.Helper.isUndefinedEmpty(this.fieldName)&&(this.fieldName=this.DEFAULT_INPUT_FIELD_NAME),this.validation&&(this.isRequired=-1!==this.validation.validators.findIndex((function(item){return"not-empty"===item.type})),helper_1.Helper.isUndefinedEmpty(this.fieldValue)?this.fieldValue="":this.validate())},FieldValidation.prototype.$onChanges=function(changeObjects){var _a,_b,_c,_d,isCallback,parentAnnounce=changeObjects.parentAnnounce;if(parentAnnounce&&!parentAnnounce.isFirstChange()&&parentAnnounce.currentValue.id!==this.id)isCallback=!0;else if(parentAnnounce&&!parentAnnounce.isFirstChange()&&parentAnnounce.currentValue.id===this.id)return;var currentComponentFieldError=this.fieldSpecificErrors,sharedError=null===(_a=this.validation)||void 0===_a?void 0:_a.errorList;if((null===(_b=changeObjects.id)||void 0===_b?void 0:_b.isFirstChange())||(null===(_c=changeObjects.id)||void 0===_c?void 0:_c.previousValue)===(null===(_d=changeObjects.id)||void 0===_d?void 0:_d.currentValue)){if(changeObjects&&changeObjects.validation&&changeObjects.validation.isFirstChange()||!currentComponentFieldError||currentComponentFieldError&&0===currentComponentFieldError.length)return;var customValidator=this.validation.validators.find((function(validator){return"custom"===validator.type}));sharedError&&0===sharedError.length?currentComponentFieldError.length=0:""!==this.fieldValue&&customValidator&&this.validate(isCallback)}else this.validate(isCallback)},FieldValidation.prototype.getError=function(value,validator,isCallback){var validatorError;void 0===isCallback&&(isCallback=!1);var id=this.id;switch(validator.type){case"max-length":value.length>validator.value&&(validatorError={id:id,field:this.labelName,message:"Max length is "+validator.value,type:validator.type});break;case"min-length":value.length-1<=validator.value&&(validatorError={id:id,field:this.labelName,message:"Min length is "+validator.value,type:validator.type});break;case"not-empty":0===value.length&&(validatorError={id:id,field:this.labelName,message:"Field cannot be empty",type:validator.type});break;case"numeric":helper_1.Helper.isUndefinedEmpty(value)||common_constant_1.RegexStrings.NUMERIC.test(value)||(validatorError={id:id,field:this.labelName,message:"Field has to be a number",type:validator.type});break;case"no-numeric":!helper_1.Helper.isUndefinedEmpty(value)&&/\d+/g.test(value)&&(validatorError={id:id,field:this.labelName,message:"Field cannot contain numbers",type:validator.type});break;case"numeric-no-negative":helper_1.Helper.isUndefinedEmpty(value)||common_constant_1.RegexStrings.NUMERIC_NO_NEGATIVE.test(value)||(validatorError={id:id,field:this.labelName,message:"Field has to be a positive number",type:validator.type});break;case"no-space":-1!==value.indexOf(" ")&&(validatorError={id:id,field:this.labelName,message:"Name cannot contain spaces",type:validator.type});break;case"custom":var result=void 0,target=validator.custom.validator;"function"==typeof target?result=target(value,this.id):"string"==typeof target&&("void"===target?this.onComponentChange({$data:{id:id,value:value}}):result=this.onComponentChange({$data:{validator:target,value:value,id:id,callback:isCallback}})),"boolean"==typeof result&&!1===result?validatorError={id:id,field:this.labelName?this.labelName:this.id,message:validator.custom.errorMessage,type:validator.type}:this.isValidationResult(result)&&!1===result.status&&(validatorError={id:id,field:this.labelName?this.labelName:this.id,message:result.errorMessage,type:validator.type})}return validatorError},FieldValidation.prototype.isValidationResult=function(object){return"object"==typeof object&&"status"in object&&"errorMessage"in object},FieldValidation.prototype.removeFieldRelatedErrorsFromErrorList=function(){var _this=this,sharedErrors=this.validation.errorList;sharedErrors&&sharedErrors.forEach((function(error,index){error.id!==_this.id||error.field!==_this.labelName&&error.field!==_this.id||sharedErrors.splice(index,1)}))},FieldValidation.prototype.validate=function(isCallback){var _this=this;void 0===isCallback&&(isCallback=!1),this.isInvalid=!1,this.fieldSpecificErrors=[],this.removeFieldRelatedErrorsFromErrorList();var sharedErrors=this.validation.errorList;!helper_1.Helper.isUndefinedOrNull(this.fieldValue)&&this.validation.validators.forEach((function(validator){var validatorError=_this.getError(_this.fieldValue,validator,isCallback);validatorError&&_this.fieldSpecificErrors.push(validatorError)})),0!==this.fieldSpecificErrors.length&&(this.isInvalid=!0),sharedErrors&&0!==this.fieldSpecificErrors.length&&this.fieldSpecificErrors.forEach((function(error){sharedErrors.push(error)}))},FieldValidation}();exports.FieldValidation=FieldValidation},,,,,,,,,function(module,exports,__webpack_require__){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.FrameworkService=void 0;var core_1=__webpack_require__(1),isEmpty_1=__importDefault(__webpack_require__(230)),isNil_1=__importDefault(__webpack_require__(164)),isUndefined_1=__importDefault(__webpack_require__(84)),orderBy_1=__importDefault(__webpack_require__(1221)),rxjs_1=__webpack_require__(81),common_constant_1=__webpack_require__(3),standard_boundaries_constant_1=__webpack_require__(312),runtime_app_1=__webpack_require__(269),component_service_1=__webpack_require__(511),data_service_service_1=__webpack_require__(512),FrameworkService=function(){function FrameworkService(componentService,dataServiceBuilder){this.componentService=componentService,this.dataServiceBuilder=dataServiceBuilder,this.jsonRuntimeApp={rootComponent:{children:[],typedef:"Flexbox",id:"AppPanel",displayName:"AppPanel",boundarySettings:{Default:{orientation:2,size:1,sizeType:2,horizontalAlignment:1,verticalAlignment:1,overflow:1,backgroundColor:null,padding:null,width:{sizeType:2,number:0},height:{sizeType:3,number:0},visibility:!0,margin:{top:0,right:0,bottom:0,left:0},showError:!0}},TargetAction:"Get"},datasources:[],interactions:[],translations:[{id:"1595510938502760163",componentId:"AppPanel",property:"applicationHeader",translations:[{locale:"en-US",value:"No Project Loaded"}]}],compositeComponents:[],expressions:[],manifest:{createdBy:"Leung",createdTime:1595510938607,description:"",displayName:"No Project Loaded",fileMetaData:{},id:"85db9130-9510-4e40-9719-f9593cfd77f8",lastChangedBy:"Leung",lastChangedTime:1595510938920,mashupBoundaries:[{id:"Default",displayName:"Default"}],version:"1.0",previewImg:"",createdByDisplayName:"Leung Wong (site developer)",lastChangedByDisplayName:"Leung Wong (site developer)",title:"No Project Loaded",showTitleBar:!0,themeSwitchEnabled:!1,defaultTheme:1,urlVariables:[]},tags:[]}}var _a,_b;return FrameworkService.prototype.updateCurrentBoundary=function(width){this.currentBoundary=this.getBoundaryByWidth(width),this.rootComponentInstance.onBoundaryChange(this.currentBoundary)},Object.defineProperty(FrameworkService.prototype,"currentBoundary",{get:function(){return this._currentBoundary},set:function(value){this._currentBoundary=value},enumerable:!1,configurable:!0}),FrameworkService.prototype.getBoundaryByWidgetSize=function(cols){var boundaryId=standard_boundaries_constant_1.WIDGET_BOUNDARIES[cols-1].id,boundary=this.currentProject.manifest.mashupBoundaries.find((function(boundary){return boundary.id===boundaryId}));return boundary||common_constant_1.DEFAULT_BOUNDARY},FrameworkService.prototype.getBoundaryByWidth=function(width){if(isNil_1.default(width))return common_constant_1.DEFAULT_BOUNDARY;var boundary=orderBy_1.default(this.currentProject.manifest.mashupBoundaries,["limitX"]).filter((function(boundary){return!isNil_1.default(boundary.limitX)})).find((function(boundary){return width<=boundary.limitX}));return isNil_1.default(boundary)?common_constant_1.DEFAULT_BOUNDARY:boundary},FrameworkService.prototype.getNextProjectBoundary=function(boundaryId){if(boundaryId===common_constant_1.DEFAULT_BOUNDARY.id)return common_constant_1.DEFAULT_BOUNDARY;for(var projectBoundaries=orderBy_1.default(this.currentProject.manifest.mashupBoundaries,["limitX"]),i=0;i<projectBoundaries.length;i++)if(projectBoundaries[i].id===boundaryId)return projectBoundaries[i+1];return common_constant_1.DEFAULT_BOUNDARY},Object.defineProperty(FrameworkService.prototype,"currentProject",{get:function(){return this._currentProject},set:function(value){this._currentProject=value},enumerable:!1,configurable:!0}),Object.defineProperty(FrameworkService.prototype,"rootComponentInstance",{get:function(){return this._componentInstance},set:function(value){this._componentInstance=value},enumerable:!1,configurable:!0}),FrameworkService.prototype.runStartupInteractions=function(){var _this=this,startupInteraction=this.getInteractionByTriggerName(common_constant_1.InteractionTriggerEnum.STARTUP),observables=[];return startupInteraction.forEach((function(interaction){observables.push(_this.runInteraction(interaction))})),rxjs_1.forkJoin(observables)},FrameworkService.prototype.runInteraction=function(interaction){if(interaction.targetName&&interaction.targetActionName){var observables_1=[];return this.getComponentOnInteractionTargetName(interaction.targetName).forEach((function(component){return observables_1.push(component.loadInteraction(interaction))})),rxjs_1.forkJoin(observables_1)}return rxjs_1.throwError("[FrameworkService] Interaction: "+interaction.getId()+" did not run, not all prerequisites were present")},FrameworkService.prototype.getInteractionByTriggerName=function(triggerName){return this.currentProject.getInteractions().filter((function(interaction){return interaction.sourceTriggerName===triggerName}))},FrameworkService.prototype.getComponentOnInteractionTargetName=function(targetName){var components=[];return this.rootComponentInstance.forEachChild((function(child){targetName===child.id&&components.push(child)}),!0),components},FrameworkService.prototype.loadProject=function(metadata){var runtimeApp;return runtimeApp=isUndefined_1.default(metadata)||isEmpty_1.default(metadata)?runtime_app_1.RuntimeApp.fromObj(this.jsonRuntimeApp):runtime_app_1.RuntimeApp.fromObj(JSON.parse(metadata)),this.currentBoundary=common_constant_1.DEFAULT_BOUNDARY,this.currentProject=runtimeApp,runtimeApp},FrameworkService=__decorate([core_1.Injectable(),__metadata("design:paramtypes",["function"==typeof(_a=void 0!==component_service_1.ComponentService&&component_service_1.ComponentService)?_a:Object,"function"==typeof(_b=void 0!==data_service_service_1.DataServiceBuilder&&data_service_service_1.DataServiceBuilder)?_b:Object])],FrameworkService)}();exports.FrameworkService=FrameworkService},function(module,exports,__webpack_require__){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__param=this&&this.__param||function(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.DynamicComponentService=void 0;var core_1=__webpack_require__(1),DynamicComponentService=function(){function DynamicComponentService(componentFactoryResolver){this.componentFactoryResolver=componentFactoryResolver,this.componentRefs=[]}var _a;return DynamicComponentService.prototype.setRootViewContainerRef=function(viewContainerRef){this.viewContainerRef=viewContainerRef},DynamicComponentService.prototype.addComponent=function(component){var componentFactory=this.componentFactoryResolver.resolveComponentFactory(component),newComponentRef=this.viewContainerRef.createComponent(componentFactory);return this.componentRefs.push(newComponentRef),newComponentRef},DynamicComponentService.prototype.destroyComponent=function(){this.componentRefs.forEach((function(componentRef){componentRef.instance.ngOnDestroy(),componentRef.destroy()})),this.componentRefs.length=0},DynamicComponentService=__decorate([core_1.Injectable(),__param(0,core_1.Inject(core_1.ComponentFactoryResolver)),__metadata("design:paramtypes",["function"==typeof(_a=void 0!==core_1.ComponentFactoryResolver&&core_1.ComponentFactoryResolver)?_a:Object])],DynamicComponentService)}();exports.DynamicComponentService=DynamicComponentService},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(830)},,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Debugger=void 0;var DebugState,common_constant_1=__webpack_require__(3),helper_1=__webpack_require__(15);!function(DebugState){DebugState.ENABLED="1",DebugState.DISABLED="0"}(DebugState||(DebugState={}));var Debugger=function(){function Debugger($routeParams){this.$routeParams=$routeParams,console.info("Hello World")}return Debugger.isEnabled=function(){return localStorage.getItem(Debugger.STORAGE_KEY)===DebugState.ENABLED},Debugger.enable=function(){localStorage.setItem(Debugger.STORAGE_KEY,DebugState.ENABLED)},Debugger.disable=function(){localStorage.setItem(Debugger.STORAGE_KEY,DebugState.DISABLED)},Debugger.initialize=function(){var url=common_constant_1.Config.MG_PLATFORM===common_constant_1.MGPlatform.WEB?window.parent.location.search.substring(1):window.location.search.substring(1),query=helper_1.Helper.parseQueryString(url);query.debug&&"true"===query.debug?Debugger.enable():Debugger.disable(),Debugger.isEnabled()&&console.warn("AppBuilder is running in debug mode. This may impact performance."),window.Debugger=Debugger},Debugger.log=function(classObject,message){Debugger.isEnabled()&&common_constant_1.Config.IS_DEV&&console.log("%c["+classObject.constructor.name+"] %c"+message,"color: darkred; font-weight: bold;","color: black; font-weight: bold;")},Debugger.STORAGE_KEY="debug",Debugger.$inject=["$routeParams"],Debugger}();exports.Debugger=Debugger},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ParameterTypeEnum=void 0,function(ParameterTypeEnum){ParameterTypeEnum[ParameterTypeEnum.PATH=1]="PATH",ParameterTypeEnum[ParameterTypeEnum.QUERY=2]="QUERY",ParameterTypeEnum[ParameterTypeEnum.BODY_PART=3]="BODY_PART",ParameterTypeEnum[ParameterTypeEnum.OUTPUT=4]="OUTPUT",ParameterTypeEnum[ParameterTypeEnum.MATRIX=5]="MATRIX"}(exports.ParameterTypeEnum||(exports.ParameterTypeEnum={}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(41),__webpack_require__(23),__webpack_require__(316),__webpack_require__(68)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(517),__webpack_require__(92)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ComponentSettingsCtrl=void 0;var angular_1=__importDefault(__webpack_require__(12)),common_constant_1=__webpack_require__(3);__webpack_require__(115),__webpack_require__(150),__webpack_require__(32),__webpack_require__(23),__webpack_require__(42);var helper_1=__webpack_require__(15);__webpack_require__(78);var ComponentSettingsCtrl=function(){function ComponentSettingsCtrl(){}return ComponentSettingsCtrl.create=function(id,componentClass){var boundarySettings={};boundarySettings[common_constant_1.DEFAULT_BOUNDARY.id]={width:componentClass.DEFAULT_WIDTH,height:componentClass.DEFAULT_HEIGHT};var component={typedef:componentClass.name,id:id,displayName:id,isReadonly:!1,boundarySettings:boundarySettings};return componentClass.BINDABLE_FIELDS_2.forEach((function(field){component[field.ref]=angular_1.default.copy(field.defaultValue)})),this.initiateDefaultValues(component,componentClass),component},ComponentSettingsCtrl.initiateDefaultValues=function(component,componentClass){componentClass.SETTING_FIELDS.forEach((function(settingCategory){settingCategory.settings.forEach((function(setting){helper_1.Helper.isUndefinedOrNull(setting.defaultValue)||(setting.boundarySetting?component.boundarySettings[common_constant_1.DEFAULT_BOUNDARY.id][setting.ref]=angular_1.default.copy(setting.defaultValue):component[setting.ref]=angular_1.default.copy(setting.defaultValue))}))}))},ComponentSettingsCtrl}();exports.ComponentSettingsCtrl=ComponentSettingsCtrl},,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Interaction=void 0;var interaction_parameter_1=__webpack_require__(409),Interaction=function(){function Interaction(obj){var _this=this;this.parameters=[],this.databearer=obj,obj.parameters&&obj.parameters.forEach((function(parameter){_this.parameters.push(new interaction_parameter_1.InteractionParameter(parameter))}))}return Interaction.prototype.getDatabearer=function(){return this.databearer},Interaction.prototype.getId=function(){return this.databearer.id},Object.defineProperty(Interaction.prototype,"sourceName",{get:function(){return this.databearer.sourceName},set:function(sourceName){this.databearer.sourceName=sourceName},enumerable:!1,configurable:!0}),Object.defineProperty(Interaction.prototype,"sourceTriggerName",{get:function(){return this.databearer.sourceTriggerName},set:function(sourceTriggerName){this.databearer.sourceTriggerName=sourceTriggerName},enumerable:!1,configurable:!0}),Object.defineProperty(Interaction.prototype,"targetName",{get:function(){return this.databearer.targetName},set:function(targetName){this.databearer.targetName=targetName},enumerable:!1,configurable:!0}),Object.defineProperty(Interaction.prototype,"targetActionName",{get:function(){return this.databearer.targetActionName},set:function(targetActionName){this.databearer.targetActionName=targetActionName},enumerable:!1,configurable:!0}),Interaction.prototype.getParameters=function(){return this.parameters},Interaction.prototype.getParameter=function(targetKey){return this.parameters.filter((function(param){return param.targetKey===targetKey})).pop()},Interaction.prototype.addParameter=function(parameter){this.databearer.parameters||(this.databearer.parameters=[]),this.databearer.parameters.push(parameter.getDatabearer()),this.parameters.push(parameter)},Interaction.prototype.removeParameter=function(index){this.databearer.parameters.splice(index,1),this.parameters.splice(index,1)},Interaction.prototype.removeAllParameters=function(){this.databearer.parameters=null,this.parameters.length=0},Interaction}();exports.Interaction=Interaction},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.HttpVerbEnum=void 0,function(HttpVerbEnum){HttpVerbEnum.GET="GET",HttpVerbEnum.POST="POST",HttpVerbEnum.PUT="PUT",HttpVerbEnum.DELETE="DELETE",HttpVerbEnum.HEAD="HEAD",HttpVerbEnum.PATCH="PATCH"}(exports.HttpVerbEnum||(exports.HttpVerbEnum={}))},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.DesignerMashup=void 0;var questions_enum_1=__webpack_require__(417),common_constant_1=__webpack_require__(3),designer_manifest_1=__webpack_require__(149),mashup_1=__webpack_require__(270);__webpack_require__(130);var DesignerMashup=function(_super){function DesignerMashup(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.questions=[],_this}return __extends(DesignerMashup,_super),DesignerMashup.prototype.getManifest=function(){return this.manifest},DesignerMashup.prototype.deleteQuestion=function(questionId,settingId){var _a,question=this.questions.find((function(question){return question.id===questionId}));settingId||(null===(_a=question.settings)||void 0===_a?void 0:_a.length)>1?question.settings=question.settings.filter((function(setting){return setting.id!==settingId})):this.questions=this.questions.filter((function(question){return question.id!==questionId}))},DesignerMashup.prototype.addQuestion=function(newQuestion){if(newQuestion.type===questions_enum_1.QuestionDefinitionsEnum.COMPONENT_SETTINGS){var sameQuestion=this.getQuestion(newQuestion,questions_enum_1.QuestionDefinitionsEnum.COMPONENT_SETTINGS);if(sameQuestion)sameQuestion.settings.some((function(setting){return setting.key===newQuestion.settings[0].key}))||sameQuestion.settings.push(newQuestion.settings[0]);else this.questions.push(newQuestion)}else{this.getQuestion(newQuestion,questions_enum_1.QuestionDefinitionsEnum.SEEKS_BINDING)||this.questions.push(newQuestion)}},DesignerMashup.prototype.getQuestion=function(newQuestion,type){return this.questions.find((function(question){return question.componentId===newQuestion.componentId&&question.type===type}))},DesignerMashup.prototype.getQuestions=function(){return this.questions},DesignerMashup.prototype.setQuestions=function(questions){this.questions=questions},DesignerMashup.prototype.getQuestionById=function(id){return this.questions.find((function(question){return question.id===id}))},DesignerMashup.prototype.setRoot=function(componentObject){_super.prototype.setRoot.call(this,componentObject),this.manifest.setHasFile(common_constant_1.ProjectFileKeys.ROOT_COMPONENT,common_constant_1.MimeTypes.COMPONENT,componentObject.id)},DesignerMashup.prototype.addDatasource=function(datasource){_super.prototype.addDatasource.call(this,datasource),this.manifest.setHasFile(common_constant_1.ProjectFileKeys.DATASOURCE,common_constant_1.MimeTypes.DATASOURCE,common_constant_1.ProjectFileKeys.DATASOURCE)},DesignerMashup.prototype.addInteraction=function(interaction){_super.prototype.addInteraction.call(this,interaction),this.manifest.setHasFile(common_constant_1.ProjectFileKeys.INTERACTION,common_constant_1.MimeTypes.INTERACTION,common_constant_1.ProjectFileKeys.INTERACTION)},DesignerMashup.prototype.addCustomComponentDefinition=function(customComponent){_super.prototype.addCustomComponentDefinition.call(this,customComponent),this.manifest.setHasFile(common_constant_1.ProjectFileKeys.CUSTOM_COMPONENT,common_constant_1.MimeTypes.CUSTOM_COMPONENT,common_constant_1.ProjectFileKeys.CUSTOM_COMPONENT)},DesignerMashup.prototype.addCompositeComponent=function(compositeComponent){_super.prototype.addCompositeComponent.call(this,compositeComponent),this.manifest.setHasFile(common_constant_1.ProjectFileKeys.COMPOSITE_COMPONENTS,common_constant_1.MimeTypes.COMPOSITE_COMPONENTS,common_constant_1.ProjectFileKeys.COMPOSITE_COMPONENTS)},DesignerMashup.fromObj=function(obj){var entry=mashup_1.Mashup.create(DesignerMashup,designer_manifest_1.DesignerManifest,obj);return obj.questions&&(entry.questions=obj.questions),entry},DesignerMashup}(mashup_1.Mashup);exports.DesignerMashup=DesignerMashup},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CustomFormatters=void 0;var sohoxi_constant_1=__webpack_require__(40),datasource_type_enum_1=__webpack_require__(57),parameter_type_enum_1=__webpack_require__(113);__webpack_require__(92),__webpack_require__(41),__webpack_require__(201),__webpack_require__(77);var date_helper_1=__webpack_require__(272),helper_1=__webpack_require__(15),CustomFormatters=function(){function CustomFormatters(){}return CustomFormatters.DataSourceDescription=function(){return function(row,cell,value,col,item,datagrid){if(item.typedef===datasource_type_enum_1.DatasourceTypeEnum.M3){var m3Datasource=item;if(m3Datasource.operations[0]){var descriptionValue=m3Datasource.operations[0].dataParameters;value=descriptionValue["MI.Program"]+"."+descriptionValue["MI.Transaction"]}else value=""}return value}},CustomFormatters.DataSourceParameterType=function(){return function(row,cell,value,col,item,datagrid){switch(item.parameterType){case parameter_type_enum_1.ParameterTypeEnum.BODY_PART:return"Body(jsonpath)";case parameter_type_enum_1.ParameterTypeEnum.MATRIX:return"Matrix";case parameter_type_enum_1.ParameterTypeEnum.PATH:return"Path";case parameter_type_enum_1.ParameterTypeEnum.QUERY:return"Query";default:return"Output"}}},CustomFormatters.Multi=function(){for(var formatters=[],_i=0;_i<arguments.length;_i++)formatters[_i]=arguments[_i];return function(row,cell,value,col,item,datagrid){return formatters.reduce((function(value,formatter){return formatter(row,cell,value,col,item,datagrid)}),value)}},CustomFormatters.DataPairPresenter=function(dataPairList){return function(row,cell,value,col,item,datagrid){var foundItem=dataPairList.find((function(datapair){return value===datapair.value}));return foundItem?foundItem.name:""}},CustomFormatters.DatasourceSuiteFormatter=function(){return function(row,cell,value,col,item,datagrid){return value.replace("/","")}},CustomFormatters.RequiredFormatter=function(propertyName,checkValue){return void 0===checkValue&&(checkValue=!1),function(row,cell,value,col,item){return(checkValue&&value>=1||!checkValue)&&item.hasOwnProperty(propertyName)&&item[propertyName]?'\n\t\t\t\t<svg class="icon">\n\t\t\t\t\t<use xlink:href="#icon-check"></use>\n\t\t\t\t</svg>\n\t\t\t':""}},CustomFormatters.Date=function(locale){return function(row,cell,value,col,item,datagrid){return CustomFormatters.Datetime(locale,sohoxi_constant_1.DateFormatEnum.Short)(row,cell,value,col,item,datagrid)}},CustomFormatters.Time=function(locale){return function(row,cell,value,col,item,datagrid){return CustomFormatters.Datetime(locale,sohoxi_constant_1.DateFormatEnum.Timestamp)(row,cell,value,col,item,datagrid)}},CustomFormatters.Datetime=function(locale,date){return void 0===date&&(date=sohoxi_constant_1.DateFormatEnum.Datetime),function(row,cell,value,col,item,datagrid){if(helper_1.Helper.isUndefinedEmpty(value))return value;var options={date:date,locale:locale},trimedValue=value.trim(),datetime=date_helper_1.DateHelper.parse(trimedValue,date,locale),result=Soho.Locale.formatDate("Invalid Date"!==datetime.toString()?datetime:trimedValue,options);return-1===result.indexOf("NaN")?result:trimedValue}},CustomFormatters.AbsoluteValue=function(){return function(row,cell,value,col,item,datagrid){var parsedValue=parseInt(value,10);return helper_1.Helper.isUndefinedEmpty(value)||Number.isNaN(parsedValue)?value:(+value%1!=0&&(parsedValue=parseFloat(value)),Math.abs(parsedValue).toString())}},CustomFormatters}();exports.CustomFormatters=CustomFormatters},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FeatureSwitchCtrl=void 0;var common_constant_1=__webpack_require__(3),FeatureSwitchCtrl=function(){function FeatureSwitchCtrl(featureService){this.featureService=featureService}return FeatureSwitchCtrl.prototype.isFeatureTranslationEnabled=function(){return!0},FeatureSwitchCtrl.prototype.isFeatureCatalogEnabled=function(){return this.featureService.isFeatureEnabled(common_constant_1.FeatureIdEnum.ShowFeatureCatalog)},FeatureSwitchCtrl}();exports.FeatureSwitchCtrl=FeatureSwitchCtrl},,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(808),exports.MG=window.MG,exports.WSForm=window.WSForm,delete window.WSForm,exports.WSUserControl=window.WSUserControl,delete window.WSUserControl},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.DesignerManifest=void 0;var isEmpty_1=__importDefault(__webpack_require__(230)),isUndefined_1=__importDefault(__webpack_require__(84)),common_constant_1=__webpack_require__(3),file_metadata_1=__webpack_require__(521),DesignerManifest=function(){function DesignerManifest(arg1,arg2){this.fileMetaData={},!arg2&&arg1&&"object"==typeof arg1?(this.id=arg1.id,this.displayName=arg1.displayName,this.createdBy=arg1.createdBy,this.createdByDisplayName=arg1.createdByDisplayName,this.createdTime=arg1.createdTime,this.lastChangedBy=arg1.lastChangedBy,this.lastChangedByDisplayName=arg1.lastChangedByDisplayName,this.lastChangedTime=arg1.lastChangedTime,this.mashupBoundaries=arg1.mashupBoundaries,this.urlVariables=arg1.urlVariables,this.version=arg1.version,this.description=arg1.description,arg1.fileMetaData&&(this.fileMetaData=arg1.fileMetaData),this.previewImg=arg1.previewImg,this.showTitleBar=arg1.showTitleBar,this.title=arg1.title,this.themeSwitchEnabled=arg1.themeSwitchEnabled,this.defaultTheme=arg1.defaultTheme,this.typeDef=arg1.typeDef):arg1&&(this.id="",this.displayName=arg1,this.description=arg2,this.title=arg1,this.showTitleBar=!0,this.themeSwitchEnabled=!1,this.defaultTheme=common_constant_1.ThemeEnum.LIGHT)}return DesignerManifest.prototype.setHasFile=function(fileKey,mimeType,visibleName){this.fileMetaData[fileKey]||(this.fileMetaData[fileKey]=new file_metadata_1.FileMetaData(visibleName,mimeType))},DesignerManifest.prototype.updateLastChangedInformation=function(newManifest){newManifest?(this.lastChangedBy=newManifest.lastChangedBy,this.lastChangedByDisplayName=newManifest.lastChangedByDisplayName,this.lastChangedTime=newManifest.lastChangedTime):(this.lastChangedBy=common_constant_1.Config.USER.name,this.lastChangedByDisplayName=isUndefined_1.default(common_constant_1.Config.USER.displayName)||isEmpty_1.default(common_constant_1.Config.USER.displayName)?common_constant_1.Config.USER.name:common_constant_1.Config.USER.displayName,this.lastChangedTime=(new Date).getTime())},DesignerManifest}();exports.DesignerManifest=DesignerManifest},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(115)},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.NotifiableComponent=void 0;var debugger_1=__webpack_require__(112);__webpack_require__(80);var feature_switch_ctrl_1=__webpack_require__(134);__webpack_require__(94);var NotifiableComponent=function(_super){function NotifiableComponent(featureSwitchService){return _super.call(this,featureSwitchService)||this}return __extends(NotifiableComponent,_super),NotifiableComponent.prototype.notify=function($data){var result=this.getValidation($data);return $data.callback||(debugger_1.Debugger.log(this,'$data.id="'+$data.id+'" - Notify Children To Update'),this.parentAnnounce={id:$data.id}),result},NotifiableComponent.prototype.getValidation=function($data){return null},NotifiableComponent}(feature_switch_ctrl_1.FeatureSwitchCtrl);exports.NotifiableComponent=NotifiableComponent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DesignerService=void 0,__webpack_require__(149);var instance_event_1=__webpack_require__(85),designer_1=__webpack_require__(955),common_constant_1=__webpack_require__(3);__webpack_require__(324),__webpack_require__(105);var designer_mashup_1=__webpack_require__(132);__webpack_require__(270);var defines_1=__webpack_require__(16);__webpack_require__(76),__webpack_require__(70),__webpack_require__(79),__webpack_require__(426);var DesignerService=function(){function DesignerService(httpService,commonService,themeService){this.httpService=httpService,this.commonService=commonService,this.themeService=themeService,this.viewChangedEvent=new instance_event_1.InstanceEvent,this.projectSettingsChangedEvent=commonService.projectSettingsChangedEvent,this.currentBoundaryChangedEvent=commonService.currentBoundaryChangedEvent,this.currentCanvasThemeChangedEvent=commonService.currentCanvasThemeChangedEvent}return DesignerService.prototype.loadProject=function(projectId,canvasWidth){var promise=this.commonService.loadProject(projectId,canvasWidth);return this.parseAndSetProject(promise,canvasWidth)},DesignerService.prototype.unloadProject=function(){return this.commonService.unloadProject()},DesignerService.prototype.updateCurrentBoundary=function(canvasWidth){this.commonService.updateCurrentBoundary(canvasWidth)},DesignerService.prototype.setView=function(view){var _this=this;this.view=view;var theme=common_constant_1.ThemeEnum.LIGHT;if(view===defines_1.ViewEnum.EDITOR){var currentProject=this.getCurrentProject();currentProject&&(theme=currentProject.manifest.defaultTheme,this.commonService.setCanvasTheme(theme,!0)),theme=common_constant_1.ThemeEnum.DARK}this.themeService.changeThemeCss(theme,!1).finally((function(){_this.viewChangedEvent.raise(view)}))},DesignerService.prototype.getView=function(){return this.view},DesignerService.prototype.requestInfo=function(){var _this=this;return this.requestInfoPromise||(this.requestInfoPromise=designer_1.Designer.info(this.httpService).then((function(designer){return _this.info=designer,designer})).catch((function(e){return _this.requestInfoPromise=null,e}))),this.requestInfoPromise},DesignerService.prototype.getInfo=function(){return this.info},DesignerService.prototype.getCurrentProject=function(){return this.commonService.getCurrentProject()},DesignerService.prototype.getCurrentBoundary=function(){return this.commonService.getCurrentBoundary()},DesignerService.prototype.setCurrentBoundary=function(boundary){return this.commonService.setCurrentBoundary(boundary)},DesignerService.prototype.getCurrentRootComponentInstance=function(){return this.commonService.getCurrentRootComponentInstance()},DesignerService.prototype.setCurrentRootComponentInstance=function(component){this.commonService.setCurrentRootComponentInstance(component)},DesignerService.prototype.getCanvasTheme=function(){return this.commonService.getCurrentTheme()},DesignerService.prototype.setCanvasTheme=function(theme){this.commonService.setCanvasTheme(theme,!0)},DesignerService.prototype.parseAndSetProject=function(promise,canvasWidth){var _this=this;return promise.then((function(jsonMashup){var mashup=designer_mashup_1.DesignerMashup.fromObj(jsonMashup);return _this.commonService.buildPrerequisites(mashup,canvasWidth)}))},DesignerService.add=function(ngModule){ngModule.service(common_constant_1.InjectNames.DESIGNER_SERVICE,DesignerService)},DesignerService.$inject=[common_constant_1.InjectNames.HTTP_SERVICE,common_constant_1.InjectNames.COMMON_SERVICE,common_constant_1.InjectNames.THEME_SERVICE],DesignerService}();exports.DesignerService=DesignerService},function(module,exports,__webpack_require__){"use strict";(function($){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.EditorHelper=void 0;var angular_1=__importDefault(__webpack_require__(12)),common_constant_1=__webpack_require__(3),size_type_enum_1=__webpack_require__(29);__webpack_require__(16);var defines_1=__webpack_require__(65);__webpack_require__(20);var EditorHelper=function(){function EditorHelper(){}return EditorHelper.getComponentSettingsClass=function(componentName){var settingsClass=null;return defines_1.Defines.allSettingsComponents[componentName]&&(settingsClass=defines_1.Defines.allSettingsComponents[componentName].settingsClass.getInstance()),settingsClass},EditorHelper.updateParentComponentSizeClass=function(parentComponent){var parentComponentEirChildren=angular_1.default.element(parentComponent.element).find("eir-children").filter((function(){return 0===$(parentComponent.element).find(".layoutComponent").length}));this.containsBigComponent(parentComponent)?parentComponentEirChildren.attr("class",common_constant_1.ComponentSizeTypes.LARGE):parentComponentEirChildren.attr("class",common_constant_1.ComponentSizeTypes.SMALL)},EditorHelper.containsBigComponent=function(parentComponent){var _this=this;return parentComponent.getDatabearer().children.some((function(child){return _this.isBigComponent(child)}))},EditorHelper.isBigComponent=function(jsonComponent){return jsonComponent.boundarySettings[common_constant_1.DEFAULT_BOUNDARY.id].width.sizeType===size_type_enum_1.SizeTypeEnum.PERCENT},EditorHelper.getUnderlyingComponent=function(component,event,editorService){angular_1.default.element(".id-"+component.getId()).css(common_constant_1.CssConstantKeys.DISPLAY,"none");var componentElement=$(document.elementFromPoint(event.originalEvent.clientX,event.originalEvent.clientY));angular_1.default.element(".id-"+component.getId()).css(common_constant_1.CssConstantKeys.DISPLAY,"");var id=componentElement.attr("id");return id?editorService.getComponentInstanceById(id):component},EditorHelper.swap=function(array,firstIndex,secondIndex){var temporaryItem=array[firstIndex];array[firstIndex]=array[secondIndex],array[secondIndex]=temporaryItem},EditorHelper.moveByIndex=function(array,startIndex,endIndex){var tempItem=array[startIndex];array.splice(startIndex,1),array.splice(endIndex,0,tempItem)},EditorHelper.findIndex=function(array,itemId){for(var index=0;index<array.length;index++)if(array[index].id===itemId)return index;return-1},EditorHelper.updateDOMTreeElement=function(componentId){$("#"+componentId).trigger("resize")},EditorHelper.isOverflowed=function(element){return element.scrollHeight>element.clientHeight||element.scrollWidth>element.clientWidth},EditorHelper.itemUnique=function(targetItem,items){return!items.some((function(element,index,array){return element.id?element.id.toLowerCase()===targetItem.id.toLowerCase():element.manifest.id.toLowerCase()===targetItem.manifest.id.toLowerCase()}))},EditorHelper}();exports.EditorHelper=EditorHelper}).call(this,__webpack_require__(21))},,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.LanguageService=void 0;var angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3),http_verb_enum_1=__webpack_require__(131);__webpack_require__(23),__webpack_require__(532),__webpack_require__(116),__webpack_require__(321);var helper_1=__webpack_require__(15),feature_switch_ctrl_1=__webpack_require__(134);__webpack_require__(80),__webpack_require__(425),__webpack_require__(79);var LanguageService=function(_super){function LanguageService($window,ionApiService,featureSwitchService,httpService,hashService){var _this=_super.call(this,featureSwitchService)||this;return _this.$window=$window,_this.ionApiService=ionApiService,_this.httpService=httpService,_this.hashService=hashService,_this.currentStrings={},_this.supportedLanguages=common_constant_1.LanguageConsts.SUPPORTED_LANGUAGES,_this}return __extends(LanguageService,_super),LanguageService.prototype.initializeLanguageSettings=function(){var _this=this;return this.loadSupportedLanguages().then((function(){_this.detectLanguage(),_this.loadSohoLocale(_this.language)})).finally((function(){return _this.loadGlobalStrings()}))},LanguageService.prototype.loadGlobalStrings=function(language){var _this=this,locale=language||"";return this.httpService.executeGet(common_constant_1.ServerPaths.SETTINGS+"language/"+locale).then((function(strings){_this.currentStrings=strings}))},LanguageService.prototype.getGlobalString=function(name){var stringValue=null;return this.currentStrings.hasOwnProperty(name)&&(stringValue=this.currentStrings[name].Value),stringValue},LanguageService.prototype.addGlobalString=function(stringItem){var savedValue={};return savedValue[this.getLanguage()]=[stringItem],this.saveGlobalStrings(savedValue)},LanguageService.prototype.getCurrentStrings=function(){return this.currentStrings},LanguageService.prototype.fetchGlobalStrings=function(locale){return this.httpService.executeGet(common_constant_1.ServerPaths.SETTINGS+"language/"+locale)},LanguageService.prototype.saveGlobalStrings=function(modifiedStrings){var _this=this;for(var languageKey in modifiedStrings)modifiedStrings[languageKey].forEach((function(globalString){_this.currentStrings[globalString.Name]=globalString}));return this.httpService.executePut(common_constant_1.ServerPaths.SETTINGS+"translation/",modifiedStrings)},LanguageService.prototype.deleteGlobalStrings=function(deletedStrings){var _this=this;for(var languageKey in deletedStrings)deletedStrings[languageKey].forEach((function(globalString){delete _this.currentStrings[globalString.Name]}));return this.httpService.executeDelete(common_constant_1.ServerPaths.SETTINGS+"translation/",deletedStrings)},LanguageService.prototype.changeCurrentLanguage=function(locale){var _this=this;return this.httpService.executePut(common_constant_1.ServerPaths.SETTINGS+"language",locale).then((function(){_this.language=locale;var localStorageValue={locale:locale,username:common_constant_1.Config.USER.name};localStorage.setItem("language",JSON.stringify(localStorageValue))}))},LanguageService.prototype.detectLanguage=function(){var urlSearchParams=this.$window.parent.location.search;this.language=this.getLanguageThroughSearchParams(urlSearchParams)},LanguageService.prototype.getSupportedLanguages=function(){return this.supportedLanguages},LanguageService.prototype.getLanguage=function(){if(this.isFeatureTranslationEnabled()){if(this.language)return this.language;this.detectLanguage()}return this.language},LanguageService.prototype.getLanguageThroughSearchParams=function(urlSearchParams){var language;return language=this.getUrlLanguage(urlSearchParams),!1===this.isValid(language)&&(language=this.getMingleLanguage(urlSearchParams)),!1===this.isValid(language)&&(language=this.getLocalStorageLanguage()),!1===this.isValid(language)&&(language=common_constant_1.Config.LOCALE),!1===this.isValid(language)&&(language=this.getBrowserLanguage()),!1!==this.isValid(language)&&!1!==this.isSupported(language)||(language=this.getDefaultLanguage()),language},LanguageService.prototype.loadSohoLocale=function(locale){var currentLanguage=this.supportedLanguages.find((function(language){return language.key===locale}));return helper_1.Helper.isUndefinedOrNull(currentLanguage)&&(currentLanguage=this.supportedLanguages[0]),Soho.Locale.getLocale(currentLanguage.key,currentLanguage.filename)},LanguageService.prototype.getLocalStorageLanguage=function(){var locale=null,localStorageValue=JSON.parse(localStorage.getItem("language"));return localStorageValue&&common_constant_1.Config.USER.name===localStorageValue.username&&(locale=localStorageValue.locale),locale},LanguageService.prototype.getUrlLanguage=function(urlSearchParams){return helper_1.Helper.parseQueryString(urlSearchParams).$language},LanguageService.prototype.getMingleLanguage=function(urlSearchParams){return helper_1.Helper.parseQueryString(urlSearchParams).inforCurrentLanguage},LanguageService.prototype.getBrowserLanguage=function(){return this.$window.navigator&&this.$window.navigator.language},LanguageService.prototype.getDefaultLanguage=function(){return common_constant_1.LanguageConsts.DEFAULT.key},LanguageService.prototype.isValid=function(language){return!(!language||!/^[a-z0-9-_]+$/i.test(language))},LanguageService.prototype.isSupported=function(language){var _this=this;return this.supportedLanguages.some((function(supportedLanguage){return _this.isEqual(supportedLanguage.key,language)}))},LanguageService.prototype.isEqual=function(supportedLanguageKey,languageKey){return 2===languageKey.length&&(supportedLanguageKey=supportedLanguageKey.substring(0,2)),supportedLanguageKey===languageKey},LanguageService.prototype.loadSupportedLanguages=function(){var _this=this;return this.httpService.executeGet(common_constant_1.ServerPaths.SETTINGS+"supportedLanguages/").then((function(languages){_this.supportedLanguages=languages;var hashedFilenames=_this.hashService.getHashMap();_this.supportedLanguages.forEach((function(language){_this.mapFilenameToSupportedLanguages(language,hashedFilenames)}))}))},LanguageService.prototype.mapFilenameToSupportedLanguages=function(language,cacheBustedFilenames){for(var item in cacheBustedFilenames)if(-1!==cacheBustedFilenames[item].indexOf(language.key)){var re=new RegExp(language.key+".[0-9a-z]*"),isMatch=cacheBustedFilenames[item].match(re);isMatch&&(language.filename=isMatch[0])}},LanguageService.prototype.fetchSupportedMingleLanguages=function(){var _this=this,options={url:"/Mingle/Admin/System/Language",method:http_verb_enum_1.HttpVerbEnum.GET,headers:{}};return this.ionApiService.executeIonApiAsync(options).then((function(response){_this.supportedLanguages=response.data.LanguageList}))},LanguageService.add=function(ngModule){ngModule.service(common_constant_1.InjectNames.LANGUAGE_SERVICE,LanguageService)},LanguageService.$inject=[angular_constants_1.AngularConstants.WINDOW,common_constant_1.InjectNames.ION_API_SERVICE,common_constant_1.InjectNames.FEATURE_SWITCH_SERVICE,common_constant_1.InjectNames.HTTP_SERVICE,common_constant_1.InjectNames.HASH_SERVICE],LanguageService}(feature_switch_ctrl_1.FeatureSwitchCtrl);exports.LanguageService=LanguageService},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.LocalIdoService=void 0;var angular_1=__importDefault(__webpack_require__(12)),common_constant_1=__webpack_require__(3),parameter_type_enum_1=__webpack_require__(113),value_type_enum_1=__webpack_require__(26);__webpack_require__(41),__webpack_require__(201),__webpack_require__(23);var angular_constants_1=__webpack_require__(7),helper_1=__webpack_require__(15);__webpack_require__(79);var LocalIdoService=function(){function LocalIdoService($q,httpService){this.$q=$q,this.httpService=httpService}return LocalIdoService.prototype.getIdoProjectList=function(){var path=common_constant_1.ServerPaths.LOCAL_IDO+"projects";return this.httpService.executeGet(path)},LocalIdoService.prototype.getIdoCollectionList=function(projectName,query,pageNo){var path=common_constant_1.ServerPaths.LOCAL_IDO,parameters={projectName:projectName,query:query,pageNo:pageNo};return this.httpService.executeGet(path,parameters)},LocalIdoService.prototype.getIdoProperties=function(collectionName){var path=common_constant_1.ServerPaths.LOCAL_IDO+"properties/?collectionName="+collectionName;return this.httpService.executeGet(path)},LocalIdoService.prototype.getIdoCollection=function(dataservice,inputParameterValues){var collectionName=dataservice.resource,recordCap=dataservice.recordCap.limit,orderBy="Default Order"===dataservice.orderBy?"":dataservice.orderBy,filterQuery=[],parsedParameters=this.parseParameters(inputParameterValues,dataservice.inputParameters),parameters=angular_1.default.copy(dataservice.outputParameters);for(var key in dataservice.isTestIDO||(parameters=this.initParameters(parameters)),parsedParameters)filterQuery.push(key+" = '"+parsedParameters[key]+"'");var path=common_constant_1.ServerPaths.LOCAL_IDO+"collection/?\n\t\t\tcollectionName="+collectionName+"\n\t\t\t"+(0===filterQuery.length?"":"&filter="+encodeURIComponent(filterQuery.join(" AND ")))+"\n\t\t\t"+(helper_1.Helper.isUndefinedOrNull(recordCap)?"":"&recordCap="+recordCap)+"\n\t\t\t"+(helper_1.Helper.isUndefinedOrNull(orderBy)?"":"&orderBy="+orderBy);return path=helper_1.Helper.cleanTemplateLiteral(path),this.httpService.executeGet(path,parameters)},LocalIdoService.prototype.updateIdoCollectionEntry=function(dataservice,inputParameterValues){var _this=this,parsedParameters=this.parseParameters(inputParameterValues,dataservice.inputParameters);return this.isValidUpsertRequest(parsedParameters).then((function(){var collectionName=dataservice.resource,path=common_constant_1.ServerPaths.LOCAL_IDO+"collection/?\n\t\t\t\t\tcollectionName="+collectionName;return path=helper_1.Helper.cleanTemplateLiteral(path),_this.httpService.executePut(path,JSON.stringify(parsedParameters))}))},LocalIdoService.prototype.insertIdoCollectionEntry=function(dataservice,inputParameterValues){var parsedParameters=this.parseParameters(inputParameterValues,dataservice.inputParameters),collectionName=dataservice.resource,path=common_constant_1.ServerPaths.LOCAL_IDO+"collection/?collectionName="+collectionName;return path=helper_1.Helper.cleanTemplateLiteral(path),this.httpService.executePost(path,JSON.stringify(parsedParameters))},LocalIdoService.prototype.deleteIdoCollectionEntry=function(dataservice,inputParameterValues){var _this=this,parsedParameters=this.parseParameters(inputParameterValues,dataservice.inputParameters),collectionName=dataservice.resource;return this.isValidUpsertRequest(parsedParameters).then((function(){var path=common_constant_1.ServerPaths.LOCAL_IDO+"collection/?collectionName="+collectionName;return path=helper_1.Helper.cleanTemplateLiteral(path),_this.httpService.executeDelete(path,JSON.stringify(parsedParameters))}))},LocalIdoService.prototype.parseParameters=function(parameterValues,parameterNames){var result={},_loop_1=function(key){var targetInput=parameterNames.find((function(inputParameter){return inputParameter.id===key}));targetInput&&!helper_1.Helper.isUndefinedOrNull(parameterValues[key])&&(result[targetInput.key]=parameterValues[key])};for(var key in parameterValues)_loop_1(key);return result},LocalIdoService.prototype.initParameters=function(parameters){if(!parameters.some((function(item){return item.key===common_constant_1.IdoProperties.ROW_POINTER}))){var rowPointer={id:"id",key:common_constant_1.IdoProperties.ROW_POINTER,valueType:value_type_enum_1.ValueTypeEnum.STRING,parameterType:parameter_type_enum_1.ParameterTypeEnum.QUERY,required:!1,alias:""};parameters.push(rowPointer)}return parameters},LocalIdoService.prototype.isValidUpsertRequest=function(parsedParameters){var deferred=this.$q.defer(),isUndefinedEmpty=helper_1.Helper.isUndefinedEmpty;return isUndefinedEmpty(parsedParameters[common_constant_1.IdoProperties.ITEM_ID])&&isUndefinedEmpty(parsedParameters[common_constant_1.IdoProperties.RECORD_DATE])&&isUndefinedEmpty(parsedParameters[common_constant_1.IdoProperties.ROW_POINTER])?deferred.reject(new Error("\n\t\t\tUpdate request must include the ItemId property, or the RecordDate and RowPointer properties.")):deferred.resolve(),deferred.promise},LocalIdoService.add=function(module){module.service(common_constant_1.InjectNames.LOCAL_IDO_SERVICE,LocalIdoService)},LocalIdoService.$inject=[angular_constants_1.AngularConstants.Q,common_constant_1.InjectNames.HTTP_SERVICE],LocalIdoService}();exports.LocalIdoService=LocalIdoService},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProjectService=void 0;var angular_1=__importDefault(__webpack_require__(12)),common_constant_1=__webpack_require__(3),angular_constants_1=__webpack_require__(7),user_control_es_1=__webpack_require__(148),designer_mashup_1=__webpack_require__(132),helper_1=__webpack_require__(15),helper_2=__webpack_require__(544);__webpack_require__(70);var dialog_service_1=__webpack_require__(13);__webpack_require__(79);var ProjectService=function(){function ProjectService($window,httpService,commonService,dialogService){this.$window=$window,this.httpService=httpService,this.commonService=commonService,this.dialogService=dialogService}return ProjectService.prototype.createProject=function(project){var saveData,_this=this;return saveData=project,this.httpService.executePost(common_constant_1.ServerPaths.PROJECT,saveData).then((function(project){_this.commonService.unloadProject();var designerMashup=designer_mashup_1.DesignerMashup.fromObj(project);return _this.commonService.setCurrentProject(designerMashup,!1),designerMashup}))},ProjectService.prototype.duplicate=function(manifest){var _this=this;this.commonService.loadProjects().then((function(projects){var originProject=angular_1.default.copy(manifest),options={title:"Duplicate Project",template:__webpack_require__(957),parameter:helper_2.DesignerHelper.getProposedNewDisplayName(originProject.displayName,projects)};_this.dialogService.show(options).then((function(result){result.button===dialog_service_1.DialogButtonType.Ok&&_this.duplicateProject(originProject.id,result.value).then((function(newId){_this.commonService.onDuplicateProjectChangedEvent.raise()})).catch((function(errorResponse){var message="Failed to duplicate project: "+options.parameter+". Reason: "+errorResponse.message;_this.dialogService.showError("Operation Failed",message)}))}))})).catch((function(error){_this.dialogService.showError("Did not load projects",error.message)}))},ProjectService.prototype.publish=function(projectId,displayName){var _this=this,options={title:"Publish Project",message:"Make App available for selected users.",standardButtons:dialog_service_1.StandardDialogButtons.YesNo};this.dialogService.showMessage(options).then((function(result){result&&result.button===dialog_service_1.DialogButtonType.Yes&&_this.addToRuntime(projectId).then((function(){var options={title:"Published",message:"Successfully published "+displayName,position:"top right",progressBar:!0,timeout:3e3};_this.dialogService.showToast(options)})).catch((function(errorResponse){_this.dialogService.showError("Unsuccessful Publish",errorResponse.message)}))}))},ProjectService.prototype.launchProject=function(projectId){helper_2.DesignerHelper.openRuntime(projectId,this.$window)},ProjectService.prototype.renameProject=function(id,newDisplayName){return this.httpService.executePost(common_constant_1.ServerPaths.PROJECT+"rename/"+id,newDisplayName)},ProjectService.prototype.deleteByIds=function(projectIds){var _this=this;return this.httpService.executeDelete(common_constant_1.ServerPaths.PROJECT+"dashboard/",projectIds).then((function(){var currentProject=_this.commonService.getCurrentProject();currentProject&&(projectIds.find((function(projectId){return projectId===currentProject.getId()}))&&_this.commonService.unloadProject())}))},ProjectService.prototype.deleteById=function(projectId){var _this=this;return this.httpService.executeDelete(common_constant_1.ServerPaths.PROJECT+projectId).then((function(){var currentProject=_this.commonService.getCurrentProject();currentProject&&currentProject.getId()===projectId&&_this.commonService.unloadProject()}))},ProjectService.prototype.export=function(projectId,displayName){var _this=this;if(common_constant_1.Config.MG_PLATFORM===common_constant_1.MGPlatform.WEB){var options={title:"Export Project",template:__webpack_require__(283),parameter:{type:"project",filename:displayName}};this.dialogService.show(options).then((function(result){result.button===dialog_service_1.DialogButtonType.Ok&&_this.exportProject(projectId,result.value)}))}else user_control_es_1.WSForm.call({name:common_constant_1.ABFormScriptMethod.SHOW_SAVE_FILE_DIALOG,parameters:[displayName+".iap","Export Filename","AppBuilder Project (*.iap)|*.iap"],onCompleted:function(filePath){_this.exportProject(projectId,filePath)}})},ProjectService.prototype.exportProject=function(exportProjectId,exportFileName){var resourceName=common_constant_1.ServerPaths.PROJECT+exportProjectId+"/export/";this.httpService.executeGet(resourceName,exportFileName).then((function(exportResult){common_constant_1.Config.MG_PLATFORM===common_constant_1.MGPlatform.WEB&&helper_1.Helper.convertBase64ToSaveableBlob(exportResult.base64,{type:"application/zip"}).saveAs(exportResult.filename)}))},ProjectService.prototype.importProject=function(projectFilePath,replace,newName){void 0===newName&&(newName=null);var url=common_constant_1.ServerPaths.PROJECT+"import/"+replace,data={newDisplayName:newName,filePath:projectFilePath};return this.httpService.executePost(url,data)},ProjectService.prototype.exportProjectContent=function(projectId,contentIds,filePath,saveFlagEnum){this.commonService.exportProjectContent(contentIds,filePath,saveFlagEnum,projectId)},ProjectService.prototype.copyToForm=function(projectId,formName){var url=common_constant_1.ServerPaths.PROJECT+projectId+"/form/";return this.httpService.executePost(url,formName)},ProjectService.prototype.duplicateProject=function(originProjectId,newDisplayName){return this.httpService.executePost(common_constant_1.ServerPaths.PROJECT+"duplicate/"+originProjectId,newDisplayName)},ProjectService.prototype.addToRuntime=function(projectId){return this.httpService.executeGet(common_constant_1.ServerPaths.PROJECT+projectId+"/publish/0")},ProjectService.add=function(ngModule){ngModule.service(common_constant_1.InjectNames.PROJECT_SERVICE,ProjectService)},ProjectService.$inject=[angular_constants_1.AngularConstants.WINDOW,common_constant_1.InjectNames.HTTP_SERVICE,common_constant_1.InjectNames.COMMON_SERVICE,common_constant_1.InjectNames.DIALOG_SERVICE],ProjectService}();exports.ProjectService=ProjectService},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.InteractionManagementService=void 0;var common_constant_1=__webpack_require__(3),binding_type_enum_1=__webpack_require__(30);__webpack_require__(32),__webpack_require__(203),__webpack_require__(23),__webpack_require__(413);var interaction_1=__webpack_require__(130),instance_event_1=__webpack_require__(85);__webpack_require__(46);var helper_1=__webpack_require__(15);__webpack_require__(13);var helper_2=__webpack_require__(69);__webpack_require__(28),__webpack_require__(20);var InteractionManagementService=function(){function InteractionManagementService(frameworkService,editorService,dialogService){this.frameworkService=frameworkService,this.editorService=editorService,this.dialogService=dialogService,this.projectInteractionsChanged=new instance_event_1.InstanceEvent}return InteractionManagementService.prototype.runStartupInteractions=function(){this.frameworkService.runStartupInteractions()},InteractionManagementService.prototype.startInteractionWizard=function(component){var _this=this;if(!this.isActive){this.isActive=!0;var options={title:"Create Interaction",parameter:component,template:__webpack_require__(1072),cssClass:"interaction-wizard-dialog",style:"min-width: 450px; min-height: 595px; max-width: 450px;",hideOverlay:!0,draggable:!0};this.dialogService.show(options).finally((function(){_this.isActive=!1}))}},InteractionManagementService.prototype.runInteraction=function(interaction){this.frameworkService.runInteraction(interaction)},InteractionManagementService.prototype.runStartupOnComponent=function(component){var componentInstance=this.editorService.getComponentInstanceById(component.id);this.editorService.getCurrentProject().getInteractions().filter((function(ev){return ev.targetName===componentInstance.getId()&&ev.sourceTriggerName===common_constant_1.InteractionTriggerEnum.STARTUP&&(componentInstance.loadInteraction(ev),!0)}))},InteractionManagementService.prototype.trigger=function(source,triggerName){var _this=this;this.editorService.getCurrentProject().getInteractions().forEach((function(interaction){interaction.sourceName===source.getId()&&interaction.sourceTriggerName===triggerName&&_this.frameworkService.runInteraction(interaction)}))},InteractionManagementService.prototype.createNew=function(sourceComponent,targetComponent){var id=this.generateInteractionId(),interaction=new interaction_1.Interaction({id:id});return sourceComponent&&(interaction.sourceName=sourceComponent.getId(),interaction.sourceTriggerName=sourceComponent.getDefaultTrigger().value),targetComponent&&(interaction.targetName=targetComponent.getId(),interaction.targetActionName=targetComponent.getDefaultAction().value),interaction.displayName=this.getInteractionDisplayName(interaction),this.editorService.getCurrentProject().addInteraction(interaction),this.projectInteractionsChanged.raise(this.editorService.getCurrentProject().getInteractions()),interaction},InteractionManagementService.prototype.generateInteractionId=function(){var interactionIds=this.editorService.getCurrentProject().getInteractions().map((function(interaction){return interaction.getId()}));return interactionIds=interactionIds.filter((function(interactionId){return interactionId})),"Interaction"+helper_2.ComponentsHelper.nextNumber(interactionIds)},InteractionManagementService.prototype.removeInteraction=function(interaction){this.editorService.getCurrentProject().removeInteraction(interaction),this.resetErrorTooltip(interaction.sourceName),this.resetErrorTooltip(interaction.targetName),this.projectInteractionsChanged.raise(this.editorService.getCurrentProject().getInteractions())},InteractionManagementService.prototype.createNewOnTheFly=function(targetActionName,parameters){var jsonInteraction={id:"Ontheflyevent",sourceName:"<onTheFly>",sourceTriggerName:"",targetName:"",targetActionName:targetActionName,parameters:[]};if(parameters)for(var key in parameters){var parameter={targetKey:key,valueSource:{Type:binding_type_enum_1.BindingTypeEnum.STATIC_VALUE,value:parameters[key]}};jsonInteraction.parameters.push(parameter)}return new interaction_1.Interaction(jsonInteraction)},InteractionManagementService.prototype.updateAndSaveParameters=function(sourceKey,value){var urlInteractions=this.getAllInteractionsWithUrlParameter(sourceKey);urlInteractions.forEach((function(interaction){interaction.getParameters().forEach((function(parameter){parameter.valueSource.Type===binding_type_enum_1.BindingTypeEnum.URL_BINDING&&(parameter.valueSource.value=value)}))})),urlInteractions.length>0&&this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.INTERACTIONS)},InteractionManagementService.prototype.getInteractionsWithTarget=function(component){return this.editorService.getCurrentProject().getInteractions().filter((function(interaction){return interaction.targetName===component.getId()}))},InteractionManagementService.prototype.getInteractionDisplayName=function(interaction){var selectedComponent=this.editorService.getSelectedComponent(),sourceComponent=this.editorService.getComponentInstanceById(interaction.sourceName),targetComponent=this.editorService.getComponentInstanceById(interaction.targetName),triggerName="",actionName="",displayName="";if(sourceComponent){var sourceTrigger=sourceComponent.getSourceTriggers().filter((function(sourceTrigger){return sourceTrigger.value===interaction.sourceTriggerName}));if(sourceTrigger.length)triggerName=sourceTrigger[0].name;else{var errorMessage="["+this.constructor.name+"]\n\t\t\t\t\tCould not find display for interaction with source trigger name '"+interaction.sourceTriggerName+"'";console.error(helper_1.Helper.cleanTemplateLiteral(errorMessage))}displayName+=interaction.sourceName===selectedComponent.getId()?"this":sourceComponent.getDisplayName()}else triggerName=this.editorService.getApplicationParent().getDefaultTrigger().name,displayName+=interaction.sourceName,displayName=helper_1.Helper.htmlEncode(displayName);return displayName+="."+(triggerName||""),displayName+=" -> ",targetComponent?(actionName=this.getActionName(targetComponent,interaction),displayName+=helper_1.Helper.htmlEncode(interaction.targetName===selectedComponent.getId()?"this":targetComponent.getDisplayName())):displayName+=interaction.targetName,displayName+="."+(actionName||"")},InteractionManagementService.prototype.getAllInteractionsWithUrlParameter=function(urlVariableName){return this.editorService.getCurrentProject().getInteractions().filter((function(interaction){return interaction.getParameters().find((function(parameter){return parameter.valueSource.Type===binding_type_enum_1.BindingTypeEnum.URL_BINDING&&parameter.valueSource.sourceKey===urlVariableName}))}))},InteractionManagementService.prototype.getActionName=function(component,interaction){return interaction.targetActionName===common_constant_1.InteractionActionEnum.LIST||interaction.targetActionName===common_constant_1.InteractionActionEnum.GET?component.datasource?"Run "+component.datasource.displayName:"":interaction.targetActionName},InteractionManagementService.prototype.resetErrorTooltip=function(componentName){var component=this.frameworkService.getComponentInstance(componentName);component&&component.setErrorTooltip()},InteractionManagementService.add=function(ngModule){ngModule.service(common_constant_1.InjectNames.INTERACTION_MANAGEMENT_SERVICE,InteractionManagementService)},InteractionManagementService.$inject=[common_constant_1.InjectNames.FRAMEWORK_SERVICE,common_constant_1.InjectNames.EDITOR_SERVICE,common_constant_1.InjectNames.DIALOG_SERVICE],InteractionManagementService}();exports.InteractionManagementService=InteractionManagementService},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(113),__webpack_require__(26)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(42)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(520),__webpack_require__(77)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(32)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(3)},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ApplicationParent=void 0;var angular_1=__importDefault(__webpack_require__(12));__webpack_require__(274),__webpack_require__(92),__webpack_require__(23),__webpack_require__(16),__webpack_require__(68);var common_constant_1=__webpack_require__(3);__webpack_require__(44);var size_type_enum_1=__webpack_require__(29),value_type_enum_1=__webpack_require__(26);__webpack_require__(32),__webpack_require__(42),__webpack_require__(522),__webpack_require__(165),__webpack_require__(76),__webpack_require__(46);var layout_component_1=__webpack_require__(275);__webpack_require__(28);var ApplicationParent=function(_super){function ApplicationParent(databearer,element,parent,frameworkService){var _this=_super.call(this,databearer,element,parent,frameworkService)||this;return _this.currentTheme=1,_this.manifest=frameworkService.getCurrentProject().getManifest(),_this.language=frameworkService.getCurrentLanguage(),_this.language&&(_this.languageShort=_this.language.substr(0,2)),_this.userName=common_constant_1.Config.USER.name,_this.userDescription=common_constant_1.Config.USER.displayName,_this.timestamp=Date.now(),_this.getScope().componentInstance=_this,_this}return __extends(ApplicationParent,_super),ApplicationParent.createSpoofedElement=function(scope){var element=angular_1.default.element("<div></div>");return element.data("eir-scope",scope),element},ApplicationParent.prototype.getId=function(){return this.databearer.id},ApplicationParent.prototype.addChildInstance=function(child){this.children[0]=child},ApplicationParent.prototype.resizableChildren=function(direction){return!1},ApplicationParent.prototype.hasIndividualChildSizes=function(ori){return!!this.manifest.showTitleBar},ApplicationParent.prototype.getContext=function(){return{}},ApplicationParent.prototype.forEachChild=function(fn,doGenerated){},ApplicationParent.prototype.forEachParent=function(fn){},ApplicationParent.prototype.calcNewSizes=function(orientation){this.children&&this.children.length>0&&(this.children[0].calcNewHeight(),this.children[0].calcNewWidth())},ApplicationParent.prototype.getPxPerPercentComponent=function(ori){return 0},ApplicationParent.prototype.updateVisibility=function(){},ApplicationParent.prototype.updateShowError=function(){},ApplicationParent.prototype.getInlineStyle=function(){return{width:"0",height:"0"}},ApplicationParent.applicationParentDatabearer={typedef:"ApplicationParent",id:"Application",displayName:"Application",isReadonly:!1,boundarySettings:{}},ApplicationParent.BINDABLE_FIELDS_2=[{name:"Locale",ref:common_constant_1.SettingKeys.LANGUAGE,valueType:value_type_enum_1.ValueTypeEnum.STRING,write:!1,read:!0},{name:"Language Code",ref:common_constant_1.SettingKeys.LANGUAGE_SHORT,valueType:value_type_enum_1.ValueTypeEnum.STRING,write:!1,read:!0},{name:"User Name",ref:common_constant_1.SettingKeys.USER_NAME,valueType:value_type_enum_1.ValueTypeEnum.STRING,write:!1,read:!0},{name:"User Description",ref:common_constant_1.SettingKeys.USER_DESCRIPTION,valueType:value_type_enum_1.ValueTypeEnum.STRING,write:!1,read:!0},{name:"Current Timestamp",ref:common_constant_1.SettingKeys.TIMESTAMP,valueType:value_type_enum_1.ValueTypeEnum.STRING,write:!1,read:!0}],ApplicationParent.DEFAULT_WIDTH={sizeType:size_type_enum_1.SizeTypeEnum.PERCENT},ApplicationParent.DEFAULT_HEIGHT={sizeType:size_type_enum_1.SizeTypeEnum.PERCENT},ApplicationParent.DEFAULT_TRIGGER=common_constant_1.InteractionPairOperation.ON_STARTUP,ApplicationParent.DEFAULT_ACTION=common_constant_1.InteractionPairOperation.NONE,ApplicationParent.SOURCE_TRIGGERS=[common_constant_1.InteractionPairOperation.ON_STARTUP],ApplicationParent.TARGET_ACTIONS=[common_constant_1.InteractionPairOperation.NONE],ApplicationParent.directive=[function(){return console.debug("[ApplicationParent] Rootcomponent has no directive")}],ApplicationParent}(layout_component_1.LayoutComponent);exports.ApplicationParent=ApplicationParent},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Flexbox=void 0;var angular_1=__importDefault(__webpack_require__(12)),common_constant_1=__webpack_require__(3),interaction_defines_constant_1=__webpack_require__(52),orientation_enum_1=__webpack_require__(44),size_type_enum_1=__webpack_require__(29),component_1=__webpack_require__(46),layout_component_1=__webpack_require__(275),helper_1=__webpack_require__(69);__webpack_require__(28);var Flexbox=function(_super){function Flexbox(obj,$element,parent,frameworkService){var _this=_super.call(this,obj,$element,parent,frameworkService)||this;return _this.isFlexParent=!1,obj&&(_this.border=obj.border?obj.border:{left:0,top:0,right:0,bottom:0},_this.borderColor=obj.borderColor),_this.updateIsFlexParent(),_this}return __extends(Flexbox,_super),Flexbox.prototype.getDatabearer=function(){return this.databearer},Flexbox.prototype.updateIsFlexParent=function(){this.isFlexParent=this.databearer.children.some((function(child){return child.typedef===Flexbox.name}))},Flexbox.prototype.isParent=function(){return this.isFlexParent},Flexbox.prototype.clear=function(){this.children.forEach((function(component){component.clear()}))},Flexbox.prototype.getAlignment=function(){var horizAlignment=this.getBoundarySetting(common_constant_1.SettingKeys.ALIGNMENT_HORIZONTAL),verticAlignment=this.getBoundarySetting(common_constant_1.SettingKeys.ALIGNMENT_VERTICAL);return{"justify-content":this.getAlignmentProperty(this.orientation===orientation_enum_1.OrientationEnum.HORIZONTAL?horizAlignment:verticAlignment),"align-items":this.getAlignmentProperty(this.orientation===orientation_enum_1.OrientationEnum.HORIZONTAL?verticAlignment:horizAlignment)}},Flexbox.prototype.getAlignmentProperty=function(alignment){var alignmentProperty;switch(alignment){case common_constant_1.AlignmentEnum.FLEX_START:alignmentProperty="flex-start";break;case common_constant_1.AlignmentEnum.CENTER:alignmentProperty="center";break;case common_constant_1.AlignmentEnum.FLEX_END:alignmentProperty="flex-end";break;default:console.warn("[Flexbox] Invalid alignment:"+alignment)}return alignmentProperty},Flexbox.prototype.getInlineStyle=function(){var generalComponentStyle=_super.prototype.getInlineStyle.call(this),backgroundColor=this.getBoundarySetting(common_constant_1.SettingKeys.BACKGROUND_COLOR)||this.getDatabearer().backgroundColor,style=__assign(__assign({},generalComponentStyle),{backgroundColor:void 0===backgroundColor?"":backgroundColor,padding:null,width:"",height:""});if(this.sizeType===common_constant_1.FlexSizeTypeEnum.PIXELS){var value=this.size+"px";style.flexGrow=0,style.flexShrink=0,style.flexBasis=value}else style.flexShrink=1,style.flexBasis="auto",style.flexGrow=this.size;return style},Flexbox.prototype.getClassList=function(){var classes=_super.prototype.getClassList.call(this);switch(this.getBoundarySetting(common_constant_1.SettingKeys.OVERFLOW)){case common_constant_1.FlexOverflowEnum.WRAP:classes.push("overflowWrap");break;case common_constant_1.FlexOverflowEnum.SCROLL:classes.push("overflowScroll")}return classes},Flexbox.prototype.updateChildrenClasses=function(){var childrenHasPercentSizes=this.databearer.children.some((function(child){return child.boundarySettings[common_constant_1.DEFAULT_BOUNDARY.id].width.sizeType===size_type_enum_1.SizeTypeEnum.PERCENT}));return this.childrenClasses=childrenHasPercentSizes?common_constant_1.ComponentSizeTypes.LARGE:common_constant_1.ComponentSizeTypes.SMALL,this.childrenClasses},Flexbox.prototype.resizableChildren=function(_ori){return!1},Flexbox.prototype.getPxPerPercentComponent=function(ori,_percent){var pixels=0;return ori===orientation_enum_1.OrientationEnum.VERTICAL&&this.children.forEach((function(child){child.getBoundarySetting(common_constant_1.SettingKeys.VISIBILITY)&&child.getBoundarySetting(common_constant_1.SettingKeys.HEIGHT).sizeType===size_type_enum_1.SizeTypeEnum.AUTO&&(pixels+=child.element.outerHeight(!0))}),!1),pixels},Flexbox.prototype.hasIndividualChildSizes=function(_ori){return!0},Flexbox.prototype.updateClassesAndStyle=function(){var boundaryId=this.frameworkService.getCurrentBoundary().id;this.orientation=this.getOrientationSetting(boundaryId),this.sizeType=this.getBoundarySetting(common_constant_1.SettingKeys.SIZE_TYPE,boundaryId),this.size=this.getBoundarySetting(common_constant_1.SettingKeys.SIZE,boundaryId),this.styleOptions=angular_1.default.extend({},this.getAlignment(),this.getPadding(),this.getBorder()),this.updateChildrenClasses(),_super.prototype.updateClassesAndStyle.call(this)},Flexbox.prototype.getBorder=function(){var _a,_b,_c,_d,borderColor=this.borderColor?this.borderColor:"transparent";return{"border-top":(null===(_a=this.border)||void 0===_a?void 0:_a.top)+"px solid "+borderColor,"border-bottom":(null===(_b=this.border)||void 0===_b?void 0:_b.bottom)+"px solid "+borderColor,"border-right":(null===(_c=this.border)||void 0===_c?void 0:_c.right)+"px solid "+borderColor,"border-left":(null===(_d=this.border)||void 0===_d?void 0:_d.left)+"px solid "+borderColor}},Flexbox.prototype.getOrientationSetting=function(boundaryId){var orientation=this.getBoundarySetting(common_constant_1.SettingKeys.ORIENTATION,boundaryId);return orientation||(orientation=helper_1.ComponentsHelper.getDefaultComponentSettingValue(Flexbox.SETTING_FIELDS,common_constant_1.SettingKeys.ORIENTATION,"Orientation")),orientation},Flexbox.availableOrientations=[{name:"Vertical",value:orientation_enum_1.OrientationEnum.VERTICAL},{name:"Horizontal",value:orientation_enum_1.OrientationEnum.HORIZONTAL}],Flexbox.availableHorizontalAlignments=[{name:"Left",value:common_constant_1.AlignmentEnum.FLEX_START},{name:"Center",value:common_constant_1.AlignmentEnum.CENTER},{name:"Right",value:common_constant_1.AlignmentEnum.FLEX_END}],Flexbox.availableVerticalAlignments=[{name:"Top",value:common_constant_1.AlignmentEnum.FLEX_START},{name:"Middle",value:common_constant_1.AlignmentEnum.CENTER},{name:"Bottom",value:common_constant_1.AlignmentEnum.FLEX_END}],Flexbox.availableFlexSizeTypes=[{name:"Relative",value:common_constant_1.FlexSizeTypeEnum.FLEX},{name:"Pixel",value:common_constant_1.FlexSizeTypeEnum.PIXELS}],Flexbox.availableOverflows=[{name:"Hidden",value:common_constant_1.FlexOverflowEnum.HIDDEN},{name:"Wrap",value:common_constant_1.FlexOverflowEnum.WRAP},{name:"Scroll",value:common_constant_1.FlexOverflowEnum.SCROLL}],Flexbox.DEFAULT_WIDTH={sizeType:size_type_enum_1.SizeTypeEnum.PERCENT},Flexbox.DEFAULT_HEIGHT={sizeType:size_type_enum_1.SizeTypeEnum.AUTO},Flexbox.SOURCE_TRIGGERS=interaction_defines_constant_1.InteractionDefines.SOURCE_TRIGGERS,Flexbox.TARGET_ACTIONS=[common_constant_1.InteractionPairOperation.GET,common_constant_1.InteractionPairOperation.CLEAR],Flexbox.DEFAULT_TRIGGER=common_constant_1.InteractionPairOperation.ON_LOAD,Flexbox.DEFAULT_ACTION=common_constant_1.InteractionPairOperation.GET,Flexbox.BINDABLE_FIELDS_2=[],Flexbox.SETTING_FIELDS=[{title:"Orientation",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{ref:common_constant_1.SettingKeys.ORIENTATION,boundarySetting:!0,inputType:common_constant_1.SettingInputKeys.RADIO,dataset:Flexbox.availableOrientations,defaultValue:orientation_enum_1.OrientationEnum.VERTICAL}]},{title:"Width",tab:common_constant_1.SidebarTabTypes.STYLE,condition:"parent.orientation === "+orientation_enum_1.OrientationEnum.HORIZONTAL,settings:[{ref:common_constant_1.SettingKeys.SIZE_TYPE,boundarySetting:!0,inputType:common_constant_1.SettingInputKeys.RADIO,dataset:Flexbox.availableFlexSizeTypes,defaultValue:common_constant_1.FlexSizeTypeEnum.FLEX},{title:"Value",ref:common_constant_1.SettingKeys.SIZE,boundarySetting:!0,inputType:common_constant_1.SettingInputKeys.TEXT,defaultValue:1}]},{title:"Height",tab:common_constant_1.SidebarTabTypes.STYLE,condition:"parent.orientation === "+orientation_enum_1.OrientationEnum.VERTICAL,settings:[{ref:common_constant_1.SettingKeys.SIZE_TYPE,boundarySetting:!0,inputType:common_constant_1.SettingInputKeys.RADIO,dataset:Flexbox.availableFlexSizeTypes,defaultValue:common_constant_1.FlexSizeTypeEnum.FLEX},{title:"Value",ref:common_constant_1.SettingKeys.SIZE,boundarySetting:!0,inputType:common_constant_1.SettingInputKeys.TEXT,defaultValue:1}]},{title:"Overflow",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{ref:common_constant_1.SettingKeys.OVERFLOW,boundarySetting:!0,inputType:common_constant_1.SettingInputKeys.RADIO,dataset:Flexbox.availableOverflows,defaultValue:common_constant_1.FlexOverflowEnum.HIDDEN}]},{title:"Background Color",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{ref:common_constant_1.SettingKeys.BACKGROUND_COLOR,boundarySetting:!0,inputType:common_constant_1.SettingInputKeys.COLOR_PICKER,defaultValue:void 0}]},{title:"Alignment",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{title:"Horizontal",ref:common_constant_1.SettingKeys.ALIGNMENT_HORIZONTAL,boundarySetting:!0,dataset:Flexbox.availableHorizontalAlignments,inputType:common_constant_1.SettingInputKeys.DROPDOWN,defaultValue:common_constant_1.AlignmentEnum.FLEX_START},{title:"Vertical",ref:common_constant_1.SettingKeys.ALIGNMENT_VERTICAL,boundarySetting:!0,dataset:Flexbox.availableVerticalAlignments,inputType:common_constant_1.SettingInputKeys.DROPDOWN,defaultValue:common_constant_1.AlignmentEnum.FLEX_START}]},{title:"Border",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{ref:common_constant_1.SettingKeys.BORDER,inputType:common_constant_1.SettingInputKeys.BORDER,defaultValue:{left:0,top:0,right:0,bottom:0}},{title:"Color",ref:common_constant_1.SettingKeys.BORDER_COLOR,inputType:common_constant_1.SettingInputKeys.COLOR_PICKER,defaultValue:void 0}]},{title:"Padding",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{title:"Padding",ref:common_constant_1.SettingKeys.MARGIN,boundarySetting:!0,inputType:common_constant_1.SettingInputKeys.MARGIN,defaultValue:{left:10,top:10,right:10,bottom:10}}]}].concat(component_1.Component.SETTING_FIELDS.filter((function(settingCategory){return!settingCategory.settings.some((function(setting){return setting.ref===common_constant_1.SettingKeys.MARGIN}))}))),Flexbox.directive=[function(){return{template:__webpack_require__(841),replace:!0}}],Flexbox}(layout_component_1.LayoutComponent);exports.Flexbox=Flexbox},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.DatasourceService=void 0;var angular_1=__importDefault(__webpack_require__(12)),isUndefined_1=__importDefault(__webpack_require__(84)),angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3),datasource_type_enum_1=__webpack_require__(57),http_verb_enum_1=__webpack_require__(131);__webpack_require__(79),__webpack_require__(321),__webpack_require__(167);var http_accept_enum_1=__webpack_require__(315);__webpack_require__(41),__webpack_require__(23),__webpack_require__(532);var backward_compatible_1=__webpack_require__(64),error_response_1=__webpack_require__(51);__webpack_require__(114);var generic2_1=__webpack_require__(533),inline_list_1=__webpack_require__(858),local_ido_1=__webpack_require__(859),mongoose_1=__webpack_require__(860),DatasourceService=function(){function DatasourceService($cacheFactory,$q,httpService,ionApiService,localIdoService){this.$cacheFactory=$cacheFactory,this.$q=$q,this.httpService=httpService,this.ionApiService=ionApiService,this.localIdoService=localIdoService,this.cache=this.$cacheFactory("DatasourceService")}return DatasourceService.prototype.getDeferred=function(){return this.$q.defer()},DatasourceService.prototype.localIdoRequest=function(datasource,inputParameterValues){switch(datasource.method){case http_verb_enum_1.HttpVerbEnum.PUT:return this.localIdoService.updateIdoCollectionEntry(datasource,inputParameterValues);case http_verb_enum_1.HttpVerbEnum.POST:return this.localIdoService.insertIdoCollectionEntry(datasource,inputParameterValues);case http_verb_enum_1.HttpVerbEnum.DELETE:return this.localIdoService.deleteIdoCollectionEntry(datasource,inputParameterValues);case http_verb_enum_1.HttpVerbEnum.GET:default:return this.localIdoService.getIdoCollection(datasource,inputParameterValues)}},DatasourceService.prototype.ionApiRequest=function(urlPath,isBinaryResponse,method,data,headers){var _this=this;void 0===isBinaryResponse&&(isBinaryResponse=!1),void 0===method&&(method=http_verb_enum_1.HttpVerbEnum.GET),void 0===data&&(data=null),void 0===headers&&(headers={});var def=this.$q.defer();headers=backward_compatible_1.BackwardCompatible.setDataServiceHeader(headers);var options={url:urlPath,method:method,headers:angular_1.default.copy(headers)};return isBinaryResponse?options.responseType="blob":isUndefined_1.default(options.headers.Accept)&&(options.headers.Accept=http_accept_enum_1.HttpAcceptEnum.ALL),method!==http_verb_enum_1.HttpVerbEnum.GET&&(options.data=data),this.ionApiService.executeIonApiAsync(options).then((function(response){_this.ionApiResponse(def,response.data,isBinaryResponse)})).catch((function(response){var error;if(isBinaryResponse){var fr_1=new FileReader;fr_1.readAsText(response.data),fr_1.onloadend=function(){var data=fr_1.result;try{data=JSON.parse(data)}catch(e){console.warn(e)}response.data=data,error=_this.ionApiResponseError(response),def.reject(error)}}else error=_this.ionApiResponseError(response),def.reject(error)})).catch((function(error){return def.reject(error)})),def.promise},DatasourceService.prototype.ionApiResponseError=function(response){var errorMessage="";return response.data&&response.data.error&&response.data.error.message?(response.data.source&&(errorMessage+="Source: "+response.data.source+"; "),errorMessage+=response.data.error.message):common_constant_1.Numbers.FOUR_HUNDRED<=response.status&&response.status<common_constant_1.Numbers.SIX_HUNDRED?errorMessage=response.status+" "+response.statusText:(console.warn("[Datasource service] Unknown ionApiRequest error",response),errorMessage+="[Datasource service] Unknown ionApiRequest error"),new error_response_1.ErrorResponse(errorMessage,response.status)},DatasourceService.prototype.ionApiResponse=function(def,data,isBinary){if(void 0===isBinary&&(isBinary=!1),isBinary){var fr_2=new FileReader;fr_2.readAsDataURL(data),fr_2.onloadend=function(){def.resolve(fr_2.result)}}else def.resolve(data)},DatasourceService.prototype.parseDatasourceToTS=function(datasourceDatabearer){if(!(2===datasourceDatabearer.version))return console.warn("[Helper] Invalid typedef on ",datasourceDatabearer),null;var generic2Databearer=datasourceDatabearer;switch(datasourceDatabearer.typedef){case datasource_type_enum_1.DatasourceTypeEnum.generic:return new generic2_1.Generic2(generic2Databearer,this);case datasource_type_enum_1.DatasourceTypeEnum.MONGOOSE:return new mongoose_1.Mongoose(generic2Databearer,this);case datasource_type_enum_1.DatasourceTypeEnum.IDO:return new local_ido_1.LocalIdo(datasourceDatabearer,this);case datasource_type_enum_1.DatasourceTypeEnum.INLINE_LIST:return new inline_list_1.InlineList(datasourceDatabearer,this);default:throw Error("Dataservice of type '"+datasourceDatabearer.typedef+"' is not supported")}},DatasourceService.add=function(ngModule){ngModule.service(common_constant_1.InjectNames.DATASOURCE_SERVICE,DatasourceService)},DatasourceService.$inject=[angular_constants_1.AngularConstants.CACHE_FACTORY,angular_constants_1.AngularConstants.Q,common_constant_1.InjectNames.HTTP_SERVICE,common_constant_1.InjectNames.ION_API_SERVICE,common_constant_1.InjectNames.LOCAL_IDO_SERVICE],DatasourceService}();exports.DatasourceService=DatasourceService},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RepositoryService=void 0;var common_constant_1=__webpack_require__(3),angular_constants_1=__webpack_require__(7),error_response_1=__webpack_require__(51);__webpack_require__(284),__webpack_require__(132);var helper_1=__webpack_require__(15);__webpack_require__(70);var dialog_service_1=__webpack_require__(13);__webpack_require__(79),__webpack_require__(167);var RepositoryService=function(){function RepositoryService($q,$window,httpService,commonService,dialogService,localIdoService){this.$q=$q,this.$window=$window,this.httpService=httpService,this.commonService=commonService,this.dialogService=dialogService,this.localIdoService=localIdoService,this.cacheData=[],this.cacheDatasources=[],this.cacheComposites=[]}return RepositoryService.prototype.getDatasources=function(){var _this=this;return this.httpService.executeGet(common_constant_1.ServerPaths.REPOSITORY+common_constant_1.ServerPaths.DATASOURCES).then((function(responseData){return _this.cacheDatasources=[],_this.cacheDatasources=responseData,_this.cacheDatasources}))},RepositoryService.prototype.addDatasources=function(datasources){var path=common_constant_1.ServerPaths.REPOSITORY+common_constant_1.ServerPaths.DATASOURCES;return this.httpService.executePost(path,datasources)},RepositoryService.prototype.updateDatasource=function(datasource){return this.httpService.executePut(common_constant_1.ServerPaths.REPOSITORY+common_constant_1.ServerPaths.DATASOURCES,datasource)},RepositoryService.prototype.deleteDatasources=function(ids){return this.httpService.executeDelete(common_constant_1.ServerPaths.REPOSITORY+common_constant_1.ServerPaths.DATASOURCES+"?"+helper_1.Helper.createQueryParameters(ids,"id"))},RepositoryService.prototype.exportDatasources=function(ids){var _this=this,defaultFilename=helper_1.Helper.getFormattedDate(),options={title:"Export Data Services",template:__webpack_require__(283),parameter:{type:"dataservice",filename:defaultFilename}};this.dialogService.show(options).then((function(result){result.button===dialog_service_1.DialogButtonType.Ok&&_this.commonService.exportProjectContent(ids,result.value,common_constant_1.SaveFlagsEnum.DATASOURCES)}))},RepositoryService.prototype.loadCompositeComponents=function(){return this.httpService.executeGet(common_constant_1.ServerPaths.REPOSITORY+common_constant_1.ServerPaths.COMPOSITE_COMPONENTS)},RepositoryService.prototype.addCompositeComponents=function(compositeComponents){return this.httpService.executePost(common_constant_1.ServerPaths.REPOSITORY+common_constant_1.ServerPaths.COMPOSITE_COMPONENTS,compositeComponents)},RepositoryService.prototype.deleteCompositeComponents=function(ids){return this.httpService.executeDelete(common_constant_1.ServerPaths.REPOSITORY+common_constant_1.ServerPaths.COMPOSITE_COMPONENTS+"?"+helper_1.Helper.createQueryParameters(ids,"id"))},RepositoryService.prototype.updateCompositeComponents=function(compositeComponents){return this.httpService.executePut(common_constant_1.ServerPaths.REPOSITORY+common_constant_1.ServerPaths.COMPOSITE_COMPONENTS,compositeComponents)},RepositoryService.prototype.exportCompositeComponents=function(ids){var _this=this,exportDefaultName=(new Date).toISOString().split("T")[0],options={title:"Export Composite Components",template:__webpack_require__(283),parameter:{type:"composite component",filename:exportDefaultName}};this.dialogService.show(options).then((function(result){result.button===dialog_service_1.DialogButtonType.Ok&&_this.commonService.exportProjectContent(ids,result.value,common_constant_1.SaveFlagsEnum.COMPOSITE_COMPONENTS)}))},RepositoryService.prototype.getIDOs=function(){return this.localIdoService.getIdoCollectionList()},RepositoryService.prototype.getIdoProperties=function(collectionName){return this.localIdoService.getIdoProperties(collectionName)},RepositoryService.prototype.createIDO=function(newCollection){return this.httpService.executePost(""+common_constant_1.ServerPaths.REPOSITORY+common_constant_1.ServerPaths.IDO+"create",newCollection)},RepositoryService.prototype.deleteIDOs=function(idoNames){return this.httpService.executePost(""+common_constant_1.ServerPaths.REPOSITORY+common_constant_1.ServerPaths.IDO+"delete",idoNames)},RepositoryService.prototype.readJsonFile=function(file){var deferredFile=this.$q.defer(),fileReader=new FileReader;return fileReader.readAsText(file),fileReader.onloadend=function(){try{var parsedObject=JSON.parse(fileReader.result);deferredFile.resolve(parsedObject)}catch(e){deferredFile.reject(new error_response_1.ErrorResponse(e.message))}},fileReader.onerror=function(ev){deferredFile.reject(new error_response_1.ErrorResponse("Error reading file"+ev.type))},deferredFile.promise},RepositoryService.prototype.onAllPromises=function(promises){return this.$q.all(promises)},RepositoryService.prototype.newDeferred=function(){return this.$q.defer()},RepositoryService.prototype.getDataByName=function(serverPath){var _this=this;return this.httpService.executeGet(common_constant_1.ServerPaths.REPOSITORY+serverPath).then((function(responseData){return _this.cacheData=[],_this.cacheData=responseData,_this.cacheData}))},RepositoryService.prototype.getCurrentProject=function(){return this.commonService.getCurrentProject()},RepositoryService.prototype.getLanguage=function(){return this.commonService.getLanguage()},RepositoryService.add=function(ngModule){ngModule.service(common_constant_1.InjectNames.REPOSITORY_SERVICE,RepositoryService)},RepositoryService.$inject=[angular_constants_1.AngularConstants.Q,angular_constants_1.AngularConstants.WINDOW,common_constant_1.InjectNames.HTTP_SERVICE,common_constant_1.InjectNames.COMMON_SERVICE,common_constant_1.InjectNames.DIALOG_SERVICE,common_constant_1.InjectNames.LOCAL_IDO_SERVICE],RepositoryService}();exports.RepositoryService=RepositoryService},function(module,exports,__webpack_require__){"use strict";(function($){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.WizardDirective=exports.WizardCtrl=void 0,__webpack_require__(32),__webpack_require__(16),__webpack_require__(432);var dialog_service_1=__webpack_require__(13);__webpack_require__(94);var notifiable_component_1=__webpack_require__(151);__webpack_require__(80);var WizardCtrl=function(_super){function WizardCtrl($scope,$element,$templateCache,featureService){var _this=_super.call(this,featureService)||this;return _this.$scope=$scope,_this.$element=$element,_this.$templateCache=$templateCache,_this.nextDisabled=!0,_this.backDisabled=!0,_this.errorList=[],_this.dialog=$scope.eirDialog,_this}return __extends(WizardCtrl,_super),Object.defineProperty(WizardCtrl.prototype,"ErrorList",{get:function(){return this.nextDisabled=0!==this.errorList.length,this.errorList},enumerable:!1,configurable:!0}),WizardCtrl.prototype.initWizard=function(){this.initTemplates(this.steps);var ticks=this.initTicks(this.steps);this.initWizardElement(ticks),this.setCurrentStep(this.steps[0])},WizardCtrl.prototype.initWizardElement=function(ticks){var _this=this;this.wizardElement=this.$element.find(".wizard"),this.$scope.$applyAsync((function(){_this.wizardElement.wizard({ticks:ticks}),_this.wizardElement.on("activated",(function(event,element){_this.$scope.$evalAsync((function(){var selectedTick=_this.wizardElement.data(WizardCtrl.dataKeyWizard).ticks.index(element);_this.setCurrentStep(_this.steps[selectedTick]),_this.onChangeCurrentStep()}))})),_this.wizardElement.on("beforeactivate",(function(event,tick){return!_this.nextDisabled&&tick})),$.each(_this.wizardElement.find("a"),(function(index,element){$(element).removeAttr("href")}))}))},WizardCtrl.prototype.setCurrentStep=function(step){this.currentStep=step,this.updateBackDisabled()},WizardCtrl.prototype.initTicks=function(steps){var ticks=[];return steps.forEach((function(step,index){ticks.push({state:0===index?"current":"",label:step.title})})),ticks},WizardCtrl.prototype.initTemplates=function(steps){var _this=this;steps.forEach((function(step){_this.$templateCache.get(step.id)||_this.$templateCache.put(step.id,step.template)}))},WizardCtrl.prototype.getEndStep=function(){return this.steps[this.steps.length-1]},WizardCtrl.prototype.updateWizardTick=function(step){var tickIndex=this.steps.indexOf(step);this.wizardElement.data(WizardCtrl.dataKeyWizard).select(tickIndex)},WizardCtrl.prototype.selectWizardStepByIndex=function(newStepIndex){0<=newStepIndex&&newStepIndex<this.steps.length&&this.selectWizardStep(this.steps[newStepIndex])},WizardCtrl.prototype.selectWizardStep=function(step){this.updateWizardTick(step),this.setCurrentStep(step),this.onChangeCurrentStep()},WizardCtrl.prototype.updateBackDisabled=function(){this.backDisabled=this.currentStep===this.steps[0]},WizardCtrl.prototype.next=function(){if(this.currentStep===this.getEndStep()){var result={button:dialog_service_1.DialogButtonType.Ok,value:this.getFinishParameter()};this.close(result)}else{var nextStepIndex=this.steps.indexOf(this.currentStep)+1;this.selectWizardStep(this.steps[nextStepIndex])}},WizardCtrl.prototype.back=function(){var previousStepIndex=this.steps.indexOf(this.currentStep)-1;this.selectWizardStep(this.steps[previousStepIndex])},WizardCtrl.prototype.cancel=function(){this.close({button:dialog_service_1.DialogButtonType.Cancel})},WizardCtrl.prototype.close=function(parameter){this.dialog.close(parameter)},WizardCtrl.prototype.getValidation=function($data){return null},WizardCtrl.dataKeyWizard="wizard",WizardCtrl}(notifiable_component_1.NotifiableComponent);exports.WizardCtrl=WizardCtrl;var WizardDirective=function(){function WizardDirective(){this.restrict="E",this.template=__webpack_require__(966),this.scope=!0}return WizardDirective.add=function(m){m.directive("eirWizard",(function(){return new WizardDirective}))},WizardDirective}();exports.WizardDirective=WizardDirective}).call(this,__webpack_require__(21))},,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DataServiceHelper=void 0;var parameter_type_enum_1=__webpack_require__(113),DataServiceHelper=function(){function DataServiceHelper(){}return DataServiceHelper.getNextId=function(){return(DataServiceHelper.id++).toString()},DataServiceHelper.parse=function(resourceUrl){DataServiceHelper.id=0;var _a=DataServiceHelper.deconstructPath(resourceUrl),path=_a[0],matrix=_a[1],query=_a[2],pathParameters=DataServiceHelper.getPathParameters(path),matrixParameters=DataServiceHelper.getSpecificParameters(matrix,parameter_type_enum_1.ParameterTypeEnum.MATRIX),queryParameters=DataServiceHelper.getSpecificParameters(query,parameter_type_enum_1.ParameterTypeEnum.QUERY);return pathParameters.concat(matrixParameters,queryParameters)},DataServiceHelper.deconstructPath=function(resourceUrl){var pathMatch=resourceUrl.match(/^\/?[^;?]+/),matrixMatch=resourceUrl.match(/;[^?]+/),queryMatch=resourceUrl.match(/\?[^#]+/),hashMatch=resourceUrl.match(/#.+/);return[pathMatch?pathMatch[0]:"",matrixMatch?matrixMatch[0]:"",queryMatch?queryMatch[0]:"",hashMatch?hashMatch[0]:""]},DataServiceHelper.getURLVariable=function(key,paramType){var value;switch(paramType){case void 0:case parameter_type_enum_1.ParameterTypeEnum.PATH:value="{"+encodeURIComponent(key)+"}";break;case parameter_type_enum_1.ParameterTypeEnum.MATRIX:case parameter_type_enum_1.ParameterTypeEnum.QUERY:value=encodeURIComponent(key)+"={"+encodeURIComponent(key)+"}";break;default:value=key}return value},DataServiceHelper.getPathParameters=function(resourceUrl){var _this=this,regexp=new RegExp("/"+this.urlComponentRegexBracket,"g"),result=resourceUrl.match(regexp);return result?result.map((function(item){return{id:DataServiceHelper.getNextId(),key:decodeURIComponent(item.match(new RegExp(_this.urlComponentRegex))[0]),valueType:null,parameterType:parameter_type_enum_1.ParameterTypeEnum.PATH,required:!0,alias:""}})):[]},DataServiceHelper.getSpecificParameters=function(queryPath,type){var _this=this,regexp=new RegExp(this.urlComponentRegex+"="+this.urlComponentRegexBracket,"g"),result=queryPath.match(regexp),output=[];return result&&(output=result.map((function(item){return{id:DataServiceHelper.getNextId(),key:decodeURIComponent(item.match(new RegExp(_this.urlComponentRegex))[0]),valueType:null,parameterType:type,required:!1,alias:""}}))),output},DataServiceHelper.validate=function(resourceUrl){var result=!0,_a=DataServiceHelper.deconstructPath(resourceUrl),path=_a[0],matrix=_a[1],query=_a[2];_a[3];return path.length>0&&(result=DataServiceHelper.validatePath(path)),matrix.length>0&&(result=result&&DataServiceHelper.validateUrlPart(matrix,parameter_type_enum_1.ParameterTypeEnum.MATRIX)),query.length>0&&(result=result&&DataServiceHelper.validateUrlPart(query,parameter_type_enum_1.ParameterTypeEnum.QUERY)),result},DataServiceHelper.validatePath=function(path){var _this=this;return 0===path.split("/").filter(DataServiceHelper.emptyItem).filter((function(item){var pathRegex=new RegExp("^"+_this.urlComponentRegexBracket+"$|^"+_this.urlComponentRegex+"$");return null===item.match(pathRegex)})).length},DataServiceHelper.validateUrlPart=function(query,type){var _this=this,deliminator=type===parameter_type_enum_1.ParameterTypeEnum.MATRIX?";":new RegExp(/[?&]/);return 0===query.split(deliminator).filter(DataServiceHelper.emptyItem).filter((function(item){if(-1===item.indexOf("="))return!0;var elem=item.split("=").filter(DataServiceHelper.emptyItem);if(2!==elem.length)return!0;var nameMatch=elem[0].match("^"+_this.urlComponentRegex+"$");return!nameMatch||((nameMatch=elem[1].match("^"+_this.urlComponentRegexBracket+"$"))?!item.match(new RegExp("^("+_this.urlComponentRegex+")={\\1}$")):null===elem[1].match("^"+_this.urlComponentRegex+"$"))})).length},DataServiceHelper.emptyItem=function(item){return item.length>0},DataServiceHelper.urlComponentRegex="[^{}/=?&;]+",DataServiceHelper.urlComponentRegexBracket="{"+DataServiceHelper.urlComponentRegex+"}",DataServiceHelper}();exports.DataServiceHelper=DataServiceHelper},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";(function($){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Datagrid=void 0;var angular_1=__importDefault(__webpack_require__(12)),isNumber_1=__importDefault(__webpack_require__(418)),isUndefined_1=__importDefault(__webpack_require__(84)),angular_constants_1=__webpack_require__(7),helper_1=__webpack_require__(15);__webpack_require__(76);var dialog_service_1=__webpack_require__(13),datagrid_helper_1=__webpack_require__(93),component_1=__webpack_require__(46),helper_2=__webpack_require__(69);__webpack_require__(28);var common_constant_1=__webpack_require__(3),interaction_defines_constant_1=__webpack_require__(52),sohoxi_constant_1=__webpack_require__(40),binding_type_enum_1=__webpack_require__(30),size_type_enum_1=__webpack_require__(29),value_type_enum_1=__webpack_require__(26),backward_compatible_1=__webpack_require__(64),Datagrid=function(_super){function Datagrid(obj,$element,parent,frameworkService){var _this=_super.call(this,obj,$element,parent,frameworkService)||this;return _this.showDatagrid=!0,_this.selectHandler=function(e,args){e.target.id==="datagrid-"+_this.getId()&&_this.onItemSelected(args)},_this.changeHandler=function(e,args){_this.onItemChanged(args)},_this.settingsChangedHandler=function(e,args){_this.onSettingsChanged(args)},_this.rerenderTbody=function(e,args){var datagridApi=_this.getSohoXiApi(),pagerInfo=datagridApi.pagerAPI.state;datagridApi.render(null,pagerInfo),datagridApi.afterPaging(pagerInfo)},_this.SOURCE_SETTING=function(request,response){var matches=[];_this.autocompleteSource.forEach((function(dataItem){-1!==dataItem.toLowerCase().indexOf(request.toLowerCase())&&matches.push(dataItem)})),response(request,matches)},obj&&(_this.keepSelected=obj.keepSelected,_this.rowCount=obj.rowCount||!1,_this.filterBar=obj.filterBar,_this.showLabel=backward_compatible_1.BackwardCompatible.getShowLabel(obj),_this.enableExport=obj.enableExport||!1),_this.initiateDatagridOptions(obj),_this.getScope().$on(angular_constants_1.AngularConstants.DESTROY,(function(){_this.detachEvents()})),_this.initClasses(),_this}return __extends(Datagrid,_super),Object.defineProperty(Datagrid.prototype,"isReadonly",{set:function(value){this.databearer.isReadonly=value,this.refreshDatagrid()},enumerable:!1,configurable:!0}),Object.defineProperty(Datagrid.prototype,"usePaging",{set:function(value){this.databearer.usePaging=value,this.togglePager(),this.refreshDatagrid()},enumerable:!1,configurable:!0}),Object.defineProperty(Datagrid.prototype,"pageSize",{set:function(value){this.databearer.pageSize=value,this.refreshDatagrid()},enumerable:!1,configurable:!0}),Object.defineProperty(Datagrid.prototype,"isList",{set:function(value){this.databearer.isList=value,this.refreshDatagrid()},enumerable:!1,configurable:!0}),Object.defineProperty(Datagrid.prototype,"rowCount",{get:function(){return this.databearer.rowCount},set:function(value){this.databearer.rowCount=value,this.setRowCountOutput()},enumerable:!1,configurable:!0}),Object.defineProperty(Datagrid.prototype,"multiSelect",{get:function(){return this.databearer.multiSelect},set:function(value){this.databearer.multiSelect=value,this.toggleMultiSelection(),this.refreshDatagrid()},enumerable:!1,configurable:!0}),Datagrid.prototype.setBoundarySettingIfChanged=function(settingId){_super.prototype.setBoundarySettingIfChanged.call(this,settingId),settingId===common_constant_1.SettingKeys.SHOW_LABEL&&this.toggleToolbar()},Datagrid.prototype.initializeBindings=function(){_super.prototype.initializeBindings.call(this),this.updateValuesWithTranslations()},Datagrid.prototype.onChildrenReady=function(){this.updateValuesWithTranslations()},Datagrid.prototype.updateValuesWithTranslations=function(){var _this=this;this.databearer.columns.forEach((function(column){var translatedTitle=_this.frameworkService.getTranslatableStringByProperty(_this.getId(),column.id);if(translatedTitle){var globalString=_this.frameworkService.getGlobalValue(translatedTitle,_this);globalString?(column.value=translatedTitle,column.name=helper_1.Helper.htmlEncode(globalString)):column.name=helper_1.Helper.htmlEncode(translatedTitle)}if(column.text){var translatedCellText=_this.frameworkService.getTranslatableStringByProperty(_this.getId(),column.id+"CellText");translatedCellText&&(column.text=translatedCellText)}_this.refreshSubstitutions(column)})),this.refreshColumns(this.databearer.columns),this.refreshDatagridTriggers()},Datagrid.prototype.refreshDatagrid=function(){this.detachEvents(),this.getSohoXiApi().emptyMessage=null,this.showDatagrid=!1;var databearer=this.databearer;this.setDatagridOptions(databearer),this.showDatagrid=!0,this.updateGrid(),this.getSohoXiApi().rowHeight(this.getBoundarySetting(common_constant_1.SettingKeys.ROW_HEIGHT)),this.attachEvents(),this.updateClassesAndStyle(),this.setSummaryRowOutput(),this.setRowCountOutput()},Datagrid.prototype.setDatagridOptions=function(datagridBearer,initial){void 0===initial&&(initial=!1),this.setColumnSettings();var columnDefinitions=angular_1.default.copy(datagridBearer.columns),hasSummaryRow=this.shouldHaveSummaryRow(datagridBearer),selectType=this.getSelectType(datagridBearer),options={dataset:initial?[]:this.datagridOptions.dataset,columns:columnDefinitions,saveColumns:!initial&&this.datagridOptions.saveColumns,rowHeight:this.getBoundarySetting(common_constant_1.SettingKeys.ROW_HEIGHT),isList:datagridBearer.isList,paging:datagridBearer.usePaging,pagesize:datagridBearer.pageSize||common_constant_1.Numbers.TWENTYFIVE,selectable:selectType,editable:!0,showDirty:!0,showSelectAllCheckBox:!1,enableTooltips:!0,summaryRow:hasSummaryRow,toolbar:{results:datagridBearer.rowCount,keywordFilter:!0}};this.datagridOptions=options,this.previousAttributes={row:null,activePage:null,sortOrder:null}},Datagrid.prototype.loadInteraction=function(interaction){var _this=this,interactionPromise=_super.prototype.loadInteraction.call(this,interaction);return interaction.targetActionName===common_constant_1.InteractionActionEnum.LIST&&interactionPromise.then((function(listResult){_this.frameworkService.getTimeout()((function(){_this.detachEvents(),_this.datagridOptions.dataset=listResult,_this.setSummaryRowOutput(),_this.setRowCountOutput(),_this.updateGrid(),_this.attachEvents(),listResult.length>0&&(angular_1.default.extend(_this.getContext(),listResult[0]),_this.setSelection(),_this.substituteValues())}),common_constant_1.Numbers.TEN)})).catch((function(){_this.datagridOptions.dataset=[]})),interactionPromise},Datagrid.prototype.export=function(){var _this=this,options={title:"Export to file",template:__webpack_require__(837)};this.frameworkService.openComponentDialog(options).then((function(result){if(result.button===dialog_service_1.DialogButtonType.Ok){var api=_this.getSohoXiApi();switch(result.value.exportType){case common_constant_1.DatagridExportTypes.EXCEL:api.exportToExcel(result.value.exportName);break;case common_constant_1.DatagridExportTypes.CSV:api.exportToCsv(result.value.exportName)}}}))},Datagrid.prototype.setSummaryRowOutput=function(){var _this=this;this.summaryOutput={};var output=[];this.datagridOptions.columns.forEach((function(column){column.summarize&&output.push({name:column.name,field:column.field,value:0})})),this.datagridOptions.dataset.forEach((function(row){output.forEach((function(summary){var value=row[summary.field],parsedValue=value%1==0?Number.parseInt(value,10):Number.parseFloat(value);isNaN(parsedValue)||(summary.value+=parsedValue,_this.summaryOutput[summary.name]=summary.value)}))}))},Datagrid.prototype.setRowCountOutput=function(){this.rowCountOutput={},this.rowCount&&this.datagridOptions&&(this.rowCountOutput.count=this.datagridOptions.dataset.length)},Datagrid.prototype.getSelectType=function(databearer){return!!databearer.isReadonly&&(this.databearer.multiSelect?sohoxi_constant_1.SelectableEnum.Multiple:sohoxi_constant_1.SelectableEnum.Single)},Datagrid.prototype.substituteValues=function(){for(var i=0;i<this.databearer.columns.length;i++){var column=this.databearer.columns[i];this.refreshSubstitutions(column)}},Datagrid.prototype.refreshSubstitutions=function(column){var _this=this;if(column.substitute){var dataservice=this.frameworkService.getDatasourceObject(column.substituteOptions.source);dataservice&&(this.isLoading=!0,dataservice.getListData({}).then((function(listResult){var dropdownOptions=[];listResult.forEach((function(listItem,index){dropdownOptions.push({id:"substituteID"+index,value:listItem[column.substituteOptions.from],label:listItem[column.substituteOptions.to]})})),column.options=dropdownOptions,column.formatter=Soho.Formatters.Dropdown,column.substitute&&column.formatterName!==sohoxi_constant_1.FormatterEnum.Dropdown?column.cssClass="remove-icon":column.cssClass=""})).catch((function(errorResponse){_this.setErrorTooltip(errorResponse.message)})).finally((function(){_this.isLoading=!1,_this.refreshColumns(_this.databearer.columns)})))}},Datagrid.prototype.updateColumns=function(){var columns=this.databearer.columns;this.datasource&&this.datasource.getDatabearer().outputParameters.forEach((function(outParam){var alias=helper_1.Helper.isUndefinedEmpty(outParam.alias)?outParam.key:outParam.alias,column=columns.find((function(column){return column.field===outParam.id}));column&&(column.name=alias)}));this.refreshColumns(columns),this.refreshDatagridTriggers()},Datagrid.prototype.moveIndex=function(){var listResult=this.getContext().ListResult,index=helper_2.ComponentsHelper.findItemIndexById(listResult,this.selectedItem.id);if(isUndefined_1.default(index)?this.setErrorTooltip("Selection failed, Item ID is not unique."):this.setErrorTooltip(),isNumber_1.default(index)&&-1!==index)this.previousAttributes.row=index,this.toggleSelected();else if(index){var currentDataLength=listResult.length;this.previousLength<currentDataLength?(this.previousAttributes.row=helper_2.ComponentsHelper.incrementIndex(this.previousAttributes.row,this.getContext(),this.selectedItem,this.getDatasource()),this.toggleSelected()):this.previousLength>currentDataLength?this.syncAndDeselectAll():this.toggleSelected()}else this.syncAndDeselectAll()},Datagrid.prototype.toggleSelected=function(){var previousRow=angular_1.default.copy(this.previousAttributes.row),previousPage=angular_1.default.copy(this.previousAttributes.activePage),previousSortOrder=angular_1.default.copy(this.previousAttributes.sortOrder);this.getSohoXiApi().deSelectAllRows(),previousPage&&this.databearer.usePaging&&this.getPagerApi().setActivePage(previousPage),previousSortOrder&&previousSortOrder.sortId&&this.getSohoXiApi().setSortColumn(previousSortOrder.sortId,previousSortOrder.sortAsc),this.getSohoXiApi().selectRow(previousRow,!1,!1)},Datagrid.prototype.syncAndDeselectAll=function(clearDirty){void 0===clearDirty&&(clearDirty=!0),this.selectedItem=null,this.getSohoXiApi().deSelectAllRows(),this.getSohoXiApi().syncSelectedRowsIdx(),clearDirty&&(this.dirtyItems=null,this.getSohoXiApi().clearDirty())},Datagrid.prototype.setSelection=function(){this.keepSelected&&this.selectedItem&&!this.multiSelect?this.selectedItem&&this.moveIndex():this.syncAndDeselectAll(),this.clearSummaryRow()},Datagrid.prototype.newBoundaryEntered=function(boundaryId){_super.prototype.newBoundaryEntered.call(this,boundaryId),this.setBoundarySettingIfChanged(common_constant_1.SettingKeys.SHOW_LABEL),this.datagridOptions.rowHeight!==this.getBoundarySetting(common_constant_1.SettingKeys.ROW_HEIGHT)&&this.refreshDatagrid()},Datagrid.prototype.updateClassesAndStyle=function(){_super.prototype.updateClassesAndStyle.call(this)},Datagrid.prototype.setBindableValue=function(key,value){_super.prototype.setBindableValue.call(this,key,value),key===common_constant_1.SettingKeys.SHOW_LABEL&&this.toggleToolbar()},Datagrid.prototype.toggleToolbar=function(){this.showLabel?this.getGridElement().addClass("has-toolbar"):this.getGridElement().removeClass("has-toolbar")},Datagrid.prototype.togglePager=function(){this.databearer.usePaging||this.getGridElement().removeClass("paginated")},Datagrid.prototype.updateGrid=function(){this.getSohoXiApi()&&this.getSohoXiApi().updated(this.datagridOptions)},Datagrid.prototype.getSohoXiApi=function(){return this.getGridElement().data("datagrid")},Datagrid.prototype.getGridElement=function(){return this.element.find("#datagrid-"+this.getId())},Datagrid.prototype.getPagerApi=function(){return this.getSohoXiApi().pagerAPI},Datagrid.prototype.clear=function(){this.datagridOptions.dataset=[],this.refreshDatagrid()},Datagrid.prototype.initiateDatagridOptions=function(obj){this.setDatagridOptions(obj,!0)},Datagrid.prototype.refreshColumns=function(columns){var datagridApi=this.getSohoXiApi();if(datagridApi){datagridApi.updateColumns(columns);var blankId=(columns=columns).findIndex((function(column){return"blank"===column.id}));-1!==blankId&&helper_1.Helper.removeItemFromListByIndex(columns,blankId);var summaryRow=this.shouldHaveSummaryRow(this.databearer);summaryRow!==this.datagridOptions.summaryRow&&(this.datagridOptions.summaryRow=summaryRow,this.updateGrid())}this.datagridOptions.columns=columns,this.clearSummaryRow()},Datagrid.prototype.setColumnSettings=function(){for(var locale=this.frameworkService.getCurrentLanguage(),i=0;i<this.databearer.columns.length;i++){var column=this.databearer.columns[i];datagrid_helper_1.DatagridHelper.setEditableOnColumn(column,locale),column.summarize&&(column.summaryRowFormatter=Soho.Formatters.SummaryRow,column.aggregator=common_constant_1.GridAggregators.SUM),helper_1.Helper.isUndefinedOrNull(column.formatterName)||(datagrid_helper_1.DatagridHelper.setColumnSettings(column,locale),column.formatterName===sohoxi_constant_1.FormatterEnum.Button?this.addClickEvent(column):column.formatterName===sohoxi_constant_1.FormatterEnum.Hyperlink?this.addHyperlinkEvent(column):column.formatterName!==sohoxi_constant_1.FormatterEnum.Dropdown&&column.formatterName!==sohoxi_constant_1.FormatterEnum.Autocomplete&&column.formatterName!==sohoxi_constant_1.FormatterEnum.Lookup||this.loadOptions(column))}},Datagrid.prototype.toggleMultiSelection=function(){var checkboxExists=this.databearer.columns.find((function(item){return"selectionCheckbox"===item.id}));if(!checkboxExists&&this.databearer.multiSelect){var checkbox={id:"selectionCheckbox",name:"",sortable:!1,resizable:!1,width:50,formatter:Soho.Formatters.SelectionCheckbox,formatterName:sohoxi_constant_1.FormatterEnum.SelectionCheckbox,align:"center"};this.databearer.columns.unshift(checkbox),this.refreshColumns(this.databearer.columns)}else checkboxExists&&!this.databearer.multiSelect&&(this.databearer.columns.shift(),this.refreshColumns(this.databearer.columns))},Datagrid.prototype.addClickEvent=function(column){var _this=this;column.click=function(_,rowsSelected){_this.getSohoXiApi().selectRow(rowsSelected[0].row),_this.selectedItem=rowsSelected[0].item,_this.trigger(common_constant_1.InteractionTriggerEnum.CLICK+column.id)}},Datagrid.prototype.addHyperlinkEvent=function(column){var _this=this;column.click=function(_,rowsSelected){if(angular_1.default.extend(_this.getContext(),rowsSelected[0].item),column.hyperlinkOptions&&column.hyperlinkOptions.isDrillback){var drillbacklink=backward_compatible_1.BackwardCompatible.getHref(rowsSelected[0].item,column);_this.frameworkService.sendDrillbackMessage(drillbacklink)}else if(column.hyperlinkOptions){var hrefString=_this.buildLink(column.hyperlinkOptions.value,column.hyperlinkOptions.sources),target="";common_constant_1.RegexStrings.EMAIL.test(hrefString)?(hrefString="mailto:"+hrefString,target="_self"):target="_blank";try{window.open(hrefString,target)}catch(error){}}}},Datagrid.prototype.attachEvents=function(){var datagridElement=this.getGridElement();datagridElement.on("selected",this.selectHandler),datagridElement.on("cellchange",this.changeHandler),datagridElement.on("settingschanged",this.settingsChangedHandler),datagridElement.on("firstpage",this.rerenderTbody),datagridElement.on("nextpage",this.rerenderTbody),datagridElement.on("previouspage",this.rerenderTbody),datagridElement.on("lastpage",this.rerenderTbody),datagridElement.on("pagesizechange",this.rerenderTbody)},Datagrid.prototype.initClasses=function(){var _this=this,checkExist=setInterval((function(){_this.getGridElement().length>0&&(_this.togglePager(),_this.toggleToolbar(),clearInterval(checkExist))}),100)},Datagrid.prototype.detachEvents=function(){var datagridElement=this.getGridElement();datagridElement.off("selected",this.selectHandler),datagridElement.off("cellchange",this.changeHandler),datagridElement.off("settingschanged",this.settingsChangedHandler),datagridElement.off("firstpage",this.rerenderTbody),datagridElement.off("nextpage",this.rerenderTbody),datagridElement.off("previouspage",this.rerenderTbody),datagridElement.off("lastpage",this.rerenderTbody),datagridElement.off("pagesizechange",this.rerenderTbody)},Datagrid.prototype.onItemSelected=function(args){var _this=this;if(args&&args.length>0){var newItem_1=this.updateBindableItem(args);this.selectedItem!==newItem_1&&this.getScope().$evalAsync((function(){_this.selectedItem=newItem_1,angular_1.default.extend(_this.getContext(),newItem_1),_this.previousLength=angular_1.default.copy(_this.getContext().ListResult.length),_this.trigger(common_constant_1.InteractionTriggerEnum.CURRENT_ITEM_CHANGED),_this.frameworkService.triggerExpressions()}))}else this.syncAndDeselectAll(!1),this.previousAttributes.row=null,this.getSohoXiApi().updated(),this.frameworkService.triggerExpressions()},Datagrid.prototype.updateBindableItem=function(args){var newItem={},listData=[],keys=[];return args&&args.length>0?(args[0].data?(keys=Object.keys(args[0].data),args.forEach((function(arg){listData.push(arg.data)}))):(keys=Object.keys(args[0]),listData=args),listData.forEach((function(argData){keys.forEach((function(key){var data=argData[key],newData=newItem[key];newItem[key]="_selected"!==key&&newData?newData+"%%"+data:data}))})),newItem):null},Datagrid.prototype.onItemChanged=function(args){if(args.value!==args.oldValue&&void 0!==args.oldValue){if(this.multiSelect){var selectedRows=this.getSohoXiApi().selectedRows();this.selectedItem=this.updateBindableItem(selectedRows)}else this.setSelectedItem(args);var dirtyRows=this.getSohoXiApi().dirtyRows();this.dirtyItems=this.updateBindableItem(dirtyRows),this.trigger(common_constant_1.InteractionTriggerEnum.CURRENT_ITEM_UPDATED),this.trigger(common_constant_1.InteractionTriggerEnum.ON_COLUMN_UPDATED+args.column.id)}this.datagridOptions.dataset[args.row][args.column.field]=args.value,this.setSummaryRowOutput()},Datagrid.prototype.onSettingsChanged=function(args){this.previousAttributes.activePage=args.activePage,this.previousAttributes.sortOrder=args.sortOrder},Datagrid.prototype.setSelectedItem=function(selectedRow){this.selectedItem=angular_1.default.copy(selectedRow.rowData);var column=selectedRow.column,formatterName=column.formatterName;if(!helper_1.Helper.isUndefinedEmpty(selectedRow.value)&&(formatterName===sohoxi_constant_1.FormatterEnum.Date||formatterName===sohoxi_constant_1.FormatterEnum.Time||formatterName===sohoxi_constant_1.FormatterEnum.Datetime)){var locale=this.frameworkService.getCurrentLanguage();this.selectedItem[column.field]=datagrid_helper_1.DatagridHelper.convertDatetimeToTicks(selectedRow,locale)}this.clearSummaryRow()},Datagrid.prototype.refreshDatagridTriggers=function(){Datagrid.SOURCE_TRIGGERS=interaction_defines_constant_1.InteractionDefines.SOURCE_TRIGGERS.concat([common_constant_1.InteractionPairOperation.ON_ITEM_CHANGED,common_constant_1.InteractionPairOperation.ON_ITEM_UPDATED]),this.databearer.columns.length>0&&this.databearer.columns.forEach((function(column){column.editable&&(Datagrid.SOURCE_TRIGGERS.push({name:"On Column Updated ("+column.name+")",value:common_constant_1.InteractionTriggerEnum.ON_COLUMN_UPDATED+column.id}),column.formatterName===sohoxi_constant_1.FormatterEnum.Button&&Datagrid.SOURCE_TRIGGERS.push({name:"On Button Clicked ("+column.name+")",value:common_constant_1.InteractionTriggerEnum.CLICK+column.id}))}))},Datagrid.prototype.loadOptions=function(column){var _this=this,dataservice=this.frameworkService.getDatasourceObject(column.listOptions.sourceId);dataservice&&(this.isLoading=!0,dataservice.getListData({}).then((function(listResult){var autoData=datagrid_helper_1.DatagridHelper.addColumnData(column,listResult,dataservice);column.formatterName===sohoxi_constant_1.FormatterEnum.Autocomplete&&(column.editorOptions={source:_this.SOURCE_SETTING},_this.autocompleteSource=autoData)})).catch((function(errorResponse){_this.setErrorTooltip(errorResponse.message)})).finally((function(){_this.isLoading=!1,_this.refreshColumns(_this.databearer.columns)})))},Datagrid.prototype.shouldHaveSummaryRow=function(databearer){return void 0!==databearer.columns.find((function(column){return column.summarize}))},Datagrid.prototype.clearSummaryRow=function(){var summaryRowCells=this.getGridElement().find(".datagrid-summary-row > td");summaryRowCells&&summaryRowCells.length>0&&this.databearer.columns.forEach((function(column,index){if(!column.summarize){var cell=$(".datagrid-cell-wrapper",summaryRowCells[index]);cell.length>0&&cell.remove()}}))},Datagrid.availableRowHeights=[{name:"Small",value:common_constant_1.RowHeight.SHORT},{name:"Medium",value:common_constant_1.RowHeight.MEDIUM},{name:"Large",value:common_constant_1.RowHeight.TALL}],Datagrid.DEFAULT_WIDTH={sizeType:size_type_enum_1.SizeTypeEnum.PERCENT},Datagrid.DEFAULT_HEIGHT={sizeType:size_type_enum_1.SizeTypeEnum.PERCENT},Datagrid.AVAILABE_PAGE_SIZES=[{name:common_constant_1.DatagridPageSizesEnum.OPTION1,value:common_constant_1.DatagridPageSizesEnum.OPTION1},{name:common_constant_1.DatagridPageSizesEnum.OPTION2,value:common_constant_1.DatagridPageSizesEnum.OPTION2},{name:common_constant_1.DatagridPageSizesEnum.OPTION3,value:common_constant_1.DatagridPageSizesEnum.OPTION3},{name:common_constant_1.DatagridPageSizesEnum.OPTION4,value:common_constant_1.DatagridPageSizesEnum.OPTION4}],Datagrid.SOURCE_TRIGGERS=[],Datagrid.TARGET_ACTIONS=[common_constant_1.InteractionPairOperation.LIST,common_constant_1.InteractionPairOperation.CLEAR],Datagrid.DEFAULT_TRIGGER=common_constant_1.InteractionPairOperation.ON_ITEM_CHANGED,Datagrid.DEFAULT_ACTION=common_constant_1.InteractionPairOperation.LIST,Datagrid.SETTING_FIELDS=[{title:"Style",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{title:"Show Header",boundarySetting:!0,ref:common_constant_1.SettingKeys.SHOW_LABEL,inputType:common_constant_1.SettingInputKeys.CHECKBOX,defaultValue:!0}]},{title:"List",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{title:"Display as List",ref:common_constant_1.SettingKeys.IS_LIST,inputType:common_constant_1.SettingInputKeys.CHECKBOX,defaultValue:!1}]},{title:"Row Height",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{title:"Row Height",ref:common_constant_1.SettingKeys.ROW_HEIGHT,boundarySetting:!0,inputType:common_constant_1.SettingInputKeys.RADIO,dataset:Datagrid.availableRowHeights}]},{title:"Options",tab:common_constant_1.SidebarTabTypes.CONTENT,settings:[{title:"Keep Selection",tooltip:"Keep previous selected row on reload. (With ION APIs, an object ID is preferred if using this)",ref:common_constant_1.SettingKeys.KEEP_SELECTED,inputType:common_constant_1.SettingInputKeys.CHECKBOX,defaultValue:!0},{title:"Selectable",tooltip:"Enable selection",ref:common_constant_1.SettingKeys.IS_READONLY,inputType:common_constant_1.SettingInputKeys.CHECKBOX,defaultValue:!0},{title:"Multi Select",tooltip:"Enable Multi selection",ref:common_constant_1.SettingKeys.MULTI_SELECT,inputType:common_constant_1.SettingInputKeys.CHECKBOX,defaultValue:!1}]},{title:"Toolbar",tab:common_constant_1.SidebarTabTypes.CONTENT,settings:[{title:"Enable Row Count",ref:common_constant_1.SettingKeys.ROW_COUNT,inputType:common_constant_1.SettingInputKeys.CHECKBOX,defaultValue:!1},{title:"Enable Filter Bar",ref:common_constant_1.SettingKeys.FILTER_BAR,inputType:common_constant_1.SettingInputKeys.CHECKBOX,defaultValue:!1},{title:"Enable Export",ref:common_constant_1.SettingKeys.ENABLE_EXPORT,inputType:common_constant_1.SettingInputKeys.CHECKBOX,defaultValue:!1}]},{title:"Paging",tab:common_constant_1.SidebarTabTypes.CONTENT,settings:[{title:"Use Paging",ref:common_constant_1.SettingKeys.USE_PAGING,inputType:common_constant_1.SettingInputKeys.CHECKBOX},{title:"Items per page",ref:common_constant_1.SettingKeys.PAGE_SIZE,inputType:common_constant_1.SettingInputKeys.DROPDOWN,dataset:Datagrid.AVAILABE_PAGE_SIZES,defaultValue:25}]}].concat(component_1.Component.SETTING_FIELDS),Datagrid.BINDABLE_FIELDS_2=[{name:"Header",ref:common_constant_1.SettingKeys.LABEL,valueType:value_type_enum_1.ValueTypeEnum.LOCALIZED_STRING,write:!0,read:!1,defaultValue:{Type:binding_type_enum_1.BindingTypeEnum.STATIC_VALUE,value:""}},{name:"Selected Item(s)",ref:common_constant_1.SettingKeys.SELECTED_ITEM,valueType:value_type_enum_1.ValueTypeEnum.OBJECT,write:!1,read:!0},{name:"Edited Item(s)",ref:common_constant_1.SettingKeys.DIRTY_ITEMS,valueType:value_type_enum_1.ValueTypeEnum.OBJECT,write:!1,read:!0},{name:"Row Count",ref:common_constant_1.SettingKeys.ROW_COUNT_OUTPUT,valueType:value_type_enum_1.ValueTypeEnum.OBJECT,write:!1,read:!0},{name:"Summary",ref:common_constant_1.SettingKeys.SUMMARY_OUTPUT,valueType:value_type_enum_1.ValueTypeEnum.OBJECT,write:!1,read:!0}],Datagrid.directive=[function(){return{template:__webpack_require__(838),replace:!0}}],Datagrid}(component_1.Component);exports.Datagrid=Datagrid}).call(this,__webpack_require__(21))},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Lookup=void 0;var angular_1=__importDefault(__webpack_require__(12)),helper_1=__webpack_require__(15),component_1=__webpack_require__(46);__webpack_require__(28);var common_constant_1=__webpack_require__(3),sohoxi_constant_1=__webpack_require__(40),binding_type_enum_1=__webpack_require__(30),size_type_enum_1=__webpack_require__(29),value_type_enum_1=__webpack_require__(26),backward_compatible_1=__webpack_require__(64),Lookup=function(_super){function Lookup(obj,$element,parent,frameworkService){var _this=_super.call(this,obj,$element,parent,frameworkService)||this;return _this.showLabel=backward_compatible_1.BackwardCompatible.getShowLabel(obj),_this.initLookupOptions(),_this}return __extends(Lookup,_super),Lookup.prototype.newBoundaryEntered=function(boundaryId){_super.prototype.newBoundaryEntered.call(this,boundaryId),this.setBoundarySettingIfChanged(common_constant_1.SettingKeys.SHOW_LABEL),this.setBoundarySettingIfChanged(common_constant_1.SettingKeys.BOX_WIDTH)},Lookup.prototype.clear=function(){this.text="",this.selectedItem=null},Lookup.prototype.initializeBindings=function(){_super.prototype.initializeBindings.call(this),this.updateValuesWithTranslations()},Lookup.prototype.onChildrenReady=function(){this.updateValuesWithTranslations()},Lookup.prototype.initLookupOptions=function(){var _this=this;this.lookupOptions={title:"Select Item",field:function(selectedRow){return _this.selectedItem=selectedRow,selectedRow[_this.databearer.lookupOutputId]},beforeShow:function(lookup,callback){helper_1.Helper.isUndefinedOrNull(_this.datasource)?_this.setErrorTooltip("No data service available on component: "+_this.getDisplayName()):(_this.lookupCallback=callback,_this.trigger(common_constant_1.InteractionTriggerEnum.CLICK))},match:function(){},options:{paging:!0,pagesize:10,columns:this.databearer.columns,dataset:[],selectable:sohoxi_constant_1.SelectableEnum.Single,toolbar:{keywordFilter:!0}}}},Lookup.prototype.updateValuesWithTranslations=function(){var _this=this;this.databearer.columns.forEach((function(column){var translatedTitle=_this.frameworkService.getTranslatableStringByProperty(_this.getId(),column.id);if(translatedTitle){var globalString=_this.frameworkService.getGlobalValue(translatedTitle,_this);globalString?(column.value=translatedTitle,column.name=helper_1.Helper.htmlEncode(globalString)):column.name=helper_1.Helper.htmlEncode(translatedTitle)}}))},Lookup.prototype.loadInteraction=function(interaction){var _this=this,interactionPromise=_super.prototype.loadInteraction.call(this,interaction),listData=this.getContext().ListResult;return interaction.targetActionName===common_constant_1.InteractionActionEnum.CLEAR||(listData?this.openLookupDialog(listData,interaction):interactionPromise.then((function(dataset){return _this.openLookupDialog(dataset,interaction)}))),interactionPromise},Lookup.prototype.getSohoXiApi=function(){return this.element.find("#"+this.getDatabearer().id).data("lookup")},Lookup.prototype.openLookupDialog=function(dataset,interaction){var _this=this;interaction.sourceTriggerName===common_constant_1.InteractionTriggerEnum.CLICK&&(this.lookupOptions.options.dataset=angular_1.default.copy(dataset),this.getSohoXiApi().updated(this.lookupOptions),this.getScope().$applyAsync((function(){_this.lookupCallback()})))},Lookup.AVAILABLE_WIDTHS=[{name:"Small",value:"input-sm"},{name:"Medium",value:"input-mm"},{name:"Large",value:"input-default"}],Lookup.OUTPUT_SETTING_TITLE="Dialog Output Value",Lookup.DEFAULT_WIDTH={sizeType:size_type_enum_1.SizeTypeEnum.AUTO},Lookup.DEFAULT_HEIGHT={sizeType:size_type_enum_1.SizeTypeEnum.AUTO},Lookup.SOURCE_TRIGGERS=[common_constant_1.InteractionPairOperation.ON_CLICK],Lookup.TARGET_ACTIONS=[common_constant_1.InteractionPairOperation.GET,common_constant_1.InteractionPairOperation.CLEAR],Lookup.DEFAULT_ACTION=common_constant_1.InteractionPairOperation.LIST,Lookup.DEFAULT_TRIGGER=common_constant_1.InteractionPairOperation.ON_CLICK,Lookup.BINDABLE_FIELDS_2=[{name:"Label",ref:common_constant_1.SettingKeys.LABEL,valueType:value_type_enum_1.ValueTypeEnum.LOCALIZED_STRING,write:!0,read:!1,defaultValue:{Type:binding_type_enum_1.BindingTypeEnum.STATIC_VALUE,value:""}},{name:"Text",ref:common_constant_1.SettingKeys.TEXT,valueType:value_type_enum_1.ValueTypeEnum.STRING,write:!0,read:!0,defaultValue:{Type:binding_type_enum_1.BindingTypeEnum.STATIC_VALUE,value:""}},{name:"Selected Item",ref:common_constant_1.SettingKeys.SELECTED_ITEM,valueType:value_type_enum_1.ValueTypeEnum.OBJECT,write:!1,read:!0}],Lookup.SETTING_FIELDS=[{title:Lookup.OUTPUT_SETTING_TITLE,tab:common_constant_1.SidebarTabTypes.CONTENT,settings:[{dataset:[],title:"",ref:common_constant_1.SettingKeys.LOOKUP_OUTPUT_ID,inputType:common_constant_1.SettingInputKeys.DROPDOWN}]},{title:"Style",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{title:"Show Label",boundarySetting:!0,ref:common_constant_1.SettingKeys.SHOW_LABEL,inputType:common_constant_1.SettingInputKeys.CHECKBOX,defaultValue:!0},{title:"Read Only",ref:common_constant_1.SettingKeys.IS_READONLY,inputType:common_constant_1.SettingInputKeys.CHECKBOX,defaultValue:!1,button:{icon:"#icon-unlocked",tooltip:"Disable Component When...",dialog:!0}}]},{title:"Width",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{boundarySetting:!0,ref:common_constant_1.SettingKeys.BOX_WIDTH,inputType:common_constant_1.SettingInputKeys.RADIO,dataset:Lookup.AVAILABLE_WIDTHS,defaultValue:"input-default"}]}].concat(component_1.Component.SETTING_FIELDS),Lookup.directive=[function(){return{template:__webpack_require__(846),replace:!0}}],Lookup}(component_1.Component);exports.Lookup=Lookup},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.TabPanel=void 0;var flexbox_1=__webpack_require__(208),tabs_1=__webpack_require__(277),common_constant_1=__webpack_require__(3);__webpack_require__(28);var TabPanel=function(_super){function TabPanel(obj,$element,parent,frameworkService){var _this=_super.call(this,obj,$element,parent,frameworkService)||this;return _this.newBoundaryEntered(frameworkService.getCurrentBoundary().id),_this.parent=parent,_this.canCut=!_this.tabsParent(),obj&&(_this.backgroundColor=obj.backgroundColor),_this}return __extends(TabPanel,_super),TabPanel.prototype.canDelete=function(){return!1},TabPanel.prototype.tabsParent=function(){return this.parent.getTypedef()===tabs_1.Tabs.name},TabPanel.prototype.updateVisibility=function(){if(_super.prototype.updateVisibility.call(this),this.tabsParent()){var isVisible=this.getId()===this.parent.currentTab.id;this.isVisible=isVisible,this.databearer.boundarySettings[common_constant_1.DEFAULT_BOUNDARY.id].visibility=isVisible}},TabPanel.SETTING_FIELDS=flexbox_1.Flexbox.SETTING_FIELDS.filter((function(settingCategory){return!settingCategory.settings.some((function(setting){switch(setting.ref){case common_constant_1.SettingKeys.SIZE:case common_constant_1.SettingKeys.VISIBILITY:case common_constant_1.SettingKeys.MARGIN:return!0;default:return!1}}))})).concat({title:"Padding",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{title:"Padding",ref:common_constant_1.SettingKeys.MARGIN,boundarySetting:!0,inputType:common_constant_1.SettingInputKeys.MARGIN,defaultValue:{left:0,top:10,right:0,bottom:0}}]},{title:"Visibility",tab:common_constant_1.SidebarTabTypes.STYLE,condition:"hide",settings:[{title:"Show Component",ref:common_constant_1.SettingKeys.VISIBILITY,inputType:common_constant_1.SettingInputKeys.SWITCH,boundarySetting:!0,defaultValue:!0}]}),TabPanel.directive=[function(){return{template:__webpack_require__(849),replace:!0}}],TabPanel}(flexbox_1.Flexbox);exports.TabPanel=TabPanel},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AppState=void 0,__webpack_require__(339);var common_constant_1=__webpack_require__(3),angular_constants_1=__webpack_require__(7),AppState=function(){function AppState(){}return AppState.add=function(module){module.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$urlRouterProvider.otherwise("/"),$stateProvider.state(AppState.HOME).state(AppState.EDITOR).state(AppState.APP_LAUNCHER).state(AppState.REPOSITORY).state(AppState.REFRESH).state(AppState.DEVELOPER)}])},AppState.HOME={url:"/",name:"home",template:"<eir-dashboard></eir-dashboard>",reloadOnSearch:!1},AppState.EDITOR={url:"/editor/:id/:reloadProject?",name:"editor",template:"<eir-editor></eir-editor>",reloadOnSearch:!1},AppState.APP_LAUNCHER={url:"/"+common_constant_1.Config.RUN_PATH+":id",name:"appLauncher",component:"eirAppLauncher",reloadOnSearch:!1,resolve:{appType:function(){return common_constant_1.AppTypeEnum.DESIGNER_PREVIEW},projectId:[angular_constants_1.AngularConstants.STATE_PARAMS,function($stateParams){return $stateParams.id}]}},AppState.REPOSITORY={url:"/repository",name:"repository",template:"<eir-repository></eir-repository>"},AppState.DEVELOPER={url:"/developer",name:"developer",template:"<eir-developer-tool></eir-developer-tool>"},AppState.REFRESH={url:"/refresh",name:"refresh",template:"",reloadOnSearch:!1},AppState}();exports.AppState=AppState},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.UndoService=void 0;var angular_1=__importDefault(__webpack_require__(12)),common_constant_1=__webpack_require__(3),instance_event_1=__webpack_require__(85),UndoService=function(){function UndoService(){this.undoActionEvent=new instance_event_1.InstanceEvent,this.maxUndoCount=11,this.initialize()}return UndoService.prototype.initialize=function(){this.undoStack=[],this.currentIndex=0},UndoService.prototype.pop=function(){this.undoStack.pop()},UndoService.prototype.getCurrentUndo=function(){return this.undoStack[this.currentIndex-1]},UndoService.prototype.undoAction=function(){this.currentIndex>0&&(this.currentIndex-=1),this.undoActionEvent.raise(angular_1.default.copy(this.undoStack[this.currentIndex]))},UndoService.prototype.redoAction=function(){this.currentIndex<this.undoStack.length-1&&(this.currentIndex+=1),this.undoActionEvent.raise(angular_1.default.copy(this.undoStack[this.currentIndex]))},UndoService.prototype.pushUndoAction=function(project){var undoAction={stateRootComponent:project.rootComponent,stateInteractions:project.getInteractions(),stateTranslations:project.getTranslations()};this.undoStack.splice(this.currentIndex+1,this.undoStack.length-1,angular_1.default.copy(undoAction)),this.undoStack.length>this.maxUndoCount&&this.undoStack.shift(),this.currentIndex=this.undoStack.length-1},UndoService.prototype.clearActions=function(){this.initialize()},UndoService.prototype.isUndoAvailable=function(){return this.currentIndex>0},UndoService.prototype.isRedoAvailable=function(){return this.currentIndex<this.undoStack.length-1},UndoService.add=function(ngModule){ngModule.service(common_constant_1.InjectNames.UNDO_SERVICE,UndoService)},UndoService}();exports.UndoService=UndoService},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.GenericSettingsDirective=exports.GenericSettingsCtrl=void 0;var common_constant_1=__webpack_require__(3);__webpack_require__(115),__webpack_require__(150),__webpack_require__(23);var angular_constants_1=__webpack_require__(7);__webpack_require__(20);var GenericSettingsCtrl=function(_super){function GenericSettingsCtrl($scope,$timeout,editorService){var _this=_super.call(this,$scope,editorService)||this;return _this.$scope=$scope,_this.$timeout=$timeout,_this.settingInstances={},_this.onComponentChanged(editorService.getSelectedComponent()),_this.unsubscribers.push(_this.editorService.refreshSettingEvent.on((function(settingRef){_this.settingInstances[settingRef]&&_this.settingInstances[settingRef].refresh()}))),_this}return __extends(GenericSettingsCtrl,_super),GenericSettingsCtrl.prototype.registerSetting=function(settingCtrl,settingRef){this.settingInstances[settingRef]=settingCtrl},GenericSettingsCtrl.prototype.onComponentChanged=function(newComponent){var _this=this;if(this.selectedComponent=newComponent,this.selectedComponent){var settingFields=newComponent.getSettingCategories();this.relevantSettings=settingFields.filter((function(setting){var hasRelevantTab=setting.tab===_this.$scope.settingsTab,conditionPassed=!0;return hasRelevantTab&&setting.condition&&(conditionPassed=!0===_this.$scope.$eval("eirGenericSettingsCtrl.selectedComponent."+setting.condition)),hasRelevantTab&&conditionPassed}))}},GenericSettingsCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,angular_constants_1.AngularConstants.TIMEOUT,common_constant_1.InjectNames.EDITOR_SERVICE],GenericSettingsCtrl}(__webpack_require__(59).SettingsBase);exports.GenericSettingsCtrl=GenericSettingsCtrl;var GenericSettingsDirective=function(){function GenericSettingsDirective(){}return GenericSettingsDirective.add=function(m){m.directive("eirGenericSettings",(function(){return{template:__webpack_require__(1128),scope:{settingsTab:"="},controller:GenericSettingsCtrl,controllerAs:"eirGenericSettingsCtrl"}}))},GenericSettingsDirective}();exports.GenericSettingsDirective=GenericSettingsDirective},function(module,exports,__webpack_require__){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseComponent=void 0;var core_1=__webpack_require__(1),ids_enterprise_ng_1=__webpack_require__(135),get_1=__importDefault(__webpack_require__(453)),isNull_1=__importDefault(__webpack_require__(1206)),isUndefined_1=__importDefault(__webpack_require__(84)),rxjs_1=__webpack_require__(81),Subject_1=__webpack_require__(1207),operators_1=__webpack_require__(106),common_constant_1=__webpack_require__(3),orientation_enum_1=__webpack_require__(44),size_type_enum_1=__webpack_require__(29),button_metadata_1=__webpack_require__(570),list_metadata_1=__webpack_require__(571),textbox_metadata_1=__webpack_require__(572);__webpack_require__(104),__webpack_require__(103);var BaseComponent=function(){function BaseComponent(elementRef,renderer,changeDetectorRef,frameworkService,dynamicComponentService,sohoMessageService){this.elementRef=elementRef,this.renderer=renderer,this.changeDetectorRef=changeDetectorRef,this.frameworkService=frameworkService,this.dynamicComponentService=dynamicComponentService,this.sohoMessageService=sohoMessageService,this.boundaryChange$=new Subject_1.Subject,this.componentReady$=new Subject_1.Subject,this.isLoading=!1,this.isVisible=!0,this.isReadonly=!1,this.subscriptions=[]}var _a;return Object.defineProperty(BaseComponent.prototype,"datasource",{get:function(){var dataserviceId=this.databearer.datasource;if(!isUndefined_1.default(dataserviceId)&&isUndefined_1.default(this._dataservice)){var dataserviceDatabearer=this.frameworkService.currentProject.getDatasources()[dataserviceId];this._dataservice=this.frameworkService.dataServiceBuilder.create(dataserviceDatabearer)}return this._dataservice},enumerable:!1,configurable:!0}),BaseComponent.prototype.ngOnInit=function(){this.parent.element=this.elementRef.nativeElement.parentElement,this.onInitComponent()},BaseComponent.prototype.ngAfterViewInit=function(){this.setInitialSohoComponentSettings(),console.info("ID: "+this.displayName+", TYPEDEF: "+this.typedef+": ngAfterViewInit"),this.componentReady$.next(this)},BaseComponent.prototype.ngAfterViewChecked=function(){this.changeDetectorRef.detectChanges()},BaseComponent.prototype.ngOnDestroy=function(){console.info("ID: "+this.displayName+", TYPEDEF: "+this.typedef+": ngOnDestroy"),this.componentReady$.unsubscribe(),this.boundaryChange$.unsubscribe(),this.subscriptions.forEach((function(subscription){return subscription.unsubscribe()}))},BaseComponent.prototype.onInitComponent=function(){console.info("ID: "+this.displayName+", TYPEDEF: "+this.typedef+": onInitComponent"),this.updateClassesAndInlineStyles()},BaseComponent.prototype.calcNewSizes=function(){this.calcNewWidth(),this.calcNewHeight()},BaseComponent.prototype.calcNewWidth=function(){var margin=this.getBoundarySetting(common_constant_1.SettingKeys.MARGIN);this.cssWidth=this.calcNewSize(this.getBoundarySetting(common_constant_1.SettingKeys.WIDTH),orientation_enum_1.OrientationEnum.HORIZONTAL,margin.left+margin.right)},BaseComponent.prototype.calcNewHeight=function(){var margin=this.getBoundarySetting(common_constant_1.SettingKeys.MARGIN);this.cssHeight=this.calcNewSize(this.getBoundarySetting(common_constant_1.SettingKeys.HEIGHT),orientation_enum_1.OrientationEnum.VERTICAL,margin.top+margin.bottom)},BaseComponent.prototype.calcNewSize=function(sizeObject,orientation,margin){void 0===margin&&(margin=0);var retSize="";if(this.parent.hasIndividualChildSizes)if(sizeObject.sizeType===size_type_enum_1.SizeTypeEnum.PERCENT){var pxPerPercentComponent=this.parent.getPxPerPercentComponent(orientation,sizeObject.value);retSize="calc("+(sizeObject.value||common_constant_1.Numbers.HUNDRED)+"% - "+(pxPerPercentComponent+margin)+"px)"}else sizeObject.sizeType===size_type_enum_1.SizeTypeEnum.PIXELS&&(retSize="calc("+sizeObject.value+"px)");return retSize},BaseComponent.prototype.getInlineStyles=function(){var margin=this.getBoundarySetting(common_constant_1.SettingKeys.MARGIN);return{width:this.cssWidth,height:this.cssHeight,margin:margin.top+"px "+margin.right+"px "+margin.bottom+"px "+margin.left+"px"}},BaseComponent.prototype.setStyles=function(styles){for(var propertyName in styles)if(styles.hasOwnProperty(propertyName)){var propertyValue=styles[propertyName];this.renderer.setStyle(this.parent.element,propertyName,isNull_1.default(propertyValue)?"":propertyValue)}},BaseComponent.prototype.updateClassesAndInlineStyles=function(){console.info("ID: "+this.displayName+", TYPEDEF: "+this.typedef+": updateClassesAndInlineStyles"),this.updateClassNames(),this.updateInlineStyles()},BaseComponent.prototype.updateClassNames=function(){},BaseComponent.prototype.updateInlineStyles=function(){this.calcNewSizes();var componentStyleProperties=this.getInlineStyles();this.setStyles(componentStyleProperties)},BaseComponent.prototype.getBoundarySetting=function(settingId,boundaryId,noTraverse){var boundarySettings,componentBoundarySettings=this.databearer.boundarySettings;if(boundaryId||(boundaryId=this.frameworkService.currentBoundary.id),noTraverse)return componentBoundarySettings[boundaryId][settingId];for(;!boundarySettings;){if(componentBoundarySettings[boundaryId]&&void 0!==componentBoundarySettings[boundaryId][settingId]&&null!==componentBoundarySettings[boundaryId][settingId]){boundarySettings=componentBoundarySettings[boundaryId];break}if((boundaryId=this.frameworkService.getNextProjectBoundary(boundaryId).id)===common_constant_1.DEFAULT_BOUNDARY.id){boundarySettings=componentBoundarySettings[common_constant_1.DEFAULT_BOUNDARY.id];break}}return boundarySettings[settingId]},BaseComponent.prototype.getDatabearer=function(){return this.databearer},BaseComponent.prototype.loadInteraction=function(interaction){return function(targetActionName){switch(targetActionName){case common_constant_1.InteractionActionEnum.CLEAR:return!1;default:return!0}}(interaction.targetActionName)?this.runComponentDataService(interaction):this.runComponentAction(interaction)},BaseComponent.prototype.runComponentAction=function(interaction){switch(interaction.targetActionName){case common_constant_1.InteractionActionEnum.CLEAR:return this.clear(),rxjs_1.of(!0);default:return rxjs_1.Observable.throw("Unknown action")}},BaseComponent.prototype.runComponentDataService=function(interaction){var _this=this;this.busyIndicator.activated=!0;var newObservable,parameters=interaction.getParameters();switch(interaction.targetActionName){case common_constant_1.InteractionActionEnum.LIST:(newObservable=this.datasource.getListData(parameters).pipe(operators_1.take(1))).subscribe((function(data){return _this.context.ListResult=data}),(function(error){return _this.dataServiceError(_this,error)}),(function(){return _this.dataServiceCompleted(_this)}));break;case common_constant_1.InteractionActionEnum.GET:default:(newObservable=this.datasource.getListData(parameters).pipe(operators_1.take(1))).subscribe((function(data){return _this.context.DetailResult=data}),(function(error){return _this.dataServiceError(_this,error)}),(function(){return _this.dataServiceCompleted(_this)}))}return newObservable},BaseComponent.prototype.dataServiceError=function(component,error){this.busyIndicator.activated=!1,this.showErrorDialog(error.message)},BaseComponent.prototype.dataServiceCompleted=function(component){component.busyIndicator.activated=!1,this.trigger(common_constant_1.InteractionTriggerEnum.ON_LOAD)},BaseComponent.prototype.forEachChild=function(fn,doGenerated){fn(this)},BaseComponent.prototype.initializeBinding=function(componentDatabearer){},BaseComponent.prototype.updateBindings=function(){var _this=this;this.dynamicComponentService.componentRefs.forEach((function(componentRef){var componentMetaData,componentInstance=componentRef.instance;switch(componentInstance.typedef){case"Button":componentMetaData=button_metadata_1.ButtonMetadata.BINDABLE_FIELDS_2;break;case"Dropdown":case"Flexbox":break;case"List":componentMetaData=list_metadata_1.ListMetadata.BINDABLE_FIELDS_2;break;case"Textbox":case"TextBox":componentMetaData=textbox_metadata_1.TextboxMetadata.BINDABLE_FIELDS_2;break;default:throw Error("Invalid component")}null==componentMetaData||componentMetaData.forEach((function(bindable){var _a,sourceKey=null===(_a=componentInstance.databearer[bindable.ref])||void 0===_a?void 0:_a.sourceKey;if(sourceKey){var value=get_1.default(_this,sourceKey);componentInstance[bindable.ref]=value,console.info("sourceKey: "+sourceKey+", value: "+value)}}))}))},BaseComponent.prototype.setInitialSohoComponentSettings=function(){this.busyIndicator.displayDelay=0},BaseComponent.prototype.clear=function(){},BaseComponent.prototype.trigger=function(interactionTrigger){var _this=this,interactions=this.frameworkService.getInteractionByTriggerName(interactionTrigger).filter((function(interaction){return interaction.sourceName===_this.id})),observables=[];return interactions.forEach((function(interaction){observables.push(_this.frameworkService.runInteraction(interaction))})),rxjs_1.forkJoin(observables)},BaseComponent.prototype.showErrorDialog=function(message){this.sohoMessageService.error().title("Error").buttons([{text:"OK",click:function(_,modal){return modal.close(!0)},isDefault:!0}]).message(message).open()},BaseComponent.prototype.onBoundaryChange=function(boundary){this.updateClassesAndInlineStyles(),this.isVisible=this.getBoundarySetting(common_constant_1.SettingKeys.VISIBILITY,boundary.id);var componentELement=this.elementRef.nativeElement;return this.isVisible?this.renderer.removeClass(componentELement,"is-hidden"):this.renderer.addClass(componentELement,"is-hidden"),this.boundaryChange$.next(this),this.changeDetectorRef.detectChanges(),rxjs_1.of()},__decorate([core_1.ViewChild(ids_enterprise_ng_1.SohoBusyIndicatorDirective,{static:!0}),__metadata("design:type","function"==typeof(_a=void 0!==ids_enterprise_ng_1.SohoBusyIndicatorDirective&&ids_enterprise_ng_1.SohoBusyIndicatorDirective)?_a:Object)],BaseComponent.prototype,"busyIndicator",void 0),BaseComponent}();exports.BaseComponent=BaseComponent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseComponentMetadata=void 0;var common_constant_1=__webpack_require__(3);__webpack_require__(150);var BaseComponentMetadata=function(){function BaseComponentMetadata(){}return BaseComponentMetadata.SETTING_FIELDS=[{title:"Margin",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{title:"Margin",ref:common_constant_1.SettingKeys.MARGIN,boundarySetting:!0,inputType:common_constant_1.SettingInputKeys.MARGIN,defaultValue:{left:0,top:0,right:0,bottom:0}}]},{title:"Visibility",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{title:"Show Component",ref:common_constant_1.SettingKeys.VISIBILITY,inputType:common_constant_1.SettingInputKeys.SWITCH,boundarySetting:!0,defaultValue:!0,button:{icon:"#icon-preview",tooltip:"Hide Component When...",dialog:!0}}]},{title:"Show Error",tab:common_constant_1.SidebarTabTypes.CONTENT,settings:[{title:"Show Error",ref:common_constant_1.SettingKeys.SHOW_ERROR,inputType:common_constant_1.SettingInputKeys.SWITCH,defaultValue:!0,boundarySetting:!0}]}],BaseComponentMetadata}();exports.BaseComponentMetadata=BaseComponentMetadata},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.RuntimeApp=void 0;var runtime_manifest_1=__webpack_require__(510),mashup_1=__webpack_require__(270),RuntimeApp=function(_super){function RuntimeApp(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(RuntimeApp,_super),RuntimeApp.prototype.getManifest=function(){return this.manifest},RuntimeApp.fromObj=function(obj){return mashup_1.Mashup.create(RuntimeApp,runtime_manifest_1.RuntimeManifest,obj)},RuntimeApp}(mashup_1.Mashup);exports.RuntimeApp=RuntimeApp},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Mashup=void 0;var interaction_1=__webpack_require__(130),Mashup=function(){function Mashup(){this.datasources={},this.interactions=[],this.customComponentDefinitions={},this.compositeComponents=[],this.translations={},this.tags=[],this.expressions=[]}return Mashup.prototype.getManifest=function(){return this.manifest},Mashup.prototype.getId=function(){return this.manifest.id},Mashup.prototype.getDatabearer=function(){return this.databearer},Mashup.prototype.setRoot=function(componentObject){this.rootComponent=componentObject},Mashup.prototype.getExpressions=function(){return this.expressions},Mashup.prototype.getExpressionsByComponentId=function(componentId){return this.expressions.filter((function(expression){return expression.usedBy===componentId}))},Mashup.prototype.addExpression=function(expression){this.expressions.push(expression)},Mashup.prototype.deleteExpression=function(deletedExpression){this.expressions=this.expressions.filter((function(expression){return expression.id!==deletedExpression.id}))},Mashup.prototype.removeExpression=function(componentId){this.expressions=this.expressions.filter((function(expression){return expression.source!==componentId&&expression.target!==componentId}))},Mashup.prototype.saveExpression=function(savedExpression){var expressionIndex=this.expressions.findIndex((function(expression){return expression.id===savedExpression.id}));this.expressions[expressionIndex]=savedExpression},Mashup.prototype.getDatasources=function(){return this.datasources},Mashup.prototype.getDatasource=function(dsName){return this.datasources[dsName]},Mashup.prototype.getDatasourceDatabearers=function(){var datasourceDatabearers=[];for(var key in this.datasources)datasourceDatabearers.push(this.datasources[key]);return datasourceDatabearers},Mashup.prototype.addDatasource=function(datasource){this.datasources[datasource.id]=datasource},Mashup.prototype.removeDatasource=function(datasourceId){var removedDataservice=this.datasources[datasourceId];return delete this.datasources[datasourceId],removedDataservice},Mashup.prototype.getInteractions=function(){return this.interactions},Mashup.prototype.getInteractionDatabearers=function(){return this.interactions.map((function(interaction){return interaction.getDatabearer()}))},Mashup.prototype.setInteractions=function(interactions){this.interactions=interactions},Mashup.prototype.addInteraction=function(interaction){this.interactions.push(interaction)},Mashup.prototype.removeInteraction=function(toRemoveInteraction){var index=this.interactions.findIndex((function(interaction){return interaction.getId()===toRemoveInteraction.getId()}));this.interactions.splice(index,1)},Mashup.prototype.getCustomComponentDefinitions=function(){return this.customComponentDefinitions},Mashup.prototype.addCustomComponentDefinition=function(customComponent){this.customComponentDefinitions[customComponent.id]=customComponent},Mashup.prototype.getCompositeComponents=function(){return this.compositeComponents},Mashup.prototype.addCompositeComponent=function(compositeComponent){this.compositeComponents.push(compositeComponent)},Mashup.prototype.getCompositeComponent=function(compositeId){return this.compositeComponents.filter((function(cmp){return cmp.manifest.id===compositeId}))[0]},Mashup.prototype.removeCompositeComponent=function(compositeId){var compositeToDelete=this.getCompositeComponent(compositeId);return this.compositeComponents.splice(this.compositeComponents.indexOf(compositeToDelete),1).pop()},Mashup.prototype.getTags=function(){return this.tags},Mashup.prototype.setTags=function(tags){this.tags=tags},Mashup.prototype.getUrlVariables=function(){return this.manifest.urlVariables},Mashup.prototype.setUrlVariables=function(variables){this.manifest.urlVariables=variables},Mashup.prototype.getBoundaries=function(){return this.manifest.mashupBoundaries},Mashup.prototype.setTranslations=function(translations){this.translations=translations},Mashup.prototype.getTranslations=function(){return this.translations},Mashup.prototype.getTranslationsList=function(){var translationList=[];for(var key in this.translations)translationList=translationList.concat(this.translations[key]);return translationList},Mashup.prototype.getTranslation=function(componentId){return this.translations[componentId]},Mashup.prototype.removeTranslation=function(componentId){delete this.translations[componentId]},Mashup.prototype.addTranslation=function(translation){this.getTranslation(translation.componentId)?this.translations[translation.componentId].push(translation):this.translations[translation.componentId]=[translation]},Mashup.prototype.setPreviewImage=function(base64Img){this.manifest.previewImg=base64Img},Mashup.create=function(appType,manifestType,obj){var entry=new appType;return entry.manifest=new manifestType(obj.manifest),obj.datasources&&obj.datasources.forEach((function(datasource){entry.addDatasource(datasource)})),obj.rootComponent&&entry.setRoot(obj.rootComponent),obj.interactions&&obj.interactions.forEach((function(interaction){var newInteraction=new interaction_1.Interaction(interaction);entry.addInteraction(newInteraction)})),obj.translations&&obj.translations.forEach((function(translation){entry.addTranslation(translation)})),obj.customComponentDefinitions&&(entry.customComponentDefinitions=obj.customComponentDefinitions),obj.compositeComponents&&(entry.compositeComponents=obj.compositeComponents),obj.tags&&(entry.tags=obj.tags),obj.expressions&&(entry.expressions=obj.expressions),entry},Mashup}();exports.Mashup=Mashup},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.JsonHelper=void 0;var jsonpath_1=__importDefault(__webpack_require__(200)),isEmpty_1=__importDefault(__webpack_require__(230)),isUndefined_1=__importDefault(__webpack_require__(84)),date_helper_1=__webpack_require__(272),JsonHelper=function(){function JsonHelper(){}return JsonHelper.generateSample=function(schema,swaggerDoc,ref){if(!schema||isEmpty_1.default(schema))throw new Error("Schema is missing. <br/><br/> Be sure that your ION API Method has a swagger document.");var tempSchema=schema,currentRef_1=ref,path=void 0;if(schema.$ref){switch(schema.$ref[0]){case"#":if(!(path=schema.$ref.split("/")[2]))throw new Error("Schema reference error. <br/><br/> Reference not found.");tempSchema=swaggerDoc.definitions[path],currentRef_1=schema.$ref;break;default:throw new Error("Schema reference error. <br/><br/> Remote and URL references are not supported in App Builder.")}if(!tempSchema)throw new Error("Schema reference error. <br/><br/> Reference not found.")}switch(this.getSchemaType(tempSchema)){case"integer":case"number":return tempSchema.default||1;case"string":switch(tempSchema.format){case"byte":return tempSchema.default||"SGVsbG8gV29ybGQ=";case"date":return tempSchema.default||"1985-04-12";case"date-time":return tempSchema.default||"1985-04-12T23:20:50.52Z";case"binary":return tempSchema.default||"10101010";default:return tempSchema.default||"text"}case"boolean":return tempSchema.default||!0;case"array":return Array.isArray(tempSchema.items)?tempSchema.items.map((function(item){return JsonHelper.generateSample(item,swaggerDoc,currentRef_1)})):currentRef_1&&currentRef_1===ref?[]:[JsonHelper.generateSample(tempSchema.items,swaggerDoc,currentRef_1)];case"object":var sample={};for(var key in tempSchema.properties)tempSchema.properties[key].$ref&&currentRef_1&&tempSchema.properties[key].$ref===currentRef_1?sample[key]={}:sample[key]=JsonHelper.generateSample(tempSchema.properties[key],swaggerDoc,currentRef_1);return sample;default:throw new Error("Unknown schema type. <br/><br/> Review your swagger documentation & try again.")}},JsonHelper.getSchemaType=function(schema){if(schema.type)return schema.type;if(schema.properties)return"object";if(schema.items)return"array";if(!schema.format)return"string";switch(schema.format){case"float":case"double":return"number";case"int32":case"int64":return"integer";default:return"string"}},JsonHelper.generateSchema=function(sample){var schema={};if("number"==typeof sample)schema.type="number",schema.default=sample;else if("string"==typeof sample){schema.type="string",schema.default=sample;var format=this.getPropertyFormat(sample);void 0!==format&&(schema.format=format)}else if("boolean"==typeof sample)schema.type="boolean",schema.default=sample;else if(Array.isArray(sample))schema.type="array",sample.length>1?schema.items=sample.map((function(item){return JsonHelper.generateSchema(item)})):schema.items=JsonHelper.generateSchema(sample[0]);else{if("object"!=typeof sample||null===sample)throw new TypeError("Cannot map "+sample+" to a valid type");for(var key in schema.type="object",schema.properties={},sample)schema.properties[key]=JsonHelper.generateSchema(sample[key])}return schema},JsonHelper.getPropertyFormat=function(value){var date=date_helper_1.DateHelper.parse(value);if("Invalid Date"!==date.toString()&&0!==date.getHours())return"date-time"},JsonHelper.getPropertyType=function(schema,propertyName){var propertyNameMatch=propertyName.match(/[a-zA-Z0-9]+/),jsonQuery=null!==propertyNameMatch?"$.."+propertyNameMatch:"";if(isUndefined_1.default(jsonQuery)||isEmpty_1.default(jsonQuery))throw new TypeError("");return jsonpath_1.default.query(schema,jsonQuery)[0].type},JsonHelper.isCyclic=function(obj){var seenObjects=[],detect=function(item){if(item&&"object"==typeof item){if(-1!==seenObjects.indexOf(item))return!0;for(var key in seenObjects.push(item),item)if(item.hasOwnProperty(key)&&detect(item[key]))return!0}return!1};return detect(obj)},JsonHelper.fixCyclic=function(obj){var cache=[],result=JSON.stringify(obj,(function(key,value){if("object"==typeof value&&null!==value){if(-1!==cache.indexOf(value))try{return JSON.parse(JSON.stringify(value))}catch(error){return}cache.push(value)}return value}));return cache=null,result?JSON.parse(result):null},JsonHelper.prettify=function(jsonString,spaces){return void 0===spaces&&(spaces=2),JSON.stringify(jsonString,null,spaces)},JsonHelper.isInvalidJsonPath=function(root){var result=!1;try{jsonpath_1.default.parse(root)}catch(e){result=!0}return result},JsonHelper}();exports.JsonHelper=JsonHelper},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DateHelper=void 0;var DateHelper=function(){function DateHelper(){}return DateHelper.parse=function(value,date,locale){var datetime;if(/\d{8}\s{1}\d{2}:\d{2}:\d{2}.\d{3}/g.exec(value)){var datetimeParts=value.split(" "),date_1=Soho.Locale.parseDate(datetimeParts[0],{pattern:"yyyyMMdd"}),time=Soho.Locale.parseDate(datetimeParts[1],{pattern:"HH:mm:ss.SSS"});datetime=new Date(date_1.getFullYear(),date_1.getMonth(),date_1.getDate(),time.getHours(),time.getMinutes(),time.getSeconds(),time.getMilliseconds())}else if(/\/Date\(\d+\+?\d{4}\)\//.exec(value)){var milliseconds=/\d+/.exec(value)[0];datetime=new Date(parseInt(milliseconds))}else datetime=/^[0-9]{8}$/.exec(value)?Soho.Locale.parseDate(value,{pattern:"yyyyMMdd"}):/^\d+$/.exec(value)?new Date(parseFloat(value)):new Date(value);return datetime},DateHelper.isValidMillisecondTimestamp=function(value){return value<this.MAX_TIMESTAMP&&value>this.MIN_TIMESTAMP},DateHelper.isValidDate=function(date){return!isNaN(date.getTime())},DateHelper.MAX_TIMESTAMP=864e13,DateHelper.MIN_TIMESTAMP=-864e13,DateHelper}();exports.DateHelper=DateHelper},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(23)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.LayoutComponent=void 0;var common_constant_1=__webpack_require__(3);__webpack_require__(44);var size_type_enum_1=__webpack_require__(29);__webpack_require__(32),__webpack_require__(205),__webpack_require__(23),__webpack_require__(16),__webpack_require__(68),__webpack_require__(76);var LayoutComponent=function(_super){function LayoutComponent(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.children=[],_this}return __extends(LayoutComponent,_super),LayoutComponent.prototype.addChild=function(child,index){this.databearer.children.splice(index,0,child)},LayoutComponent.prototype.onChildrenReady=function(){},LayoutComponent.prototype.addChildInstance=function(child){this.children.push(child)},LayoutComponent.prototype.generateId=function(index){return this.isGenerated?this.generatedId+"index"+index:null},LayoutComponent.prototype.getPadding=function(){var margin=this.getBoundarySetting(common_constant_1.SettingKeys.MARGIN);return{padding:margin.top+"px "+margin.right+"px "+margin.bottom+"px "+margin.left+"px"}},LayoutComponent.prototype.newBoundaryEntered=function(boundaryId){_super.prototype.newBoundaryEntered.call(this,boundaryId),this.children.forEach((function(child){child.newBoundaryEntered(boundaryId)}))},LayoutComponent.prototype.getClassList=function(){var classList=_super.prototype.getClassList.call(this);return classList.push("layoutComponent"),classList.push("col-md4"),classList},LayoutComponent.prototype.getInlineStyle=function(){var style=_super.prototype.getInlineStyle.call(this);return style.padding=style.margin,style.margin=null,style},LayoutComponent.prototype.calcNewSize=function(sizeObject,orientation,margin){void 0===margin&&(margin=0);var retSize="";if(this.parent.hasIndividualChildSizes(orientation))if(sizeObject.sizeType===size_type_enum_1.SizeTypeEnum.PERCENT){var pxPerPercentComponent=this.parent.getPxPerPercentComponent(orientation,sizeObject.value);retSize="calc("+(sizeObject.value||common_constant_1.Numbers.HUNDRED)+"% - "+pxPerPercentComponent+"px)"}else sizeObject.sizeType===size_type_enum_1.SizeTypeEnum.PIXELS&&(retSize="calc("+sizeObject.value+"px)");return retSize},LayoutComponent.prototype.calcNewSizes=function(orientation){_super.prototype.calcNewSizes.call(this)},LayoutComponent.prototype.forEachChild=function(fn,doGenerated){_super.prototype.forEachChild.call(this,fn,doGenerated),this.children.forEach((function(ch){ch.forEachChild(fn,doGenerated)}))},LayoutComponent.prototype.forEachParent=function(fn){_super.prototype.forEachParent.call(this,fn),fn(this)},LayoutComponent}(__webpack_require__(46).Component);exports.LayoutComponent=LayoutComponent},function(module,exports,__webpack_require__){"use strict";(function($){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.List=void 0;var angular_1=__importDefault(__webpack_require__(12)),isNil_1=__importDefault(__webpack_require__(164)),isNumber_1=__importDefault(__webpack_require__(418)),isUndefined_1=__importDefault(__webpack_require__(84)),common_constant_1=__webpack_require__(3),interaction_defines_constant_1=__webpack_require__(52),binding_type_enum_1=__webpack_require__(30);__webpack_require__(44);var size_type_enum_1=__webpack_require__(29),value_type_enum_1=__webpack_require__(26),component_1=__webpack_require__(46),backward_compatible_1=__webpack_require__(64),helper_1=__webpack_require__(69);__webpack_require__(28);var List=function(_super){function List(obj,$element,parent,frameworkService){var _this=_super.call(this,obj,$element,parent,frameworkService)||this;return _this.children={},_this.childrenDatabearers=[],obj&&(_this.keepSelected=obj.keepSelected,_this.showLabel=backward_compatible_1.BackwardCompatible.getShowLabel(obj),_this.search=obj.search||!1),_this.filterValue="",_this}return __extends(List,_super),List.prototype.clearSearch=function(){this.filterValue="",this.refresh()},List.prototype.getFilteredList=function(){if(this.getScope())return this.filterList(angular_1.default.copy(this.scope.context.ListResult))},List.prototype.newBoundaryEntered=function(boundaryId){_super.prototype.newBoundaryEntered.call(this,boundaryId),this.currentTemplate=this.getBoundarySetting(common_constant_1.SettingKeys.ITEM_TEMPLATE),this.setBoundarySettingIfChanged(common_constant_1.SettingKeys.SHOW_LABEL),this.refresh()},List.prototype.refresh=function(){this.updateCurrentTemplateHeight(),this.renderChildren()},List.prototype.setCurrentItem=function(generatedId){var realIndex=this.getRealIndexFromGeneratedId(generatedId),listResults=this.getFilteredList(),currItem=listResults?listResults[realIndex]:null;null!==currItem&&currItem!==this.currentItem&&(this.selectedGeneratedId=currItem?generatedId:null,this.currentItem=currItem,this.trigger(common_constant_1.InteractionTriggerEnum.CURRENT_ITEM_CHANGED),this.frameworkService.triggerExpressions())},List.prototype.forEachItemTemplate=function(fn){for(var boundaryId in this.databearer.boundarySettings)this.databearer.boundarySettings[boundaryId].itemTemplate&&fn(this.databearer.boundarySettings[boundaryId].itemTemplate)},List.prototype.loadInteraction=function(interaction){var _this=this,interactionPromise=_super.prototype.loadInteraction.call(this,interaction);return interaction.targetActionName===common_constant_1.InteractionActionEnum.LIST&&interactionPromise.then((function(data){data.length<=0&&(_this.selectedGeneratedId=null,_this.onLoad())})).finally((function(){_this.renderChildren().then((function(){_this.onLoad()}))})),interactionPromise},List.prototype.onComponentReady=function(childInstance,generatedId){this.children[generatedId]=childInstance,childInstance.forEachChild((function(subChild){subChild.initializeBindings()}),!0),Object.keys(this.children).length===this.childrenDatabearers.length&&(this.updateCurrentTemplateHeight(),this.loadFillOptimal(),this.childrenReadyDeferred.resolve())},List.prototype.getChildContext=function(generatedId){if(this.getFilteredList()){var realIndex=this.getRealIndexFromGeneratedId(generatedId);return $.extend({},this.getContext(),this.getFilteredList()[realIndex])}return this.getContext()},List.prototype.calcNewHeight=function(){this.calcNewSizes()},List.prototype.calcNewWidth=function(){this.calcNewSizes()},List.prototype.resizableChildren=function(direction){return!1},List.prototype.getPxPerPercentComponent=function(ori,percent){return 0},List.prototype.hasIndividualChildSizes=function(ori){return!0},List.prototype.calcNewSizes=function(orientation){var _this=this;_super.prototype.calcNewWidth.call(this),_super.prototype.calcNewHeight.call(this),this.children&&Object.keys(this.children).forEach((function(childKey){var child=_this.children[childKey];child.calcNewWidth(),child.calcNewHeight()}))},List.prototype.forEachParent=function(fn){_super.prototype.forEachParent.call(this,fn),fn(this)},List.prototype.forEachChild=function(fn,doGenerated){if(_super.prototype.forEachChild.call(this,fn,doGenerated),doGenerated)for(var key in this.children)this.children[key].forEachChild(fn,doGenerated)},List.prototype.setBindableValue=function(key,value){_super.prototype.setBindableValue.call(this,key,value),key===common_constant_1.SettingKeys.SHOW_LABEL&&this.updateClasses()},List.prototype.loadMore=function(down){var _this=this;if(this.infiniteScrollEnabled&&this.childrenDatabearers.length){var listData=this.getFilteredList(),newRowCount=Math.floor(.5*this.getRowsPerPage());if(newRowCount=0===newRowCount?1:newRowCount,down){var realIndexMax=this.getRealIndexFromGeneratedId(this.childrenDatabearers[this.childrenDatabearers.length-1].generatedId);(remainingSlots=listData.length-(realIndexMax+1))<newRowCount&&(newRowCount=remainingSlots),this.childrenDatabearers.splice(0,newRowCount).forEach((function(deletedChild){delete _this.children[deletedChild.generatedId]}));for(var i=0;i<newRowCount;i++)this.childrenDatabearers.push(this.getNewGeneratedComponent(realIndexMax+1+i))}else{var remainingSlots,realIndexMin=this.getRealIndexFromGeneratedId(this.childrenDatabearers[0].generatedId);(remainingSlots=realIndexMin)<newRowCount&&(newRowCount=remainingSlots),this.childrenDatabearers.splice(-newRowCount,newRowCount).forEach((function(deletedChild){delete _this.children[deletedChild.generatedId]}));for(i=0;i<newRowCount;i++)this.childrenDatabearers.unshift(this.getNewGeneratedComponent(realIndexMin-1-i))}}},List.prototype.getClassList=function(){var classList=_super.prototype.getClassList.call(this);return this.getBoundarySetting(common_constant_1.SettingKeys.SHOW_LABEL)||classList.push("hide-header"),classList},List.prototype.filterList=function(list){var _this=this;if(list){var activeFields_1=this.getActiveFieldsFromTemplate();return list.filter((function(values){return _this.checkObjectforFilterMatch(values,activeFields_1)}))}return list},List.prototype.getActiveFieldsFromTemplate=function(){var activeIDs=[],breakdown=function(child){var component;switch(child.typedef){case"Flexbox":(component=child).children.forEach((function(child){breakdown(child)}));break;case"Label":(component=child).content.Type===binding_type_enum_1.BindingTypeEnum.CONTEXT_BINDING&&-1===activeIDs.indexOf(component.content.sourceKey)&&activeIDs.push(component.content.sourceKey),component.toolTip.Type===binding_type_enum_1.BindingTypeEnum.CONTEXT_BINDING&&-1===activeIDs.indexOf(component.toolTip.sourceKey)&&activeIDs.push(component.toolTip.sourceKey)}};return this.currentTemplate.children.forEach((function(child){breakdown(child)})),activeIDs},List.prototype.checkObjectforFilterMatch=function(objectValues,activeFields){var _this=this;if(isNil_1.default(this.filterValue))return!0;var match=!1;return Object.entries(objectValues).some((function(_a){var key=_a[0],value=_a[1];if(-1!==activeFields.indexOf(key)&&-1!==value.toLowerCase().indexOf(_this.filterValue.toLowerCase()))return match=!0})),match},List.prototype.updateCurrentTemplateHeight=function(){var firstLiElement=this.element.find("li").first();firstLiElement.length?this.currentTemplateHeight=firstLiElement.children().first().height():this.currentTemplateHeight=null},List.prototype.onLoad=function(){this.trigger(common_constant_1.InteractionTriggerEnum.ON_LOAD),this.setSelection()},List.prototype.setSelection=function(){this.selectedGeneratedId&&this.keepSelected?(this.moveIndex(),this.goToPage(),this.moveScroll(),this.setCurrentItem(this.selectedGeneratedId)):this.setCurrentItem(Object.keys(this.children)[0])},List.prototype.moveIndex=function(){var listresult=this.getFilteredList(),index=helper_1.ComponentsHelper.findItemIndexById(listresult,this.currentItem.id);if(isUndefined_1.default(index)?this.setErrorTooltip("Selection failed, Item ID is not unique."):this.setErrorTooltip(),isNumber_1.default(index)&&-1!==index)this.selectedGeneratedId=this.getGeneratedPrefix()+index;else if(index){var index_1=this.getRealIndexFromGeneratedId(this.selectedGeneratedId);this.selectedGeneratedId=this.getGeneratedPrefix()+helper_1.ComponentsHelper.incrementIndex(index_1,this.getContext(),this.currentItem,this.getDatasource())}else this.setCurrentItem(Object.keys(this.children)[0])},List.prototype.goToPage=function(){if(this.selectedGeneratedId){var listData=this.getFilteredList(),generatedIndex=this.getRealIndexFromGeneratedId(this.selectedGeneratedId)-5;generatedIndex<0&&(generatedIndex=0),this.childrenDatabearers=[];var optimalRowCount=Math.floor(this.getRowsPerPage()*List.SCROLLABLE_PAGE_FACTOR);optimalRowCount>listData.length&&(optimalRowCount=listData.length),listData.length-(generatedIndex+1)<optimalRowCount&&(generatedIndex=listData.length-optimalRowCount);for(var i=0;i<optimalRowCount;i++)this.childrenDatabearers.push(this.getNewGeneratedComponent(generatedIndex+i))}},List.prototype.moveScroll=function(){var rowCount=Math.floor(this.getRowsPerPage())+1;if(this.getFilteredList().length-this.getRealIndexFromGeneratedId(this.selectedGeneratedId)<rowCount){var listElement=this.element.find(".listview")[0];listElement.scrollTop=listElement.scrollHeight}},List.prototype.loadFillOptimal=function(){var optimalRowCount=Math.floor(this.getRowsPerPage()*List.SCROLLABLE_PAGE_FACTOR),dataLength=this.getFilteredList()?this.getFilteredList().length:0,remainingTilOptimaleCount=optimalRowCount-this.childrenDatabearers.length,remainingDataLength=dataLength-this.childrenDatabearers.length;if(remainingTilOptimaleCount>0){var newRowCount=Math.min(remainingTilOptimaleCount,remainingDataLength);if(this.childrenDatabearers.length>0)for(var realIndexMax=this.getRealIndexFromGeneratedId(this.childrenDatabearers[this.childrenDatabearers.length-1].generatedId),i=0;i<newRowCount;i++)this.childrenDatabearers.push(this.getNewGeneratedComponent(realIndexMax+1+i))}optimalRowCount>this.childrenDatabearers.length?this.infiniteScrollEnabled=!1:this.infiniteScrollEnabled=!0},List.prototype.getGeneratedPrefix=function(){return this.getId()+"_row"},List.prototype.updateView=function(){this.currentTemplate=this.getBoundarySetting(common_constant_1.SettingKeys.ITEM_TEMPLATE),this.currentTemplateHeight=null},List.prototype.getRealIndexFromGeneratedId=function(generatedId){var returnNumber=-1,match=new RegExp(this.getGeneratedPrefix()+"(\\d+)").exec(generatedId);return match&&(returnNumber=parseInt(match[1])),returnNumber},List.prototype.getRowsPerPage=function(){var eachHeight=this.currentTemplateHeight+33;return this.element.find(".listview").height()/eachHeight},List.prototype.getNewGeneratedComponent=function(realIndex){var currentTemplate=this.currentTemplate,generatedId=this.getGeneratedPrefix()+realIndex;return __assign(__assign({},currentTemplate),{generatedId:generatedId})},List.prototype.renderChildren=function(){var _this=this;return this.childrenReadyDeferred=this.frameworkService.getNewDeferred(),this.getScope().$evalAsync((function(){_this.childrenDatabearers=[],_this.children={}})),this.frameworkService.getTimeout()((function(){var listResults=_this.getFilteredList(),hasListResults=!!listResults,hasData=hasListResults&&0!==listResults.length,noData=hasListResults&&0===listResults.length;_this.childrenDatabearers=[_this.getNewGeneratedComponent(0)],_this.frameworkService.isDesigner()&&noData&&!hasListResults&&(_this.childrenDatabearers=[]),_this.frameworkService.isRuntimeMode()&&!hasData&&(_this.childrenDatabearers=[]),_this.loadFillOptimal()}),10),this.childrenReadyDeferred.promise},List.DEFAULT_WIDTH={sizeType:size_type_enum_1.SizeTypeEnum.PERCENT},List.DEFAULT_HEIGHT={sizeType:size_type_enum_1.SizeTypeEnum.PERCENT},List.SOURCE_TRIGGERS=interaction_defines_constant_1.InteractionDefines.SOURCE_TRIGGERS.concat([common_constant_1.InteractionPairOperation.ON_ITEM_CHANGED]),List.TARGET_ACTIONS=[common_constant_1.InteractionPairOperation.LIST],List.DEFAULT_TRIGGER=common_constant_1.InteractionPairOperation.ON_ITEM_CHANGED,List.DEFAULT_ACTION=common_constant_1.InteractionPairOperation.LIST,List.SETTING_FIELDS=[{title:"Style",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{title:"Show Header",boundarySetting:!0,ref:common_constant_1.SettingKeys.SHOW_LABEL,inputType:common_constant_1.SettingInputKeys.CHECKBOX,defaultValue:!0}]},{title:"Options",tab:common_constant_1.SidebarTabTypes.CONTENT,settings:[{title:"Keep Selection",tooltip:"Keep previous selected row on reload. (With ION APIs, an object ID is preferred if using this)",ref:common_constant_1.SettingKeys.KEEP_SELECTED,inputType:common_constant_1.SettingInputKeys.CHECKBOX,defaultValue:!0},{title:"Search Field",ref:common_constant_1.SettingKeys.SEARCH,inputType:common_constant_1.SettingInputKeys.CHECKBOX,defaultValue:!1}]}].concat(component_1.Component.SETTING_FIELDS),List.BINDABLE_FIELDS_2=[{name:"Selected Item",ref:common_constant_1.SettingKeys.CURRENT_ITEM,valueType:value_type_enum_1.ValueTypeEnum.OBJECT,write:!1,read:!0},{name:"Header",ref:common_constant_1.SettingKeys.LABEL,valueType:value_type_enum_1.ValueTypeEnum.LOCALIZED_STRING,write:!0,read:!1,defaultValue:{Type:binding_type_enum_1.BindingTypeEnum.STATIC_VALUE,value:""}}],List.SCROLLABLE_PAGE_FACTOR=2,List.directive=[function(){return{template:__webpack_require__(845),replace:!0}}],List}(component_1.Component);exports.List=List}).call(this,__webpack_require__(21))},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.Tabs=void 0;var common_constant_1=__webpack_require__(3),interaction_defines_constant_1=__webpack_require__(52),orientation_enum_1=__webpack_require__(44),size_type_enum_1=__webpack_require__(29),component_1=__webpack_require__(46),layout_component_1=__webpack_require__(275);__webpack_require__(28);var Tabs=function(_super){function Tabs(obj,$element,parent,frameworkService){var _this=_super.call(this,obj,$element,parent,frameworkService)||this;return _this.readyChildrenCount=0,_this.childrenDatabearers=_this.databearer.children,_this.componentTabs=_this.databearer.componentTabs,_this.currentTab=_this.componentTabs[0],_this.orientation=obj.orientation||Tabs.DEFAULT_ORIENTAION,_this}return __extends(Tabs,_super),Tabs.prototype.updateWhenExist=function(){var _this=this,checkExist=setInterval((function(){_this.element.length>0&&(clearInterval(checkExist),_this.element.children().children(".tab-container").tabs({changeTabOnHashChange:!0,hashChangeCallback:_this.onChangeTab.bind(_this)}),_this.initializeBindings(),_this.updatePanels(),_this.forEachChild((function(child){child.initializeBindings()}),!0))}),100)},Tabs.prototype.initializeTabs=function(){var _this=this;this.getScope().$applyAsync((function(){_this.updateWhenExist()}))},Tabs.prototype.onComponentReady=function(component){this.addChildInstance(component),this.readyChildrenCount++,this.readyChildrenCount===this.componentTabs.length&&this.getScope().onChildrenReady()},Tabs.prototype.initializeBindings=function(){_super.prototype.initializeBindings.call(this),this.updateValuesWithTranslations()},Tabs.prototype.onChildrenReady=function(){this.initializeTabs()},Tabs.prototype.isLayoutComponent=function(){return!1},Tabs.prototype.resizableChildren=function(direction){return!1},Tabs.prototype.getPxPerPercentComponent=function(ori,percent){return 0},Tabs.prototype.hasIndividualChildSizes=function(ori){return!1},Tabs.prototype.onChangeTab=function(selectedId){var selectedTab=this.componentTabs.find((function(tab){return"#"+tab.id===selectedId}));this.currentTab=selectedTab||this.componentTabs[0],this.updatePanels()},Tabs.prototype.onOrientationChanged=function(){var tabAPI=this.element.find(".tab-container").data("tabs");tabAPI&&(tabAPI.destroy(),this.currentTab=this.componentTabs[0],this.updateWhenExist())},Tabs.prototype.updatePanels=function(){var _this=this;this.children.forEach((function(tabPanel){tabPanel.updateVisibility(),tabPanel.isVisible&&(tabPanel.forEachChild((function(innerChild){innerChild.updateVisibility()}),!1),_this.frameworkService.getTimeout()((function(){_this.frameworkService.triggerExpressions()})))}))},Tabs.prototype.getInlineStyle=function(){var style=_super.prototype.getInlineStyle.call(this);return style.margin=style.padding,style.padding=null,style},Tabs.prototype.calcNewSize=function(sizeObject,orientation,margin){void 0===margin&&(margin=0);var retSize="";if(this.parent.hasIndividualChildSizes(orientation))if(sizeObject.sizeType===size_type_enum_1.SizeTypeEnum.PERCENT){var pxPerPercentComponent=this.parent.getPxPerPercentComponent(orientation,sizeObject.value);retSize="calc("+(sizeObject.value||common_constant_1.Numbers.HUNDRED)+"% - "+(pxPerPercentComponent+margin)+"px)"}else sizeObject.sizeType===size_type_enum_1.SizeTypeEnum.PIXELS&&(retSize="calc("+sizeObject.value+"px)");return retSize},Tabs.prototype.updateValuesWithTranslations=function(){var _this=this;this.componentTabs.forEach((function(tab){var translatedTitle=_this.frameworkService.getTranslatableStringByProperty(_this.getId(),tab.id);if(translatedTitle){var globalString=_this.frameworkService.getGlobalValue(translatedTitle,_this);globalString&&(tab.value=globalString),tab.name=translatedTitle}}))},Tabs.availableOrientations=[{name:"Horizontal",value:orientation_enum_1.OrientationEnum.HORIZONTAL},{name:"Vertical",value:orientation_enum_1.OrientationEnum.VERTICAL}],Tabs.DEFAULT_ORIENTAION=orientation_enum_1.OrientationEnum.HORIZONTAL,Tabs.DEFAULT_WIDTH={sizeType:size_type_enum_1.SizeTypeEnum.PERCENT},Tabs.DEFAULT_HEIGHT={sizeType:size_type_enum_1.SizeTypeEnum.PERCENT},Tabs.SOURCE_TRIGGERS=interaction_defines_constant_1.InteractionDefines.SOURCE_TRIGGERS,Tabs.TARGET_ACTIONS=interaction_defines_constant_1.InteractionDefines.TARGET_ACTIONS,Tabs.DEFAULT_ACTION=common_constant_1.InteractionPairOperation.GET,Tabs.DEFAULT_TRIGGER=common_constant_1.InteractionPairOperation.ON_LOAD,Tabs.BINDABLE_FIELDS_2=[],Tabs.SETTING_FIELDS=[{title:"Orientation",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{ref:common_constant_1.SettingKeys.ORIENTATION,inputType:common_constant_1.SettingInputKeys.RADIO,dataset:Tabs.availableOrientations,defaultValue:Tabs.DEFAULT_ORIENTAION}]}].concat(component_1.Component.SETTING_FIELDS),Tabs.directive=[function(){return{template:__webpack_require__(848),replace:!0}}],Tabs}(layout_component_1.LayoutComponent);exports.Tabs=Tabs},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(3),__webpack_require__(44),__webpack_require__(32),__webpack_require__(205),__webpack_require__(23)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.TestDataserviceDialogCtrl=exports.TestDataserviceDialogType=void 0;var TestDataserviceDialogType,angular_1=__importDefault(__webpack_require__(12)),angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3),datasource_type_enum_1=__webpack_require__(57),defines_1=__webpack_require__(16),json_helper_1=__webpack_require__(271),helper_1=__webpack_require__(15);!function(TestDataserviceDialogType){TestDataserviceDialogType.UNFORMATTED="UNFORMATTED",TestDataserviceDialogType.FORMATTED="FORMATTED"}(TestDataserviceDialogType=exports.TestDataserviceDialogType||(exports.TestDataserviceDialogType={}));var TestDataserviceDialogCtrl=function(){function TestDataserviceDialogCtrl(scope,$timeout,$q,datasourceService,dialogService){var _this=this;this.scope=scope,this.$timeout=$timeout,this.$q=$q,this.datasourceService=datasourceService,this.dialogService=dialogService,this.responseData="",this.fetching=!1,this.testDialogTypes=TestDataserviceDialogType;var dialog=scope.eirDialog;this.dialog=dialog,dialog.parameter.dataservice?(this.dataservice=angular_1.default.copy(dialog.parameter.dataservice),this.type=dialog.parameter.type,this.datagridOptions=this.initDatagridOptions(),this.initGenericState(this.dataservice)):this.$timeout((function(){_this.handleError(new Error("Could not find the data service")).finally((function(){return _this.close()}))}))}return TestDataserviceDialogCtrl.prototype.runApi=function(){var _this=this;this.fetching||(this.fetching=!0,this.runGenericApi(this.dataservice).catch(this.handleError.bind(this)).finally((function(){return _this.fetching=!1})))},TestDataserviceDialogCtrl.prototype.copyToClipboard=function(){angular_1.default.element("#testDataserviceTextareaField").select();try{if(!document.execCommand("copy"))throw new Error("Was not able to copy")}catch(error){this.handleError(error)}},TestDataserviceDialogCtrl.prototype.close=function(){this.dialog.close()},TestDataserviceDialogCtrl.prototype.onKeyPress=function($event){$event.which===defines_1.KeyCodeEnum.ENTER&&this.runApi()},TestDataserviceDialogCtrl.prototype.initGenericState=function(dataservice){dataservice.inputParameters&&(this.parameters=dataservice.inputParameters.map((function(param){return{id:param.id,key:param.key,value:"",mandatory:param.required}})))},TestDataserviceDialogCtrl.prototype.runGenericApi=function(dataservice){var paramForInput=[];switch(this.parameters&&(paramForInput=this.parameters.reduce((function(acc,param){return acc[param.id]=param.value,acc}),{})),this.type){case TestDataserviceDialogType.UNFORMATTED:return this.getUnFormattedData(dataservice,paramForInput);case TestDataserviceDialogType.FORMATTED:return this.getFormattedData(dataservice,paramForInput);default:return this.$q.reject(new Error("Request format is not supported"))}},TestDataserviceDialogCtrl.prototype.getFormattedData=function(dataservice,parameters){var _this=this;return this.datasourceService.parseDatasourceToTS(dataservice).getDetailData(parameters).then((function(result){return function(result){if(0===dataservice.outputParameters.length)throw Error("No output parameter(s) specified.");return Object.keys(result).map((function(key){var maybeNewKey=dataservice.outputParameters.find((function(outputParam){return outputParam.id===key})),newKey=key;return maybeNewKey&&(newKey=maybeNewKey.alias?maybeNewKey.alias:maybeNewKey.key),{name:newKey,value:result[key]}}))}(result)})).then((function(result){return _this.fillResponseData(result),_this.datagridOptions.dataset=result,result}))},TestDataserviceDialogCtrl.prototype.getUnFormattedData=function(dataservice,parameters){var _this=this;return this.datasourceService.parseDatasourceToTS(dataservice).getNonParsedData(parameters).then((function(result){if(dataservice.typedef===datasource_type_enum_1.DatasourceTypeEnum.IDO&&!dataservice.outputParameters.find((function(item){return item.key===common_constant_1.IdoProperties.ROW_POINTER})))for(var i=0;i<result.length;i++)delete result[i][common_constant_1.IdoProperties.ROW_POINTER];_this.fillResponseData(result)}))},TestDataserviceDialogCtrl.prototype.fillResponseData=function(result){var _this=this;this.$timeout((function(){_this.responseData=json_helper_1.JsonHelper.prettify(result)}))},TestDataserviceDialogCtrl.prototype.handleError=function(error){return this.responseData=helper_1.Helper.cleanTemplateLiteral(error.message),console.error(error.message),this.dialogService.showError("Error",error.message)},TestDataserviceDialogCtrl.prototype.initDatagridOptions=function(){return{columns:[{id:"name",name:"Name",field:"name",resizable:!0,sortable:!0,formatter:Soho.Formatters.Ellipsis},{id:"description",name:"Description",field:"value",resizable:!0,sortable:!0,formatter:Soho.Formatters.Ellipsis}],dataset:[{}]}},TestDataserviceDialogCtrl.add=function(m){m.controller("eirTestDataserviceCtrl",TestDataserviceDialogCtrl)},TestDataserviceDialogCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,angular_constants_1.AngularConstants.TIMEOUT,angular_constants_1.AngularConstants.Q,common_constant_1.InjectNames.DATASOURCE_SERVICE,common_constant_1.InjectNames.DIALOG_SERVICE],TestDataserviceDialogCtrl}();exports.TestDataserviceDialogCtrl=TestDataserviceDialogCtrl},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.DatagridDirective=exports.DATAGRID_RENDERED=void 0;var cloneDeep_1=__importDefault(__webpack_require__(333)),isEqual_1=__importDefault(__webpack_require__(927));__webpack_require__(40),__webpack_require__(77);var datagrid_helper_1=__webpack_require__(93),utils_1=__webpack_require__(47);exports.DATAGRID_RENDERED="finishedDatagridCreation";var DatagridDirective=function(){function DatagridDirective(){this.restrict="A",this.scope=!1}return DatagridDirective.prototype.link=function(scope,element,attributes){var options=scope.$eval(attributes[DatagridDirective.DIRECTIVE_NAME]);if(options.dataset){if(!options.columns){var columns=[];for(var propertyName in options.dataset[0]){var columnName=propertyName[0].toUpperCase()+propertyName.substring(1),column={id:propertyName,name:columnName,field:propertyName,width:150};columns.push(column)}options.columns=columns}element.datagrid(options);var api_1=utils_1.Utils.getData(element,"datagrid");if(void 0!==options.id){var finishedResult={id:options.id,api:api_1};element.trigger(exports.DATAGRID_RENDERED,finishedResult)}var unbindWatcher_1=scope.$watch(attributes[DatagridDirective.DIRECTIVE_NAME],(function(newOptions,oldOptions){var a,b,newDataset,oldDataset;a=newOptions.dataset,b=oldOptions.dataset,newDataset=cloneDeep_1.default(a),oldDataset=cloneDeep_1.default(b),newDataset.forEach(datagrid_helper_1.DatagridHelper.clearSohoProperties),oldDataset.forEach(datagrid_helper_1.DatagridHelper.clearSohoProperties),isEqual_1.default(newDataset,oldDataset)||api_1.loadData(newOptions.dataset,{preserveSelected:!0}),newOptions.updateDatagrid&&(delete newOptions.updateDatagrid,api_1.updated(newOptions))}),!0);element.on("$destroy",(function(){unbindWatcher_1()}))}},DatagridDirective.add=function(m){m.directive(DatagridDirective.DIRECTIVE_NAME,(function(){return new DatagridDirective}))},DatagridDirective.DIRECTIVE_NAME="xiDatagrid",DatagridDirective}();exports.DatagridDirective=DatagridDirective},function(module,exports){module.exports='<div class=export-dialog ng-controller="eirExportProjectCtrl as ctrl"> <div class=field> <div class=filename> <eir-input-field-component class=input-field-component label-name="Name of the exported file" field-value=ctrl.exportFileName validation="{\r\n\t\t\t\t\tvalidators: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttype: \'custom\',\r\n\t\t\t\t\t\t\tcustom: {\r\n\t\t\t\t\t\t\t\tvalidator: ctrl.validate,\r\n\t\t\t\t\t\t\t\terrorMessage: \'Valid characters are A-Z a-z 0-9 . _ -\'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{type: \'not-empty\'}\r\n\t\t\t\t\t],\r\n\t\t\t\t\terrorList: ctrl.errorList\r\n\t\t\t\t}"/> </div> <div class=extension> <p><b>{{:: "." + ctrl.fileExtension}}</b></p> </div> </div> <div class=modal-buttonset> <button type=button class=btn-modal ng-click=ctrl.close()>Cancel</button> <button type=button class="btn-modal btn-modal-primary" ng-click=ctrl.export() ng-disabled=ctrl.isInvalid> Export </button> </div> </div>'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";(function($){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__spreadArrays=this&&this.__spreadArrays||function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.DatasourceWizardCtrl=exports.DatasourceCreateModeEnum=void 0;var jsonpath_1=__importDefault(__webpack_require__(200)),isUndefined_1=__importDefault(__webpack_require__(84)),angular_constants_1=__webpack_require__(7),test_dataservice_dialog_1=__webpack_require__(281),helper_1=__webpack_require__(15),dialog_service_1=__webpack_require__(13),wizard_ctrl_1=__webpack_require__(211),repository_helper_1=__webpack_require__(328),datasource_wizard_helper_1=__webpack_require__(550),common_constant_1=__webpack_require__(3),datasource_type_enum_1=__webpack_require__(57),http_verb_enum_1=__webpack_require__(131),parameter_type_enum_1=__webpack_require__(113),value_type_enum_1=__webpack_require__(26);__webpack_require__(202);var DatasourceCreateModeEnum,http_accept_enum_1=__webpack_require__(315),backward_compatible_1=__webpack_require__(64),data_service_helper_1=__webpack_require__(231),json_helper_1=__webpack_require__(271);!function(DatasourceCreateModeEnum){DatasourceCreateModeEnum[DatasourceCreateModeEnum.EDIT=0]="EDIT",DatasourceCreateModeEnum[DatasourceCreateModeEnum.FROM_SWAGGER=1]="FROM_SWAGGER",DatasourceCreateModeEnum[DatasourceCreateModeEnum.FROM_SCRATCH=2]="FROM_SCRATCH"}(DatasourceCreateModeEnum=exports.DatasourceCreateModeEnum||(exports.DatasourceCreateModeEnum={}));var DatasourceWizardCtrl=function(_super){function DatasourceWizardCtrl($scope,$element,$templateCache,dialogService,featureService,ionMetadataService){var _this=_super.call(this,$scope,$element,$templateCache,featureService)||this;_this.dialogService=dialogService,_this.ionMetadataService=ionMetadataService,_this.steps=[{id:"datasource-wizard-inputparameters.html",title:"Input Parameters",userTip:"",template:__webpack_require__(968)},{id:"datasource-wizard-outputparameters.html",title:"Output Parameters",userTip:"",template:__webpack_require__(969)},{id:"datasource-wizard-description.html",title:"Name &amp; Description",userTip:"",template:__webpack_require__(438)},{id:"datasource-wizard-summary.html",title:"Summary",userTip:"",template:__webpack_require__(970)}],_this.outputRootElementInvalid=!1,_this.inputRootElementInvalid=!1,_this.objectIdInvalid=!1,_this.hasRequestBody=!1,_this.errorList=[],_this.initWizard(),_this.nextDisabled=!1,_this.eirDialog=$scope.eirDialog;_this.eirDialog.parameter;return _this.focusedOperation=_this.eirDialog.parameter.focusedOperation,_this.swaggerDoc=_this.eirDialog.parameter.swaggerDocument,_this.runWizard(),_this}return __extends(DatasourceWizardCtrl,_super),Object.defineProperty(DatasourceWizardCtrl.prototype,"httpMethods",{get:function(){return http_verb_enum_1.HttpVerbEnum},enumerable:!1,configurable:!0}),Object.defineProperty(DatasourceWizardCtrl.prototype,"swaggerOperation",{get:function(){return this.focusedOperation&&this.swaggerDoc?repository_helper_1.RepositoryHelper.getSwaggerOperation(this.focusedOperation,this.swaggerDoc):null},enumerable:!1,configurable:!0}),Object.defineProperty(DatasourceWizardCtrl.prototype,"restUrl",{get:function(){return common_constant_1.Config.ION_API_URL+"/"+common_constant_1.Config.TENANT_ID+this.datasource.suite+this.datasource.endpoint+this.datasource.resource},enumerable:!1,configurable:!0}),DatasourceWizardCtrl.prototype.runWizard=function(){this.eirDialog.parameter.datasource?this.editDataservice():this.focusedOperation?this.newDataserviceFromSwaggerDocument():this.newDataserviceFromScratch(),this.onChangeRequestMethod()},DatasourceWizardCtrl.prototype.editDataservice=function(){this.datasourceCreateMode=DatasourceCreateModeEnum.EDIT,this.datasource=this.eirDialog.parameter.datasource,this.datasource.headers=backward_compatible_1.BackwardCompatible.setDataServiceHeader(this.datasource.headers)},DatasourceWizardCtrl.prototype.loadSwaggerOperation=function(){var _this=this;return this.ionMetadataService.searchOperations(this.datasource.suite,this.datasource.displayName).then((function(operation){return _this.focusedOperation=operation[0],_this.focusedOperation.swaggerJsonFilePath})).then((function(operationPath){return _this.ionMetadataService.getSwaggerDoc(operationPath)})).then((function(swaggerDoc){return _this.swaggerDoc=swaggerDoc}))},DatasourceWizardCtrl.prototype.newDataserviceFromScratch=function(){this.datasourceCreateMode=DatasourceCreateModeEnum.FROM_SCRATCH,this.datasource={displayName:"Default",method:http_verb_enum_1.HttpVerbEnum.GET,resource:"/",typedef:datasource_type_enum_1.DatasourceTypeEnum.generic,endpoint:"",suite:"",version:2,outputRootElement:"$",inputRootElement:"$",bodyTemplate:"",isOutputFile:!1,inputParameters:[],outputParameters:[],outputJson:"",headers:{}}},DatasourceWizardCtrl.prototype.newDataserviceFromSwaggerDocument=function(){var _this=this;this.datasourceCreateMode=DatasourceCreateModeEnum.FROM_SWAGGER;var deconstructPaths=repository_helper_1.RepositoryHelper.deconstructPath(this.focusedOperation),outputRootElement="$",outputSchema=this.getResponseSchema(),inputSchemaFetch=this.getRequestBodySchema(),inputSchema=null;inputSchemaFetch&&(inputSchema=inputSchemaFetch.schema),"/M3"!==deconstructPaths.suite||$.isEmptyObject(outputSchema.properties)||("v1"===deconstructPaths.version?(outputRootElement="$.MIRecord[*]",outputSchema=this.autoCorrectM3(outputSchema)):(outputRootElement="$.results[0].records[*]",outputSchema=this.autoCorrectM3Version2(outputSchema)));var sample,outputJson="{}";try{sample=json_helper_1.JsonHelper.generateSample(outputSchema,this.swaggerDoc)}catch(error){this.dialog.opened=function(dialogEvent){var messageOutput;return console.warn("Schema has error:",error),messageOutput=error instanceof Error?error.message:"Ops, something went wrong. See Console for details.",_this.dialogService.showError("Warning",messageOutput),dialogEvent}}sample&&(outputJson=JSON.stringify(sample,null,"  ")),this.datasource={displayName:this.focusedOperation.operationSummary,method:this.focusedOperation.method.toUpperCase(),resource:this.configureResourcePath(deconstructPaths.resource),typedef:this.getTypeDef(deconstructPaths.suite),endpoint:deconstructPaths.endpoint,suite:deconstructPaths.suite,version:2,outputRootElement:outputRootElement,inputRootElement:"$",bodyTemplate:this.generateRequestBodyTemplate(),inputParameters:this.generateInputParameterObjects(),outputParameters:[],headers:this.generateRequestHeaders(deconstructPaths.suite),isOutputFile:!1,outputJson:outputJson,inputSchema:inputSchema,outputSchema:outputSchema,originalSchema:outputSchema},"/M3"===this.datasource.suite&&(this.generateOutputParameters(this.datasource),"v1"===deconstructPaths.version&&this.datasource.method===http_verb_enum_1.HttpVerbEnum.GET&&(this.datasource.inputParameters.push({id:helper_1.Helper.generateUniqueId(),key:"righttrim",parameterType:parameter_type_enum_1.ParameterTypeEnum.QUERY,valueType:value_type_enum_1.ValueTypeEnum.STRING,required:!1,alias:""}),this.datasource.resource+="&righttrim={righttrim}"))},DatasourceWizardCtrl.prototype.getTypeDef=function(suite){switch(0===suite.indexOf("/")&&(suite=suite.substring(1,suite.length)),suite){case datasource_type_enum_1.DatasourceTypeEnum.MONGOOSE:return datasource_type_enum_1.DatasourceTypeEnum.MONGOOSE;default:return datasource_type_enum_1.DatasourceTypeEnum.generic}},DatasourceWizardCtrl.prototype.autoCorrectM3=function(schema){var json={MIRecord:[]};if(!schema.properties.MIRecord){var records=[{RowIndex:"string",NameValue:[]}],values_1=[];return Object.entries(schema.properties).forEach((function(_a){var key=_a[0],value=_a[1];values_1.push({Name:key,Value:value.type})})),records[0].NameValue=values_1,json.MIRecord=records,json_helper_1.JsonHelper.generateSchema(json)}return $.isEmptyObject(schema.properties.MIRecord.items.properties.NameValue.example)?schema:((records=[{RowIndex:"string",NameValue:[]}])[0].NameValue=schema.properties.MIRecord.items.properties.NameValue.example,json.MIRecord=records,json_helper_1.JsonHelper.generateSchema(json))},DatasourceWizardCtrl.prototype.autoCorrectM3Version2=function(schema){var json={results:[{records:[schema.properties.results.items.properties.records.items.example]}]};return json_helper_1.JsonHelper.generateSchema(json)},DatasourceWizardCtrl.prototype.configureResourcePath=function(resourcePath){return this.swaggerOperation.parameters&&this.swaggerOperation.parameters.forEach((function(item){"query"===item.in&&(resourcePath+=(-1===resourcePath.indexOf("?")?"?":"&")+data_service_helper_1.DataServiceHelper.getURLVariable(item.name,parameter_type_enum_1.ParameterTypeEnum.QUERY))})),resourcePath},DatasourceWizardCtrl.prototype.onChangeRequestMethod=function(){this.datasource.method===http_verb_enum_1.HttpVerbEnum.GET?this.hasRequestBody=!1:this.hasRequestBody=!0},DatasourceWizardCtrl.prototype.onChangeOutputType=function(){this.datasource.isOutputFile?(this.datasource.outputParameters=[{id:"0",key:"blob",valueType:value_type_enum_1.ValueTypeEnum.BINARY,parameterType:parameter_type_enum_1.ParameterTypeEnum.OUTPUT,required:!1,alias:"File"}],this.nextDisabled=!1):this.datasource.outputParameters=[]},DatasourceWizardCtrl.prototype.onChangeOutputRootElement=function(){this.outputRootElementInvalid=json_helper_1.JsonHelper.isInvalidJsonPath(this.datasource.outputRootElement)},DatasourceWizardCtrl.prototype.onChangeInputRootElement=function(){this.inputRootElementInvalid=json_helper_1.JsonHelper.isInvalidJsonPath(this.datasource.inputRootElement)},DatasourceWizardCtrl.prototype.onChangeObjectIdPath=function(){try{if(jsonpath_1.default.parse(this.datasource.outputRootElement+this.datasource.objectIdPath),1!==jsonpath_1.default.query(JSON.parse(this.datasource.outputJson),this.datasource.outputRootElement+this.datasource.objectIdPath).length)throw new Error;this.objectIdInvalid=!1}catch(_a){this.objectIdInvalid=!0}},DatasourceWizardCtrl.prototype.openTestDataserviceDialog=function(){var testDialogType;switch(this.steps.indexOf(this.currentStep)){case 0:testDialogType=test_dataservice_dialog_1.TestDataserviceDialogType.UNFORMATTED;break;case 1:testDialogType=test_dataservice_dialog_1.TestDataserviceDialogType.FORMATTED;break;default:testDialogType=test_dataservice_dialog_1.TestDataserviceDialogType.UNFORMATTED}var options={title:"Test Data Service",template:__webpack_require__(327),parameter:{dataservice:this.datasource,type:testDialogType}};return this.dialogService.show(options)},DatasourceWizardCtrl.prototype.openInputJsonDialog=function(){var _this=this;this.focusedOperation&&!this.datasource.inputSchema&&(this.datasource.inputSchema=this.getRequestBodySchema().schema),this.viewJsonDialog(this.datasource,!0,this.onOpenJsonHelp.bind(this)).then((function(result){result.button===dialog_service_1.DialogButtonType.Ok&&(_this.datasource.bodyTemplate=result.value.json,_this.datasource.inputSchema=result.value.schema,_this.datasource.inputRootElement=result.value.root)}))},DatasourceWizardCtrl.prototype.openOutputJsonDialog=function(){var _this=this;this.focusedOperation&&!this.datasource.outputSchema&&(this.datasource.outputSchema=this.getResponseSchema()),this.viewJsonDialog(this.datasource,!1,this.onOpenJsonHelp.bind(this)).then((function(result){result.button===dialog_service_1.DialogButtonType.Ok&&(_this.datasource.outputJson=result.value.json,_this.datasource.outputSchema=result.value.schema,_this.datasource.outputRootElement=result.value.root)}))},DatasourceWizardCtrl.prototype.onOpenJsonHelp=function(){var options={title:"JSON Help",template:__webpack_require__(971)};this.dialogService.show(options)},DatasourceWizardCtrl.prototype.generateInputParameters=function(datasource){var pathParameters=this.generateInputParameterObjects(),bodyParameters=datasource_wizard_helper_1.DatasourceWizardHelper.generateParameters(datasource,!0);this.datasource.inputParameters=__spreadArrays(pathParameters,bodyParameters)},DatasourceWizardCtrl.prototype.generateOutputParameters=function(datasource){this.datasource.outputParameters=datasource_wizard_helper_1.DatasourceWizardHelper.generateParameters(datasource,!1)},DatasourceWizardCtrl.prototype.getResponseSchema=function(){var responses=repository_helper_1.RepositoryHelper.getSwaggerOperation(this.focusedOperation,this.swaggerDoc).responses,result=this.getResponseObject(responses);if(result&&result.schema&&json_helper_1.JsonHelper.isCyclic(result.schema)&&(result.schema=json_helper_1.JsonHelper.fixCyclic(result.schema)),result.schema)return this.verifyResponseSchema(result.schema)},DatasourceWizardCtrl.prototype.verifyResponseSchema=function(schema){if(schema.allOf){var jsonSchema=schema.allOf.filter((function(schema){return isUndefined_1.default(schema.xml)}));return jsonSchema.length>1&&this.dialogService.showError("Error","Too many schemas was found.<br /><br />"+common_constant_1.Subcodes.CONTACT_SYSTEM_ADMIN+" if problems happens during creation."),jsonSchema[0]}return schema},DatasourceWizardCtrl.prototype.getResponseObject=function(responses){for(var response,successCodes=common_constant_1.StatusCodes.success,i=0;i<successCodes.length;i++){if(successCodes[i]in responses)response=responses[successCodes[i]]}return isUndefined_1.default(response)&&responses.default?response=responses.default:isUndefined_1.default(response)&&(this.showBadResponseError(successCodes),response={schema:{},description:""}),response},DatasourceWizardCtrl.prototype.showBadResponseError=function(successCodes){var codeString,_this=this;successCodes.forEach((function(successCode,index){0===index?codeString=successCode:index!==successCodes.length-1?codeString+=", "+successCode:codeString+=" & "+successCode})),this.dialogService.showError("Error","Method has no valid success response. <br/><br/>\n\t\t\tValid response status is any of "+codeString+"."),this.dialog.opened=function(dialogEvent){return _this.cancel(),dialogEvent}},DatasourceWizardCtrl.prototype.getRequestBodySchema=function(){var swaggerParameter=repository_helper_1.RepositoryHelper.getSwaggerOperation(this.focusedOperation,this.swaggerDoc).parameters,result=null;return swaggerParameter&&(result=swaggerParameter.find((function(p){return"body"===p.in}))),result&&result.schema&&json_helper_1.JsonHelper.isCyclic(result.schema)&&(result.schema=json_helper_1.JsonHelper.fixCyclic(result.schema)),result},DatasourceWizardCtrl.prototype.viewJsonDialog=function(dataservice,isInput,showHelp){var options={title:"JSON Preview",template:__webpack_require__(972),parameter:{dataservice:dataservice,isInput:isInput,showHelp:showHelp}};return this.dialogService.show(options)},DatasourceWizardCtrl.prototype.onChangeCurrentStep=function(){this.datasource.outputParameters=this.datasource.outputParameters.filter((function(param){return!!param.key}))},DatasourceWizardCtrl.prototype.getFinishParameter=function(){return this.datasource},DatasourceWizardCtrl.prototype.next=function(){if(this.currentStep===this.getEndStep()){if(this.validate(this.datasource)){var result={button:dialog_service_1.DialogButtonType.Ok,value:this.getFinishParameter()};this.close(result)}}else{var nextStepIndex=this.steps.indexOf(this.currentStep)+1;this.selectWizardStep(this.steps[nextStepIndex])}},DatasourceWizardCtrl.prototype.validate=function(datasource){var errorMessage="",isValidated=!0;return""===datasource.displayName&&(errorMessage="Name cannot be empty, please add a name.",isValidated=!1),datasource.displayName.length>128&&(errorMessage="Name is too long, maximum length is 128 characters.",isValidated=!1),isValidated||this.dialogService.showError("Error",errorMessage),isValidated},DatasourceWizardCtrl.prototype.generateInputParameterObjects=function(){var parameters=[];return this.swaggerOperation&&this.swaggerOperation.parameters&&this.swaggerOperation.parameters.forEach((function(swaggerParam){var paramType,nameValue=swaggerParam.name;"path"===swaggerParam.in?paramType=parameter_type_enum_1.ParameterTypeEnum.PATH:"query"===swaggerParam.in&&(paramType=parameter_type_enum_1.ParameterTypeEnum.QUERY),paramType&&parameters.push({id:helper_1.Helper.generateUniqueId(),key:nameValue,parameterType:paramType,valueType:value_type_enum_1.ValueTypeEnum.STRING,required:swaggerParam.required,alias:""})})),parameters},DatasourceWizardCtrl.prototype.generateRequestBodyTemplate=function(){var bodyTemplate,schema=this.getRequestBodySchema();if(schema){var bodySchema=schema.schema,sample=json_helper_1.JsonHelper.generateSample(bodySchema,this.swaggerDoc);bodyTemplate=JSON.stringify(sample,null,"  ")}return bodyTemplate},DatasourceWizardCtrl.prototype.generateRequestHeaders=function(suite){var swaggerOperation=repository_helper_1.RepositoryHelper.getSwaggerOperation(this.focusedOperation,this.swaggerDoc),headers={},swaggerParameter=swaggerOperation.parameters;return swaggerParameter&&""===(headers=swaggerParameter.reduce((function(map,obj){return("header"===obj.in&&obj.required||"X-Infor-MongooseConfig"===obj.name)&&(map[obj.name]=""),map}),{}))["X-Infor-MongooseConfig"]&&(headers["X-Infor-MongooseConfig"]=common_constant_1.Config.MG_CONFIG_NAME),isUndefined_1.default(swaggerOperation.produces)?isUndefined_1.default(this.swaggerDoc.produces)?headers.Accept=suite&&"/M3"===suite?http_accept_enum_1.HttpAcceptEnum.APPLICATION_JSON:http_accept_enum_1.HttpAcceptEnum.ALL:headers.Accept=this.getAcceptValue(this.swaggerDoc.produces):headers.Accept=this.getAcceptValue(swaggerOperation.produces),headers},DatasourceWizardCtrl.prototype.getAcceptValue=function(produces){return produces.find((function(mime){return mime===http_accept_enum_1.HttpAcceptEnum.APPLICATION_JSON.toString()}))?http_accept_enum_1.HttpAcceptEnum.APPLICATION_JSON:http_accept_enum_1.HttpAcceptEnum.ALL},Object.defineProperty(DatasourceWizardCtrl.prototype,"ErrorList",{get:function(){var filteredErrorList=this.errorList.filter((function(item){return void 0===item.status}));return this.nextDisabled=0!==filteredErrorList.length,this.errorList},enumerable:!1,configurable:!0}),DatasourceWizardCtrl.prototype.setNextDisabled=function($item){var indexOfItem=this.errorList.findIndex((function(item){return item.id===$item.id}));-1===indexOfItem?this.errorList.push($item):this.errorList[indexOfItem]=$item,this.nextDisabled=this.errorList.filter((function(item){return!0===item.status})).length>0},DatasourceWizardCtrl.add=function(m){m.controller("eirDatasourceWizardCtrl",DatasourceWizardCtrl)},DatasourceWizardCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,angular_constants_1.AngularConstants.ELEMENT,angular_constants_1.AngularConstants.TEMPLATE_CACHE,common_constant_1.InjectNames.DIALOG_SERVICE,common_constant_1.InjectNames.FEATURE_SWITCH_SERVICE,common_constant_1.InjectNames.ION_METADATA_SERVICE],DatasourceWizardCtrl}(wizard_ctrl_1.WizardCtrl);exports.DatasourceWizardCtrl=DatasourceWizardCtrl}).call(this,__webpack_require__(21))},function(module,exports,__webpack_require__){"use strict";(function($){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.EditorFlexboxCtrl=void 0;var common_constant_1=__webpack_require__(3),orientation_enum_1=__webpack_require__(44);__webpack_require__(115),__webpack_require__(32),__webpack_require__(279);var editor_layout_component_1=__webpack_require__(446),EditorFlexboxCtrl=function(_super){function EditorFlexboxCtrl(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(EditorFlexboxCtrl,_super),EditorFlexboxCtrl.add=function(m){m.controller(common_constant_1.ComponentClassNames.EDITOR_COMPONENT_PREFIX+common_constant_1.ComponentNames.Flexbox,EditorFlexboxCtrl)},EditorFlexboxCtrl.prototype.init=function(component){_super.prototype.init.call(this,component),component.insert=this.insert.bind(this),component.getInsertPoints=this.getInsertPoints.bind(this),component.removeChild=this.removeChild.bind(this),component.getChildIndex=this.getChildIndex.bind(this),component.detachChild=this.detachChild.bind(this)},EditorFlexboxCtrl.prototype.setDatasource=function(newDatasource){var promise=_super.prototype.setDatasource.call(this,newDatasource);return newDatasource&&this.component.loadInteraction(this.interactionManagementService.createNewOnTheFly(common_constant_1.InteractionActionEnum.GET)),promise},EditorFlexboxCtrl.prototype.getInsertPoints=function(){var flexbox=this.component,thisElement=flexbox.element,length=thisElement.width()-10,isVertical=flexbox.orientation===orientation_enum_1.OrientationEnum.VERTICAL,position=0,offset=0,ghostOffset=0,getPosition=function(element){return isVertical?element.offset().left-$("#insideRuler").offset().left+9:element.offset().top-$("#insideRuler").offset().top+9},getOffset=function(element){return isVertical?element.offset().top-thisElement.offset().top:element.offset().left-thisElement.offset().left},nonGhostChildren=flexbox.children.filter((function(childInstance,index){var childElement=childInstance.element,isGhost=childElement.hasClass("isInsertChild");return isGhost&&(ghostOffset=isVertical?childElement.outerHeight(!0):childElement.outerWidth(!0)),!1===isGhost}));if(nonGhostChildren.length){var firstChildElement=nonGhostChildren[0].element;position=getPosition(firstChildElement),offset=getOffset(firstChildElement),nonGhostChildren.forEach((function(childInstance){var childElement=childInstance.element,childPosition=getPosition(childElement),childOffset=getOffset(childElement);Math.abs(position)>Math.abs(childPosition)&&(position=childPosition),Math.abs(offset)>Math.abs(childOffset)&&(offset=childOffset)})),offset>ghostOffset&&(offset-=ghostOffset)}var leftOffsetToAdd=0,points=flexbox.children.map((function(childInstance){var childElement=childInstance.element,offsetToAdd=isVertical?.5*childElement.outerHeight(!0)+2:.5*childElement.outerWidth(!0)+2;return offset+=leftOffsetToAdd+offsetToAdd,leftOffsetToAdd=offsetToAdd,offset}));return{orientation:flexbox.orientation||orientation_enum_1.OrientationEnum.VERTICAL,length:length,position:position,points:points}},EditorFlexboxCtrl.prototype.insert=function(component,index,isFinalInsert){var _this=this;void 0===index&&(index=this.component.getDatabearer().children.length);var insertedElement,flexboxDatabearer=this.component.getDatabearer(),eirChildrenNode=this.$element.find("> .childCage > eir-children"),template=editor_layout_component_1.EditorLayoutComponentCtrl.createTemplate(component.typedef),childScope=this.$scope.$new();return childScope.component=component,childScope.parent=this.component,childScope.context=this.$scope.context,childScope.index=index,this.isFinalInsert=isFinalInsert,this.$compile(template)(childScope,(function(clone){var childAtGivenIndex=eirChildrenNode.children(":nth("+index+")");childAtGivenIndex.length>0?childAtGivenIndex.before(clone):eirChildrenNode.append(clone),insertedElement=clone})),flexboxDatabearer.children.splice(index,0,component),function(){flexboxDatabearer.children.splice(index,1),insertedElement.remove(),_this.removePossibleChildInstance(index,component.id)}},EditorFlexboxCtrl.prototype.removeChild=function(childId){this.detachChild(childId)},EditorFlexboxCtrl.prototype.detachChild=function(childId){var indexToDetach=this.getChildIndex(childId);if(-1!==indexToDetach){var childDatabearer=this.component.getDatabearer().children.splice(indexToDetach,1).pop();return this.removePossibleChildInstance(indexToDetach,childDatabearer.id),childDatabearer}throw new Error("[EditorFlexbox] Trying to detach nonexistent component")},EditorFlexboxCtrl.prototype.setSetting=function(settingMeta,newSettingValue){var previousValue,component=this.component,settingReference=settingMeta.ref;switch(previousValue=settingMeta.boundarySetting?component.getBoundarySetting(settingReference):component[settingReference],_super.prototype.setSetting.call(this,settingMeta,newSettingValue),settingReference){case common_constant_1.SettingKeys.ORIENTATION:this.editorService.currentFlexOrientationChangedEvent.raise(newSettingValue);break;case common_constant_1.SettingKeys.SIZE_TYPE:var sizeSetting=void 0;if(newSettingValue===common_constant_1.FlexSizeTypeEnum.PIXELS){sizeSetting=100}else sizeSetting=1;this.setBoundarySetting(common_constant_1.SettingKeys.SIZE,sizeSetting),this.editorService.refreshSettingEvent.raise(common_constant_1.SettingKeys.SIZE);break;case common_constant_1.SettingKeys.SIZE:var parsed=parseInt(newSettingValue,10);isNaN(parsed)?this.setBoundarySetting(settingReference,previousValue):this.setBoundarySetting(settingReference,parsed)}},EditorFlexboxCtrl.prototype.getChildIndex=function(childId){return this.component.getDatabearer().children.findIndex((function(component){return component.id===childId}))},EditorFlexboxCtrl.prototype.removePossibleChildInstance=function(index,childId){this.component.children[index]&&this.component.children[index].getId()===childId?this.component.children.splice(index,1).pop().getScope().$destroy():console.info("[EditorFlexbox] Did not remove instance")},EditorFlexboxCtrl}(editor_layout_component_1.EditorLayoutComponentCtrl);exports.EditorFlexboxCtrl=EditorFlexboxCtrl}).call(this,__webpack_require__(21))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(41),__webpack_require__(278),__webpack_require__(203),__webpack_require__(205),__webpack_require__(23),__webpack_require__(116)},function(module,exports,__webpack_require__){"use strict";(function($){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.InsertComponentService=void 0;var angular_1=__importDefault(__webpack_require__(12)),angular_constants_1=__webpack_require__(7),editor_component_1=__webpack_require__(58);__webpack_require__(152),__webpack_require__(20);var helper_1=__webpack_require__(15),helper_2=__webpack_require__(153),common_constant_1=__webpack_require__(3),orientation_enum_1=__webpack_require__(44);__webpack_require__(32);var defines_1=__webpack_require__(16),instance_event_1=__webpack_require__(85),defines_2=__webpack_require__(78),defines_3=__webpack_require__(65),InsertComponentService=function(){function InsertComponentService($q,$timeout,editorService,designerService){var _this=this;this.$q=$q,this.$timeout=$timeout,this.editorService=editorService,this.designerService=designerService,this.clipboardComponentChangedEvent=new instance_event_1.InstanceEvent,designerService.viewChangedEvent.on((function(view){view!==defines_1.ViewEnum.EDITOR&&(_this.clearSelection(),_this.cancelInserting())})),$(document).on(common_constant_1.EventTypes.DRAGEND,(function(event){editor_component_1.EditorComponentCtrl.dragEnterCounter=0,_this.cancelInserting()}))}return InsertComponentService.prototype.clearSelection=function(){this.editorService.deselectComponent(),this.editorService.setSidebarView(defines_3.SidebarViewEnum.NEW_COMPONENT),this.setClipboardComponent(null)},InsertComponentService.prototype.setClipboardComponent=function(component){this.clipboardComponent=component,this.clipboardComponentChangedEvent.raise(component)},InsertComponentService.prototype.getClipboardComponent=function(){return this.clipboardComponent},InsertComponentService.prototype.getInsertComponent=function(){return this.insertComponent},InsertComponentService.prototype.setInsertComponent=function(component){component&&(editor_component_1.EditorComponentCtrl.dragEnterCounter=0),this.insertComponent=component},InsertComponentService.prototype.setInsertParent=function(newInsertParent){var oldInsertParent=this.insertParent;oldInsertParent&&(oldInsertParent.setIsInsertParent(!1),this.insertHandlerOut(oldInsertParent)),newInsertParent?newInsertParent.setIsInsertParent(!0):this.showCursorNoDrop(!0),this.insertParent=newInsertParent},InsertComponentService.prototype.startInserting=function(component,insertType){return void 0===insertType&&(insertType=common_constant_1.InsertEventTypes.COPY),this.finishedDeferred&&this.finishedDeferred.reject(),this.finishedDeferred=this.$q.defer(),this.insertType=insertType,this.setInsertComponent(component),this.editorService.setCanvasMode(common_constant_1.CanvasModeEnum.INSERT),this.finishedDeferred.promise},InsertComponentService.prototype.cancelInserting=function(){this.resetVariables(),this.finishedDeferred&&this.finishedDeferred.reject()},InsertComponentService.prototype.finishInsert=function(event,finalParent){if(this.canInsertAt(finalParent,event)){this.cancelTimer();event.originalEvent.offsetX,event.originalEvent.offsetY;var foundIndex=this.currentIndex;this.updateGhostPosition(finalParent,this.insertComponent,foundIndex,!0),this.resetVariables(),this.finishedDeferred.resolve(finalParent)}else this.cancelInserting()},InsertComponentService.prototype.insertIteration=function(event,newParent){var _this=this,newMousePosition={x:event.originalEvent.offsetX,y:event.originalEvent.offsetY};if(this.canInsertAt(newParent,event)){this.cancelTimer();this.timerPromise=this.$timeout((function(){if(_this.movedFarEnough(newParent,newMousePosition)){_this.lastMousePosition=newMousePosition;var foundIndex=_this.getInsertIndex(newParent,newMousePosition);(_this.currentParent!==newParent||foundIndex!==_this.currentIndex)&&(_this.currentIndex=foundIndex,_this.currentParent=newParent,_this.updateGhostPosition(newParent,_this.insertComponent,foundIndex))}else _this.canInsertAt(newParent,event)}),16)}else this.lastMousePosition=newMousePosition},InsertComponentService.prototype.canInsertAt=function(parentComponent,event){var canInsert=!helper_2.EditorHelper.containsBigComponent(parentComponent)&&(!helper_2.EditorHelper.isBigComponent(this.insertComponent)||!this.hasParentChildren(parentComponent)&&helper_2.EditorHelper.isBigComponent(this.insertComponent)||!this.hasParentChildren(parentComponent)&&defines_2.Defines.allComponents[this.insertComponent.typedef].isLayoutComponent);return canInsert||(canInsert=parentComponent.getDatabearer().children[0]===this.insertComponent),this.showCursorNoDrop(!canInsert,event),canInsert},InsertComponentService.prototype.showCursorNoDrop=function(enable,event){var insideRulerElement=angular_1.default.element("body"),newCursorValue=enable?common_constant_1.CssConstantValues.CURSOR_NODROP:this.insertType;event&&event.type===common_constant_1.EventTypes.DRAGOVER?((helper_1.Helper.isSafari()||helper_1.Helper.isEdge())&&(insideRulerElement.css(common_constant_1.CssConstantKeys.CURSOR,newCursorValue),$(".componentIconOverlay").css(common_constant_1.CssConstantKeys.CURSOR,newCursorValue)),enable?event.originalEvent.dataTransfer.dropEffect="none":(event.originalEvent.dataTransfer.dropEffect=this.insertType,event.preventDefault())):insideRulerElement.css(common_constant_1.CssConstantKeys.CURSOR,newCursorValue)},InsertComponentService.prototype.hasParentChildren=function(parentComponent){return parentComponent.getDatabearer().children.length>0},InsertComponentService.prototype.movedFarEnough=function(newParent,newMousePosition){var lastMousePosition=this.lastMousePosition;if(!lastMousePosition)return!0;var availableInsertPoints=newParent.getInsertPoints(),orientation=availableInsertPoints?availableInsertPoints.orientation:null,notNewParent=this.currentParent!==newParent,axis=orientation===orientation_enum_1.OrientationEnum.VERTICAL?"y":"x",movedEnough=Math.abs(lastMousePosition[axis]-newMousePosition[axis])>common_constant_1.Numbers.TEN;return notNewParent||movedEnough},InsertComponentService.prototype.updateGhostPosition=function(parentComponent,newComponent,foundIndex,isFinalInsert){this.undoFunction&&(this.undoFunction(),helper_2.EditorHelper.updateParentComponentSizeClass(this.previousInsertParent)),newComponent?this.undoFunction=parentComponent.insert(newComponent,foundIndex,isFinalInsert):console.warn("[InsertComponentService] Tried to insert null component"),parentComponent.updateClassesAndStyle(),parentComponent.updateIsFlexParent(),helper_2.EditorHelper.updateParentComponentSizeClass(parentComponent),this.previousInsertParent=parentComponent},InsertComponentService.prototype.getInsertIndex=function(newParent,mousePosition){var foundIndex,availableInsertPoints=newParent.getInsertPoints(),isHorizontal=availableInsertPoints.orientation===orientation_enum_1.OrientationEnum.HORIZONTAL,isVertical=availableInsertPoints.orientation===orientation_enum_1.OrientationEnum.VERTICAL;if(isHorizontal||isVertical){for(var positionToCompare=isVertical?mousePosition.y:mousePosition.x,index=0;index<availableInsertPoints.points.length;index++)if(positionToCompare<availableInsertPoints.points[index]){foundIndex=index;break}}else console.warn("[InsertHandler] Unsupported orientation");return foundIndex},InsertComponentService.prototype.insertHandlerOut=function(parentComponent){this.cancelTimer(),this.undoFunction&&(this.undoFunction(),parentComponent&&helper_2.EditorHelper.updateParentComponentSizeClass(parentComponent),this.undoFunction=null),this.currentParent=null},InsertComponentService.prototype.cancelTimer=function(){var promise=this.timerPromise;promise&&(this.$timeout.cancel(promise),this.timerPromise=null)},InsertComponentService.prototype.resetVariables=function(){this.lastMousePosition=null,this.undoFunction=null,this.currentIndex=null,this.currentParent=null,this.setInsertComponent(null),this.insertParent&&this.insertParent.forEachChild((function(child){child.getScope().eirEditorComponent.isInsertChild&&child.setIsInsertChild(!1)}),!1),this.setInsertParent(null),angular_1.default.element("body").css(common_constant_1.CssConstantKeys.CURSOR,""),angular_1.default.element(".componentIconOverlay").css(common_constant_1.CssConstantKeys.CURSOR,common_constant_1.CssConstantValues.CURSOR_POINTER)},InsertComponentService.add=function(ngModule){ngModule.service(common_constant_1.InjectNames.INSERT_COMPONENT_SERVICE,InsertComponentService)},InsertComponentService.$inject=[angular_constants_1.AngularConstants.Q,angular_constants_1.AngularConstants.TIMEOUT,common_constant_1.InjectNames.EDITOR_SERVICE,common_constant_1.InjectNames.DESIGNER_SERVICE],InsertComponentService}();exports.InsertComponentService=InsertComponentService}).call(this,__webpack_require__(21))},,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";var __spreadArrays=this&&this.__spreadArrays||function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r};Object.defineProperty(exports,"__esModule",{value:!0}),exports.STANDARD_BOUNDARIES=exports.WIDGET_BOUNDARIES=exports.STANDARD_ID_PREFIX=void 0,exports.STANDARD_ID_PREFIX="standardBoundary_",exports.WIDGET_BOUNDARIES=[{id:exports.STANDARD_ID_PREFIX+"5",displayName:"Homepage Widget S",limitX:358},{id:exports.STANDARD_ID_PREFIX+"6",displayName:"Homepage Widget M",limitX:738},{id:exports.STANDARD_ID_PREFIX+"7",displayName:"Homepage Widget L",limitX:1118},{id:exports.STANDARD_ID_PREFIX+"8",displayName:"Homepage Widget XL",limitX:1498}],exports.STANDARD_BOUNDARIES=__spreadArrays([{id:exports.STANDARD_ID_PREFIX+"1",displayName:"Mobile",limitX:688},{id:exports.STANDARD_ID_PREFIX+"2",displayName:"Tablet",limitX:992},{id:exports.STANDARD_ID_PREFIX+"3",displayName:"Small Display",limitX:1312},{id:exports.STANDARD_ID_PREFIX+"4",displayName:"Large Display",limitX:1920}],exports.WIDGET_BOUNDARIES)},,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.HttpAcceptEnum=void 0,function(HttpAcceptEnum){HttpAcceptEnum.APPLICATION_JSON="application/json",HttpAcceptEnum.ALL="*/*"}(exports.HttpAcceptEnum||(exports.HttpAcceptEnum={}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(232)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(32),__webpack_require__(204),__webpack_require__(42),__webpack_require__(23)},function(module,exports,__webpack_require__){"use strict";(function($){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Chart=void 0;var angular_1=__importDefault(__webpack_require__(12)),common_constant_1=__webpack_require__(3),interaction_defines_constant_1=__webpack_require__(52),binding_type_enum_1=__webpack_require__(30),size_type_enum_1=__webpack_require__(29),value_type_enum_1=__webpack_require__(26);__webpack_require__(92),__webpack_require__(319),__webpack_require__(32),__webpack_require__(42),__webpack_require__(413);var backward_compatible_1=__webpack_require__(64);__webpack_require__(832);var component_1=__webpack_require__(46);__webpack_require__(28),__webpack_require__(114),__webpack_require__(76);var Chart=function(_super){function Chart(obj,$element,parent,frameworkService){var _this=_super.call(this,obj,$element,parent,frameworkService)||this;return _this.databearer.datasets||(_this.databearer.datasets=[]),backward_compatible_1.BackwardCompatible.tryConvertLegacyChart(_this.databearer,obj),_this.showLabel=backward_compatible_1.BackwardCompatible.getShowLabel(obj),_this.updateWhenExist(),_this}return __extends(Chart,_super),Chart.prototype.updateWhenExist=function(){var _this=this,checkExist=setInterval((function(){$("#chart-"+_this.getId()).length>0&&(_this.updateChart(),clearInterval(checkExist))}),100)},Chart.prototype.newBoundaryEntered=function(boundaryId){_super.prototype.newBoundaryEntered.call(this,boundaryId),this.setBoundarySettingIfChanged(common_constant_1.SettingKeys.SHOW_LABEL),this.updateChart()},Chart.prototype.updateVisibility=function(){_super.prototype.updateVisibility.call(this),this.updateWhenExist()},Chart.prototype.loadInteraction=function(interaction){var _this=this,interactionPromise=_super.prototype.loadInteraction.call(this,interaction);return interaction.targetActionName===common_constant_1.InteractionActionEnum.LIST&&interactionPromise.then((function(){_this.updateChart()})),interactionPromise},Chart.prototype.datasourceChanged=function(newDatasource){newDatasource||(this.datasource=void 0,this.getDatabearer().datasets=[])},Chart.prototype.setBindableValue=function(bindableReference,value){_super.prototype.setBindableValue.call(this,bindableReference,value),this.updateChart()},Chart.prototype.getDatabearer=function(){return this.databearer},Chart.prototype.getSohoChartType=function(chartEnum){return chartEnum.toString().split(/(?=[A-Z])/).map((function(s){return s.charAt(0).toLowerCase()+s.substring(1)})).join("-")},Chart.prototype.getExampleData=function(){return[{name:"Component A",data:[{name:"Jan",value:12},{name:"Feb",value:11},{name:"Mar",value:14},{name:"Apr",value:10},{name:"May",value:14},{name:"Jun",value:8}]},{name:"Component B",data:[{name:"Jan",value:22},{name:"Feb",value:21},{name:"Mar",value:24},{name:"Apr",value:20},{name:"May",value:24},{name:"Jun",value:28}]},{name:"Component C",data:[{name:"Jan",value:32},{name:"Feb",value:31},{name:"Mar",value:34},{name:"Apr",value:30},{name:"May",value:34},{name:"Jun",value:38}]}]},Chart.prototype.getDataset=function(list){var datasets=[];if(list){var datasetsMetadata=this.getDatabearer().datasets;switch(list.splice(20,list.length),datasetsMetadata.forEach((function(datasetMetadata){var dataset={name:datasetMetadata.name,data:[]};list.forEach((function(row){var keys=Object.keys(row),dataItem={name:"",value:0};keys.forEach((function(key){if(key===datasetMetadata.categories)dataItem.name=row[key];else if(key===datasetMetadata.series){var value=row[key];"number"!=typeof value&&(value=parseInt(value,10)),dataItem.value=value}})),!isNaN(dataItem.value)&&dataItem.name&&dataset.data.push(dataItem)})),datasets.push(dataset)})),this.getBoundarySetting(common_constant_1.SettingKeys.CHART_TYPE)){case common_constant_1.ChartTypeEnum.Bar:case common_constant_1.ChartTypeEnum.Column:case common_constant_1.ChartTypeEnum.Donut:case common_constant_1.ChartTypeEnum.Pie:datasets.splice(1,datasets.length);break;case common_constant_1.ChartTypeEnum.BarGrouped:case common_constant_1.ChartTypeEnum.BarStacked:case common_constant_1.ChartTypeEnum.ColumnGrouped:case common_constant_1.ChartTypeEnum.ColumnStacked:1===datasets.length&&datasets.push({name:"",data:[]})}}return datasets.length>0?datasets:this.getDatabearer().datasets.length>0?[]:this.getExampleData()},Chart.prototype.updateChart=function(){var chartElement=$("#chart-"+this.getId());if(chartElement.length>0&&chartElement.parent().height()>0){var dataset,listResult=angular_1.default.copy(this.getContext().ListResult);dataset=this.getDataset(listResult),chartElement.removeClass(),chartElement.addClass("chart-container");var hasLabel=this.getBoundarySetting(common_constant_1.SettingKeys.SHOW_LABEL),chartWrapper=$("div.chart > div.widget-content");$("header.application-header").length>0?chartWrapper.addClass("has-header"):chartWrapper.removeClass("has-header"),hasLabel?chartWrapper.addClass("has-title"):chartWrapper.removeClass("has-title");var chartType=this.getBoundarySetting(common_constant_1.SettingKeys.CHART_TYPE);chartElement.chart({type:this.getSohoChartType(chartType),dataset:dataset,axisLabels:{left:this.axisValuesTitle,bottom:this.axisCategoryTitle},showLegend:this.getBoundarySetting(common_constant_1.SettingKeys.CHART_LEGEND_DISPLAY),animate:this.getBoundarySetting(common_constant_1.SettingKeys.CHART_STARTUP_ANIMATION_ENABLE),isArea:chartType===common_constant_1.ChartTypeEnum.Area,isDonut:chartType===common_constant_1.ChartTypeEnum.Donut,isGrouped:chartType.includes("grouped"),isStacked:chartType.includes("stacked")})}},Chart.DEFAULT_WIDTH={sizeType:size_type_enum_1.SizeTypeEnum.PERCENT},Chart.DEFAULT_HEIGHT={sizeType:size_type_enum_1.SizeTypeEnum.PERCENT},Chart.SOURCE_TRIGGERS=interaction_defines_constant_1.InteractionDefines.SOURCE_TRIGGERS.concat([common_constant_1.InteractionPairOperation.ON_ITEM_CHANGED]),Chart.TARGET_ACTIONS=[common_constant_1.InteractionPairOperation.LIST],Chart.DEFAULT_TRIGGER=common_constant_1.InteractionPairOperation.ON_ITEM_CHANGED,Chart.DEFAULT_ACTION=common_constant_1.InteractionPairOperation.LIST,Chart.BINDABLE_FIELDS_2=[{name:"Header",ref:common_constant_1.SettingKeys.CHART_TITLE,valueType:value_type_enum_1.ValueTypeEnum.LOCALIZED_STRING,write:!0,read:!1,defaultValue:{Type:binding_type_enum_1.BindingTypeEnum.STATIC_VALUE,value:""}},{name:"Category axis title",ref:common_constant_1.SettingKeys.CHART_AXIS_CATEGORY_TITLE,valueType:value_type_enum_1.ValueTypeEnum.LOCALIZED_STRING,write:!0,read:!1,defaultValue:{Type:binding_type_enum_1.BindingTypeEnum.STATIC_VALUE,value:""}},{name:"Value axis title",ref:common_constant_1.SettingKeys.CHART_AXIS_VALUES_TITLE,valueType:value_type_enum_1.ValueTypeEnum.LOCALIZED_STRING,write:!0,read:!1,defaultValue:{Type:binding_type_enum_1.BindingTypeEnum.STATIC_VALUE,value:""}}],Chart.directive=[function(){return{template:__webpack_require__(833),replace:!0}}],Chart}(component_1.Component);exports.Chart=Chart}).call(this,__webpack_require__(21))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(3),__webpack_require__(32),__webpack_require__(42),__webpack_require__(23)},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.RadioButton=void 0;var component_1=__webpack_require__(46);__webpack_require__(28);var common_constant_1=__webpack_require__(3),interaction_defines_constant_1=__webpack_require__(52),binding_type_enum_1=__webpack_require__(30),size_type_enum_1=__webpack_require__(29),value_type_enum_1=__webpack_require__(26),backward_compatible_1=__webpack_require__(64),RadioButton=function(_super){function RadioButton(obj,$element,parent,frameworkService){var _this=_super.call(this,obj,$element,parent,frameworkService)||this;return _this.radioButtons=_this.databearer.componentRadioButtons,_this.radioButtons.length&&(_this.selectedRadioButtonId=_this.radioButtons[0].id,_this.currentItemName=_this.radioButtons[0].name,_this.currentItemValue=_this.radioButtons[0].field),_this.showLabel=backward_compatible_1.BackwardCompatible.getShowLabel(obj),_this}return __extends(RadioButton,_super),RadioButton.prototype.newBoundaryEntered=function(boundaryId){_super.prototype.newBoundaryEntered.call(this,boundaryId),this.setBoundarySettingIfChanged(common_constant_1.SettingKeys.SHOW_LABEL)},RadioButton.prototype.clear=function(){this.selectedRadioButtonId=this.radioButtons[0].id,this.currentItemName=this.radioButtons[0].name,this.currentItemValue=this.radioButtons[0].field},RadioButton.prototype.initializeBindings=function(){_super.prototype.initializeBindings.call(this),this.updateValuesWithTranslations()},RadioButton.prototype.setCurrentItem=function(selected){this.currentItemValue=selected.field,this.currentItemName=selected.name,this.trigger(common_constant_1.InteractionTriggerEnum.CURRENT_ITEM_CHANGED),this.frameworkService.triggerExpressions()},RadioButton.prototype.updateValuesWithTranslations=function(){var _this=this;this.radioButtons.forEach((function(radioButton){var translatedTitle=_this.frameworkService.getTranslatableStringByProperty(_this.getId(),radioButton.id);if(translatedTitle){var globalString=_this.frameworkService.getGlobalValue(radioButton.name,_this);radioButton.name=translatedTitle,globalString&&(radioButton.value=globalString),_this.selectedRadioButtonId===radioButton.id&&(_this.currentItemName=translatedTitle)}}))},RadioButton.DEFAULT_WIDTH={sizeType:size_type_enum_1.SizeTypeEnum.AUTO},RadioButton.DEFAULT_HEIGHT={sizeType:size_type_enum_1.SizeTypeEnum.AUTO},RadioButton.SOURCE_TRIGGERS=interaction_defines_constant_1.InteractionDefines.SOURCE_TRIGGERS.concat([common_constant_1.InteractionPairOperation.ON_ITEM_CHANGED]),RadioButton.TARGET_ACTIONS=interaction_defines_constant_1.InteractionDefines.TARGET_ACTIONS.concat([common_constant_1.InteractionPairOperation.LIST,common_constant_1.InteractionPairOperation.CLEAR]),RadioButton.DEFAULT_TRIGGER=common_constant_1.InteractionPairOperation.ON_ITEM_CHANGED,RadioButton.DEFAULT_ACTION=common_constant_1.InteractionPairOperation.GET,RadioButton.SETTING_FIELDS=[{title:"Style",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{title:"Show Label",boundarySetting:!0,ref:common_constant_1.SettingKeys.SHOW_LABEL,inputType:common_constant_1.SettingInputKeys.CHECKBOX,defaultValue:!0},{title:"Disabled",ref:common_constant_1.SettingKeys.IS_READONLY,inputType:common_constant_1.SettingInputKeys.CHECKBOX,defaultValue:!1,button:{icon:"#icon-unlocked",tooltip:"Disable Component When...",dialog:!0}}]}].concat(component_1.Component.SETTING_FIELDS),RadioButton.BINDABLE_FIELDS_2=[{name:"Selected Item Value",ref:common_constant_1.SettingKeys.CURRENT_ITEM_VALUE,valueType:value_type_enum_1.ValueTypeEnum.STRING,write:!1,read:!0},{name:"Selected Item Name",ref:common_constant_1.SettingKeys.CURRENT_ITEM_NAME,valueType:value_type_enum_1.ValueTypeEnum.STRING,write:!1,read:!0},{name:"Label",ref:common_constant_1.SettingKeys.LABEL,valueType:value_type_enum_1.ValueTypeEnum.LOCALIZED_STRING,write:!0,read:!1,defaultValue:{Type:binding_type_enum_1.BindingTypeEnum.STATIC_VALUE,value:""}}],RadioButton.directive=[function(){return{template:__webpack_require__(847),replace:!0}}],RadioButton}(component_1.Component);exports.RadioButton=RadioButton},function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.IonApiService=exports.IonApiContext=void 0;var common_constant_1=__webpack_require__(3),http_verb_enum_1=__webpack_require__(131),angular_constants_1=__webpack_require__(7),http_utils_1=__webpack_require__(857);__webpack_require__(79);var IonApiContext=function(){function IonApiContext(url,tenantId,token){this.url=url,this.tenantId=tenantId,this.token=token}return IonApiContext.prototype.getUrl=function(setTenant){return void 0===setTenant&&(setTenant=!0),setTenant?this.url+"/"+this.tenantId:this.url+common_constant_1.Config.ION_API_ROOT},IonApiContext.prototype.getToken=function(){return this.token},IonApiContext.prototype.setToken=function(token){this.token=token},IonApiContext.prototype.setUrl=function(url){this.url=url},IonApiContext.prototype.getHeaderName=function(){return"Authorization"},IonApiContext.prototype.getHeaderValue=function(){return"Bearer "+this.token},IonApiContext}();exports.IonApiContext=IonApiContext;var IonApiService=function(){function IonApiService($q,httpService){this.$q=$q,this.httpService=httpService}return Object.defineProperty(IonApiService.prototype,"isDeveloperModeActive",{get:function(){return common_constant_1.Config.IS_DEV&&"true"===localStorage.getItem(common_constant_1.DeveloperConstants.ION_PROXY)},enumerable:!1,configurable:!0}),IonApiService.prototype.getIonApiContextAsync=function(options){var _this=this,deferred=this.$q.defer(),refresh=options&&options.refresh;if(common_constant_1.Config.ION_API_URL){var hasToken=this.ionApiContext&&this.ionApiContext.getToken(),ionBaseURL_1=this.getIonBaseUrl();if(!hasToken||refresh){var tokenURL=this.isDeveloperModeActive?common_constant_1.Config.REST_ROOT+"/settings/token":"/grid/rest/security/sessions/oauth?forceRefresh=true";this.httpService.executeRequest({url:tokenURL,method:http_verb_enum_1.HttpVerbEnum.GET,cache:!1}).then((function(response){var token=response.data,context=new IonApiContext(ionBaseURL_1,common_constant_1.Config.TENANT_ID,token);_this.ionApiContext=context,deferred.resolve(context)})).catch((function(error){deferred.reject(error)}))}else this.ionApiContext.getUrl()!==ionBaseURL_1&&this.ionApiContext.setUrl(ionBaseURL_1),deferred.resolve(this.ionApiContext)}else deferred.reject();return deferred.promise},IonApiService.prototype.getIonBaseUrl=function(){var proxyURL="http://localhost:"+common_constant_1.Config.ION_API_PROXY_PORT;return this.isDeveloperModeActive?proxyURL:common_constant_1.Config.ION_API_URL},IonApiService.prototype.executeIonApiAsync=function(options){var _this=this,deferred=this.$q.defer();return this.getIonApiContextAsync().then((function(context){_this.executeIonApi(context,options,deferred,!1)})).catch((function(r){deferred.reject(r)})),deferred.promise},IonApiService.prototype.executeIonApi=function(context,options,deferred,isRetry){var _this=this,url=options.url,contextUrl=context.getUrl(options.setTenant);url&&0!==url.indexOf("https://")&&0!==url.indexOf(contextUrl)&&(options.url=http_utils_1.HttpUtil.combine(contextUrl,url));var headers=options.headers||{};headers[context.getHeaderName()]=context.getHeaderValue(),options.headers=headers,this.httpService.executeRequest(options).then((function(httpResponse){var m3Data=httpResponse.data;if(m3Data&&m3Data.nrOfFailedTransactions&&m3Data.nrOfFailedTransactions>0){var modifiedHttpResponse=__assign({},httpResponse);modifiedHttpResponse.data.error={message:m3Data.results[0].errorMessage},deferred.reject(modifiedHttpResponse)}deferred.resolve(httpResponse)})).catch((function(error){var isUnauthorized=401===error.status;!isRetry&&isUnauthorized&&!1!==options.ionApiRetry?_this.getIonApiContextAsync({refresh:!0}).then((function(retryContext){_this.executeIonApi(retryContext,options,deferred,!0)})).catch((function(retryError){deferred.reject(retryError)})):deferred.reject(error)}))},IonApiService.add=function(ngModule){ngModule.service(common_constant_1.InjectNames.ION_API_SERVICE,IonApiService)},IonApiService.$inject=[angular_constants_1.AngularConstants.Q,common_constant_1.InjectNames.HTTP_SERVICE],IonApiService}();exports.IonApiService=IonApiService},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(279),__webpack_require__(205)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RuntimeService=void 0,__webpack_require__(114);var common_constant_1=__webpack_require__(3);__webpack_require__(324),__webpack_require__(105);var runtime_app_1=__webpack_require__(269);__webpack_require__(16),__webpack_require__(76),__webpack_require__(70),__webpack_require__(28),__webpack_require__(166);var RuntimeService=function(){function RuntimeService(commonService,frameworkService,languageService){this.commonService=commonService,this.frameworkService=frameworkService,this.languageService=languageService}return RuntimeService.prototype.loadRuntimeProject=function(projectId,canvasWidth){var promise=this.commonService.loadProject(projectId,canvasWidth);return this.parseAndSetApp(promise,canvasWidth)},RuntimeService.prototype.loadPublishedProject=function(projectId,canvasWidth){var promise=this.commonService.loadPublishedProject(projectId,canvasWidth);return this.parseAndSetApp(promise,canvasWidth)},RuntimeService.prototype.loadPublishedProjectNoConstraint=function(projectId,canvasWidth){var promise=this.commonService.loadPublishedProjectNoConstraints(projectId,canvasWidth);return this.parseAndSetApp(promise,canvasWidth)},RuntimeService.prototype.getCurrentProject=function(){return this.commonService.getCurrentProject()},RuntimeService.prototype.setCurrentRootComponentInstance=function(component){this.commonService.setCurrentRootComponentInstance(component)},RuntimeService.prototype.getCurrentBoundary=function(){return this.commonService.getCurrentBoundary()},RuntimeService.prototype.runStartupInteractions=function(){this.frameworkService.runStartupInteractions()},RuntimeService.prototype.updateCurrentBoundary=function(canvasWidth){this.commonService.updateCurrentBoundary(canvasWidth)},RuntimeService.prototype.instantiateDataservice=function(id){return this.frameworkService.getDatasourceObject(id)},RuntimeService.prototype.setCurrentUrlValues=function(urlDataset){var newUrlMetaData=[];urlDataset.forEach((function(urlData){var name=urlData.substring(0,urlData.indexOf("=")),sourceField={visibleName:name,sourceKey:name,sourceKeyShort:name,currentValue:urlData.substring(urlData.lastIndexOf("=")+1)};newUrlMetaData.push(sourceField)})),this.commonService.setUrlMetaData(newUrlMetaData)},RuntimeService.prototype.parseAndSetApp=function(promise,canvasWidth){var _this=this;return promise.then((function(jsonMashup){var mashup=runtime_app_1.RuntimeApp.fromObj(jsonMashup);return _this.languageService.initializeLanguageSettings().then((function(){return _this.commonService.buildPrerequisites(mashup,canvasWidth)}))}))},RuntimeService.add=function(m){m.service(common_constant_1.InjectNames.RUNTIME_SERVICE,RuntimeService)},RuntimeService.$inject=[common_constant_1.InjectNames.COMMON_SERVICE,common_constant_1.InjectNames.FRAMEWORK_SERVICE,common_constant_1.InjectNames.LANGUAGE_SERVICE],RuntimeService}();exports.RuntimeService=RuntimeService},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ConflictResolutonService=exports.ConflictResolutionEnum=void 0;var ConflictResolutionEnum,angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3),error_response_1=__webpack_require__(51),helper_1=__webpack_require__(15),dialog_service_1=__webpack_require__(13);!function(ConflictResolutionEnum){ConflictResolutionEnum[ConflictResolutionEnum.REPLACE=1]="REPLACE",ConflictResolutionEnum[ConflictResolutionEnum.COPY=2]="COPY",ConflictResolutionEnum[ConflictResolutionEnum.SKIP=3]="SKIP"}(ConflictResolutionEnum=exports.ConflictResolutionEnum||(exports.ConflictResolutionEnum={}));var ConflictResolutonService=function(){function ConflictResolutonService($q,dialogService){this.$q=$q,this.dialogService=dialogService,this.maxItems=0}return ConflictResolutonService.prototype.resolve=function(newObjects,currentObjects,conflictKey,objectName,maxItems){var _this=this;this.objectName=objectName,this.maxItems=maxItems,this.conflictKey=conflictKey,this.occupiedStrings=currentObjects.map((function(object){return helper_1.Helper.getDeepValue(object,conflictKey)}));var splitConflicting=this.splitConflicting(newObjects,currentObjects);this.conflictingObjects=splitConflicting.conflicting,this.occupiedStrings=this.occupiedStrings.concat(splitConflicting.notConflicting.map((function(notConflicting){return helper_1.Helper.getDeepValue(notConflicting,conflictKey)})));var deferredResolutions=this.$q.defer();return this.conflictingObjects.length>0?this.resolveNextConflict().then((function(resolutions){var resolutionResult=_this.applyResolutions(resolutions,currentObjects);resolutionResult.toAdd=resolutionResult.toAdd.concat(splitConflicting.notConflicting),deferredResolutions.resolve(resolutionResult)})).catch((function(e){deferredResolutions.reject(e.message)})):deferredResolutions.resolve({toRemove:[],toAdd:newObjects}),deferredResolutions.promise},ConflictResolutonService.prototype.checkIfInvalidImportedItems=function(errorText,importedItems){var deferred=this.$q.defer();if(!importedItems)return deferred.resolve(),deferred.promise;if(importedItems.some((function(item){return!item}))){var options={title:"Import Project",message:"One or more "+errorText+" was not imported due to error in them",standardButtons:dialog_service_1.StandardDialogButtons.Ok,isError:!0};return deferred.reject(options),deferred.promise}return deferred.resolve(),deferred.promise},ConflictResolutonService.prototype.splitConflicting=function(newObjects,oldObjects){var _this=this,conflicting=[],notConflicting=[];return newObjects.forEach((function(newObject){oldObjects.some((function(existingObject){return _this.getConflictString(existingObject)===_this.getConflictString(newObject)}))?conflicting.push(newObject):notConflicting.push(newObject)})),{conflicting:conflicting,notConflicting:notConflicting}},ConflictResolutonService.prototype.getConflictString=function(object){return helper_1.Helper.getDeepValue(object,this.conflictKey)},ConflictResolutonService.prototype.resolveConflictDialog=function(conflictedString,index,conflictCount,lastAction){var options={title:"Name Conflict ("+(index+1)+"/"+conflictCount+")",template:__webpack_require__(880),parameter:{objectName:this.objectName,conflictedString:conflictedString,occupiedStrings:this.occupiedStrings,lastAction:lastAction,remainingCount:conflictCount-(index+1),maxItems:this.maxItems}};return this.dialogService.show(options)},ConflictResolutonService.prototype.resolveNextConflict=function(lastAction,index){var _this=this;void 0===lastAction&&(lastAction=ConflictResolutionEnum.REPLACE),void 0===index&&(index=0);var deferredResolutionChoice=this.$q.defer(),currentObject=this.conflictingObjects[index];return this.resolveConflictDialog(this.getConflictString(currentObject),index,this.conflictingObjects.length,lastAction).then((function(result){if(result&&result.button===dialog_service_1.DialogButtonType.Ok){var nextIndex=index+1,dialogValue=result.value,resolutions_1=[];if(resolutions_1.push({object:currentObject,resolution:dialogValue.action,newName:dialogValue.newName}),dialogValue.action===ConflictResolutionEnum.COPY?_this.occupiedStrings.push(dialogValue.newName):dialogValue.action!==ConflictResolutionEnum.SKIP&&_this.occupiedStrings.push(_this.getConflictString(currentObject)),dialogValue.sameForRemaining){for(var i=nextIndex;i<_this.conflictingObjects.length;i++)dialogValue.action===ConflictResolutionEnum.COPY&&(dialogValue.newName=helper_1.Helper.generateNewDisplayName(_this.getConflictString(_this.conflictingObjects[i]),_this.occupiedStrings),_this.occupiedStrings.push(dialogValue.newName)),resolutions_1.push({object:_this.conflictingObjects[i],resolution:dialogValue.action,newName:dialogValue.newName});deferredResolutionChoice.resolve(resolutions_1)}else nextIndex<_this.conflictingObjects.length?_this.resolveNextConflict(dialogValue.action,nextIndex).then((function(resolvedCompositeComponents){deferredResolutionChoice.resolve(resolutions_1.concat(resolvedCompositeComponents))})).catch((function(e){deferredResolutionChoice.reject(e)})):deferredResolutionChoice.resolve(resolutions_1)}else deferredResolutionChoice.reject(new error_response_1.ErrorResponse("User cancel"))})),deferredResolutionChoice.promise},ConflictResolutonService.prototype.applyResolutions=function(resolutions,oldObjects){var _this=this,valuesToRemove=[],resolutionResult={toRemove:[],toAdd:[]};if(resolutions.forEach((function(resolution){var newItem=resolution.object;switch(resolution.resolution){case ConflictResolutionEnum.REPLACE:valuesToRemove.push(_this.getConflictString(newItem)),resolutionResult.toAdd.push(newItem);break;case ConflictResolutionEnum.COPY:helper_1.Helper.setDeepValue(newItem,_this.conflictKey,resolution.newName),resolutionResult.toAdd.push(newItem);break;case ConflictResolutionEnum.SKIP:}})),valuesToRemove.length>0){var objsToRemove=oldObjects.filter((function(obj){return valuesToRemove.some((function(valueToRemove){return _this.getConflictString(obj)===valueToRemove}))}));resolutionResult.toRemove=objsToRemove}return resolutionResult},ConflictResolutonService.add=function(m){m.service(common_constant_1.InjectNames.CONFLICT_RESOLUTION_SERVICE,ConflictResolutonService)},ConflictResolutonService.$inject=[angular_constants_1.AngularConstants.Q,common_constant_1.InjectNames.DIALOG_SERVICE],ConflictResolutonService}();exports.ConflictResolutonService=ConflictResolutonService},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(538)},function(module,exports){module.exports='<div id=test-dataservice-dialog ng-controller="eirTestDataserviceCtrl as ctrl"> <div class=field> <p> Test the data service by entering the defined parameters and click "Run Data Service". Be aware that this will run the actual service in the target system. </p> </div> <div class=field> <div class=field-input-fields> <div ng-repeat="inputField in ctrl.parameters"> <label for="{{ inputField.id + \'-field\' }}">{{inputField.key}}</label> <div class=input-field> <input type=text name="{{ inputField.id + \'-field\' }}" ng-attr-id="{{ inputField.id + \'-field\' }}" ng-model=inputField.value ng-keypress=ctrl.onKeyPress($event)> <div class=input-field-mandatory ng-if=inputField.mandatory> Required </div> </div> </div> <div class=input-field-button> <button type=button class="btn-primary hide-focus" ng-click=ctrl.runApi() ng-disabled=ctrl.fetching xi-tooltip="\'Run Data Service\'" xi-button> Run Data Service </button> </div> </div> </div> <div class=field> <div class=field--flex> <h2>Response Body</h2> <button type=button class=btn-modal ng-if="ctrl.type === ctrl.testDialogTypes.UNFORMATTED" ng-click=ctrl.copyToClipboard()>Copy to clipboard</button> </div> <hr class=hr-field> </div> <div class=field ng-switch=ctrl.type xi-busy=ctrl.fetching> <textarea id=testDataserviceTextareaField class=resizable name=textareaField readonly=readonly rows=20 xi-textarea=textareaField ng-model=ctrl.responseData ng-switch-when=UNFORMATTED></textarea> <div xi-datagrid=ctrl.datagridOptions ng-switch-when=FORMATTED></div> </div> <div class=modal-buttonset> <button type=button class=btn-modal-primary ng-click=ctrl.close()>Close</button> </div> </div>'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RepositoryHelper=void 0;var common_constant_1=__webpack_require__(3);__webpack_require__(41),__webpack_require__(202),__webpack_require__(433),__webpack_require__(547);var RepositoryHelper=function(){function RepositoryHelper(){}return RepositoryHelper.getSwaggerOperation=function(operation,swagger){var pathItemObj=swagger.paths[operation.restPath];switch(operation.method.toLowerCase()){case"get":return pathItemObj.get;case"put":return pathItemObj.put;case"post":return pathItemObj.post;case"delete":return pathItemObj.delete;case"options":return pathItemObj.options;case"head":return pathItemObj.head;default:return console.warn("Operation has unknown method '"+operation.method+"', using default 'get'"),pathItemObj.get}},RepositoryHelper.deconstructPath=function(operation){var suite="/"+operation.suiteContext,tenant=common_constant_1.Config.TENANT_ID||"";-1!==operation.proxyPath.indexOf("/CustomerApi")&&(operation.proxyPath=operation.proxyPath.replace("/CustomerApi",""),suite="/CustomerApi"+suite);var caseInsensitive=new RegExp(tenant+"/"+operation.suiteContext,"i"),endpoint=operation.proxyPath.replace(caseInsensitive,"");endpoint.endsWith("/")||(endpoint+="/");var resource=operation.restPath.replace(/^\//,""),version="v1";return endpoint.includes("/m3api-rest/v2/")&&(version="v2"),{suite:suite,endpoint:endpoint,resource:resource,version:version}},RepositoryHelper.mapSchemaToGridData=function(schema,name,depth){void 0===depth&&(depth=1),schema||(console.warn("mapSchemaToGridData was called with an undefined schema"),schema={description:"Schema not available"});var data={name:name,description:schema.description,depth:depth,children:[],type:schema.type,expanded:!1};if("object"===schema.type||schema.properties)for(var childName in schema.properties){var childSchema=schema.properties[childName],child=RepositoryHelper.mapSchemaToGridData(childSchema,childName,depth+1);data.children.push(child)}else if("array"===schema.type||schema.items){childSchema=schema.items,childName="items";data.children=[RepositoryHelper.mapSchemaToGridData(childSchema,childName,depth+1)]}return data},RepositoryHelper.addQueryParameter=function(id,datasource){id&&id.trim()?(id=id.trim(),null!==datasource.resource.match(/^[\w\-\.\_\{\}]+(\/[\w\-\.\_\{\}]+)*$/g)&&(datasource.resource+="?"),null!==datasource.resource.match(/\?.*$/)&&!datasource.resource.endsWith("?")&&(datasource.resource+="&"),datasource.resource+=id+"={"+id+"}"):console.warn("addQueryParameter called with an empty ID")},RepositoryHelper.getAppbuilderDataType=function(dataType){var newDataType=dataType;switch(dataType){case"Byte":newDataType=common_constant_1.IdoDataType.boolean;break;case"Binary":newDataType=common_constant_1.IdoDataType.file;break;case"Long Integer":newDataType=common_constant_1.IdoDataType.integer}return newDataType},RepositoryHelper}();exports.RepositoryHelper=RepositoryHelper},function(module,exports,__webpack_require__){"use strict";(function($){Object.defineProperty(exports,"__esModule",{value:!0}),exports.BindingManagementService=void 0;var common_constant_1=__webpack_require__(3),binding_type_enum_1=__webpack_require__(30),value_type_enum_1=__webpack_require__(26);__webpack_require__(32),__webpack_require__(42),__webpack_require__(232),__webpack_require__(23),__webpack_require__(68),__webpack_require__(28);var BindingManagementService=function(){function BindingManagementService(frameworkService){this.frameworkService=frameworkService}return BindingManagementService.prototype.unregisterBinding=function(targetComponent,targetKey,valuesourceObject){var bindingID=this.frameworkService.getBindingId(targetComponent.getId(),targetKey,valuesourceObject),activeBindings=this.frameworkService.getActiveBinding();activeBindings[bindingID]&&(activeBindings[bindingID](),delete activeBindings[bindingID])},BindingManagementService.prototype.unregisterContextBinding=function(targetComponent,sourceKey,targetKey){void 0===targetKey&&(targetKey="");var bindingId=this.frameworkService.getContextBindingId(targetComponent.getId(),targetKey,sourceKey),activeBindings=this.frameworkService.getActiveBinding();activeBindings[bindingId]&&(activeBindings[bindingId](),delete activeBindings[bindingId])},BindingManagementService.prototype.registerBinding=function(targetComponent,targetKey,valuesourceObject){this.frameworkService.registerBinding(targetComponent,targetKey,valuesourceObject,valuesourceObject.value)},BindingManagementService.prototype.registerContextBinding=function(targetComponent,targetKey,valuesourceObject){this.frameworkService.registerContextBinding(targetComponent,targetKey,valuesourceObject.sourceKey,valuesourceObject.value)},BindingManagementService.prototype.setDefaultBindings=function(component,availableOutput){var _this=this,newAvailableOutput=$.extend([],availableOutput,!0).reverse();this.frameworkService.forEachComponent(component,(function(innerComponent){component!==innerComponent&&innerComponent.datasource||_this.frameworkService.forEachBindable(innerComponent,(function(bindableField,currentvalueSource){if(bindableField.write&&bindableField.valueType!==value_type_enum_1.ValueTypeEnum.BOOLEAN){var outputParam=newAvailableOutput.pop();outputParam&&(currentvalueSource.Type=binding_type_enum_1.BindingTypeEnum.CONTEXT_BINDING,currentvalueSource.sourceKey=outputParam.FLNM)}}))}))},BindingManagementService.add=function(ngModule){ngModule.service(common_constant_1.InjectNames.BINDING_MANAGEMENT_SERVICE,BindingManagementService)},BindingManagementService.$inject=[common_constant_1.InjectNames.FRAMEWORK_SERVICE],BindingManagementService}();exports.BindingManagementService=BindingManagementService}).call(this,__webpack_require__(21))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BoundaryManagementService=void 0;var angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3),standard_boundaries_constant_1=__webpack_require__(312),instance_event_1=__webpack_require__(85);__webpack_require__(13);var helper_1=__webpack_require__(153);__webpack_require__(20);var BoundaryManagementService=function(){function BoundaryManagementService($timeout,editorService,dialogService){this.$timeout=$timeout,this.editorService=editorService,this.dialogService=dialogService,this.boundaryIdCounter=0,this.newBoundaryAddedEvent=new instance_event_1.InstanceEvent,this.boundaryMovedEvent=new instance_event_1.InstanceEvent}return BoundaryManagementService.prototype.getBoundary=function(boundaryId){return this.getProjectBoundaries().find((function(boundary){return boundary.id===boundaryId}))},BoundaryManagementService.prototype.getProjectBoundaries=function(){return this.editorService.getCurrentProject().getBoundaries()},BoundaryManagementService.prototype.generateBoundaryId=function(){var newId="boundary"+this.boundaryIdCounter++,boundaries=this.getProjectBoundaries();for(var key in boundaries)if(boundaries[key].id===newId)return this.generateBoundaryId();return newId},BoundaryManagementService.prototype.goToCurrentBoundaryMarker=function(boundary){this.newBoundaryAddedEvent.raise(boundary)},BoundaryManagementService.prototype.alreadyExistsHere=function(position){return this.getProjectBoundaries().some((function(boundary){return boundary.limitX===position}))},BoundaryManagementService.prototype.showError=function(title,message){this.dialogService.showError(title,message)},BoundaryManagementService.prototype.addNewBoundaryMarker=function(offsetX,displayName,description){var _this=this,boundaries=this.getProjectBoundaries();if(offsetX=Math.floor(offsetX),boundaries.length>=common_constant_1.ProjectLimit.MAX_BOUNDARIES)this.showError("Error","Maximum number of boundaries reached, try to delete one first.");else if(this.alreadyExistsHere(offsetX))this.showError("Error","A Boundary already has this value, try to add one at a different place.");else{var boundary_1={id:this.generateBoundaryId(),displayName:displayName||"",description:description||"",limitX:offsetX};this.addProjectBoundary(boundary_1),this.$timeout((function(){_this.editorService.setCurrentBoundary(boundary_1),_this.newBoundaryAddedEvent.raise(boundary_1),_this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.MANIFEST).then((function(){var options={title:"New Boundary",message:"The boundary at position "+boundary_1.limitX+" successfully added",position:"top right",progressBar:!0};_this.dialogService.showToast(options)}))}),common_constant_1.Numbers.TEN)}},BoundaryManagementService.prototype.isBoundaryReadOnly=function(boundary){return boundary.id.substring(0,standard_boundaries_constant_1.STANDARD_ID_PREFIX.length)===standard_boundaries_constant_1.STANDARD_ID_PREFIX},BoundaryManagementService.prototype.removeBoundarySettingsFromComponents=function(boundaryId){this.editorService.getAllComponents().forEach((function(component){component.getDatabearer().boundarySettings[boundaryId]=null}))},BoundaryManagementService.prototype.removeProjectBoundary=function(boundary){this.removeBoundarySettingsFromComponents(boundary.id),this.removeBoundaryMarker(boundary.id),this.editorService.projectBoundariesChangedEvent.raise(this.getProjectBoundaries())},BoundaryManagementService.prototype.removeBoundaryMarker=function(boundaryId){var allBoundaries=this.getProjectBoundaries(),index=helper_1.EditorHelper.findIndex(allBoundaries,boundaryId);-1!==index&&allBoundaries.splice(index,1)},BoundaryManagementService.prototype.addProjectBoundary=function(boundary){this.getProjectBoundaries().push(boundary),this.editorService.projectBoundariesChangedEvent.raise(this.getProjectBoundaries())},BoundaryManagementService.prototype.updateBoundaryMarker=function(boundary){for(var allBoundaries=this.getProjectBoundaries(),i=0;i<allBoundaries.length;i++)if(allBoundaries[i].id===boundary.id)return allBoundaries[i]=boundary,void this.editorService.projectBoundariesChangedEvent.raise(this.getProjectBoundaries())},BoundaryManagementService.add=function(ngModule){ngModule.service(common_constant_1.InjectNames.BOUNDARY_MANAGEMENT_SERVICE,BoundaryManagementService)},BoundaryManagementService.$inject=[angular_constants_1.AngularConstants.TIMEOUT,common_constant_1.InjectNames.EDITOR_SERVICE,common_constant_1.InjectNames.DIALOG_SERVICE],BoundaryManagementService}();exports.BoundaryManagementService=BoundaryManagementService},function(module,exports,__webpack_require__){"use strict";(function($){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.SaveService=void 0;var angular_1=__importDefault(__webpack_require__(12)),html2canvas_1=__importDefault(__webpack_require__(1043)),angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3);__webpack_require__(41),__webpack_require__(203),__webpack_require__(206),__webpack_require__(116),__webpack_require__(132),__webpack_require__(149),__webpack_require__(51);var helper_1=__webpack_require__(15),instance_event_1=__webpack_require__(85),feature_switch_ctrl_1=__webpack_require__(134);__webpack_require__(80),__webpack_require__(79);var SaveService=function(_super){function SaveService($q,httpService,featureService){var _this=_super.call(this,featureService)||this;return _this.$q=$q,_this.httpService=httpService,_this.saveStates={inProgress:"Saving...",saved:"Last saved at ",failed:"Failed to save"},_this.saveStateEvent=new instance_event_1.InstanceEvent,_this}return __extends(SaveService,_super),SaveService.prototype.raiseSaveStateEvent=function(value){this.saveStateEvent.raise(value)},SaveService.prototype.save=function(project,flags){var _this=this,manifest=project.manifest,deferred=this.$q.defer(),promises=[];return this.raiseSaveStateEvent(this.saveStates.inProgress),0!=(flags&common_constant_1.SaveFlagsEnum.MANIFEST)&&promises.push(this.saveManifest(manifest)),0!=(flags&common_constant_1.SaveFlagsEnum.CANVAS_COMPONENTS)&&promises.push(this.saveRootComponent(project)),0!=(flags&common_constant_1.SaveFlagsEnum.INTERACTIONS)&&promises.push(this.saveInteractions(project)),0!=(flags&common_constant_1.SaveFlagsEnum.DATASOURCES)&&promises.push(this.saveDatasources(project)),0!=(flags&common_constant_1.SaveFlagsEnum.SCREENSHOT)&&promises.push(this.saveScreenshot(manifest)),0!=(flags&common_constant_1.SaveFlagsEnum.CUSTOMCOMPONENTS)&&promises.push(this.saveCustomComponentDefinitions(project)),0!=(flags&common_constant_1.SaveFlagsEnum.COMPOSITE_COMPONENTS)&&promises.push(this.saveCompositeComponents(project)),0!=(flags&common_constant_1.SaveFlagsEnum.TRANSLATIONS)&&this.isFeatureTranslationEnabled()&&promises.push(this.saveTranslations(project)),0!=(flags&common_constant_1.SaveFlagsEnum.TAGS)&&promises.push(this.saveTags(project)),0!=(flags&common_constant_1.SaveFlagsEnum.URL_VARIABLES)&&promises.push(this.saveUrlVariables(project)),0!=(flags&common_constant_1.SaveFlagsEnum.EXPRESSIONS)&&promises.push(this.saveExpressions(project)),0!=(flags&common_constant_1.SaveFlagsEnum.QUESTIONS)&&promises.push(this.saveQuestions(project)),this.$q.all(promises).then((function(responses){_this.raiseSaveStateEvent(_this.saveStates.saved);var newManifest=responses[0];project.getManifest().updateLastChangedInformation(newManifest),deferred.resolve()})).catch((function(errorResponse){var saveState=errorResponse;errorResponse||(saveState="Failed to save."),_this.raiseSaveStateEvent(saveState),deferred.reject(errorResponse)})),deferred.promise},SaveService.prototype.renameProject=function(id,newDisplayName){return this.httpService.executePost(common_constant_1.ServerPaths.PROJECT+"rename/"+id,newDisplayName)},SaveService.prototype.saveManifest=function(manifest){return this.httpService.executePut(common_constant_1.ServerPaths.PROJECT+"manifest",manifest)},SaveService.prototype.saveScreenshot=function(manifest){var _this=this,deferred=this.$q.defer(),width=1600,canvasArea=$("#insideRuler"),style=canvasArea.prop("style"),inlineWidth="";if(style&&""!==style.width){inlineWidth=style.width.slice(0,-2),width=parseInt(inlineWidth)}canvasArea.width(width),canvasArea.height(822);return html2canvas_1.default($("#insideRuler")[0],{useCORS:!0,allowTaint:!0}).then((function(canvas){manifest.previewImg=canvas.toDataURL("image/jpeg",.5),_this.httpService.executePut(common_constant_1.ServerPaths.PROJECT+"manifest",manifest).then((function(){deferred.resolve(manifest)})).catch((function(errorResponse){deferred.reject(errorResponse)}))})),canvasArea.width(inlineWidth),canvasArea.height(""),deferred.promise},SaveService.prototype.saveRootComponent=function(project){var rootComponent=project.rootComponent,url=common_constant_1.ServerPaths.PROJECT+project.getId()+"/rootComponent";return this.httpService.executePut(url,rootComponent)},SaveService.prototype.saveInteractions=function(project){var jsonInteractions=project.getInteractionDatabearers(),url=common_constant_1.ServerPaths.PROJECT+project.getId()+"/interactions";return this.httpService.executePut(url,jsonInteractions)},SaveService.prototype.saveTranslations=function(project){var jsonTranslations=project.getTranslationsList(),url=common_constant_1.ServerPaths.PROJECT+project.getId()+"/translations";return this.httpService.executePut(url,jsonTranslations)},SaveService.prototype.saveTags=function(project){var tags=helper_1.Helper.getListNames(project.getTags()),url="tags/"+common_constant_1.ServerPaths.PROJECT+project.getId()+"?tagName="+tags;return this.httpService.executePost(url)},SaveService.prototype.saveCustomComponentDefinitions=function(project){var deferred=this.$q.defer(),customComponentDefinitions=project.customComponentDefinitions;if(customComponentDefinitions){var url=common_constant_1.ServerPaths.PROJECT+project.getId()+"/customComponentDefinitions";this.httpService.executePut(url,customComponentDefinitions).then((function(){deferred.resolve()})).catch((function(errorResponse){deferred.reject(errorResponse)}))}else deferred.resolve();return deferred.promise},SaveService.prototype.saveDatasources=function(project){var jsonDatasources=project.getDatasourceDatabearers();jsonDatasources.forEach((function(jsonDatasource){helper_1.Helper.cleanNulls(jsonDatasource)}));var url=common_constant_1.ServerPaths.PROJECT+project.getId()+"/datasources";return this.httpService.executePut(url,JSON.parse(angular_1.default.toJson(jsonDatasources)))},SaveService.prototype.saveCompositeComponents=function(project){var deferred=this.$q.defer(),compositeComponentDefinitions=project.compositeComponents;if(compositeComponentDefinitions){var url=common_constant_1.ServerPaths.PROJECT+project.getId()+"/compositeComponents";this.httpService.executePut(url,compositeComponentDefinitions).then((function(response){deferred.resolve(response)})).catch((function(errorResponse){deferred.reject(errorResponse)}))}else deferred.resolve();return deferred.promise},SaveService.prototype.saveUrlVariables=function(project){var urlVariables=project.manifest.urlVariables,url=common_constant_1.ServerPaths.PROJECT+project.getId()+"/urlvariables";return this.httpService.executePut(url,urlVariables)},SaveService.prototype.saveExpressions=function(project){var expressions=project.expressions,url=common_constant_1.ServerPaths.PROJECT+project.getId()+"/expressions";return this.httpService.executePut(url,expressions)},SaveService.prototype.saveQuestions=function(project){var questions=project.questions,url=common_constant_1.ServerPaths.PROJECT+project.getId()+"/questions";return this.httpService.executePut(url,questions)},SaveService.add=function(ngModule){ngModule.service(common_constant_1.InjectNames.SAVE_SERVICE,SaveService)},SaveService.$inject=[angular_constants_1.AngularConstants.Q,common_constant_1.InjectNames.HTTP_SERVICE,common_constant_1.InjectNames.FEATURE_SWITCH_SERVICE],SaveService}(feature_switch_ctrl_1.FeatureSwitchCtrl);exports.SaveService=SaveService}).call(this,__webpack_require__(21))},function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.FlexboxSettings=void 0;var orientation_enum_1=__webpack_require__(44);__webpack_require__(279);var flexbox_1=__webpack_require__(208),component_settings_1=__webpack_require__(117),flexbox_content_settings_1=__webpack_require__(557),FlexboxSettings=function(){function FlexboxSettings(){if(this.contentSettingsDirective=new flexbox_content_settings_1.FlexboxContentSettingsDirective,FlexboxSettings.instance)throw new Error("Error: Instantiation failed: Use FlexboxSettings.getInstance() instead of new.")}return FlexboxSettings.getInstance=function(){return FlexboxSettings.instance},FlexboxSettings.prototype.create=function(id){var newFlexbox=component_settings_1.ComponentSettingsCtrl.create(id,flexbox_1.Flexbox);return newFlexbox.children=[],newFlexbox},FlexboxSettings.prototype.createWithoutPadding=function(id,orientation){void 0===orientation&&(orientation=orientation_enum_1.OrientationEnum.VERTICAL);var defaultFlexbox=this.create(id),modifiedFlexbox=defaultFlexbox;return modifiedFlexbox.boundarySettings.Default=__assign(__assign(__assign({},defaultFlexbox.boundarySettings.Default),{margin:{bottom:0,left:0,right:0,top:0}}),{orientation:orientation}),modifiedFlexbox},FlexboxSettings.instance=new FlexboxSettings,FlexboxSettings}();exports.FlexboxSettings=FlexboxSettings},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.InteractionParameter=void 0;var InteractionParameter=function(){function InteractionParameter(obj){this.databearer=obj}return InteractionParameter.prototype.getDatabearer=function(){return this.databearer},Object.defineProperty(InteractionParameter.prototype,"targetKey",{get:function(){return this.databearer.targetKey},set:function(targetKey){this.databearer.targetKey=targetKey},enumerable:!1,configurable:!0}),Object.defineProperty(InteractionParameter.prototype,"valueSource",{get:function(){return this.databearer.valueSource},set:function(valueSource){this.databearer.valueSource=valueSource},enumerable:!1,configurable:!0}),InteractionParameter}();exports.InteractionParameter=InteractionParameter},,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(203),__webpack_require__(518)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(42)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.QuestionDefinitionsEnum=void 0,function(QuestionDefinitionsEnum){QuestionDefinitionsEnum[QuestionDefinitionsEnum.SEEKS_BINDING=0]="SEEKS_BINDING",QuestionDefinitionsEnum[QuestionDefinitionsEnum.COMPONENT_SETTINGS=1]="COMPONENT_SETTINGS"}(exports.QuestionDefinitionsEnum||(exports.QuestionDefinitionsEnum={}))},,function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Dropdown=void 0;var angular_1=__importDefault(__webpack_require__(12)),cloneDeep_1=__importDefault(__webpack_require__(333)),isNumber_1=__importDefault(__webpack_require__(418)),isUndefined_1=__importDefault(__webpack_require__(84)),helper_1=__webpack_require__(15),component_1=__webpack_require__(46),helper_2=__webpack_require__(69);__webpack_require__(28);var common_constant_1=__webpack_require__(3),interaction_defines_constant_1=__webpack_require__(52),binding_type_enum_1=__webpack_require__(30),size_type_enum_1=__webpack_require__(29),value_type_enum_1=__webpack_require__(26),backward_compatible_1=__webpack_require__(64),Dropdown=function(_super){function Dropdown(obj,$element,parent,frameworkService){var _this=_super.call(this,obj,$element,parent,frameworkService)||this;return obj&&(_this.keepSelected=obj.keepSelected,_this.showLabel=backward_compatible_1.BackwardCompatible.getShowLabel(obj)),_this.currentItemIndex=0,_this.emptyValue=[{value:0,label:""}],_this}return __extends(Dropdown,_super),Dropdown.prototype.newBoundaryEntered=function(boundaryId){_super.prototype.newBoundaryEntered.call(this,boundaryId),this.setBoundarySettingIfChanged(common_constant_1.SettingKeys.SHOW_LABEL),this.setBoundarySettingIfChanged(common_constant_1.SettingKeys.BOX_WIDTH)},Dropdown.prototype.clear=function(){this.currentItemIndex=0,this.currentItem=null,this.setSelection()},Dropdown.prototype.setCurrentItem=function(currentItem){this.updateCurrentItem(currentItem),this.trigger(common_constant_1.InteractionTriggerEnum.CURRENT_ITEM_CHANGED),this.frameworkService.triggerExpressions()},Dropdown.prototype.updateCurrentItem=function(newCurrentItem){this.currentItem=newCurrentItem,angular_1.default.extend(this.getContext(),newCurrentItem);var listResult=this.getContext().ListResult;listResult.length>0&&(this.currentItemIndex=listResult.findIndex((function(item){return item===newCurrentItem})),this.previousLength=angular_1.default.copy(listResult.length)),this.setPseudoElemDisplayText()},Dropdown.prototype.onListUpdated=function(){var firstItem=this.getContext().ListResult[0];firstItem?this.setCurrentItem(firstItem):this.setPseudoElemDisplayText(""),this.trigger(common_constant_1.InteractionTriggerEnum.CURRENT_ITEM_CHANGED)},Dropdown.prototype.setBindableValue=function(bindableReference,value){_super.prototype.setBindableValue.call(this,bindableReference,value),bindableReference===common_constant_1.SettingKeys.DISPLAY_VALUE&&this.currentItem&&this.databearer.displayValue.sourceKey&&this.setPseudoElemDisplayText()},Dropdown.prototype.setPseudoElemDisplayText=function(text){void 0===text&&(text=this.currentItem[this.databearer.displayValue.sourceKey]);var dropdown=this.getSoHoDropdown();dropdown&&dropdown.pseudoElem.find("span").text(text)},Dropdown.prototype.getSoHoDropdown=function(){return this.element.find("#"+this.getId()+"select").data("dropdown")},Dropdown.prototype.loadInteraction=function(interaction){var interactionPromise,_this=this;switch(interaction.targetActionName){case common_constant_1.InteractionActionEnum.LIST:(interactionPromise=_super.prototype.loadInteraction.call(this,interaction)).then((function(listResult){_this.getContext().ListResult=cloneDeep_1.default(listResult),_this.trigger(common_constant_1.InteractionTriggerEnum.ON_LOAD),_this.setSelection()}));break;case common_constant_1.InteractionActionEnum.SET_CURRENT_ITEM:(interactionPromise=this.executeSetSelectedItemAction(interaction.getParameters())).then((function(newValue){newValue?_this.setCurrentItem(newValue):_this.onListUpdated()}));break;default:interactionPromise=_super.prototype.loadInteraction.call(this,interaction)}return interactionPromise},Dropdown.prototype.setSelection=function(){this.currentItem&&this.keepSelected?this.moveIndex():this.onListUpdated()},Dropdown.prototype.moveIndex=function(){var listResult=this.getContext().ListResult,index=helper_2.ComponentsHelper.findItemIndexById(listResult,this.currentItem.id);isUndefined_1.default(index)?this.setErrorTooltip("Selection failed, Item ID is not unique."):this.setErrorTooltip(),isNumber_1.default(index)&&-1!==index?(this.currentItemIndex=index,this.currentItem=listResult[this.currentItemIndex]):index?this.previousLength<listResult.length?(this.currentItemIndex=helper_2.ComponentsHelper.incrementIndex(this.currentItemIndex,this.getContext(),this.currentItem,this.getDatasource()),this.currentItem=listResult[this.currentItemIndex]):this.previousLength>listResult.length?this.onListUpdated():this.currentItem=listResult[this.currentItemIndex]:this.onListUpdated(),this.setPseudoElemDisplayText()},Dropdown.prototype.executeSetSelectedItemAction=function(parameters){var _this=this;this.setErrorTooltip();var interactionDeferred=this.frameworkService.getNewDeferred(),context=this.getContext();if(context.ListResult){var possibleItems_1=context.ListResult;parameters.forEach((function(parameter){var valueToFind=_this.frameworkService.readValueSource(parameter.valueSource,context);possibleItems_1=possibleItems_1.filter((function(listItem){var actualValue=listItem[parameter.targetKey];return helper_1.Helper.trimIfPossible(actualValue)===helper_1.Helper.trimIfPossible(valueToFind)}))})),1===possibleItems_1.length?(interactionDeferred.resolve(possibleItems_1[0]),this.removeEmptyValue()):possibleItems_1.length>1?(this.setErrorTooltip("Unable to select: Multiple items match"),this.setEmptyValue()):(this.setErrorTooltip("Unable to select: No items match"),this.setEmptyValue())}else this.setErrorTooltip("Unable to select: No items to select");return interactionDeferred.resolve(),interactionDeferred.promise},Dropdown.prototype.setEmptyValue=function(){var listResult=this.getContext().ListResult;listResult[0]!==this.emptyValue&&listResult.unshift(this.emptyValue),this.clear()},Dropdown.prototype.removeEmptyValue=function(){var listResult=this.getContext().ListResult;listResult[0]===this.emptyValue&&listResult.shift()},Dropdown.AVAILABLE_WIDTHS=[{name:"Small",value:"input-sm"},{name:"Medium",value:"input-mm"},{name:"Large",value:"input-default"}],Dropdown.DEFAULT_WIDTH={sizeType:size_type_enum_1.SizeTypeEnum.AUTO},Dropdown.DEFAULT_HEIGHT={sizeType:size_type_enum_1.SizeTypeEnum.AUTO},Dropdown.SOURCE_TRIGGERS=interaction_defines_constant_1.InteractionDefines.SOURCE_TRIGGERS.concat([common_constant_1.InteractionPairOperation.ON_ITEM_CHANGED]),Dropdown.TARGET_ACTIONS=[common_constant_1.InteractionPairOperation.LIST,common_constant_1.InteractionPairOperation.SET_CURRENT_ITEM,common_constant_1.InteractionPairOperation.CLEAR],Dropdown.DEFAULT_TRIGGER=common_constant_1.InteractionPairOperation.ON_ITEM_CHANGED,Dropdown.DEFAULT_ACTION=common_constant_1.InteractionPairOperation.LIST,Dropdown.SETTING_FIELDS=[{title:"Options",tab:common_constant_1.SidebarTabTypes.CONTENT,settings:[{title:"Keep Selection",tooltip:"Keep previous selected item on reload. (With ION APIs, an object ID is preferred if using this)",ref:common_constant_1.SettingKeys.KEEP_SELECTED,inputType:common_constant_1.SettingInputKeys.CHECKBOX,defaultValue:!0}]},{title:"Style",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{title:"Show Label",boundarySetting:!0,ref:common_constant_1.SettingKeys.SHOW_LABEL,inputType:common_constant_1.SettingInputKeys.CHECKBOX,defaultValue:!0},{title:"Disabled",ref:common_constant_1.SettingKeys.IS_READONLY,inputType:common_constant_1.SettingInputKeys.CHECKBOX,defaultValue:!1,button:{icon:"#icon-unlocked",tooltip:"Disable Component When...",dialog:!0}}]},{title:"Width",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{boundarySetting:!0,ref:common_constant_1.SettingKeys.BOX_WIDTH,inputType:common_constant_1.SettingInputKeys.RADIO,dataset:Dropdown.AVAILABLE_WIDTHS,defaultValue:"input-default"}]}].concat(component_1.Component.SETTING_FIELDS),Dropdown.BINDABLE_FIELDS_2=[{name:"Selected Item",ref:common_constant_1.SettingKeys.CURRENT_ITEM,valueType:value_type_enum_1.ValueTypeEnum.OBJECT,write:!1,read:!0},{name:"Label",ref:common_constant_1.SettingKeys.LABEL,valueType:value_type_enum_1.ValueTypeEnum.LOCALIZED_STRING,write:!0,read:!1,defaultValue:{Type:binding_type_enum_1.BindingTypeEnum.STATIC_VALUE,value:""}},{name:"Display Value",ref:common_constant_1.SettingKeys.DISPLAY_VALUE,valueType:value_type_enum_1.ValueTypeEnum.STRING,write:!0,read:!1,defaultValue:{Type:binding_type_enum_1.BindingTypeEnum.STATIC_VALUE,value:""}}],Dropdown.directive=[function(){return{template:__webpack_require__(840),replace:!0}}],Dropdown}(component_1.Component);exports.Dropdown=Dropdown},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.Hyperlink=void 0,__webpack_require__(12),__webpack_require__(15);var component_1=__webpack_require__(46);__webpack_require__(28);var common_constant_1=__webpack_require__(3),interaction_defines_constant_1=__webpack_require__(52),binding_type_enum_1=__webpack_require__(30),size_type_enum_1=__webpack_require__(29),value_type_enum_1=__webpack_require__(26),Hyperlink=function(_super){function Hyperlink(obj,element,parent,frameworkService){var _this=_super.call(this,obj,element,parent,frameworkService)||this;return _this.sources=[],_this.direction=obj.direction,_this.link=obj.link,_this.isDrillback=obj.isDrillback,obj.sources&&(_this.sources=obj.sources),_this}return __extends(Hyperlink,_super),Hyperlink.prototype.setBindableValue=function(bindableRef,value){(_super.prototype.setBindableValue.call(this,bindableRef,value),this.sources)&&(this.sources.find((function(source){return source.alias===bindableRef}))&&this.renderURL())},Hyperlink.prototype.initializeBindings=function(){var _this=this;_super.prototype.initializeBindings.call(this),this.sources&&(this.sources.forEach((function(source){var valueSourceObject={Type:binding_type_enum_1.BindingTypeEnum.BINDING,sourceKey:source.value,sourceName:source.type};_this.frameworkService.registerBinding(_this,source.alias,valueSourceObject,null)})),this.renderURL())},Hyperlink.prototype.onLinkClick=function(){this.isDrillback?this.frameworkService.sendDrillbackMessage(this.renderedLink):this.frameworkService.openWindow(this.renderedLink),this.trigger(common_constant_1.InteractionTriggerEnum.CLICK)},Hyperlink.prototype.renderURL=function(){this.renderedLink=this.buildLink(this.link,this.sources)},Hyperlink.availableDirectionTypes=[{name:"None",value:common_constant_1.DirectionType.NONE},{name:"Back",value:common_constant_1.DirectionType.BACK},{name:"Forward",value:common_constant_1.DirectionType.DIRECTIONAL}],Hyperlink.DEFAULT_WIDTH={sizeType:size_type_enum_1.SizeTypeEnum.AUTO},Hyperlink.DEFAULT_HEIGHT={sizeType:size_type_enum_1.SizeTypeEnum.AUTO},Hyperlink.SOURCE_TRIGGERS=interaction_defines_constant_1.InteractionDefines.SOURCE_TRIGGERS.concat([common_constant_1.InteractionPairOperation.ON_CLICK]),Hyperlink.TARGET_ACTIONS=interaction_defines_constant_1.InteractionDefines.TARGET_ACTIONS,Hyperlink.DEFAULT_ACTION=common_constant_1.InteractionPairOperation.GET,Hyperlink.DEFAULT_TRIGGER=common_constant_1.InteractionPairOperation.ON_CLICK,Hyperlink.BINDABLE_FIELDS_2=[{name:"Link Name",ref:common_constant_1.SettingKeys.CONTENT,valueType:value_type_enum_1.ValueTypeEnum.LOCALIZED_STRING,write:!0,read:!0,defaultValue:{Type:binding_type_enum_1.BindingTypeEnum.STATIC_VALUE,value:""}},{name:"Link Value",ref:"renderedLink",valueType:value_type_enum_1.ValueTypeEnum.STRING,write:!1,read:!0}],Hyperlink.SETTING_FIELDS=[{title:"Style",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{title:"Disabled",ref:common_constant_1.SettingKeys.IS_READONLY,inputType:common_constant_1.SettingInputKeys.CHECKBOX,defaultValue:!1,button:{icon:"#icon-unlocked",tooltip:"Disable Component When...",dialog:!0}}]},{title:"Caret",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{ref:common_constant_1.SettingKeys.DIRECTION,inputType:common_constant_1.SettingInputKeys.RADIO,dataset:Hyperlink.availableDirectionTypes,defaultValue:common_constant_1.DirectionType.NONE}]},{title:"Link Value",tab:common_constant_1.SidebarTabTypes.CONTENT,settings:[{title:"Address",ref:common_constant_1.SettingKeys.LINK_VALUE,inputType:common_constant_1.SettingInputKeys.TEXT,button:{icon:"#icon-compose",tooltip:"Build link",dialog:!0},defaultValue:"https://"},{title:"Use as Drillback",ref:common_constant_1.SettingKeys.IS_DRILLBACK,inputType:common_constant_1.SettingInputKeys.CHECKBOX,defaultValue:!1}]}].concat(component_1.Component.SETTING_FIELDS),Hyperlink.directive=[function(){return{template:__webpack_require__(842),replace:!0}}],Hyperlink}(component_1.Component);exports.Hyperlink=Hyperlink},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.Image=void 0;var helper_1=__webpack_require__(15),component_1=__webpack_require__(46),helper_2=__webpack_require__(69);__webpack_require__(28);var common_constant_1=__webpack_require__(3),interaction_defines_constant_1=__webpack_require__(52),binding_type_enum_1=__webpack_require__(30),size_type_enum_1=__webpack_require__(29),value_type_enum_1=__webpack_require__(26),Image=function(_super){function Image(obj,$element,parent,frameworkService){var _this=_super.call(this,obj,$element,parent,frameworkService)||this;return obj&&(_this.position=obj.position),_this}return __extends(Image,_super),Image.prototype.setImageSource=function(newValue){newValue instanceof Blob?this.source=(window.URL||window.webkitURL).createObjectURL(newValue):"string"==typeof newValue&&this.getContext().DetailResult?this.source=helper_1.Helper.stringReplace(newValue,this.getContext().DetailResult):"string"==typeof newValue&&newValue.length>0?0===newValue.indexOf("http")?this.setImageFromUrlToSource(newValue):helper_2.ComponentsHelper.isBase64(newValue)?this.source=helper_1.Helper.parseBase64(newValue):this.source=newValue:this.source=common_constant_1.ImageBase64.DEFAULT},Image.prototype.setImageFromUrlToSource=function(url){var _this=this,result=this.cache.get(url);helper_1.Helper.isUndefined(result)?this.frameworkService.convertImageUrlToBase64(url).then((function(base64result){return _this.source=base64result})).then((function(){return _this.cache.put(url,_this.source)})).then((function(){return _this.setErrorTooltip()})).catch((function(error){_this.setErrorTooltip(error.message),_this.source=common_constant_1.ImageBase64.DEFAULT})):this.source=result},Image.prototype.loadInteraction=function(interaction){var _this=this,interactionPromise=_super.prototype.loadInteraction.call(this,interaction);return interactionPromise.catch((function(){_this.source=common_constant_1.ImageBase64.DEFAULT})),interactionPromise},Image.prototype.setBindableValue=function(bindableReference,newValue){_super.prototype.setBindableValue.call(this,bindableReference,newValue),bindableReference===common_constant_1.SettingKeys.SOURCE&&this.setImageSource(newValue)},Image.prototype.click=function(){this.trigger(common_constant_1.InteractionTriggerEnum.CLICK)},Image.availablePositionTypes=[{name:"Fill",value:common_constant_1.ImagePositions.FILL},{name:"Fit",value:common_constant_1.ImagePositions.FIT},{name:"Center",value:common_constant_1.ImagePositions.CENTER}],Image.DEFAULT_WIDTH={sizeType:size_type_enum_1.SizeTypeEnum.PERCENT},Image.DEFAULT_HEIGHT={sizeType:size_type_enum_1.SizeTypeEnum.PERCENT},Image.DEFAULT_ACTION=common_constant_1.InteractionPairOperation.GET,Image.DEFAULT_TRIGGER=common_constant_1.InteractionPairOperation.ON_LOAD,Image.SOURCE_TRIGGERS=interaction_defines_constant_1.InteractionDefines.SOURCE_TRIGGERS.concat([common_constant_1.InteractionPairOperation.ON_CLICK]),Image.TARGET_ACTIONS=interaction_defines_constant_1.InteractionDefines.TARGET_ACTIONS,Image.SETTING_FIELDS=[{title:"Position",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{ref:common_constant_1.SettingKeys.POSITION,inputType:common_constant_1.SettingInputKeys.RADIO,dataset:Image.availablePositionTypes,defaultValue:common_constant_1.ImagePositions.CENTER}]}].concat(component_1.Component.SETTING_FIELDS),Image.BINDABLE_FIELDS_2=[{name:"Source",ref:common_constant_1.SettingKeys.SOURCE,valueType:value_type_enum_1.ValueTypeEnum.STRING,write:!0,read:!1,defaultValue:{Type:binding_type_enum_1.BindingTypeEnum.STATIC_VALUE,value:""}}],Image.directive=[function(){return{template:__webpack_require__(843),replace:!0}}],Image}(component_1.Component);exports.Image=Image},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.Label=void 0;var component_1=__webpack_require__(46);__webpack_require__(28);var colors_constant_1=__webpack_require__(423),common_constant_1=__webpack_require__(3),interaction_defines_constant_1=__webpack_require__(52),binding_type_enum_1=__webpack_require__(30),size_type_enum_1=__webpack_require__(29),value_type_enum_1=__webpack_require__(26),Label=function(_super){function Label(obj,$element,parent,frameworkService){var _this=_super.call(this,obj,$element,parent,frameworkService)||this;return obj&&(_this.fontStyle=obj.fontStyle,_this.fontChar=obj.fontChar?obj.fontChar:"",_this.color=obj.color),_this}return __extends(Label,_super),Label.availableStyles=[{name:"Default",value:"default"},{name:"Paragraph",value:"paragraph"},{name:"Small Heading",value:"small-heading"},{name:"Medium Heading",value:"medium-heading"},{name:"Large Heading",value:"large-heading"},{name:"Size 10 - Uppercase",value:"font-size-px-10"},{name:"Size 12 - Uppercase",value:"font-size-px-12"},{name:"Size 14",value:"font-size-px-14"},{name:"Size 16",value:"font-size-px-16"},{name:"Size 20",value:"font-size-px-20"},{name:"Size 24",value:"font-size-px-24"},{name:"Size 28",value:"font-size-px-28"},{name:"Size 32",value:"font-size-px-32"},{name:"Size 40",value:"font-size-px-40"},{name:"Size 48",value:"font-size-px-48"},{name:"Size 60",value:"font-size-px-60"},{name:"Size 72",value:"font-size-px-72"}],Label.availableCharacteristics=[{name:"Default",value:""},{name:"Descriptive",value:"text-descriptive"},{name:"Link",value:"text-link"},{name:"Muted",value:"text-muted"},{name:"Alert",value:"text-alert"},{name:"Emphasis",value:"text-emphasis"},{name:"Strong",value:"text-strong"}],Label.availableColors=[{name:"Default",value:"default"},{name:"Light White",value:"rgba(255,255,255,0.5)"},{name:"Medium White",value:"rgba(255,255,255,0.75)"},{name:"Strong White",value:"#fff"},{name:"Light Gray",value:"rgba(26,26,26,0.5)"},{name:"Medium Gray",value:"rgba(26,26,26,0.75)"},{name:"Strong Gray",value:colors_constant_1.colors.graphite10}],Label.DEFAULT_WIDTH={sizeType:size_type_enum_1.SizeTypeEnum.AUTO},Label.DEFAULT_HEIGHT={sizeType:size_type_enum_1.SizeTypeEnum.AUTO},Label.SOURCE_TRIGGERS=interaction_defines_constant_1.InteractionDefines.SOURCE_TRIGGERS,Label.TARGET_ACTIONS=interaction_defines_constant_1.InteractionDefines.TARGET_ACTIONS,Label.DEFAULT_ACTION=common_constant_1.InteractionPairOperation.GET,Label.DEFAULT_TRIGGER=common_constant_1.InteractionPairOperation.ON_LOAD,Label.SETTING_FIELDS=[{title:"Typography",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{ref:common_constant_1.SettingKeys.FONT_STYLE,title:"Font Style",inputType:common_constant_1.SettingInputKeys.DROPDOWN,dataset:Label.availableStyles,defaultValue:Label.availableStyles[0].value},{ref:common_constant_1.SettingKeys.FONT_CHAR,title:"Font Characteristic",inputType:common_constant_1.SettingInputKeys.DROPDOWN,dataset:Label.availableCharacteristics,defaultValue:Label.availableCharacteristics[0].value,tooltip:"Note that you can only change the text color if the text has the following characteristics: Default, Strong or Emphasis."}]},{title:"Color",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{ref:common_constant_1.SettingKeys.COLOR,inputType:common_constant_1.SettingInputKeys.DROPDOWN,dataset:Label.availableColors,defaultValue:Label.availableColors[0].value}]}].concat(component_1.Component.SETTING_FIELDS),Label.BINDABLE_FIELDS_2=[{name:"Label",ref:common_constant_1.SettingKeys.CONTENT,valueType:value_type_enum_1.ValueTypeEnum.LOCALIZED_STRING,write:!0,read:!0,defaultValue:{Type:binding_type_enum_1.BindingTypeEnum.STATIC_VALUE,value:""}},{name:"Tooltip",ref:common_constant_1.SettingKeys.TOOLTIP,valueType:value_type_enum_1.ValueTypeEnum.LOCALIZED_STRING,write:!0,read:!1,defaultValue:{Type:binding_type_enum_1.BindingTypeEnum.STATIC_VALUE,value:""}}],Label.directive=[function(){return{template:__webpack_require__(844),replace:!0}}],Label}(component_1.Component);exports.Label=Label},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.colors=void 0,exports.colors={componentNameBackgroundColor:"#1d5f8a",azure01:"#c8e9f4",azure02:"#addbeb",azure03:"#8dc9e6",azure04:"#69b5dd",azure05:"#54a1d3",azure06:"#368ac0",azure07:"#2578a9",azure08:"#1d5f8a",azure09:"#134d71",azure10:"#133c59",amber01:"#fbe9bf",amber02:"#f8e09c",amber03:"#f7d475",amber04:"#f4c951",amber05:"#f2bc41",amber06:"#efa836",amber07:"#ee9a36",amber08:"#e4882b",amber09:"#db7726",amber10:"#d66221",amethyst01:"#ede3fc",amethyst02:"#daccec",amethyst03:"#c7b4db",amethyst04:"#b59eca",amethyst05:"#a38db7",amethyst06:"#9279a6",amethyst07:"#806594",amethyst08:"#6e5282",amethyst09:"#5d3e70",amethyst10:"#4b2a5e",turquoise01:"#c0ede3",turquoise02:"#a9e1d6",turquoise03:"#8ed1c6",turquoise04:"#7cc0b5",turquoise05:"#69ada3",turquoise06:"#579e95",turquoise07:"#448d83",turquoise08:"#317c73",turquoise09:"#206b62",turquoise10:"#0e5b52",ruby01:"#f4bcbc",ruby02:"#eb9d9d",ruby03:"#de8181",ruby04:"#d26d6d",ruby05:"#c65f5f",ruby06:"#b94e4a",ruby07:"#ad4242",ruby08:"#a13030",ruby09:"#941e1e",ruby10:"#880e0e",emerald01:"#d5f6c0",emerald02:"#c3e8ac",emerald03:"#afdc91",emerald04:"#9cce7c",emerald05:"#89bf65",emerald06:"#76b051",emerald07:"#66a140",emerald08:"#56932e",emerald09:"#488421",emerald10:"#397514",graphite01:"#f0f0f0",graphite02:"#d8d8d8",graphite03:"#bdbdbd",graphite04:"#999999",graphite05:"#737373",graphite06:"#5c5c5c",graphite07:"#454545",graphite08:"#383838",graphite09:"#292929",graphite10:"#1a1a1a",slate01:"#dee1e8",slate02:"#c8cbd4",slate03:"#abaeb7",slate04:"#888b94",slate05:"#656871",slate06:"#50535a",slate07:"#414247",slate08:"#313236",slate09:"#212224",slate10:"#1c1819"}},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.TextBox=void 0;var angular_1=__importDefault(__webpack_require__(12)),common_constant_1=__webpack_require__(3),binding_type_enum_1=__webpack_require__(30),size_type_enum_1=__webpack_require__(29),value_type_enum_1=__webpack_require__(26);__webpack_require__(150),__webpack_require__(92),__webpack_require__(32),__webpack_require__(529),__webpack_require__(42),__webpack_require__(76),__webpack_require__(530);var component_1=__webpack_require__(46),interaction_defines_constant_1=__webpack_require__(52),backward_compatible_1=__webpack_require__(64);__webpack_require__(28);var TextBox=function(_super){function TextBox(obj,$element,parent,frameworkService){var _this=_super.call(this,obj,$element,parent,frameworkService)||this;return _this.maxLength=2e3,_this.showLabel=backward_compatible_1.BackwardCompatible.getShowLabel(obj),_this.databearer.mask=backward_compatible_1.BackwardCompatible.tryGetMask(obj),_this.lengthWarning=!1,angular_1.default.element((function(){_this.updateMaskOptions()})),_this}return __extends(TextBox,_super),TextBox.prototype.setBindableValue=function(bindableReference,value){var _this=this;_super.prototype.setBindableValue.call(this,bindableReference,value),this.getMask().process!==common_constant_1.MaskProcess.NONE&&this.frameworkService.getTimeout()((function(){_this.updateMaskOptions()}))},TextBox.prototype.updateMaskOptions=function(maskOptions){this.editType="text",maskOptions&&(this.databearer.mask=maskOptions);var mask=this.databearer.mask,element=this.element.find("#"+this.getId());if(mask&&element){var maskOptions_1,maskApi=element.data("mask");switch(maskApi&&(maskApi.destroy(),element.removeClass("is-number-mask")),mask.process){case common_constant_1.MaskProcess.NUMBER:maskOptions_1={process:mask.process,patternOptions:{allowDecimal:mask.decimalLimit>0,allowNegative:mask.allowNegative,decimalLimit:mask.decimalLimit,integerLimit:mask.integerLimit,allowThousandsSeparator:mask.allowThousandsSeparator,prefix:mask.prefix}};break;case common_constant_1.MaskProcess.DATE_TIME:maskOptions_1={process:mask.process,patternOptions:{format:mask.format}};break;case common_constant_1.MaskProcess.STRING:maskOptions_1={pattern:mask.format};break;case common_constant_1.MaskProcess.PASSWORD:this.editType=mask.process;break;case common_constant_1.MaskProcess.NONE:element.attr("type","text")}maskOptions_1?element.mask(maskOptions_1):element.mask()}},TextBox.prototype.newBoundaryEntered=function(boundaryId){_super.prototype.newBoundaryEntered.call(this,boundaryId),this.setBoundarySettingIfChanged(common_constant_1.SettingKeys.SHOW_LABEL);var newBoxWidth=this.getBoundarySetting(common_constant_1.SettingKeys.BOX_WIDTH);newBoxWidth=backward_compatible_1.BackwardCompatible.tryGetBoxWidth(newBoxWidth),this.boxWidth!==newBoxWidth&&(this.boxWidth=newBoxWidth)},TextBox.prototype.clear=function(){this.text=""},TextBox.prototype.getMask=function(){return this.databearer.mask},TextBox.prototype.onUpdateValue=function(){_super.prototype.onUpdateValue.call(this),this.lengthWarning=this.text.length===this.maxLength},TextBox.AVAILABLE_WIDTHS=[{name:"Tiny",value:"input-xs"},{name:"Small",value:"input-sm"},{name:"Medium",value:"input-mm"},{name:"Large",value:"input-default"}],TextBox.DEFAULT_WIDTH={sizeType:size_type_enum_1.SizeTypeEnum.AUTO},TextBox.DEFAULT_HEIGHT={sizeType:size_type_enum_1.SizeTypeEnum.AUTO},TextBox.SOURCE_TRIGGERS=interaction_defines_constant_1.InteractionDefines.SOURCE_TRIGGERS,TextBox.TARGET_ACTIONS=[common_constant_1.InteractionPairOperation.GET,common_constant_1.InteractionPairOperation.CLEAR],TextBox.DEFAULT_ACTION=common_constant_1.InteractionPairOperation.GET,TextBox.DEFAULT_TRIGGER=common_constant_1.InteractionPairOperation.ON_LOAD,TextBox.SETTING_FIELDS=[{title:"Style",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{title:"Show Label",boundarySetting:!0,ref:common_constant_1.SettingKeys.SHOW_LABEL,inputType:common_constant_1.SettingInputKeys.CHECKBOX,defaultValue:!0},{title:"Read Only",ref:common_constant_1.SettingKeys.IS_READONLY,inputType:common_constant_1.SettingInputKeys.CHECKBOX,defaultValue:!1,button:{icon:"#icon-unlocked",tooltip:"Disable Component When...",dialog:!0}}]},{title:"Width",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{boundarySetting:!0,ref:common_constant_1.SettingKeys.BOX_WIDTH,inputType:common_constant_1.SettingInputKeys.RADIO,dataset:TextBox.AVAILABLE_WIDTHS,defaultValue:"input-default"}]}].concat(component_1.Component.SETTING_FIELDS),TextBox.BINDABLE_FIELDS_2=[{name:"Text",ref:common_constant_1.SettingKeys.TEXT,valueType:value_type_enum_1.ValueTypeEnum.STRING,write:!0,read:!0,defaultValue:{Type:binding_type_enum_1.BindingTypeEnum.STATIC_VALUE,value:""}},{name:"Label",ref:common_constant_1.SettingKeys.LABEL,valueType:value_type_enum_1.ValueTypeEnum.LOCALIZED_STRING,write:!0,read:!1,defaultValue:{Type:binding_type_enum_1.BindingTypeEnum.STATIC_VALUE,value:""}},{name:"Placeholder",ref:common_constant_1.SettingKeys.PLACEHOLDER,valueType:value_type_enum_1.ValueTypeEnum.LOCALIZED_STRING,write:!0,read:!1,defaultValue:{Type:binding_type_enum_1.BindingTypeEnum.STATIC_VALUE,value:""}}],TextBox.directive=[function(){return{template:__webpack_require__(853),replace:!0}}],TextBox}(component_1.Component);exports.TextBox=TextBox},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.HashService=exports.HashSourceTypes=exports.HashSources=void 0;var HashSources,HashSourceTypes,common_constant_1=__webpack_require__(3),angular_constants_1=__webpack_require__(7);__webpack_require__(79),function(HashSources){HashSources.DESIGNER_HASH_SRC="cache-bust-map-designer.json",HashSources.RUNTIME_HASH_SRC="cache-bust-map-runtime.json"}(HashSources=exports.HashSources||(exports.HashSources={})),function(HashSourceTypes){HashSourceTypes.DESIGNER="designer",HashSourceTypes.RUNTIME="runtime"}(HashSourceTypes=exports.HashSourceTypes||(exports.HashSourceTypes={}));var HashService=function(){function HashService(q,httpService,buildEnv,appEnv){var _this=this;this.q=q,this.httpService=httpService,this.buildEnv=buildEnv,this.appEnv=appEnv,this.buildEnv=common_constant_1.BuildEnvTypes.DEV,this.appEnv=common_constant_1.AppEnvTypes.DESIGNER,this.appEnv===common_constant_1.AppEnvTypes.DESIGNER?this.getHashDataSrc(HashSourceTypes.DESIGNER).then((function(response){_this.designerMapOfHashes=response.data})):this.appEnv===common_constant_1.AppEnvTypes.RUNTIME&&this.getHashDataSrc(HashSourceTypes.RUNTIME).then((function(response){_this.runtimeMapOfHashes=response.data}))}return HashService.prototype.getHashFromMapOfHashes=function(srcString,hashSrc){var _this=this,formattedSrcString=srcString.replace(/^\//,"");return function(){switch(hashSrc){case HashSourceTypes.DESIGNER:return _this.getHashFromHashDataDesigner(formattedSrcString);case HashSourceTypes.RUNTIME:return _this.getHashFromHashDataRuntime(formattedSrcString);default:return _this.q.resolve(formattedSrcString)}}().then((function(newSrcString){return"/"+newSrcString})).catch((function(err){return srcString}))},HashService.prototype.getHashMap=function(){switch(this.appEnv){case common_constant_1.AppEnvTypes.DESIGNER:return this.designerMapOfHashes;case common_constant_1.AppEnvTypes.RUNTIME:default:return this.runtimeMapOfHashes}},HashService.prototype.getHashFromHashDataDesigner=function(srcString){var _this=this;return this.designerMapOfHashes?this.q.resolve(this.getValueFromMapAndParseToMongooseAssetsPath(this.designerMapOfHashes,srcString)||srcString):this.getHashDataSrc(HashSourceTypes.DESIGNER).then((function(response){return _this.designerMapOfHashes=response.data,_this.getValueFromMapAndParseToMongooseAssetsPath(_this.designerMapOfHashes,srcString)||srcString}))},HashService.prototype.getValueFromMapAndParseToMongooseAssetsPath=function(mapWithHashes,key){var result="";for(var value in mapWithHashes)key.indexOf(value)>0&&(result=key.replace(value,mapWithHashes[value]));return result},HashService.prototype.getHashFromHashDataRuntime=function(srcString){var _this=this;return this.runtimeMapOfHashes?this.q.resolve(this.getValueFromMapAndParseToMongooseAssetsPath(this.runtimeMapOfHashes,srcString)||srcString):this.getHashDataSrc(HashSourceTypes.RUNTIME).then((function(response){return _this.runtimeMapOfHashes=response.data,_this.getValueFromMapAndParseToMongooseAssetsPath(_this.runtimeMapOfHashes,srcString)||srcString}))},HashService.prototype.getHashDataSrc=function(hashSrc){if(this.buildEnv===common_constant_1.BuildEnvTypes.DEV)return this.q.resolve({data:{}});var src="";switch(hashSrc){case HashSourceTypes.DESIGNER:src=common_constant_1.Config.APP_ROOT+HashSources.DESIGNER_HASH_SRC;break;case HashSourceTypes.RUNTIME:src=common_constant_1.Config.APP_ROOT+HashSources.RUNTIME_HASH_SRC}return this.httpService.executeRequest({method:"GET",url:src})},HashService.add=function(ngModule){ngModule.service(common_constant_1.InjectNames.HASH_SERVICE,HashService)},HashService.$inject=[angular_constants_1.AngularConstants.Q,common_constant_1.InjectNames.HTTP_SERVICE],HashService}();exports.HashService=HashService},function(module,exports,__webpack_require__){"use strict";(function($){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ThemeService=void 0;var angular_1=__importDefault(__webpack_require__(12)),common_constant_1=__webpack_require__(3),http_verb_enum_1=__webpack_require__(131),angular_constants_1=__webpack_require__(7),hash_service_1=__webpack_require__(425);__webpack_require__(79);var ThemeService=function(){function ThemeService($q,httpService,hashService){this.$q=$q,this.httpService=httpService,this.hashService=hashService,this.mainTheme=common_constant_1.ThemeEnum.LIGHT,this.changeStylesheetPromises={}}return ThemeService.prototype.changeThemeCss=function(newTheme,updateCanvasCss){var _this=this,deferred=this.$q.defer();if(updateCanvasCss=updateCanvasCss&&angular_1.default.element("#sohoxi-stylesheet-canvas").length>0){if(this.canvasTheme===newTheme)return deferred.reject(),deferred.promise;this.canvasTheme=newTheme}else{if(this.mainTheme===newTheme)return deferred.reject(),deferred.promise;this.mainTheme=newTheme}var cssUrl=common_constant_1.Config.APP_ROOT+"assets/xi/",linkId="sohoxi-stylesheet";updateCanvasCss&&(cssUrl+="canvas-",linkId+="-canvas"),cssUrl+=this.getCssTheme(newTheme,updateCanvasCss);var srcHashData=angular_1.default.element("#sohoxi-stylesheet-canvas").length>0?hash_service_1.HashSourceTypes.DESIGNER:hash_service_1.HashSourceTypes.RUNTIME;return this.hashService.getHashFromMapOfHashes(cssUrl,srcHashData).then((function(hashedString){var bodyElement=$("body");newTheme===common_constant_1.ThemeEnum.LIGHT_TRANSPARENT||newTheme===common_constant_1.ThemeEnum.DARK_TRANSPARENT?bodyElement.addClass("transparent"):bodyElement.removeClass("transparent");var linkElement=angular_1.default.element("#"+linkId);_this.changeStylesheet(linkElement,hashedString).then((function(){deferred.resolve()})).catch((function(){deferred.reject()}))})),deferred.promise},ThemeService.prototype.getCssTheme=function(newTheme,updateCanvasCss){switch(newTheme){case common_constant_1.ThemeEnum.DEFAULT:case common_constant_1.ThemeEnum.LIGHT:case common_constant_1.ThemeEnum.LIGHT_TRANSPARENT:return"light-theme.css";case common_constant_1.ThemeEnum.DARK:case common_constant_1.ThemeEnum.DARK_TRANSPARENT:return"dark-theme.css";case common_constant_1.ThemeEnum.HIGH_CONTRAST:return"high-contrast-theme.css";default:return console.warn("[MashupService] Invalid theme: "+newTheme),""}},ThemeService.prototype.changeStylesheet=function(linkElement,url){if(!this.changeStylesheetPromises[url]){var deferred_1=this.$q.defer();this.httpService.executeRequest({method:http_verb_enum_1.HttpVerbEnum.GET,url:url}).then((function(){deferred_1.resolve()})).catch((function(){deferred_1.reject()})),this.changeStylesheetPromises[url]=deferred_1.promise}return this.changeStylesheetPromises[url].then((function(){linkElement.attr("href",url)}))},ThemeService.add=function(ngModule){ngModule.service(common_constant_1.InjectNames.THEME_SERVICE,ThemeService)},ThemeService.$inject=[angular_constants_1.AngularConstants.Q,common_constant_1.InjectNames.HTTP_SERVICE,common_constant_1.InjectNames.HASH_SERVICE],ThemeService}();exports.ThemeService=ThemeService}).call(this,__webpack_require__(21))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Datasource=void 0,__webpack_require__(114),__webpack_require__(57),__webpack_require__(41),__webpack_require__(316),__webpack_require__(201),__webpack_require__(23),__webpack_require__(68);var Datasource=function(){function Datasource(obj){this.usedBy=[],this.databearer=obj}return Datasource.prototype.getDatabearer=function(){return this.databearer},Object.defineProperty(Datasource.prototype,"id",{get:function(){return this.databearer.id},set:function(id){this.databearer.id=id},enumerable:!1,configurable:!0}),Object.defineProperty(Datasource.prototype,"typedef",{get:function(){return this.databearer.typedef},set:function(typedef){this.databearer.typedef=typedef},enumerable:!1,configurable:!0}),Object.defineProperty(Datasource.prototype,"displayName",{get:function(){return this.databearer.displayName},set:function(displayName){this.databearer.displayName=displayName},enumerable:!1,configurable:!0}),Datasource.prototype.fillInParameters=function(extraParameters,inputParameters,parameters){Object.keys(extraParameters).length>0&&inputParameters.forEach((function(ionApiParameter){parameters.forEach((function(parameter){extraParameters[ionApiParameter.id]&&(parameter[ionApiParameter.id]=extraParameters[ionApiParameter.id])}))}))},Datasource}();exports.Datasource=Datasource},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(32),__webpack_require__(42),__webpack_require__(23)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TagService=void 0;var common_constant_1=__webpack_require__(3),instance_event_1=__webpack_require__(85);__webpack_require__(431),__webpack_require__(79);var TagService=function(){function TagService(httpService){this.httpService=httpService,this.projectInfoChangedEvent=new instance_event_1.InstanceEvent}return TagService.prototype.getAvailableTags=function(){return this.httpService.executeGet("tags/")},TagService.add=function(ngModule){ngModule.service(common_constant_1.InjectNames.TAG_SERVICE,TagService)},TagService.$inject=[common_constant_1.InjectNames.HTTP_SERVICE],TagService}();exports.TagService=TagService},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProjectInfo=void 0;var designer_manifest_1=__webpack_require__(149),runtime_manifest_1=__webpack_require__(510),ProjectInfo=function ProjectInfo(projectInfo){this.tags=[],projectInfo.manifest instanceof designer_manifest_1.DesignerManifest?this.manifest=new designer_manifest_1.DesignerManifest(projectInfo.manifest):this.manifest=new runtime_manifest_1.RuntimeManifest(projectInfo.manifest),this.tags=projectInfo.tags};exports.ProjectInfo=ProjectInfo},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.DatasourceTabComponent=exports.DatasourceTabCtrl=void 0;var angular_1=__importDefault(__webpack_require__(12)),angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3),sohoxi_constant_1=__webpack_require__(40),datasource_type_enum_1=__webpack_require__(57),test_dataservice_dialog_1=__webpack_require__(281),helper_1=__webpack_require__(15),dialog_service_1=__webpack_require__(13),custom_formatters_1=__webpack_require__(133),DatasourceTabCtrl=function(_super){function DatasourceTabCtrl($scope,$element,$cacheFactory,repositoryService,dialogService,conflictResolutionService){var _this=_super.call(this,$scope,$element,$cacheFactory,repositoryService)||this;return _this.dialogService=dialogService,_this.conflictResolutionService=conflictResolutionService,_this.anySelectedDataItem=!1,_this.selectedDataItems=[],_this.datagridId="dataservice-grid",_this.dialogTitle="Create",_this.importActionTitle="Import Data Services",_this.CACHE_KEY="dataservices",_this}return __extends(DatasourceTabCtrl,_super),Object.defineProperty(DatasourceTabCtrl.prototype,"Dataset",{set:function(value){this.dataset=value,this.saveToCache(this.CACHE_KEY,value)},enumerable:!1,configurable:!0}),DatasourceTabCtrl.prototype.initDatagridOptions=function(){var _this=this,columns=[];this.dataset=[],columns.push({id:"selectionCheckbox",sortable:!1,resizable:!1,width:50,formatter:Soho.Formatters.SelectionCheckbox,align:"center"}),columns.push({id:"displayName",name:"Name",field:"displayName",width:250,sortable:!0,formatter:Soho.Formatters.Ellipsis}),columns.push({id:"author",name:"Author",field:"authorDisplayName",width:150,sortable:!0,formatter:Soho.Formatters.Ellipsis}),columns.push({id:"date",name:"Created",field:"creationDate",width:150,sortable:!0,formatter:Soho.Formatters.Date}),columns.push({id:"Description",name:"Description",field:"description",width:250,sortable:!1,formatter:custom_formatters_1.CustomFormatters.Multi(custom_formatters_1.CustomFormatters.DataSourceDescription(),Soho.Formatters.Ellipsis)}),columns.push({id:"suite",name:"Type",field:"suite",width:100,sortable:!0,formatter:custom_formatters_1.CustomFormatters.DatasourceSuiteFormatter()}),columns.push({id:"action",name:"Action",field:"",width:210,sortable:!0,align:"center",formatter:Soho.Formatters.Button,click:function(_,rowsSelected){var item=rowsSelected[0].item;_this.repositoryService.getDatasources().then((function(datasources){return _this.openTestDataserviceDialog(item)})).catch((function(error){return _this.dialogService.showError("Could not test data service",error.message)}))},text:"Test Data Service"}),this.datagridOptions={columns:columns,dataset:[],selectable:sohoxi_constant_1.SelectableEnum.Multiple,paging:!0,pagesize:25,toolbar:{title:"Global Data Services",results:!0,dateFilter:!1,keywordFilter:!0,advancedFilter:!0,actions:!0,views:!0,rowHeight:!0},enableTooltips:!0},this.loadDatasources()},DatasourceTabCtrl.prototype.openTestDataserviceDialog=function(dataserviceToTest){var options={title:"Test Data Service",template:__webpack_require__(327),parameter:{dataservice:dataserviceToTest,type:test_dataservice_dialog_1.TestDataserviceDialogType.UNFORMATTED}};return this.dialogService.show(options)},DatasourceTabCtrl.prototype.loadDatasources=function(){var _this=this,cachedDataset=this.getFromCache(this.CACHE_KEY);helper_1.Helper.isUndefinedOrNull(cachedDataset)?(this.loading=!0,this.repositoryService.getDatasources().then((function(datasources){_this.Dataset=_this.datagridOptions.dataset=datasources})).catch((function(errorResponse){_this.datagridOptions.dataset=[],_this.dialogService.showError("Load Data Services",errorResponse.message)})).finally((function(){_this.loading=!1}))):(this.datagridOptions.dataset=cachedDataset,this.clearSelected())},DatasourceTabCtrl.prototype.exportDatasource=function(){var ids=this.selectedDataItems.map((function(datasource){return datasource.id}));this.repositoryService.exportDatasources(ids)},DatasourceTabCtrl.prototype.import=function(){var _this=this,options={title:this.importActionTitle,template:__webpack_require__(436)};this.dialogService.show(options).then((function(result){result.button===dialog_service_1.DialogButtonType.Ok&&(_this.loading=!0,_this.repositoryService.readJsonFile(result.value[0]).then((function(datasourcesToImport){_this.importDatasources(datasourcesToImport)})).catch((function(errorResponse){console.warn("[DatasourceRepositoryTabCtrl] Could not read file"),_this.dialogService.showError(_this.importActionTitle,"Unable to read file due to: <br >"+errorResponse.message)})).finally((function(){_this.loading=!1})))}))},DatasourceTabCtrl.prototype.importDatasources=function(datasourcesToImport){var _this=this;this.conflictResolutionService.resolve(datasourcesToImport,this.datagridOptions.dataset,"displayName","datasource",common_constant_1.Config.MAX_DATASOURCES).then((function(conflictResolutionObject){var datasourcesToAdd=conflictResolutionObject.toAdd,idsToDelete=conflictResolutionObject.toRemove.map((function(datasourceToDelete){return datasourceToDelete.id}));idsToDelete.length>0?_this.deleteDatasources(idsToDelete).then((function(){return _this.addImportedDatasources(datasourcesToAdd)})).catch((function(errorResponse){console.warn("[DatasourceRepositoryTabCtrl] Could not replace, unable to remove old data services"),_this.loading=!1,_this.dialogService.showError(_this.importActionTitle,"Unable to replace old data services: <br >"+errorResponse.message)})):_this.addImportedDatasources(datasourcesToAdd)})).catch((function(){console.warn("[DatasourceRepositoryTabCtrl] Cancelled"),_this.loading=!1}))},DatasourceTabCtrl.prototype.addImportedDatasources=function(datasources){var _this=this;this.repositoryService.addDatasources(datasources).then((function(addedDatasources){_this.conflictResolutionService.checkIfInvalidImportedItems("data service(s)",addedDatasources).catch((function(errorDialogOptions){_this.dialogService.showMessage(errorDialogOptions)}));for(var _i=0,addedDatasources_1=addedDatasources;_i<addedDatasources_1.length;_i++){var datasource=addedDatasources_1[_i];datasource&&_this.datagridOptions.dataset.push(datasource)}_this.Dataset=_this.datagridOptions.dataset})).catch((function(errorResponse){_this.dialogService.showError(_this.importActionTitle,"Unable to import data services due to: \n"+errorResponse.message)})).finally((function(){_this.loading=!1}))},DatasourceTabCtrl.prototype.delete=function(){var _this=this,displayNames=[],idsToDelete=this.selectedDataItems.map((function(datasource){return displayNames.push(datasource.displayName),datasource.id})),options={title:"Delete Data Services",message:"Are you sure you want to delete these "+displayNames.length+" Data services?<br > "+displayNames.join(", "),standardButtons:dialog_service_1.StandardDialogButtons.YesNo};this.dialogService.showMessage(options).then((function(result){result.button===dialog_service_1.DialogButtonType.Yes&&(_this.loading=!0,_this.deleteDatasources(idsToDelete).catch((function(errorResponse){_this.dialogService.showError("Delete Data Services","Unable to delete due to:<br >"+errorResponse.message)})).finally((function(){_this.loading=!1})))}))},DatasourceTabCtrl.prototype.deleteDatasources=function(ids){var _this=this;return this.repositoryService.deleteDatasources(ids).then((function(){_this.Dataset=_this.datagridOptions.dataset=_this.datagridOptions.dataset.filter((function(datasource){return!ids.some((function(deletedId){return deletedId===datasource.id}))})),_this.clearSelected()}))},DatasourceTabCtrl.prototype.editDatasource=function(){var promise,_this=this,selectedDatasource=this.selectedDataItems[0],isCorrectVersion=2===selectedDatasource.version,typedef=selectedDatasource.typedef;if(!isCorrectVersion||typedef!==datasource_type_enum_1.DatasourceTypeEnum.generic&&typedef!==datasource_type_enum_1.DatasourceTypeEnum.IDO&&typedef!==datasource_type_enum_1.DatasourceTypeEnum.MONGOOSE&&typedef!==datasource_type_enum_1.DatasourceTypeEnum.INLINE_LIST){var options={title:"Edit Data Service",template:__webpack_require__(545),parameter:{datasource:angular_1.default.copy(selectedDatasource),datasources:this.datagridOptions.dataset,isEdit:!0},cssClass:"edit-modal"};promise=this.dialogService.show(options)}else promise=this.openDataserviceWizard(selectedDatasource);promise.then((function(result){if(result&&result.button===dialog_service_1.DialogButtonType.Ok){var datasource=result.value;_this.repositoryService.updateDatasource(datasource).then((function(response){_this.updateDatasource(response)})).catch((function(errorResponse){var options={title:"Edit Data Service",message:errorResponse.message,standardButtons:dialog_service_1.StandardDialogButtons.Ok,isError:!0};_this.dialogService.showMessage(options)}))}}))},DatasourceTabCtrl.prototype.openDataserviceWizard=function(datasource){var _this=this,title=(datasource?"Edit":"Create")+" Data Service",template="<eir-wizard ng-controller='eirDatasourceWizardCtrl as wizardCtrl'></eir-wizard>";if(datasource)switch(datasource.typedef){case datasource_type_enum_1.DatasourceTypeEnum.IDO:template="<eir-wizard ng-controller='eirLocalIdoDataserviceWizardCtrl as wizardCtrl'></eir-wizard>";break;case datasource_type_enum_1.DatasourceTypeEnum.INLINE_LIST:template="<eir-wizard ng-controller='eirInlineListDataserviceWizardCtrl as wizardCtrl'></eir-wizard>"}var options={title:title,parameter:{datasource:angular_1.default.copy(datasource)},template:template,cssClass:"wizard-dialog large",id:"datasource-wizard"};return this.dialogService.show(options).then((function(result){return result.button===dialog_service_1.DialogButtonType.Ok&&(datasource?_this.updateDatasource(result.value):_this.addDatasource(result.value)),result}))},DatasourceTabCtrl.prototype.updateDatasource=function(datasource){for(var cachedDatasources=this.repositoryService.cacheDatasources,i=0;i<cachedDatasources.length;i++)if(cachedDatasources[i].id===datasource.id){cachedDatasources[i]=datasource;break}this.datagridOptions.dataset.some((function(datasourceFind,index,array){return datasourceFind.id===datasource.id&&(array[index]=datasource,!0)})),this.clearSelected()},DatasourceTabCtrl.prototype.create=function(isSearch){var _this=this;if(helper_1.Helper.exceedAllowed(common_constant_1.Config.MAX_DATASOURCES,this.datagridOptions.dataset))this.dialogService.showError(this.dialogTitle+" Data Service",common_constant_1.ProjectLimit.DATASOURCE_ERROR_MESSAGE);else if(isSearch){var options={title:"Create from Wizard",template:__webpack_require__(546),cssClass:"select-source-modal"};this.dialogService.show(options).then((function(result){result.button===dialog_service_1.DialogButtonType.Ok&&result.value&&_this.addDatasource(result.value)}))}else{options={title:this.dialogTitle+" Data Service",template:__webpack_require__(545),parameter:{datasource:null,datasources:this.datagridOptions.dataset,isEdit:!1},cssClass:"create-modal"};this.dialogService.show(options).then((function(result){result.button===dialog_service_1.DialogButtonType.Ok&&result.value&&_this.addDatasource(result.value)})),this.dialogTitle="Create"}},DatasourceTabCtrl.prototype.addDatasource=function(datasource){var _this=this;this.repositoryService.addDatasources([datasource]).then((function(newDatasource){_this.Dataset=_this.datagridOptions.dataset=newDatasource.concat(_this.datagridOptions.dataset),_this.clearSelected()})).catch((function(errorResponse){var options={title:"Create Data Service",message:errorResponse.message,standardButtons:dialog_service_1.StandardDialogButtons.Ok,isError:!0};_this.dialogService.showMessage(options)}))},DatasourceTabCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,angular_constants_1.AngularConstants.ELEMENT,angular_constants_1.AngularConstants.CACHE_FACTORY,common_constant_1.InjectNames.REPOSITORY_SERVICE,common_constant_1.InjectNames.DIALOG_SERVICE,common_constant_1.InjectNames.CONFLICT_RESOLUTION_SERVICE],DatasourceTabCtrl}(__webpack_require__(435).RepositoryTab);exports.DatasourceTabCtrl=DatasourceTabCtrl;var DatasourceTabComponent=function(){function DatasourceTabComponent(){this.controller=DatasourceTabCtrl,this.controllerAs="eirDatasourceTabCtrl",this.template=__webpack_require__(962)}return DatasourceTabComponent.add=function(m){m.component("eirDatasourceTab",new DatasourceTabComponent)},DatasourceTabComponent}();exports.DatasourceTabComponent=DatasourceTabComponent},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.RepositoryTab=void 0,__webpack_require__(40),__webpack_require__(77);var cacheable_ctrl_1=__webpack_require__(961),datagrid_directive_1=__webpack_require__(282);__webpack_require__(93),__webpack_require__(210);var RepositoryTab=function(_super){function RepositoryTab($scope,$element,$cacheFactory,repositoryService){var _this=_super.call(this,$cacheFactory)||this;return _this.$scope=$scope,_this.$element=$element,_this.repositoryService=repositoryService,_this.loading=!1,_this}return __extends(RepositoryTab,_super),RepositoryTab.prototype.$onInit=function(){var _this=this;this.initDatagridOptions(),this.datagridOptions.id=this.datagridId,this.$element.on(datagrid_directive_1.DATAGRID_RENDERED,(function(event,result){result.id===_this.datagridId&&(_this.datagridApi=result.api,_this.initDatagridEvents())}))},RepositoryTab.prototype.clearSelected=function(){this.anySelectedDataItem=!1,this.selectedDataItems=[],this.datagridOptions.updateDatagrid=!0,this.datagridApi&&this.datagridApi.updated(this.datagridOptions)},RepositoryTab.prototype.initDatagridEvents=function(){var _a,_this=this;null===(_a=this.datagridApi)||void 0===_a||_a.element.on("selected",(function(){var selectedRows=_this.datagridApi.selectedRows();_this.$scope.$evalAsync((function(){selectedRows.length>0?(_this.anySelectedDataItem=!0,_this.selectedDataItems=selectedRows.map((function(rowObject){return rowObject.data}))):(_this.selectedDataItems=[],_this.anySelectedDataItem=!1)}))}))},RepositoryTab}(cacheable_ctrl_1.CacheableCtrl);exports.RepositoryTab=RepositoryTab},function(module,exports){module.exports='<div ng-controller="eirImportProjectCtrl as ctrl"> <div class=field> <label class=fileupload> <input xi-fileupload=ctrl.chosenFile type=file name=file-input /> </label> </div> <div class=modal-buttonset> <button type=button class=btn-modal ng-click=ctrl.close()>Cancel</button> <button type=button class="btn-modal btn-modal-primary" ng-disabled=!ctrl.chosenFile ng-click=ctrl.import()>Import</button> </div> </div>'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SelectSourceCtrl=exports.SourceEnum=void 0;var common_constant_1=__webpack_require__(3);__webpack_require__(41);var angular_constants_1=__webpack_require__(7);__webpack_require__(16);var SourceEnum,dialog_service_1=__webpack_require__(13);!function(SourceEnum){SourceEnum.ION_API="ION API",SourceEnum.LOCAL_IDO="Local IDO",SourceEnum.INLINE_LIST="Static List"}(SourceEnum=exports.SourceEnum||(exports.SourceEnum={}));var SelectSourceCtrl=function(){function SelectSourceCtrl($scope,$element,dialogService){this.$element=$element,this.dialogService=dialogService,this.sourceList=[SourceEnum.ION_API,SourceEnum.LOCAL_IDO,SourceEnum.INLINE_LIST],this.SELECT_SOURCE_ELEMENT_ID="select-source",this.dialog=$scope.eirDialog,this.initDialogEvents(),this.selectedSource=SourceEnum.ION_API}return SelectSourceCtrl.prototype.next=function(){switch(this.selectedSource){case SourceEnum.ION_API:this.openIonApiSearch();break;case SourceEnum.INLINE_LIST:this.openCreateInlineList();break;case SourceEnum.LOCAL_IDO:default:this.openCreateLocalIdo()}},SelectSourceCtrl.prototype.close=function(){this.dialog.close()},SelectSourceCtrl.prototype.openCreateLocalIdo=function(){var options={title:"Create Data Service - Find IDO",template:__webpack_require__(963),cssClass:"create-modal",id:"dataservice-search-wizard"};this.openDialog(options)},SelectSourceCtrl.prototype.openCreateInlineList=function(){var options={title:"Create Data Service - Static List",template:'<eir-wizard ng-controller="eirInlineListDataserviceWizardCtrl as wizardCtrl"></eir-wizard>',cssClass:"wizard-dialog large",id:"datasource-wizard"};this.openDialog(options)},SelectSourceCtrl.prototype.openIonApiSearch=function(){var options={title:"Create Data Service - Find API",template:__webpack_require__(964),cssClass:"create-modal",id:"dataservice-search-wizard"};this.openDialog(options)},SelectSourceCtrl.prototype.openDialog=function(options){var _this=this;this.dialogService.show(options).then((function(result){result.button===dialog_service_1.DialogButtonType.Ok?result.value&&_this.dialog.close(result):result.button===dialog_service_1.DialogButtonType.Back?_this.dialog.show():_this.dialog.close()})),this.dialog.hide()},SelectSourceCtrl.prototype.initDialogEvents=function(){var _this=this;this.$element.find("#"+this.SELECT_SOURCE_ELEMENT_ID).on("selected",(function(event){var selectOption=event.currentTarget;_this.selectedSource=selectOption.value}))},SelectSourceCtrl.add=function(module){module.controller("eirSelectSourceCtrl",SelectSourceCtrl)},SelectSourceCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,angular_constants_1.AngularConstants.ELEMENT,common_constant_1.InjectNames.DIALOG_SERVICE],SelectSourceCtrl}();exports.SelectSourceCtrl=SelectSourceCtrl},function(module,exports){module.exports="<div class=step-three> <div class=field> <eir-input-field-component label-name=Name field-value=wizardCtrl.datasource.displayName validation=\"{\r\n\t\t\t\tvalidators: [\r\n\t\t\t\t\t{type: 'max-length', value: 128},\r\n\t\t\t\t\t{type: 'not-empty'},\r\n\t\t\t\t],\r\n\t\t\t\terrorList: wizardCtrl.ErrorList\r\n\t\t\t}\"/> </div> <div class=field> <label for=datasource-description>Description</label> <textarea id=datasource-description ng-model=wizardCtrl.datasource.description></textarea> </div> </div>"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LocalIdoOperationDetails=void 0;var angular_constants_1=__webpack_require__(7);__webpack_require__(41),__webpack_require__(77),__webpack_require__(167),__webpack_require__(16);var custom_formatters_1=__webpack_require__(133),repository_helper_1=__webpack_require__(328),LocalIdoOperationDetails=function(){function LocalIdoOperationDetails($scope){this.$scope=$scope,this.initParameterDatagrid(),this.parameterDatagridOptions.dataset=this.properties.map((function(property){return property.dataType=repository_helper_1.RepositoryHelper.getAppbuilderDataType(property.dataType),property}))}return Object.defineProperty(LocalIdoOperationDetails.prototype,"operation",{get:function(){return this.$scope.eirDialog.parameter.operation},enumerable:!1,configurable:!0}),Object.defineProperty(LocalIdoOperationDetails.prototype,"properties",{get:function(){return this.$scope.eirDialog.parameter.properties},enumerable:!1,configurable:!0}),LocalIdoOperationDetails.prototype.initParameterDatagrid=function(){var columns=[{id:"propertyName",name:"Property Name",field:"propertyName",sortable:!0,width:"17%",formatter:Soho.Formatters.Ellipsis},{id:"dataType",name:"Data Type",field:"dataType",width:"17%",sortable:!1},{id:"dataLength",name:"Length",field:"dataLength",sortable:!1,width:"17%"},{id:"isReadOnly",name:"Read Only",field:"isReadOnly",sortable:!1,width:"17%",formatter:custom_formatters_1.CustomFormatters.RequiredFormatter("isReadOnly")},{id:"isRequired",name:"Required",field:"isRequired",sortable:!1,width:"17%",formatter:custom_formatters_1.CustomFormatters.RequiredFormatter("isRequired")},{id:"keySequence",name:"Primary Key",field:"keySequence",sortable:!1,width:"17%",formatter:custom_formatters_1.CustomFormatters.RequiredFormatter("keySequence",!0)}];this.parameterDatagridOptions={columns:columns,dataset:[],selectable:!1,isList:!0,saveColumns:!1,enableTooltips:!0}},LocalIdoOperationDetails.add=function(module){module.controller("eirLocalIdoOperationDetails",LocalIdoOperationDetails)},LocalIdoOperationDetails.$inject=[angular_constants_1.AngularConstants.SCOPE],LocalIdoOperationDetails}();exports.LocalIdoOperationDetails=LocalIdoOperationDetails},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ChartSettingsCtrl=exports.ChartDialogActionEnum=void 0,__webpack_require__(319);var chart_1=__webpack_require__(318);__webpack_require__(65);var component_settings_1=__webpack_require__(117),chart_content_settings_1=__webpack_require__(1030),chart_style_settings_1=__webpack_require__(1047);!function(ChartDialogActionEnum){ChartDialogActionEnum[ChartDialogActionEnum.ADD="Add Data Set"]="ADD",ChartDialogActionEnum[ChartDialogActionEnum.EDIT="Edit Data Set"]="EDIT"}(exports.ChartDialogActionEnum||(exports.ChartDialogActionEnum={}));var ChartSettingsCtrl=function(){function ChartSettingsCtrl(){if(this.contentSettingsDirective=new chart_content_settings_1.ChartContentSettingsDirective,this.styleSettingsDirective=new chart_style_settings_1.ChartStyleSettingsDirective,ChartSettingsCtrl.instance)throw new Error("Error: Instantiation failed: Use ChartSettingsCtrl.getInstance() instead of new.")}return ChartSettingsCtrl.getInstance=function(){return ChartSettingsCtrl.instance},ChartSettingsCtrl.prototype.create=function(id){return component_settings_1.ComponentSettingsCtrl.create(id,chart_1.Chart)},ChartSettingsCtrl.instance=new ChartSettingsCtrl,ChartSettingsCtrl}();exports.ChartSettingsCtrl=ChartSettingsCtrl},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.EditorChartCtrl=void 0;var common_constant_1=__webpack_require__(3),chart_1=__webpack_require__(318),EditorChartCtrl=function(_super){function EditorChartCtrl(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(EditorChartCtrl,_super),EditorChartCtrl.add=function(m){m.controller(common_constant_1.ComponentClassNames.EDITOR_COMPONENT_PREFIX+chart_1.Chart.name,EditorChartCtrl)},EditorChartCtrl.prototype.getLocalContextMetaData=function(){var _this=this;return this.component.datasource?this.component.datasource.getMetaData().then((function(metadata){var availableSourceField=[],listResult=_this.component.getContext().ListResult,listRow=void 0;return listResult.length>0&&(listRow=listResult[0]),metadata.outputFields.map((function(outputField){var previewText=listRow?"("+listRow[outputField.FLNM]+")":"";availableSourceField.push({visibleName:outputField.FLDS.trim()+previewText,sourceKey:outputField.FLNM,sourceKeyShort:outputField.FLNM})})),availableSourceField})):_super.prototype.getLocalContextMetaData.call(this)},EditorChartCtrl.prototype.setDatasource=function(newDatasource){var _this=this;return _super.prototype.setDatasource.call(this,newDatasource).then((function(){_this.component.datasourceChanged(newDatasource)}))},EditorChartCtrl}(__webpack_require__(58).EditorComponentCtrl);exports.EditorChartCtrl=EditorChartCtrl},function(module,exports){module.exports='<div ng-controller="eirExpressionDialogCtrl as ctrl" class=expression-dialog> <div class=expression-dialog> <div class=toolbar role=toolbar> <div class=buttonset> <label class=audible for=searchfield-expressions>Keyword Search</label> <input id=searchfield-expressions name=searchfield-expressions class=searchfield /> <button class=btn-tertiary type=button xi-tooltip="\'Add Condition\'" ng-click=ctrl.addExpression() ng-if="ctrl.expressionType !== \'all\'"> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-add></use> </svg> <span>Add</span> </button> <button class=btn-tertiary type=button xi-tooltip="\'Edit Condition\'" ng-disabled=!ctrl.itemSelected ng-click=ctrl.editExpression()> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-edit></use> </svg> <span>Edit</span> </button> <button class=btn-tertiary type=button xi-tooltip="\'Delete Condition\'" ng-disabled=!ctrl.itemSelected ng-click=ctrl.deleteExpression()> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-delete></use> </svg> <span>Delete</span> </button> </div> </div> <div id=datagrid-expressions xi-datagrid=ctrl.datagridOptions></div> </div> <div class=modal-buttonset> <button type=button class=btn-modal ng-click=ctrl.close()>Close</button> </div> </div>'},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.EditorApplicationParent=void 0;var defines_1=__webpack_require__(78),EditorApplicationParent=function(_super){function EditorApplicationParent(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(EditorApplicationParent,_super),EditorApplicationParent.prototype.getScope=function(){return this.scope},EditorApplicationParent.prototype.getFieldSettings=function(){return defines_1.Defines.allComponents[this.getTypedef()].class.SETTING_FIELDS},EditorApplicationParent.prototype.getSourceTriggers=function(){return defines_1.Defines.allComponents[this.getTypedef()].class.SOURCE_TRIGGERS},EditorApplicationParent.prototype.getTargetActions=function(){return defines_1.Defines.allComponents[this.getTypedef()].class.TARGET_ACTIONS},EditorApplicationParent.prototype.getDefaultAction=function(){return defines_1.Defines.allComponents[this.getTypedef()].class.DEFAULT_ACTION},EditorApplicationParent.prototype.getDefaultTrigger=function(){return defines_1.Defines.allComponents[this.getTypedef()].class.DEFAULT_TRIGGER},EditorApplicationParent.prototype.getParameterMetadata=function(action){var deferred=this.frameworkService.getNewDeferred();return deferred.reject("No parameter metadata on app parent"),deferred.promise},EditorApplicationParent.prototype.getContextMetaData=function(){var deferred=this.frameworkService.getNewDeferred();return deferred.resolve([]),deferred.promise},EditorApplicationParent.prototype.getBindingMetaData=function(){var _this=this,deferred=this.frameworkService.getNewDeferred(),availableBindings=[];return this.forEachBindable((function(bindableFieldDefinition,currentValueSource){bindableFieldDefinition.read&&availableBindings.push({visibleName:bindableFieldDefinition.name,sourceKey:bindableFieldDefinition.ref,sourceKeyShort:bindableFieldDefinition.ref,currentValue:_this[bindableFieldDefinition.ref]})})),deferred.resolve(availableBindings),deferred.promise},EditorApplicationParent.prototype.getLocalContextMetaData=function(){var deferred=this.frameworkService.getNewDeferred();return deferred.resolve([]),deferred.promise},EditorApplicationParent.prototype.detach=function(){throw new Error("[EditorApplicationParent] method not implemented")},EditorApplicationParent.prototype.exposesReadableBindables=function(){throw new Error("[EditorApplicationParent] method not implemented")},EditorApplicationParent.prototype.exposesLocalizedBindables=function(){throw new Error("[EditorApplicationParent] method not implemented")},EditorApplicationParent.prototype.onClick=function(event){throw new Error("[EditorApplicationParent] method not implemented")},EditorApplicationParent.prototype.onDragenter=function(event){throw new Error("[EditorApplicationParent] method not implemented")},EditorApplicationParent.prototype.onDragleave=function(event){throw new Error("[EditorApplicationParent] method not implemented")},EditorApplicationParent.prototype.onDragover=function(event){throw new Error("[EditorApplicationParent] method not implemented")},EditorApplicationParent.prototype.onDragstart=function(event){throw new Error("[EditorApplicationParent] method not implemented")},EditorApplicationParent.prototype.onDrop=function(event){throw new Error("[EditorApplicationParent] method not implemented")},EditorApplicationParent.prototype.onMouseLeave=function(event){throw new Error("[EditorApplicationParent] method not implemented")},EditorApplicationParent.prototype.onMouseMove=function(event){throw new Error("[EditorApplicationParent] method not implemented")},EditorApplicationParent.prototype.onMouseOver=function(event){throw new Error("[EditorApplicationParent] method not implemented")},EditorApplicationParent.prototype.resizableHeight=function(){throw new Error("[EditorApplicationParent] method not implemented")},EditorApplicationParent.prototype.resizableWidth=function(){throw new Error("[EditorApplicationParent] method not implemented")},EditorApplicationParent.prototype.setIsFinder=function(isFinder){throw new Error("[EditorApplicationParent] method not implemented")},EditorApplicationParent.prototype.setIsHovered=function(isHovered){throw new Error("[EditorApplicationParent] method not implemented")},EditorApplicationParent.prototype.setIsInsertChild=function(isInsertChild){throw new Error("[EditorApplicationParent] method not implemented")},EditorApplicationParent.prototype.setIsInsertParent=function(isInsertParent){throw new Error("[EditorApplicationParent] method not implemented")},EditorApplicationParent.prototype.setIsSelected=function(isHovered){throw new Error("[EditorApplicationParent] method not implemented")},EditorApplicationParent.prototype.setIsWizardFocus=function(isWizardFocusEnum){throw new Error("[EditorApplicationParent] method not implemented")},EditorApplicationParent.prototype.setProperty=function(propertyName,newValue){throw new Error("[EditorApplicationParent] method not implemented")},EditorApplicationParent.prototype.setDatasource=function(datasource){throw new Error("[EditorApplicationParent] method not implemented")},EditorApplicationParent.prototype.removeDatasource=function(){throw new Error("[EditorApplicationParent] method not implemented")},EditorApplicationParent.prototype.getBindableField=function(bindableReference){throw new Error("[EditorApplicationParent] method not implemented")},EditorApplicationParent.prototype.getSettingCategories=function(){throw new Error("[EditorApplicationParent] method not implemented")},EditorApplicationParent.prototype.setSetting=function(settingMeta,newSettingValue){throw new Error("[EditorApplicationParent] method not implemented")},EditorApplicationParent.prototype.setBoundarySetting=function(settingId,settingValue,boundaryId){throw new Error("[EditorApplicationParent] method not implemented")},EditorApplicationParent.prototype.openDialog=function(){throw new Error("[EditorApplicationParent] method not implemented")},EditorApplicationParent.prototype.insert=function(component,index){throw new Error("[EditorApplicationParent] method not implemented")},EditorApplicationParent.prototype.getInsertPoints=function(){throw new Error("[EditorApplicationParent] method not implemented")},EditorApplicationParent.prototype.removeChild=function(childId){throw new Error("[EditorApplicationParent] method not implemented")},EditorApplicationParent.prototype.detachChild=function(childId){throw new Error("[EditorApplicationParent] method not implemented")},EditorApplicationParent.prototype.getChildIndex=function(childId){throw new Error("[EditorApplicationParent] method not implemented")},EditorApplicationParent.prototype.refreshMetaSettings=function(){throw new Error("[EditorApplicationParent] method not implemented")},EditorApplicationParent.prototype.onComponentInserted=function(childInstance,index){throw new Error("[EditorApplicationParent] method not implemented")},EditorApplicationParent.prototype.onComponentDeleted=function(componentInstance){throw new Error("[EditorApplicationParent] method not implemented")},EditorApplicationParent}(__webpack_require__(207).ApplicationParent);exports.EditorApplicationParent=EditorApplicationParent},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.EditorRadioButtonCtrl=void 0;var common_constant_1=__webpack_require__(3),radiobutton_1=__webpack_require__(320),EditorRadioButtonCtrl=function(_super){function EditorRadioButtonCtrl(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(EditorRadioButtonCtrl,_super),EditorRadioButtonCtrl.add=function(m){m.controller(common_constant_1.ComponentClassNames.EDITOR_COMPONENT_PREFIX+radiobutton_1.RadioButton.name,EditorRadioButtonCtrl)},EditorRadioButtonCtrl}(__webpack_require__(58).EditorComponentCtrl);exports.EditorRadioButtonCtrl=EditorRadioButtonCtrl},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TabPanelSettings=void 0;var common_constant_1=__webpack_require__(3);__webpack_require__(322);var tab_panel_1=__webpack_require__(235);__webpack_require__(286);var component_settings_1=__webpack_require__(117),flexbox_content_settings_1=__webpack_require__(557),TabPanelSettings=function(){function TabPanelSettings(){if(this.contentSettingsDirective=new flexbox_content_settings_1.FlexboxContentSettingsDirective,TabPanelSettings.instance)throw new Error("Error: Instantiation failed: Use FlexboxSettings.getInstance() instead of new.")}return TabPanelSettings.getInstance=function(){return TabPanelSettings.instance},TabPanelSettings.prototype.create=function(id,panelIndex){var newPanel=component_settings_1.ComponentSettingsCtrl.create(id,tab_panel_1.TabPanel);newPanel.children=[];var boundaryId=common_constant_1.DEFAULT_BOUNDARY.id;return newPanel.boundarySettings[boundaryId].visibility=1===panelIndex,newPanel},TabPanelSettings.instance=new TabPanelSettings,TabPanelSettings}();exports.TabPanelSettings=TabPanelSettings},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.EditorLayoutComponentCtrl=void 0;var binding_type_enum_1=__webpack_require__(30);__webpack_require__(44);var application_parent_1=__webpack_require__(207),children_directive_1=__webpack_require__(543),EditorLayoutComponentCtrl=function(_super){function EditorLayoutComponentCtrl(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(EditorLayoutComponentCtrl,_super),EditorLayoutComponentCtrl.prototype.init=function(component){_super.prototype.init.call(this,component),component.onComponentInserted=this.onComponentInserted.bind(this),component.onComponentDeleted=this.onComponentDeleted.bind(this)},EditorLayoutComponentCtrl.prototype.onComponentInserted=function(childInstance,index){var _this=this,allComponents=this.editorService.getAllBindableComponents();this.component.children.splice(index,0,childInstance),childInstance.newBoundaryEntered(this.editorService.getCurrentBoundary().id),childInstance.forEachChild((function(subChild){_this.isFinalInsert&&(subChild.getDatasource()&&_this.interactionManagementService.runStartupOnComponent(subChild.getDatabearer()),_this.initializeSourceBindings(childInstance,allComponents)),subChild.initializeBindings()}),!0)},EditorLayoutComponentCtrl.prototype.onComponentDeleted=function(componentInstance){},EditorLayoutComponentCtrl.createTemplate=function(typedef){var componentTemplate=children_directive_1.ChildrenDirective.createTemplate(typedef);return componentTemplate.attr("component-ready","parent.onComponentInserted(componentInstance, index);"),componentTemplate.attr("component-destroyed","parent.onComponentDeleted(componentInstance)"),componentTemplate},EditorLayoutComponentCtrl.prototype.initializeSourceBindings=function(childInstance,allComponents){allComponents.forEach((function(component){component.getTypedef()!==application_parent_1.ApplicationParent.name&&component.forEachBindable((function(bindable){var field=component.getBindableField(bindable.ref);field&&field.sourceName===childInstance.getId()&&field.Type!==binding_type_enum_1.BindingTypeEnum.STATIC_VALUE&&component.initializeBindings()}))}))},EditorLayoutComponentCtrl}(__webpack_require__(58).EditorComponentCtrl);exports.EditorLayoutComponentCtrl=EditorLayoutComponentCtrl},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.EditorTabsCtrl=void 0;var angular_1=__importDefault(__webpack_require__(12)),common_constant_1=__webpack_require__(3),tab_panel_1=__webpack_require__(235),tabs_1=__webpack_require__(277),tab_panel_settings_1=__webpack_require__(445),editor_layout_component_1=__webpack_require__(446),helper_1=__webpack_require__(15),helper_2=__webpack_require__(69),helper_3=__webpack_require__(153),EditorTabsCtrl=function(_super){function EditorTabsCtrl(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(EditorTabsCtrl,_super),EditorTabsCtrl.add=function(m){m.controller(common_constant_1.ComponentClassNames.EDITOR_COMPONENT_PREFIX+tabs_1.Tabs.name,EditorTabsCtrl)},EditorTabsCtrl.prototype.exposesLocalizedBindables=function(){return!0},EditorTabsCtrl.prototype.init=function(component){_super.prototype.init.call(this,component),component.addTab=this.addTab.bind(this),component.deleteTab=this.deleteTab.bind(this),component.updateTab=this.updateTab.bind(this),component.switchFocusTab=this.switchFocusTab.bind(this),component.updateTabPosition=this.updateTabPosition.bind(this)},EditorTabsCtrl.prototype.onComponentInserted=function(childInstance,index){_super.prototype.onComponentInserted.call(this,childInstance,index)},EditorTabsCtrl.prototype.getTabApi=function(){return this.component.element.find(".tab-container").data("tabs")},EditorTabsCtrl.prototype.addTab=function(){var databearer=this.component.getDatabearer(),newTabComponent=this.createTabComponent();databearer.componentTabs.push(newTabComponent);var newTabPanel=tab_panel_settings_1.TabPanelSettings.getInstance().create(newTabComponent.id);return databearer.children.push(newTabPanel),this.appendTabComponentToTemplate(newTabComponent,newTabPanel),newTabComponent},EditorTabsCtrl.prototype.deleteTab=function(tab){var databearer=this.component.getDatabearer(),listOfTabs=databearer.componentTabs,index=listOfTabs.indexOf(tab);helper_1.Helper.removeItemFromListByIndex(listOfTabs,index),helper_1.Helper.removeItemFromListByIndex(databearer.children,index),this.translationManagementService.removeTranslation(databearer.id,tab.id),this.getTabApi().remove(tab.id);var adjencentTabIndex=index-1>0?index-1:0;this.switchFocusTab(listOfTabs[adjencentTabIndex])},EditorTabsCtrl.prototype.updateTab=function(tab,updatedTab){if(-1!==this.component.componentTabs.indexOf(tab)){var tabElement=angular_1.default.element("a[href$='"+tab.id+"']"),value=updatedTab.value?updatedTab.value:updatedTab.name;tabElement.text(value),this.switchFocusTab(this.component.currentTab)}},EditorTabsCtrl.prototype.switchFocusTab=function(tab){this.getTabApi().select("#"+tab.id,!1),this.component.currentTab=tab,this.component.updatePanels()},EditorTabsCtrl.prototype.updateTabPosition=function(event){var databearer=this.component.getDatabearer(),componentTabs=databearer.componentTabs,children=databearer.children;event.startIndex>event.endIndex?this.getTabElement(event.endIndex).before(this.getTabElement(event.startIndex)):event.endIndex>event.startIndex&&this.getTabElement(event.endIndex).after(this.getTabElement(event.startIndex)),helper_3.EditorHelper.moveByIndex(componentTabs,event.startIndex,event.endIndex),helper_3.EditorHelper.moveByIndex(children,event.startIndex,event.endIndex),this.switchFocusTab(componentTabs[event.endIndex])},EditorTabsCtrl.prototype.setSetting=function(settingMeta,newSettingValue){_super.prototype.setSetting.call(this,settingMeta,newSettingValue),settingMeta.ref===common_constant_1.SettingKeys.ORIENTATION&&this.component.onOrientationChanged()},EditorTabsCtrl.prototype.getTabElement=function(index){var elementSelector="a[href$='"+this.component.getDatabearer().componentTabs[index].id+"']";return angular_1.default.element(elementSelector).parent()},EditorTabsCtrl.prototype.createTabComponent=function(){var databearer=this.component.getDatabearer(),newTabId=helper_2.ComponentsHelper.nextNumber(databearer.componentTabs.map((function(tab){return tab.id})));return{id:this.component.getId()+"Panel"+newTabId,name:"Tab "+newTabId}},EditorTabsCtrl.prototype.appendTabComponentToTemplate=function(tabComponent,tabPanel){var _this=this,elementName=tab_panel_1.TabPanel.name,tabPanelTemplate=editor_layout_component_1.EditorLayoutComponentCtrl.createTemplate(elementName),templateLinkingFunction=this.$compile(tabPanelTemplate),childScope=this.$scope.$new(!0);childScope.component=tabPanel,childScope.parent=this.component,childScope.context=this.$scope.context,templateLinkingFunction(childScope,(function(clone){var tabElement=_this.component.element,tabOption={name:tabComponent.name};_this.getTabApi().add(tabComponent.id,tabOption);var newTabPanel=tabElement.find("#"+tabComponent.id);newTabPanel.length?(newTabPanel.append(clone),_this.switchFocusTab(tabComponent)):console.error("Invalid tab component id")}))},EditorTabsCtrl}(editor_layout_component_1.EditorLayoutComponentCtrl);exports.EditorTabsCtrl=EditorTabsCtrl},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.CompositeComponentManagementService=void 0;var angular_1=__importDefault(__webpack_require__(12)),common_constant_1=__webpack_require__(3),value_type_enum_1=__webpack_require__(26);__webpack_require__(32),__webpack_require__(287),__webpack_require__(279),__webpack_require__(116);var helper_1=__webpack_require__(15);__webpack_require__(322);var dialog_service_1=__webpack_require__(13),defines_1=__webpack_require__(78);__webpack_require__(71);var tabs_1=__webpack_require__(277);__webpack_require__(152),__webpack_require__(20);var CompositeComponentManagementService=function(){function CompositeComponentManagementService(editorService,designerService,dialogService,translationManagementService){this.editorService=editorService,this.designerService=designerService,this.dialogService=dialogService,this.translationManagementService=translationManagementService,this.idCounter=0}return CompositeComponentManagementService.prototype.createNewViaWizard=function(component){var _this=this;component=angular_1.default.copy(component),helper_1.Helper.exceedAllowed(common_constant_1.ProjectLimit.MAX_COMPOSITE_COMPONENTS,this.editorService.getCurrentProject().getCompositeComponents())?this.dialogService.showError("Create Composite Component",common_constant_1.ProjectLimit.COMPOSITE_COMPONENT_ERROR_MESSAGE):this.startCompositeComponentWizard(component).then((function(dialogResult){if(dialogResult.button===dialog_service_1.DialogButtonType.Ok){var compositeComponent_1=dialogResult.value,project_1=_this.editorService.getCurrentProject();_this.designerService.requestInfo().then((function(){var id=_this.generateId("compositeComponent");compositeComponent_1.manifest.id=id,compositeComponent_1.manifest.creationDate=Date.now(),compositeComponent_1.manifest.author=_this.designerService.getInfo().getUserName(),compositeComponent_1.manifest.authorDisplayName=_this.designerService.getInfo().getUserDisplayName();var includeDatasources=!1;if(compositeComponent_1.datasources&&(includeDatasources=!0),defines_1.Defines.allComponents[compositeComponent_1.component.typedef].isLayoutComponent){var component_1=compositeComponent_1.component;component_1.boundarySettings[common_constant_1.DEFAULT_BOUNDARY.id].sizeType=common_constant_1.FlexSizeTypeEnum.FLEX,component_1.boundarySettings[common_constant_1.DEFAULT_BOUNDARY.id].size=1}_this.editorService.forEachComponent(compositeComponent_1.component,(function(component){includeDatasources||(component.datasource=null)})),project_1.addCompositeComponent(compositeComponent_1),_this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.COMPOSITE_COMPONENTS|common_constant_1.SaveFlagsEnum.MANIFEST),_this.editorService.compositeComponentsChangedEvent.raise(project_1.getCompositeComponents())}))}}))},CompositeComponentManagementService.prototype.manageCompositeComponents=function(){var _this=this,options={title:"Project Composite Components",template:__webpack_require__(1071),cssClass:"composites-manage-dialog",style:"min-width: 1000px; max-width: 1125px;"};this.dialogService.show(options).then((function(){_this.editorService.compositeComponentsChangedEvent.raise(_this.editorService.getCurrentProject().getCompositeComponents()),_this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.COMPOSITE_COMPONENTS|common_constant_1.SaveFlagsEnum.MANIFEST)}))},CompositeComponentManagementService.prototype.startCompositeComponentWizard=function(component){var _this=this;if(!this.isActive){this.isActive=!0;var options={title:"Create Composite Component",parameter:component,template:"<eir-wizard ng-controller='eirCompositeComponentWizardCtrl as wizardCtrl'></eir-wizard>",cssClass:"wizard-dialog",style:"min-width: 450px; min-height: 500px; max-width: 480px;",id:"composite-component-wizard",draggable:!0};this.compositeComponentDialogPromise=this.dialogService.show(options).finally((function(){_this.isActive=!1}))}return this.compositeComponentDialogPromise},CompositeComponentManagementService.prototype.removeViaDialog=function(compositeId){var _this=this,currentProject=this.editorService.getCurrentProject(),confirmDialogOptions={title:"Really delete?",message:"Do you really want to delete composite component '"+currentProject.getCompositeComponent(compositeId).manifest.displayName+"'?",standardButtons:dialog_service_1.StandardDialogButtons.YesNo};this.dialogService.showMessage(confirmDialogOptions).then((function(result){result.button===dialog_service_1.DialogButtonType.Yes&&(currentProject.removeCompositeComponent(compositeId),_this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.COMPOSITE_COMPONENTS),_this.editorService.compositeComponentsChangedEvent.raise(currentProject.getCompositeComponents()))}))},CompositeComponentManagementService.prototype.generateId=function(compositeComponent){var newId=compositeComponent+this.idCounter++,compositeComponents=this.editorService.getCurrentProject().getCompositeComponents();for(var i in compositeComponents)if(compositeComponents[i].manifest.id===newId)return this.generateId(compositeComponent);return newId},CompositeComponentManagementService.prototype.getTranslation=function(languages){for(var value,i=0;i<languages.length;i++){if(languages[i].locale.substring(0,2)===this.translationManagementService.getSelectedLocale().substring(0,2)){value=languages[i].value;break}}return value||languages[0].value},CompositeComponentManagementService.prototype.addLanguagesFromComposite=function(languages){var _this=this;languages.forEach((function(language){_this.translationManagementService.projectHasLanguage(language.locale)||_this.translationManagementService.addLanguage({key:language.locale,value:""})}))},CompositeComponentManagementService.prototype.setCurrentValuesToCurrentLanguage=function(composite){var _this=this;composite.translations&&this.editorService.forEachComponent(composite.component,(function(childComponent){switch(_this.editorService.forEachBindable(childComponent,(function(field){field.valueType===value_type_enum_1.ValueTypeEnum.LOCALIZED_STRING&&composite.translations[childComponent.id].forEach((function(translation){field.ref===translation.property&&(_this.addLanguagesFromComposite(translation.translations),childComponent[field.ref].value=_this.getTranslation(translation.translations))}))})),childComponent.typedef){case tabs_1.Tabs.name:var componentTranslations_1=composite.translations[childComponent.id];childComponent.componentTabs.forEach((function(tab){componentTranslations_1.forEach((function(componentTranslation){tab.id===componentTranslation.property&&(tab.name=_this.getTranslation(componentTranslation.translations))}))}))}}))},CompositeComponentManagementService.add=function(ngModule){ngModule.service(common_constant_1.InjectNames.COMPOSITE_COMPONENT_MANAGEMENT_SERVICE,CompositeComponentManagementService)},CompositeComponentManagementService.$inject=[common_constant_1.InjectNames.EDITOR_SERVICE,common_constant_1.InjectNames.DESIGNER_SERVICE,common_constant_1.InjectNames.DIALOG_SERVICE,common_constant_1.InjectNames.TRANSLATION_MANAGEMENT_SERVICE],CompositeComponentManagementService}();exports.CompositeComponentManagementService=CompositeComponentManagementService},function(module,exports,__webpack_require__){"use strict";(function($){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.HotkeyService=void 0;var angular_1=__importDefault(__webpack_require__(12)),defines_1=__webpack_require__(16),flexbox_1=__webpack_require__(208),helper_1=__webpack_require__(153);__webpack_require__(20),__webpack_require__(288),__webpack_require__(237);var common_constant_1=__webpack_require__(3),HotkeyService=function(){function HotkeyService(editorService,undoService,insertComponentService){this.editorService=editorService,this.undoService=undoService,this.insertComponentService=insertComponentService,this.originalTranslations={},this.bindEvents()}return HotkeyService.prototype.bindEvents=function(){angular_1.default.element("body").on(common_constant_1.EventTypes.KEYDOWN,this.onKeyDown.bind(this)),angular_1.default.element("body").on(common_constant_1.EventTypes.KEYUP,this.onKeyUp.bind(this))},HotkeyService.prototype.removeClipboardComponentByUndoStack=function(){var _this=this,component=this.insertComponentService.getClipboardComponent();if(component){var currentUndoComponent=this.undoService.getCurrentUndo().stateRootComponent;this.editorService.forEachComponent(currentUndoComponent,(function(subComponent){subComponent.id!==component.id||_this.insertComponentService.setClipboardComponent(null)}))}},HotkeyService.prototype.getSelectedText=function(){return window.getSelection().toString()},HotkeyService.prototype.onKeyDown=function($event){var keyCode=$event.keyCode,altKey=$event.altKey,ctrlKey=$event.ctrlKey&&!altKey,cmdKey=$event.metaKey,modifierKey=ctrlKey||cmdKey;if(keyCode!==defines_1.KeyCodeEnum.CTRL){if(keyCode===defines_1.KeyCodeEnum.ESCAPE)switch(this.editorService.getCanvasMode()){case common_constant_1.CanvasModeEnum.FINDER:return void this.editorService.setCanvasMode(common_constant_1.CanvasModeEnum.SELECTION);case common_constant_1.CanvasModeEnum.INSERT:this.insertComponentService.cancelInserting()}var previewMode=keyCode===defines_1.KeyCodeEnum.LESS_THAN&&modifierKey,saveProject=keyCode===defines_1.KeyCodeEnum.KEY_S&&modifierKey;if(previewMode)this.editorService.getCanvasMode()===common_constant_1.CanvasModeEnum.RUNTIME?this.editorService.setCanvasMode(common_constant_1.CanvasModeEnum.SELECTION):this.editorService.setCanvasMode(common_constant_1.CanvasModeEnum.RUNTIME);else if(saveProject)this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.PROJECT),$event.preventDefault();else if(""===this.getSelectedText()&&"INPUT"!==$($event.target).prop("nodeName")&&!this.isAnyModalOpen()){if(this.editorService.isMovable())switch(keyCode){case defines_1.KeyCodeEnum.KEY_X:modifierKey&&this.editorService.canCut()&&this.cutComponent($event);break;case defines_1.KeyCodeEnum.KEY_C:modifierKey&&this.editorService.canCopy()&&this.copyComponent($event);break;case defines_1.KeyCodeEnum.DELETE:this.editorService.getSelectedComponent().canDelete()&&this.deleteComponent()}if(modifierKey)switch(keyCode){case defines_1.KeyCodeEnum.KEY_Z:this.removeClipboardComponentByUndoStack(),this.undoService.undoAction();break;case defines_1.KeyCodeEnum.KEY_Y:this.undoService.redoAction();break;case defines_1.KeyCodeEnum.KEY_V:this.pasteComponent()}}}},HotkeyService.prototype.onKeyUp=function($event){$event.keyCode===defines_1.KeyCodeEnum.KEY_C&&(this.editorService.multiInsert=!1)},HotkeyService.prototype.isAnyModalOpen=function(){return $(".modal").length>0},HotkeyService.prototype.copyComponent=function($event){var currentComponent=this.editorService.getSelectedComponent();if(currentComponent){$event&&$event.preventDefault(),this.oldToNewIdMap={};var component=this.editorService.copy(currentComponent.getDatabearer(),this.oldToNewIdMap);this.originalTranslations=this.editorService.getTranslationsFromComponentTree(currentComponent.getDatabearer()),this.insertComponentService.setClipboardComponent(component)}},HotkeyService.prototype.cutComponent=function($event){var currentComponent=this.editorService.getSelectedComponent();if(currentComponent){$event&&$event.preventDefault(),this.editorService.deselectComponent();var component=currentComponent.detach();helper_1.EditorHelper.updateDOMTreeElement(component.id),this.originalTranslations=angular_1.default.copy(this.editorService.getTranslationsFromComponentTree(currentComponent.getDatabearer()));var project_1=this.editorService.getCurrentProject();currentComponent.forEachChild((function(childComponentInstance){var childComponentId=childComponentInstance.getId();project_1.removeTranslation(childComponentId)}),!1),this.insertComponentService.setClipboardComponent(component),this.editorService.addUndoStack(project_1),this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.PROJECT)}},HotkeyService.prototype.pasteComponent=function($event){var _this=this,component=this.insertComponentService.getClipboardComponent();if(component){$event&&$event.preventDefault();var bodyElement_1=angular_1.default.element("body"),designerElement_1=angular_1.default.element("#designer");bodyElement_1.css(common_constant_1.CssConstantKeys.CURSOR,common_constant_1.CssConstantValues.CURSOR_NODROP);var bodyClickListener_1=function(){_this.insertComponentService.cancelInserting()};designerElement_1.on(common_constant_1.EventTypes.CLICK,bodyClickListener_1),this.insertComponentService.startInserting(component,common_constant_1.InsertEventTypes.COPY).then((function(newParent){newParent.newBoundaryEntered(_this.editorService.getCurrentBoundary().id),_this.finishInsertComponent(component)})).finally((function(){designerElement_1.off(common_constant_1.EventTypes.CLICK,bodyClickListener_1),bodyElement_1.css(common_constant_1.CssConstantKeys.CURSOR,""),_this.editorService.setCanvasMode(common_constant_1.CanvasModeEnum.SELECTION),_this.oldToNewIdMap={},_this.originalTranslations=_this.editorService.getTranslationsFromComponentTree(component);var nextCopy=_this.editorService.copy(component,_this.oldToNewIdMap);_this.insertComponentService.setClipboardComponent(nextCopy)}))}},HotkeyService.prototype.finishInsertComponent=function(component){this.editorService.copyTranslationsToCurrentProject(this.originalTranslations,this.oldToNewIdMap,component),this.editorService.saveCanvas(),this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.TRANSLATIONS)},HotkeyService.prototype.deleteComponent=function(){var selectedComponent=this.editorService.getSelectedComponent(),parent=selectedComponent.parent;if(selectedComponent&&selectedComponent.canDelete()){var project_2=this.editorService.getCurrentProject();selectedComponent.forEachChild((function(childComponentInstance){var childComponentId=childComponentInstance.getId();project_2.interactions=project_2.getInteractions().filter((function(interaction){return interaction.targetName!==childComponentId&&interaction.sourceName!==childComponentId})),project_2.removeTranslation(childComponentId),project_2.removeExpression(childComponentId)}),!1),parent.removeChild(selectedComponent.getId()),this.editorService.deselectComponent(),helper_1.EditorHelper.updateParentComponentSizeClass(parent),parent instanceof flexbox_1.Flexbox&&parent.updateChildrenClasses(),this.editorService.addUndoStack(project_2),this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.PROJECT)}},HotkeyService.add=function(ngModule){ngModule.service(common_constant_1.InjectNames.HOTKEY_SERVICE,HotkeyService)},HotkeyService.$inject=[common_constant_1.InjectNames.EDITOR_SERVICE,common_constant_1.InjectNames.UNDO_SERVICE,common_constant_1.InjectNames.INSERT_COMPONENT_SERVICE],HotkeyService}();exports.HotkeyService=HotkeyService}).call(this,__webpack_require__(21))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.IdConflictCtrl=void 0;var angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3);__webpack_require__(16);var dialog_service_1=__webpack_require__(13),IdConflictCtrl=function(){function IdConflictCtrl(scope){this.scope=scope,this.ReplaceEnum=common_constant_1.ReplaceEnum,this.dialog=scope.eirDialog;var parameter=this.dialog.parameter;this.message=parameter.message,this.newDisplayName=parameter.newDisplayName,this.newDisplayNameOverwrite=parameter.newDisplayNameOverwrite,this.option=common_constant_1.ReplaceEnum.OVERWRITE}return IdConflictCtrl.prototype.close=function(){this.dialog.close()},IdConflictCtrl.prototype.import=function(){var result={value:{option:this.option,newDisplayName:this.option===common_constant_1.ReplaceEnum.COPYNEW?this.newDisplayName:this.newDisplayNameOverwrite},button:dialog_service_1.DialogButtonType.Ok};this.dialog.close(result)},IdConflictCtrl.add=function(m){m.controller("eirIdConflictCtrl",IdConflictCtrl)},IdConflictCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE],IdConflictCtrl}();exports.IdConflictCtrl=IdConflictCtrl},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.LayoutComponent=void 0;var rxjs_1=__webpack_require__(81);__webpack_require__(44);var LayoutComponent=function(_super){function LayoutComponent(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.children=[],_this}return __extends(LayoutComponent,_super),LayoutComponent.prototype.onChildrenReady=function(){console.info("ID: "+this.displayName+", TYPEDEF: "+this.typedef+": Children Ready"),this.componentReady$.next(this)},LayoutComponent.prototype.forEachChild=function(fn,doGenerated){_super.prototype.forEachChild.call(this,fn,doGenerated),this.children.forEach((function(child){child.forEachChild(fn,doGenerated)}))},LayoutComponent.prototype.onBoundaryChange=function(boundary){var observers=[_super.prototype.onBoundaryChange.call(this,boundary)];return this.children.forEach((function(child){return observers.push(child.onBoundaryChange(boundary))})),rxjs_1.forkJoin(observers)},LayoutComponent}(__webpack_require__(239).BaseComponent);exports.LayoutComponent=LayoutComponent},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports){function webpackEmptyAsyncContext(req){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}))}webpackEmptyAsyncContext.keys=function(){return[]},webpackEmptyAsyncContext.resolve=webpackEmptyAsyncContext,module.exports=webpackEmptyAsyncContext,webpackEmptyAsyncContext.id=504},function(module,exports,__webpack_require__){"use strict";(function(jQuery){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.appBuilder=void 0;var angular_1=__importDefault(__webpack_require__(12)),angular_hybrid_1=__webpack_require__(407),angularjs_1=__importDefault(__webpack_require__(339)),user_control_es_1=__webpack_require__(148);__webpack_require__(815);var angular_constants_1=__webpack_require__(7),debugger_1=__webpack_require__(112),common_constant_1=__webpack_require__(3),app_states_1=__webpack_require__(507),app_state_1=__webpack_require__(236),module_1=__webpack_require__(864),module_2=__webpack_require__(873),module_3=__webpack_require__(958),module_4=__webpack_require__(1026),binding_management_service_1=__webpack_require__(329),boundary_management_service_1=__webpack_require__(330),composite_component_management_service_1=__webpack_require__(448),editor_service_1=__webpack_require__(20),hotkey_service_1=__webpack_require__(449),insert_component_service_1=__webpack_require__(288),interaction_management_service_1=__webpack_require__(169),save_service_1=__webpack_require__(331),undo_service_1=__webpack_require__(237),dashboard_1=__webpack_require__(1073),duplicate_dialog_1=__webpack_require__(1075),displayname_conflict_dialog_1=__webpack_require__(1076),id_conflict_dialog_1=__webpack_require__(450),all_projects_toolbar_1=__webpack_require__(1077),project_card_1=__webpack_require__(1081),create_project_1=__webpack_require__(1083),create_toolbar_1=__webpack_require__(1085),component_value_directive_1=__webpack_require__(1087),canvas_1=__webpack_require__(1088),canvas_slider_1=__webpack_require__(1090),url_source_field_1=__webpack_require__(1101),editor_1=__webpack_require__(1103),new_component_1=__webpack_require__(1105),new_composite_1=__webpack_require__(1107),new_component_tabs_1=__webpack_require__(1109),ruler_1=__webpack_require__(1111),selection_box_1=__webpack_require__(1114),statusbar_1=__webpack_require__(1116),topbar_1=__webpack_require__(1118),composite_component_wizard_ctrl_1=__webpack_require__(1124),wizard_ctrl_1=__webpack_require__(211),generic_settings_1=__webpack_require__(238),settings_1=__webpack_require__(564),border_setting_1=__webpack_require__(1131),checkbox_setting_1=__webpack_require__(1133),dropdown_setting_1=__webpack_require__(1135),margin_setting_1=__webpack_require__(1137),radiobutton_setting_1=__webpack_require__(1139),switch_setting_1=__webpack_require__(1141),text_setting_1=__webpack_require__(1143),attribute_settings_1=__webpack_require__(1145),settings_switchers_1=__webpack_require__(1147),valuesource_settings_1=__webpack_require__(1148),interaction_settings_1=__webpack_require__(566),interaction_settings_2=__webpack_require__(566),interaction_wizard_ctrl_1=__webpack_require__(1155),parameter_handler_1=__webpack_require__(1160),developer_tool_component_1=__webpack_require__(1162),editor_button_1=__webpack_require__(1165),editor_chart_1=__webpack_require__(441),editor_checkbox_1=__webpack_require__(1166),editor_component_1=__webpack_require__(58),editor_datagrid_1=__webpack_require__(1167),editor_datepicker_1=__webpack_require__(1168),editor_dropdown_1=__webpack_require__(1169),editor_flexbox_1=__webpack_require__(286),editor_hyperlink_1=__webpack_require__(1171),editor_image_1=__webpack_require__(1172),editor_label_1=__webpack_require__(1173),editor_list_1=__webpack_require__(1175),editor_lookup_1=__webpack_require__(1176),editor_radiobutton_1=__webpack_require__(444),editor_tabpanel_1=__webpack_require__(1177),editor_tabs_1=__webpack_require__(447),editor_textarea_1=__webpack_require__(1178),editor_textbox_1=__webpack_require__(561),editor_timepicker_1=__webpack_require__(1179),standard_boundaries_dialog_1=__webpack_require__(562),custom_component_ctrl_1=__webpack_require__(1180),build_link_dialog_1=__webpack_require__(1181),chart_settings_dialog_1=__webpack_require__(555),auto_add_columns_dialog_1=__webpack_require__(1182),upsert_column_1=__webpack_require__(1183),edit_expression_dialog_1=__webpack_require__(1184),expression_dialog_1=__webpack_require__(568),manage_composites_dialog_1=__webpack_require__(1186),manage_datasources_dialog_1=__webpack_require__(1188),manage_repository_dialog_1=__webpack_require__(1189),edit_radiobutton_dialog_1=__webpack_require__(559),edit_tab_dialog_1=__webpack_require__(1190),mask_setting_dialog_1=__webpack_require__(1191),edit_binding_dialog_1=__webpack_require__(565),translation_dialog_1=__webpack_require__(1192),project_settings_dialog_1=__webpack_require__(1193),boundary_editor_dialog_1=__webpack_require__(1194),base_1=__webpack_require__(1195),upsert_question_dialog_1=__webpack_require__(1197),copy_form_1=__webpack_require__(1198),url_variable_dialog_ctrl_1=__webpack_require__(1199);console.debug("production"),window.$=jQuery,exports.appBuilder=angular_1.default.module("app-builder",[angularjs_1.default,angular_hybrid_1.upgradeModule.name,module_1.idsAssetsModule.name,module_2.designerModule.name,module_3.repositoryModule.name,module_4.runtimeModule.name]),exports.appBuilder.run([angular_constants_1.AngularConstants.STATE_SERVICE,angular_constants_1.AngularConstants.INTERVAL,function($state,$interval){user_control_es_1.WSUserControl.onReady((function(){var stop=$interval((function(){parent.MG.App.doUnloadPrompt=!1,user_control_es_1.WSForm.getVarValue("InitURL",(function(initUrl){var isLaunchApp=""!==initUrl&&0===initUrl.indexOf("run/");if(common_constant_1.Config.IS_FIRST_LOAD=!1,common_constant_1.Config.IS_CONFIG_LOADED&&isLaunchApp){var isLaunchWithAngular=common_constant_1.Config.IS_DEV&&"true"===localStorage.getItem(common_constant_1.DeveloperConstants.LAUNCH_WITH_ANGULAR),id=initUrl.slice("run/".length),stateName=isLaunchWithAngular?app_states_1.appLauncherState.name:app_state_1.AppState.APP_LAUNCHER.name,params=isLaunchWithAngular?{projectId:id}:{id:id};$state.go(stateName,params)}})),$interval.cancel(stop)}),common_constant_1.Numbers.HUNDRED)}))}]),exports.appBuilder.config(["$qProvider","$compileProvider",function($qProvider,$compileProvider){$qProvider.errorOnUnhandledRejections(!1),$compileProvider.debugInfoEnabled(debugger_1.Debugger.isEnabled()),$compileProvider.commentDirectivesEnabled(!1),$compileProvider.cssClassDirectivesEnabled(!1)}]),app_state_1.AppState.add(exports.appBuilder),binding_management_service_1.BindingManagementService.add(exports.appBuilder),boundary_management_service_1.BoundaryManagementService.add(exports.appBuilder),editor_service_1.EditorService.add(exports.appBuilder),hotkey_service_1.HotkeyService.add(exports.appBuilder),insert_component_service_1.InsertComponentService.add(exports.appBuilder),interaction_management_service_1.InteractionManagementService.add(exports.appBuilder),composite_component_management_service_1.CompositeComponentManagementService.add(exports.appBuilder),undo_service_1.UndoService.add(exports.appBuilder),save_service_1.SaveService.add(exports.appBuilder),dashboard_1.DashboardDirective.add(exports.appBuilder),duplicate_dialog_1.DuplicateProjectCtrl.add(exports.appBuilder),displayname_conflict_dialog_1.DisplayNameConflictCtrl.add(exports.appBuilder),id_conflict_dialog_1.IdConflictCtrl.add(exports.appBuilder),all_projects_toolbar_1.AllProjectsToolbarComponent.add(exports.appBuilder),create_project_1.CreateProjectComponent.add(exports.appBuilder),create_toolbar_1.CreateToolbarComponent.add(exports.appBuilder),project_card_1.ProjectCardComponent.add(exports.appBuilder),canvas_1.CanvasDirective.add(exports.appBuilder),canvas_slider_1.CanvasSliderDirective.add(exports.appBuilder),component_value_directive_1.ComponentValueDirective.add(exports.appBuilder),editor_1.EditorDirective.add(exports.appBuilder),new_component_1.NewComponentDirective.add(exports.appBuilder),new_component_tabs_1.NewComponentTabsDirective.add(exports.appBuilder),new_composite_1.NewCompositeDirective.add(exports.appBuilder),ruler_1.RulerDirective.add(exports.appBuilder),selection_box_1.SelectionBoxDirective.add(exports.appBuilder),statusbar_1.StatusbarDirective.add(exports.appBuilder),topbar_1.TopbarDirective.add(exports.appBuilder),url_source_field_1.UrlSourceFieldDirective.add(exports.appBuilder),wizard_ctrl_1.WizardDirective.add(exports.appBuilder),composite_component_wizard_ctrl_1.CompositeComponentWizardCtrl.add(exports.appBuilder),settings_1.SettingsDirective.add(exports.appBuilder),generic_settings_1.GenericSettingsDirective.add(exports.appBuilder),border_setting_1.BorderSettingsDirective.add(exports.appBuilder),checkbox_setting_1.CheckboxSettingsDirective.add(exports.appBuilder),dropdown_setting_1.DropdownSettingsDirective.add(exports.appBuilder),margin_setting_1.MarginSettingsDirective.add(exports.appBuilder),radiobutton_setting_1.RadiobuttonSettingsDirective.add(exports.appBuilder),switch_setting_1.SwitchSettingsDirective.add(exports.appBuilder),text_setting_1.TextSettingsDirective.add(exports.appBuilder),settings_switchers_1.SettingsSwitchers.addComponentSettings(exports.appBuilder),valuesource_settings_1.ValuesourceSettingsDirective.add(exports.appBuilder),attribute_settings_1.AttributeSettingsDirective.add(exports.appBuilder),interaction_settings_2.InteractionSettingsDirective.add(exports.appBuilder),parameter_handler_1.ParameterHandlerDirective.add(exports.appBuilder),editor_component_1.EditorComponentCtrl.add(exports.appBuilder),editor_component_1.EditorComponentDirective.add(exports.appBuilder),editor_button_1.EditorButtonCtrl.add(exports.appBuilder),editor_chart_1.EditorChartCtrl.add(exports.appBuilder),editor_checkbox_1.EditorCheckboxCtrl.add(exports.appBuilder),editor_datagrid_1.EditorDatagridCtrl.add(exports.appBuilder),editor_datepicker_1.EditorDatepickerCtrl.add(exports.appBuilder),editor_dropdown_1.EditorDropdownCtrl.add(exports.appBuilder),editor_flexbox_1.EditorFlexboxCtrl.add(exports.appBuilder),editor_hyperlink_1.EditorHyperlinkCtrl.add(exports.appBuilder),editor_image_1.EditorImageCtrl.add(exports.appBuilder),editor_label_1.EditorLabelCtrl.add(exports.appBuilder),editor_list_1.EditorListCtrl.add(exports.appBuilder),editor_lookup_1.EditorLookupCtrl.add(exports.appBuilder),editor_radiobutton_1.EditorRadioButtonCtrl.add(exports.appBuilder),editor_tabpanel_1.EditorTabPanelCtrl.add(exports.appBuilder),editor_tabs_1.EditorTabsCtrl.add(exports.appBuilder),editor_textarea_1.EditorTextAreaCtrl.add(exports.appBuilder),editor_textbox_1.EditorTextboxCtrl.add(exports.appBuilder),editor_timepicker_1.EditorTimepickerCtrl.add(exports.appBuilder),custom_component_ctrl_1.CustomComponentCtrl.add(exports.appBuilder),interaction_settings_1.InteractionSettingsCtrl.add(exports.appBuilder),interaction_wizard_ctrl_1.InteractionWizardCtrl.add(exports.appBuilder),standard_boundaries_dialog_1.StandardBoundariesCtrl.add(exports.appBuilder),auto_add_columns_dialog_1.AutoAddColumnCtrl.add(exports.appBuilder),boundary_editor_dialog_1.BoundaryEditorCtrl.add(exports.appBuilder),build_link_dialog_1.BuildLinkCtrl.add(exports.appBuilder),chart_settings_dialog_1.ChartSettingsDialogCtrl.add(exports.appBuilder),copy_form_1.CopyFormDialogController.add(exports.appBuilder),upsert_question_dialog_1.UpsertQuestionDialogCtrl.add(exports.appBuilder),base_1.BaseDialogController.add(exports.appBuilder),edit_binding_dialog_1.EditBindingCtrl.add(exports.appBuilder),edit_radiobutton_dialog_1.EditRadioButtonCtrl.add(exports.appBuilder),edit_tab_dialog_1.EditTabCtrl.add(exports.appBuilder),edit_expression_dialog_1.EditExpressionDialogCtrl.add(exports.appBuilder),expression_dialog_1.ExpressionDialogCtrl.add(exports.appBuilder),manage_datasources_dialog_1.ManageDatasourcesCtrl.add(exports.appBuilder),manage_composites_dialog_1.ManageCompositesCtrl.add(exports.appBuilder),manage_repository_dialog_1.ManageRepositoryCtrl.add(exports.appBuilder),mask_setting_dialog_1.MaskSettingsDialogCtrl.add(exports.appBuilder),project_settings_dialog_1.ProjectSettingsCtrl.add(exports.appBuilder),translation_dialog_1.TranslationDialogCtrl.add(exports.appBuilder),upsert_column_1.UpsertColumnCtrl.add(exports.appBuilder),url_variable_dialog_ctrl_1.UrlVariableDialogCtrl.add(exports.appBuilder),developer_tool_component_1.DeveloperToolComponent.add(exports.appBuilder)}).call(this,__webpack_require__(21))},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.appStates=exports.appLauncherState=void 0,__webpack_require__(63),__webpack_require__(407);var common_constant_1=__webpack_require__(3),state_names_constant_1=__webpack_require__(816),app_launcher_hybrid_component_1=__webpack_require__(508);exports.appLauncherState={url:"/launch/:projectId",name:state_names_constant_1.StateNames.APP_LAUNCHER,component:app_launcher_hybrid_component_1.AppLauncherHybridComponent,resolve:{appType:function(){return common_constant_1.AppTypeEnum.DESIGNER_PREVIEW},projectId:["$stateParams",function($stateParams){return $stateParams.projectId}]}},exports.appStates=[exports.appLauncherState]},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.AppLauncherHybridComponent=void 0;var core_1=__webpack_require__(1),rxjs_1=__webpack_require__(81),operators_1=__webpack_require__(106),common_constant_1=__webpack_require__(3);__webpack_require__(51);var app_launcher_base_1=__webpack_require__(509);__webpack_require__(269),__webpack_require__(28),__webpack_require__(863);var framework_service_1=__webpack_require__(103);__webpack_require__(323);var AppLauncherHybridComponent=function(_super){function AppLauncherHybridComponent(frameworkService,injector){var _this=_super.call(this,frameworkService)||this;return _this.frameworkService=frameworkService,_this.injector=injector,_this.unsubscribe=new rxjs_1.Subject,_this}var _a,_b,_c;return __extends(AppLauncherHybridComponent,_super),AppLauncherHybridComponent.prototype.ngOnInit=function(){this.setNg1Services(),this.loadNg1Project()},AppLauncherHybridComponent.prototype.setNg1Services=function(){this.ng1RuntimeService=this.injector.get(common_constant_1.InjectNames.RUNTIME_SERVICE),this.ng1FrameworkService=this.injector.get(common_constant_1.InjectNames.FRAMEWORK_SERVICE)},AppLauncherHybridComponent.prototype.loadNg1Project=function(){var self=this;this.appType&&this.projectId&&this.loadProject(self.projectId).pipe(operators_1.takeUntil(this.unsubscribe)).subscribe({next:function(value){self.runtimeApp=value,self.setNg2FrameworkServiceProperties(),self.showMashup=!0},error:function(error){console.error("[AppLauncherComponent] Failed to load project with id: "+self.projectId)}})},AppLauncherHybridComponent.prototype.setNg2FrameworkServiceProperties=function(){this.frameworkService.currentBoundary=this.ng1FrameworkService.getCurrentBoundary(),this.frameworkService.currentProject=this.runtimeApp},AppLauncherHybridComponent.prototype.ngOnDestroy=function(){this.unsubscribe.next(),this.unsubscribe.complete()},AppLauncherHybridComponent.prototype.loadProject=function(projectId){var promise,_this=this;return new rxjs_1.Observable((function(observer){switch(_this.appType){case common_constant_1.AppTypeEnum.ADMIN_PREVIEW:promise=_this.ng1RuntimeService.loadPublishedProjectNoConstraint(projectId,null);break;case common_constant_1.AppTypeEnum.RUNTIME:case common_constant_1.AppTypeEnum.APPHUB:observer.next(null),promise=_this.ng1RuntimeService.loadPublishedProject(projectId,null);break;case common_constant_1.AppTypeEnum.DESIGNER_PREVIEW:promise=_this.ng1RuntimeService.loadRuntimeProject(projectId,null),rxjs_1.from(promise).subscribe({next:function(value){observer.next(value)}});break;default:observer.error({message:"Error",detail:"Invalid appType: "+_this.appType})}}))},AppLauncherHybridComponent.prototype.onResize=function(event){var width=event.target.innerWidth;this.frameworkService.updateCurrentBoundary(width)},__decorate([core_1.HostListener("window:resize",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",["function"==typeof(_a="undefined"!=typeof Event&&Event)?_a:Object]),__metadata("design:returntype",void 0)],AppLauncherHybridComponent.prototype,"onResize",null),AppLauncherHybridComponent=__decorate([core_1.Component({selector:"ng2-app-launcher",template:'\n\t\t<ng2-runtime-canvas\n\t\t\t*ngIf="showMashup"\n\t\t\t[app]="runtimeApp"\n\t\t></ng2-runtime-canvas>\n\t'}),__metadata("design:paramtypes",["function"==typeof(_b=void 0!==framework_service_1.FrameworkService&&framework_service_1.FrameworkService)?_b:Object,"function"==typeof(_c=void 0!==core_1.Injector&&core_1.Injector)?_c:Object])],AppLauncherHybridComponent)}(app_launcher_base_1.AppLauncherBase);exports.AppLauncherHybridComponent=AppLauncherHybridComponent},function(module,exports,__webpack_require__){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.AppLauncherBase=void 0;var core_1=__webpack_require__(1);__webpack_require__(103);var AppLauncherBase=function(){function AppLauncherBase(frameworkService){this.frameworkService=frameworkService,this.showMashup=!1}return __decorate([core_1.Input(),__metadata("design:type",String)],AppLauncherBase.prototype,"appType",void 0),__decorate([core_1.Input(),__metadata("design:type",String)],AppLauncherBase.prototype,"projectId",void 0),AppLauncherBase}();exports.AppLauncherBase=AppLauncherBase},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RuntimeManifest=void 0,__webpack_require__(3);var RuntimeManifest=function RuntimeManifest(arg1,arg2){!arg2&&arg1&&"object"==typeof arg1?(this.id=arg1.id,this.displayName=arg1.displayName,this.createdBy=arg1.createdBy,this.createdByDisplayName=arg1.createdByDisplayName,this.createdTime=arg1.createdTime,this.lastChangedBy=arg1.lastChangedBy,this.lastChangedByDisplayName=arg1.lastChangedByDisplayName,this.lastChangedTime=arg1.lastChangedTime,this.version=arg1.version,this.description=arg1.description,this.previewImg=arg1.previewImg,this.title=arg1.title,this.urlName=arg1.urlName,this.status=arg1.status,this.urlVariables=arg1.urlVariables,this.showTitleBar=arg1.showTitleBar,this.themeSwitchEnabled=arg1.themeSwitchEnabled,this.defaultTheme=arg1.defaultTheme,this.mashupBoundaries=arg1.mashupBoundaries):arg1&&(this.id=arg1,this.displayName=arg1,this.description=arg2,this.title=arg1)};exports.RuntimeManifest=RuntimeManifest},function(module,exports,__webpack_require__){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ComponentService=void 0;var core_1=__webpack_require__(1),ComponentService=function(){function ComponentService(){}return ComponentService.prototype.getDefaultComponentSettingValue=function(settingCategories,ref,title){var componentFieldSetting,componentCategory=settingCategories.find((function(category){return category.title===title}));return componentCategory.settings.length>0&&(componentFieldSetting=componentCategory.settings.find((function(setting){return setting.ref===ref}))),componentFieldSetting.defaultValue},ComponentService=__decorate([core_1.Injectable()],ComponentService)}();exports.ComponentService=ComponentService},function(module,exports,__webpack_require__){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.DataServiceBuilder=void 0;var http_1=__webpack_require__(313),core_1=__webpack_require__(1),datasource_type_enum_1=__webpack_require__(57),generic_1=__webpack_require__(817),dynamic_component_service_1=__webpack_require__(104),DataServiceBuilder=function(){function DataServiceBuilder(http,dynamicComponentService){this.http=http,this.dynamicComponentService=dynamicComponentService}var _a,_b;return DataServiceBuilder.prototype.create=function(rawJson){if(!(2===rawJson.version))return console.warn("[Helper] Invalid typedef on ",rawJson),null;var generic2Databearer=rawJson;switch(rawJson.typedef){case datasource_type_enum_1.DatasourceTypeEnum.generic:return new generic_1.Generic(this.http,this.dynamicComponentService,generic2Databearer);default:throw Error("Dataservice of type '"+rawJson.typedef+"' is not supported")}},DataServiceBuilder=__decorate([core_1.Injectable(),__metadata("design:paramtypes",["function"==typeof(_a=void 0!==http_1.HttpClient&&http_1.HttpClient)?_a:Object,"function"==typeof(_b=void 0!==dynamic_component_service_1.DynamicComponentService&&dynamic_component_service_1.DynamicComponentService)?_b:Object])],DataServiceBuilder)}();exports.DataServiceBuilder=DataServiceBuilder},,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(42),__webpack_require__(203),__webpack_require__(414)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(829)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FileMetaData=void 0,__webpack_require__(206);var FileMetaData=function FileMetaData(visibleName,mimeType){this.mimeType=mimeType,this.visibleName=visibleName};exports.FileMetaData=FileMetaData},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(206)},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.Button=void 0;var component_1=__webpack_require__(46);__webpack_require__(28);var common_constant_1=__webpack_require__(3),interaction_defines_constant_1=__webpack_require__(52),binding_type_enum_1=__webpack_require__(30),size_type_enum_1=__webpack_require__(29),value_type_enum_1=__webpack_require__(26),backward_compatible_1=__webpack_require__(64),Button=function(_super){function Button(obj,$element,parent,frameworkService){var _this=_super.call(this,obj,$element,parent,frameworkService)||this;return _this.style=backward_compatible_1.BackwardCompatible.tryUpdateButtonStyle(obj),_this}return __extends(Button,_super),Button.prototype.click=function(){this.trigger(common_constant_1.InteractionTriggerEnum.CLICK)},Button.availableButtonStyles=[{name:"Primary",value:common_constant_1.ButtonStyle.PRIMARY},{name:"Secondary",value:common_constant_1.ButtonStyle.SECONDARY},{name:"Transparent",value:common_constant_1.ButtonStyle.TERTIARY},{name:"Fill",value:common_constant_1.ButtonStyle.FILL}],Button.DEFAULT_WIDTH={sizeType:size_type_enum_1.SizeTypeEnum.AUTO},Button.DEFAULT_HEIGHT={sizeType:size_type_enum_1.SizeTypeEnum.AUTO},Button.SOURCE_TRIGGERS=interaction_defines_constant_1.InteractionDefines.SOURCE_TRIGGERS.concat([common_constant_1.InteractionPairOperation.ON_CLICK]),Button.TARGET_ACTIONS=interaction_defines_constant_1.InteractionDefines.TARGET_ACTIONS,Button.DEFAULT_TRIGGER=common_constant_1.InteractionPairOperation.ON_CLICK,Button.DEFAULT_ACTION=common_constant_1.InteractionPairOperation.GET,Button.BINDABLE_FIELDS_2=[{name:"Content",ref:common_constant_1.SettingKeys.CONTENT,valueType:value_type_enum_1.ValueTypeEnum.LOCALIZED_STRING,write:!0,read:!1,defaultValue:{Type:binding_type_enum_1.BindingTypeEnum.STATIC_VALUE,value:"Action"}}],Button.SETTING_FIELDS=[{title:"Style",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{ref:common_constant_1.SettingKeys.STYLE,inputType:common_constant_1.SettingInputKeys.RADIO,dataset:Button.availableButtonStyles,defaultValue:common_constant_1.ButtonStyle.PRIMARY},{title:"Disabled",ref:common_constant_1.SettingKeys.IS_READONLY,inputType:common_constant_1.SettingInputKeys.CHECKBOX,defaultValue:!1,button:{icon:"#icon-unlocked",tooltip:"Disable Component When...",dialog:!0}}]}].concat(component_1.Component.SETTING_FIELDS),Button.directive=[function(){return{template:__webpack_require__(831),replace:!0}}],Button}(component_1.Component);exports.Button=Button},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.Checkbox=void 0;var common_constant_1=__webpack_require__(3),binding_type_enum_1=__webpack_require__(30),size_type_enum_1=__webpack_require__(29),value_type_enum_1=__webpack_require__(26);__webpack_require__(150),__webpack_require__(92),__webpack_require__(32),__webpack_require__(76),__webpack_require__(834);var component_1=__webpack_require__(46),interaction_defines_constant_1=__webpack_require__(52);__webpack_require__(42),__webpack_require__(28);var Checkbox=function(_super){function Checkbox(obj,$element,parent,frameworkService){var _this=_super.call(this,obj,$element,parent,frameworkService)||this;return _this.checkboxState=!1,_this}return __extends(Checkbox,_super),Checkbox.prototype.checked=function(){var _this=this;this.frameworkService.getTimeout()((function(){_this.checkboxState?_this.trigger(common_constant_1.InteractionTriggerEnum.CHECKED):_this.trigger(common_constant_1.InteractionTriggerEnum.UNCHECKED),_this.frameworkService.triggerExpressions()}))},Checkbox.prototype.setBindableValue=function(bindableReference,value){_super.prototype.setBindableValue.call(this,bindableReference,value),bindableReference===common_constant_1.SettingKeys.CHECK_STATE&&(this.checkboxState=this.isChecked(value))},Checkbox.prototype.clear=function(){this.checkboxState=!1},Checkbox.prototype.isChecked=function(value){return"1"===value||!0===value||1===value||"true"===value},Checkbox.DEFAULT_WIDTH={sizeType:size_type_enum_1.SizeTypeEnum.AUTO},Checkbox.DEFAULT_HEIGHT={sizeType:size_type_enum_1.SizeTypeEnum.AUTO},Checkbox.SOURCE_TRIGGERS=interaction_defines_constant_1.InteractionDefines.SOURCE_TRIGGERS.concat([common_constant_1.InteractionPairOperation.IS_CHECKED,common_constant_1.InteractionPairOperation.IS_UNCHECKED]),Checkbox.TARGET_ACTIONS=[common_constant_1.InteractionPairOperation.GET,common_constant_1.InteractionPairOperation.CLEAR],Checkbox.DEFAULT_TRIGGER=common_constant_1.InteractionPairOperation.IS_CHECKED,Checkbox.DEFAULT_ACTION=common_constant_1.InteractionPairOperation.GET,Checkbox.SETTING_FIELDS=[{title:"Style",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{title:"Disabled",ref:common_constant_1.SettingKeys.IS_READONLY,inputType:common_constant_1.SettingInputKeys.CHECKBOX,defaultValue:!1,button:{icon:"#icon-unlocked",tooltip:"Disable Component When...",dialog:!0}}]}].concat(component_1.Component.SETTING_FIELDS),Checkbox.BINDABLE_FIELDS_2=[{name:"Content",ref:common_constant_1.SettingKeys.CONTENT,valueType:value_type_enum_1.ValueTypeEnum.LOCALIZED_STRING,write:!0,read:!1,defaultValue:{Type:binding_type_enum_1.BindingTypeEnum.STATIC_VALUE,value:"Checkbox"}},{name:"State",ref:common_constant_1.SettingKeys.CHECK_STATE,valueType:value_type_enum_1.ValueTypeEnum.STRING,write:!0,read:!0,defaultValue:{Type:binding_type_enum_1.BindingTypeEnum.STATIC_VALUE,value:!1}}],Checkbox.directive=[function(){return{template:__webpack_require__(835),replace:!0}}],Checkbox}(component_1.Component);exports.Checkbox=Checkbox},function(module,exports,__webpack_require__){"use strict";(function($){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__spreadArrays=this&&this.__spreadArrays||function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Datepicker=void 0;var component_1=__webpack_require__(46),common_constant_1=__webpack_require__(3),interaction_defines_constant_1=__webpack_require__(52),binding_type_enum_1=__webpack_require__(30),size_type_enum_1=__webpack_require__(29),value_type_enum_1=__webpack_require__(26);__webpack_require__(150),__webpack_require__(92),__webpack_require__(32),__webpack_require__(42),__webpack_require__(165),__webpack_require__(76),__webpack_require__(526),__webpack_require__(527);var date_helper_1=__webpack_require__(272),backward_compatible_1=__webpack_require__(64);__webpack_require__(28);var Datepicker=function(_super){function Datepicker(obj,$element,parent,frameworkService){var _this=_super.call(this,obj,$element,parent,frameworkService)||this;return _this.dateFormatted="",_this.dateFormatShow=obj.dateFormatShow,_this.dateFormatBinding=obj.dateFormatBinding,_this.dateFormatInput=obj.dateFormatInput,_this.isDefaultTodayDate=obj.isDefaultTodayDate,_this.showLabel=backward_compatible_1.BackwardCompatible.getShowLabel(obj),_this.setDatepickerOptions(),_this}return __extends(Datepicker,_super),Datepicker.prototype.newBoundaryEntered=function(boundaryId){_super.prototype.newBoundaryEntered.call(this,boundaryId),this.setBoundarySettingIfChanged(common_constant_1.SettingKeys.SHOW_LABEL)},Datepicker.prototype.setDatepickerOptions=function(){this.datepickerOptions={dateFormat:this.dateFormatShow,placeholder:!0}},Datepicker.prototype.clear=function(){this.getSohoXiApi().setValue(void 0,!0)},Datepicker.prototype.setBindableValue=function(bindableReference,value){if(bindableReference===common_constant_1.SettingKeys.DATE_VALUE){if(this.setErrorTooltip(),""===value)return this.isStaticSet=!1,void this.updateDatepickerValue();var newDate=this.parseDate(value);date_helper_1.DateHelper.isValidDate(newDate)?(this.isStaticSet=!0,this.updateDatepickerValue(newDate)):this.setErrorTooltip("Invalid date: '"+value+"'")}else _super.prototype.setBindableValue.call(this,bindableReference,value)},Datepicker.prototype.setDateValue=function(newDate){newDate?(this.dateValue=newDate,this.dateFormatBinding===common_constant_1.DateFormat.RAW?this.dateFormatted=this.dateValue.getTime().toString():this.dateFormatted=Soho.Locale.formatDate(this.dateValue,{pattern:this.dateFormatBinding})):(this.dateValue=void 0,this.dateFormatted=""),this.onUpdateValue()},Datepicker.prototype.updateDatepickerValue=function(newDate){var datepickerApi=this.getSohoXiApi();if(datepickerApi.settings.dateFormat=this.datepickerOptions.dateFormat,datepickerApi.pattern=this.datepickerOptions.dateFormat,this.isStaticSet){var value=newDate||this.dateValue;datepickerApi.setValue(value,!0)}else this.isDefaultTodayDate?datepickerApi.setToday():this.clear()},Datepicker.prototype.initializeDatepicker=function(){var _this=this,datepickerApi=this.getSohoXiApi();this.updateDatepickerReadonlyValue(),datepickerApi.element.on("change",(function(){var newDate=Soho.Locale.parseDate(datepickerApi.element.val().toString(),_this.dateFormatShow);newDate?(_this.setDateValue(newDate),_this.frameworkService.trigger(_this,common_constant_1.InteractionTriggerEnum.CHANGED)):_this.setDateValue()})),datepickerApi.element.on("listopened",(function(){_this.addPreventDefault()}))},Datepicker.prototype.addPreventDefault=function(){var _this=this;this.frameworkService.getTimeout()((function(){var ulPath=".picklist-section.is-year ul ";$(ulPath+"li a").click((function(e){e.preventDefault()})),$(ulPath+".up,"+ulPath+".down").click((function(e){_this.addPreventDefault()}))}),common_constant_1.Numbers.THREE_HUNDRED)},Datepicker.prototype.updateDatepickerReadonlyValue=function(){var datepickerApi=this.getSohoXiApi();this.isReadonly?datepickerApi.readonly():datepickerApi.enable()},Datepicker.prototype.getSohoXiApi=function(){return this.datePickerApi||(this.datePickerApi=this.element.find("> div > input").data("datepicker")),this.datePickerApi},Datepicker.prototype.parseDate=function(value){return"string"==typeof value&&this.dateFormatInput!==common_constant_1.DateFormat.AUTOMATIC?Soho.Locale.parseDate(value,this.dateFormatInput):this.parseDateFormatAutomatic(value)},Datepicker.prototype.parseDateFormatAutomatic=function(value){var timestamp=new Date(value);if(!date_helper_1.DateHelper.isValidDate(timestamp)){var milliseconds=date_helper_1.DateHelper.parse(value).getTime();if(!isNaN(milliseconds)&&date_helper_1.DateHelper.isValidMillisecondTimestamp(milliseconds))return new Date(milliseconds)}return timestamp},Datepicker.availableDateFormats=[{name:""+common_constant_1.DateFormat.FORMAT_1,value:common_constant_1.DateFormat.FORMAT_1},{name:""+common_constant_1.DateFormat.FORMAT_2,value:common_constant_1.DateFormat.FORMAT_2},{name:""+common_constant_1.DateFormat.FORMAT_3,value:common_constant_1.DateFormat.FORMAT_3},{name:"ISO8601: "+common_constant_1.DateFormat.ISO8601,value:common_constant_1.DateFormat.ISO8601},{name:"M3: "+common_constant_1.DateFormat.M3,value:common_constant_1.DateFormat.M3}],Datepicker.DEFAULT_WIDTH={sizeType:size_type_enum_1.SizeTypeEnum.AUTO},Datepicker.DEFAULT_HEIGHT={sizeType:size_type_enum_1.SizeTypeEnum.AUTO},Datepicker.SOURCE_TRIGGERS=interaction_defines_constant_1.InteractionDefines.SOURCE_TRIGGERS.concat([common_constant_1.InteractionPairOperation.ON_CHANGED]),Datepicker.TARGET_ACTIONS=[common_constant_1.InteractionPairOperation.GET,common_constant_1.InteractionPairOperation.CLEAR],Datepicker.DEFAULT_TRIGGER=common_constant_1.InteractionPairOperation.ON_CHANGED,Datepicker.DEFAULT_ACTION=common_constant_1.InteractionPairOperation.GET,Datepicker.SETTING_FIELDS=__spreadArrays([{title:"Style",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{title:"Show Label",boundarySetting:!0,ref:common_constant_1.SettingKeys.SHOW_LABEL,inputType:common_constant_1.SettingInputKeys.CHECKBOX,defaultValue:!0},{title:"Read Only",ref:common_constant_1.SettingKeys.IS_READONLY,inputType:common_constant_1.SettingInputKeys.CHECKBOX,defaultValue:!1,button:{icon:"#icon-unlocked",tooltip:"Disable Component When...",dialog:!0}}]},{title:"Date Formats",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{title:"To display",ref:common_constant_1.SettingKeys.DATE_FORMAT_SHOW,dataset:Datepicker.availableDateFormats,inputType:common_constant_1.SettingInputKeys.DROPDOWN,defaultValue:common_constant_1.DateFormat.FORMAT_1},{title:"For bindings (outbound)",ref:common_constant_1.SettingKeys.DATE_FORMAT_BINDING,dataset:Datepicker.availableDateFormats.concat([{name:"Raw timestamp",value:common_constant_1.DateFormat.RAW}]),inputType:common_constant_1.SettingInputKeys.DROPDOWN,defaultValue:common_constant_1.DateFormat.FORMAT_1},{title:"For bindings (inbound)",ref:common_constant_1.SettingKeys.DATE_FORMAT_INPUT,dataset:[{name:"Automatic",value:common_constant_1.DateFormat.AUTOMATIC}].concat(Datepicker.availableDateFormats),inputType:common_constant_1.SettingInputKeys.DROPDOWN,defaultValue:common_constant_1.DateFormat.AUTOMATIC}]},{title:"Default Date",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{title:"Today's date",ref:common_constant_1.SettingKeys.DATE_TODAY,inputType:common_constant_1.SettingInputKeys.CHECKBOX}]}],component_1.Component.SETTING_FIELDS),Datepicker.BINDABLE_FIELDS_2=[{name:"Label",ref:common_constant_1.SettingKeys.LABEL,valueType:value_type_enum_1.ValueTypeEnum.LOCALIZED_STRING,write:!0,read:!1,defaultValue:{Type:binding_type_enum_1.BindingTypeEnum.STATIC_VALUE,value:""}},{name:"Date",ref:common_constant_1.SettingKeys.DATE_VALUE,valueType:value_type_enum_1.ValueTypeEnum.STRING,write:!0,read:!1,defaultValue:{Type:binding_type_enum_1.BindingTypeEnum.STATIC_VALUE,value:""}},{name:"Formatted date",ref:common_constant_1.SettingKeys.DATE_FORMATTED,valueType:value_type_enum_1.ValueTypeEnum.STRING,write:!1,read:!0}],Datepicker.MAX_TIMESTAMP=864e13,Datepicker.MIN_TIMESTAMP=-864e13,Datepicker.directive=[function(){return{template:__webpack_require__(839),replace:!0,link:function($scope,$element,$attrs){var componentInstance=$scope.componentInstance;$($element[0]).initialize("en-US"),componentInstance.initializeDatepicker(),$scope.componentReady({componentInstance:$scope.componentInstance})}}}],Datepicker}(component_1.Component);exports.Datepicker=Datepicker}).call(this,__webpack_require__(21))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.TextArea=void 0;var common_constant_1=__webpack_require__(3),interaction_defines_constant_1=__webpack_require__(52),binding_type_enum_1=__webpack_require__(30),size_type_enum_1=__webpack_require__(29),value_type_enum_1=__webpack_require__(26);__webpack_require__(150),__webpack_require__(92),__webpack_require__(32),__webpack_require__(42),__webpack_require__(76),__webpack_require__(850),__webpack_require__(851);var component_1=__webpack_require__(46),backward_compatible_1=__webpack_require__(64);__webpack_require__(28);var TextArea=function(_super){function TextArea(obj,$element,parent,frameworkService){var _this=_super.call(this,obj,$element,parent,frameworkService)||this;return _this.showLabel=backward_compatible_1.BackwardCompatible.getShowLabel(obj),_this.resizable=obj.resizable,_this.maxLength=obj.maxLength,_this.updateMaxLength(),_this}return __extends(TextArea,_super),TextArea.prototype.newBoundaryEntered=function(boundaryId){_super.prototype.newBoundaryEntered.call(this,boundaryId),this.setBoundarySettingIfChanged(common_constant_1.SettingKeys.SHOW_LABEL)},TextArea.prototype.clear=function(){this.text=""},TextArea.prototype.updateMaxLength=function(){this.textareaOptions={characterCounter:!!this.maxLength,maxLength:this.maxLength?this.maxLength:TextArea.DEFAULT_MAX_LENGTH,charRemainingText:"Characters left: {0}"}},TextArea.DEFAULT_MAX_LENGTH=2e3,TextArea.DEFAULT_WIDTH={sizeType:size_type_enum_1.SizeTypeEnum.AUTO},TextArea.DEFAULT_HEIGHT={sizeType:size_type_enum_1.SizeTypeEnum.AUTO},TextArea.SOURCE_TRIGGERS=interaction_defines_constant_1.InteractionDefines.SOURCE_TRIGGERS,TextArea.TARGET_ACTIONS=[common_constant_1.InteractionPairOperation.GET,common_constant_1.InteractionPairOperation.CLEAR],TextArea.DEFAULT_ACTION=common_constant_1.InteractionPairOperation.GET,TextArea.DEFAULT_TRIGGER=common_constant_1.InteractionPairOperation.ON_LOAD,TextArea.SETTING_FIELDS=[{title:"Character Limit",tab:common_constant_1.SidebarTabTypes.CONTENT,settings:[{title:"Value",ref:common_constant_1.SettingKeys.MAX_LENGTH,inputType:common_constant_1.SettingInputKeys.NUMBER}]},{title:"Style",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{title:"Show Label",boundarySetting:!0,ref:common_constant_1.SettingKeys.SHOW_LABEL,inputType:common_constant_1.SettingInputKeys.CHECKBOX,defaultValue:!0},{title:"Read Only",ref:common_constant_1.SettingKeys.IS_READONLY,inputType:common_constant_1.SettingInputKeys.CHECKBOX,defaultValue:!1,button:{icon:"#icon-unlocked",tooltip:"Disable Component When...",dialog:!0}},{title:"Resizable",ref:common_constant_1.SettingKeys.IS_RESIZABLE,inputType:common_constant_1.SettingInputKeys.CHECKBOX,defaultValue:!1}]}].concat(component_1.Component.SETTING_FIELDS),TextArea.BINDABLE_FIELDS_2=[{name:"Text",ref:common_constant_1.SettingKeys.TEXT,valueType:value_type_enum_1.ValueTypeEnum.STRING,write:!0,read:!0,defaultValue:{Type:binding_type_enum_1.BindingTypeEnum.STATIC_VALUE,value:""}},{name:"Label",ref:common_constant_1.SettingKeys.LABEL,valueType:value_type_enum_1.ValueTypeEnum.LOCALIZED_STRING,write:!0,read:!1,defaultValue:{Type:binding_type_enum_1.BindingTypeEnum.STATIC_VALUE,value:""}},{name:"Placeholder",ref:common_constant_1.SettingKeys.PLACEHOLDER,valueType:value_type_enum_1.ValueTypeEnum.LOCALIZED_STRING,write:!0,read:!1,defaultValue:{Type:binding_type_enum_1.BindingTypeEnum.STATIC_VALUE,value:""}}],TextArea.directive=[function(){return{template:__webpack_require__(852),replace:!0}}],TextArea}(component_1.Component);exports.TextArea=TextArea},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(32),__webpack_require__(42),__webpack_require__(23)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";(function($){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__spreadArrays=this&&this.__spreadArrays||function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Timepicker=void 0;var component_1=__webpack_require__(46);__webpack_require__(28);var common_constant_1=__webpack_require__(3),interaction_defines_constant_1=__webpack_require__(52),binding_type_enum_1=__webpack_require__(30),size_type_enum_1=__webpack_require__(29),value_type_enum_1=__webpack_require__(26),Timepicker=function(_super){function Timepicker(obj,$element,parent,frameworkService){var _this=_super.call(this,obj,$element,parent,frameworkService)||this;return _this.enableSeconds=obj.enableSeconds,_this.isReadonly=obj.isReadonly,_this.timeFormat=obj.timeFormat,_this.formatString=_this.timeFormat,_this.showLabel=obj.boundarySettings[common_constant_1.DEFAULT_BOUNDARY.id].showLabel,_this}return __extends(Timepicker,_super),Timepicker.prototype.init=function(){var _this=this;this.frameworkService.getTimeout()((function(){_this.updateReadonly(),_this.setSeconds();var timepickerApi=_this.getSohoXiApi();timepickerApi.element.on("change",(function(){_this.timeValue=timepickerApi.value(!1),_this.frameworkService.trigger(_this,common_constant_1.InteractionTriggerEnum.CHANGED)})),_this.setTimepickerOptions()}))},Timepicker.prototype.setBindableValue=function(bindableReference,value){if(bindableReference===common_constant_1.SettingKeys.TIME_VALUE){if(this.setErrorTooltip(),!value)return void this.clear();var upperCaseTime=value.toUpperCase();this.isValidTime(upperCaseTime)?this.setTime(upperCaseTime):(this.setErrorTooltip("Invalid time: '"+value+"'"),this.clear())}else _super.prototype.setBindableValue.call(this,bindableReference,value)},Timepicker.prototype.newBoundaryEntered=function(boundaryId){_super.prototype.newBoundaryEntered.call(this,boundaryId),this.setBoundarySettingIfChanged(common_constant_1.SettingKeys.SHOW_LABEL)},Timepicker.prototype.getSohoXiApi=function(){return this.timepickerApi||(this.timepickerApi=this.element.find("#time-field-"+this.getId()).data("timepicker")),this.timepickerApi},Timepicker.prototype.refreshTimepicker=function(){this.updateReadonly(),this.setSeconds(),this.setTimepickerOptions(),this.setTime($("#time-field-"+this.getId()).val())},Timepicker.prototype.clear=function(){this.setTime("")},Timepicker.prototype.setTimepickerOptions=function(){this.timepickerOptions={timeFormat:this.formatString,minuteInterval:Timepicker.minuteInterval,secondInterval:Timepicker.secondInterval}},Timepicker.prototype.setTime=function(time){var finalTime,field=$("#time-field-"+this.getId());finalTime=time?Soho.Locale.formatDate(new Date("2021-01-01 "+time),{pattern:this.formatString}):"",field.val(finalTime),this.timeValue=finalTime},Timepicker.prototype.setSeconds=function(){this.enableSeconds?this.formatString=this.timeFormat.replace(":mm",":mm:ss"):this.formatString=this.timeFormat},Timepicker.prototype.updateReadonly=function(){var timepickerApi=this.getSohoXiApi();this.isReadonly?timepickerApi.readonly():timepickerApi.enable()},Timepicker.prototype.isValidTime=function(time){return common_constant_1.RegexStrings.TIME.test(time)},Timepicker.minuteInterval=1,Timepicker.secondInterval=1,Timepicker.availableHourMode=[{name:"12-hour",value:common_constant_1.HourMode.TWELVE},{name:"24-hour",value:common_constant_1.HourMode.TWENTYFOUR}],Timepicker.DEFAULT_WIDTH={sizeType:size_type_enum_1.SizeTypeEnum.AUTO},Timepicker.DEFAULT_HEIGHT={sizeType:size_type_enum_1.SizeTypeEnum.AUTO},Timepicker.SOURCE_TRIGGERS=interaction_defines_constant_1.InteractionDefines.SOURCE_TRIGGERS.concat([common_constant_1.InteractionPairOperation.ON_CHANGED]),Timepicker.TARGET_ACTIONS=[common_constant_1.InteractionPairOperation.GET,common_constant_1.InteractionPairOperation.CLEAR],Timepicker.DEFAULT_TRIGGER=common_constant_1.InteractionPairOperation.ON_CHANGED,Timepicker.DEFAULT_ACTION=common_constant_1.InteractionPairOperation.GET,Timepicker.SETTING_FIELDS=__spreadArrays([{title:"Style",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{title:"Show Label",boundarySetting:!0,ref:common_constant_1.SettingKeys.SHOW_LABEL,inputType:common_constant_1.SettingInputKeys.CHECKBOX,defaultValue:!0},{title:"Read Only",ref:common_constant_1.SettingKeys.IS_READONLY,inputType:common_constant_1.SettingInputKeys.CHECKBOX,defaultValue:!1,button:{icon:"#icon-unlocked",tooltip:"Disable Component When...",dialog:!0}}]},{title:"Format",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{title:"Time Format",ref:common_constant_1.SettingKeys.TIME_FORMAT,inputType:common_constant_1.SettingInputKeys.DROPDOWN,dataset:Timepicker.availableHourMode,defaultValue:common_constant_1.HourMode.TWENTYFOUR},{title:"Enable Seconds",ref:common_constant_1.SettingKeys.ENABLE_SECONDS,inputType:common_constant_1.SettingInputKeys.CHECKBOX,defaultValue:!1}]}],component_1.Component.SETTING_FIELDS),Timepicker.BINDABLE_FIELDS_2=[{name:"Label",ref:common_constant_1.SettingKeys.LABEL,valueType:value_type_enum_1.ValueTypeEnum.LOCALIZED_STRING,write:!0,read:!1,defaultValue:{Type:binding_type_enum_1.BindingTypeEnum.STATIC_VALUE,value:""}},{name:"Time",ref:common_constant_1.SettingKeys.TIME_VALUE,valueType:value_type_enum_1.ValueTypeEnum.STRING,write:!0,read:!0,defaultValue:{Type:binding_type_enum_1.BindingTypeEnum.STATIC_VALUE,value:""}}],Timepicker.directive=[function(){return{template:__webpack_require__(854),replace:!0,link:function($scope){$scope.componentInstance.init(),$scope.componentReady({componentInstance:$scope.componentInstance})}}}],Timepicker}(component_1.Component);exports.Timepicker=Timepicker}).call(this,__webpack_require__(21))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(856)},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Generic2=void 0;var jsonpath_1=__importDefault(__webpack_require__(200)),isArray_1=__importDefault(__webpack_require__(33)),common_constant_1=__webpack_require__(3),parameter_type_enum_1=__webpack_require__(113);__webpack_require__(41),__webpack_require__(273),__webpack_require__(232),__webpack_require__(316),__webpack_require__(23);var error_response_1=__webpack_require__(51),datasource_1=__webpack_require__(427),data_service_helper_1=__webpack_require__(231),json_helper_1=__webpack_require__(271);__webpack_require__(209);var helper_1=__webpack_require__(15);__webpack_require__(201);var Generic2=function(_super){function Generic2(obj,datasourceService){var _this=_super.call(this,obj)||this;return _this.datasourceService=datasourceService,_this}return __extends(Generic2,_super),Generic2.prototype.getDatabearer=function(){return this.databearer},Generic2.prototype.getDetailData=function(params){var _this=this,databearer=this.databearer;return this.loadData(params).then((function(result){var detailObject={},resultToFormat=_this.getVerifiedResult(result);if(databearer.isOutputFile)detailObject[databearer.outputParameters[0].id]=resultToFormat;else try{databearer.outputParameters.forEach((function(param){detailObject[param.id]=jsonpath_1.default.value(resultToFormat,databearer.outputRootElement+param.key)}))}catch(e){throw new Error("Unable to parse data. The response is not in JSON format.")}return detailObject}))},Generic2.prototype.getVerifiedResult=function(obj){return isArray_1.default(obj)?obj[0]:obj},Generic2.prototype.getListData=function(params){var _this=this,databearer=this.databearer;return this.loadData(params).then((function(result){var list=[],listResult=_this.getVerifiedResult(result);return jsonpath_1.default.query(listResult,databearer.outputRootElement).forEach((function(row,index){var listObject={};databearer.outputParameters.forEach((function(param){listObject[param.id]=jsonpath_1.default.value(row,"$."+param.key)})),databearer.objectIdPath?listObject.id=jsonpath_1.default.value(row,"$."+databearer.objectIdPath):listObject.id=index.toString(),list.push(listObject)})),list}))},Generic2.prototype.getNonParsedData=function(params){var _this=this;return this.loadData(params).then((function(result){return _this.getVerifiedResult(result)}))},Generic2.prototype.setSubstitutionTags=function(url,bodyParameter,parameters){var value,substitutionTag,requestBody,_this=this;return this.databearer.inputParameters.forEach((function(datasourceParameter){switch(value=parameters[datasourceParameter.id],datasourceParameter.parameterType){case parameter_type_enum_1.ParameterTypeEnum.PATH:case parameter_type_enum_1.ParameterTypeEnum.MATRIX:case parameter_type_enum_1.ParameterTypeEnum.QUERY:if(substitutionTag=data_service_helper_1.DataServiceHelper.getURLVariable(datasourceParameter.key),-1===url.indexOf(substitutionTag))throw new Error("Substitution tag does not exist!");if(null!=value&&""!==value)url=url.replace(substitutionTag,encodeURIComponent(value));else{if(datasourceParameter.required)throw new Error("Parameter is required");if(datasourceParameter.parameterType===parameter_type_enum_1.ParameterTypeEnum.MATRIX){var strToReplace=";"+data_service_helper_1.DataServiceHelper.getURLVariable(datasourceParameter.key,parameter_type_enum_1.ParameterTypeEnum.MATRIX);url=url.replace(strToReplace,"")}else{var fullSubstitutionTag=data_service_helper_1.DataServiceHelper.getURLVariable(datasourceParameter.key,parameter_type_enum_1.ParameterTypeEnum.QUERY);"&"===(url=(url=(url=url.replace(fullSubstitutionTag,"")).replace("?&","?")).replace("&&","&")).charAt(url.length-1)&&(url=url.substr(0,url.length-1))}}break;case parameter_type_enum_1.ParameterTypeEnum.BODY_PART:requestBody=_this.getRequestBody(bodyParameter,datasourceParameter,value)}})),{relativeUrl:url,requestBody:requestBody}},Generic2.prototype.getRequestBody=function(bodyParameter,datasourceParameter,value){var _a;switch(null===(_a=this.databearer.headers)||void 0===_a?void 0:_a["Content-Type"]){case"text/plain":return value;case"application/json":default:var bodyParameters=JSON.parse(bodyParameter),schema=json_helper_1.JsonHelper.generateSchema(bodyParameters);switch(json_helper_1.JsonHelper.getPropertyType(schema,datasourceParameter.key)){case"number":value=parseFloat(value)}return jsonpath_1.default.value(bodyParameters,datasourceParameter.key,value),bodyParameters}},Generic2.prototype.loadData=function(inputParameterValues){var _this=this,defer=this.datasourceService.getDeferred(),databearer=this.databearer,relativeUrlPath=databearer.suite+databearer.endpoint+databearer.resource,requestBody=databearer.bodyTemplate,parameters=[{}],ionApiCalls=[],extraParameters={};try{this.databearer.inputParameters.forEach((function(ionapiParameter){var inputparameter=inputParameterValues[ionapiParameter.id];inputparameter&&isArray_1.default(inputparameter)?inputparameter.forEach((function(parameter,index){parameters[index]||parameters.push({}),parameters[index][ionapiParameter.id]=parameter})):inputparameter&&(extraParameters[ionapiParameter.id]=inputparameter,1===parameters.length&&(parameters[0]=inputParameterValues))})),this.fillInParameters(extraParameters,this.databearer.inputParameters,parameters),parameters.forEach((function(parameter,index){if(ionApiCalls.push(_this.setSubstitutionTags(relativeUrlPath,requestBody,parameter)),ionApiCalls[index].relativeUrl.match(/{.+}/g))throw new Error("Not all string replace positions were replaced")}))}catch(e){var error=new error_response_1.ErrorResponse(e.message,common_constant_1.Subcodes.DATA_SERVICE_ERROR,e.stack);return defer.reject(error),console.error(e),defer.promise}var promises=[];return ionApiCalls.forEach((function(ionApiCall){promises.push(_this.datasourceService.ionApiRequest(ionApiCall.relativeUrl,databearer.isOutputFile,databearer.method,ionApiCall.requestBody,databearer.headers).then((function(response){return ionApiCall.relativeUrl.indexOf("righttrim=true")>0&&(response=helper_1.Helper.deepObjectTrim(response)),response})))})),this.datasourceService.$q.all(promises)},Generic2.prototype.getMetaData=function(){var deferredMetaData=this.datasourceService.getDeferred(),inputFields=[],outputFields=[];return this.databearer.inputParameters.forEach((function(param){inputFields.push({FLNM:param.id,FLDS:param.alias?param.alias:param.key,MAND:param.required?"1":"0",type:param.dataType})})),this.databearer.outputParameters.forEach((function(param){outputFields.push({FLNM:param.id,FLDS:param.alias?param.alias:param.key,MAND:"0",type:param.dataType})})),deferredMetaData.resolve({inputFields:inputFields,outputFields:outputFields}),deferredMetaData.promise},Generic2}(datasource_1.Datasource);exports.Generic2=Generic2},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ExpressionService=void 0;var common_constant_1=__webpack_require__(3);__webpack_require__(278);var helper_1=__webpack_require__(15);__webpack_require__(68),__webpack_require__(70);var ExpressionService=function(){function ExpressionService(commonService){this.commonService=commonService,this.triggeredConditions=[]}return ExpressionService.prototype.trigger=function(components){var _this=this;this.triggeredConditions=[],this.currentProjectComponents=components,this.commonService.getCurrentProject().getExpressions().forEach((function(expression){if(!_this.isUsed(expression.usedBy,expression.conditionType)){var sourceValue=expression.sourceProperty;"<static>"!==expression.source&&(sourceValue=_this.getExpressionValue(expression.source,expression.sourceProperty));var targetValue=expression.targetProperty;"<static>"!==expression.target&&(targetValue=_this.getExpressionValue(expression.target,expression.targetProperty)),_this.runExpression(sourceValue,targetValue,expression)}}))},ExpressionService.prototype.isUsed=function(componentId,type){return this.triggeredConditions.some((function(triggeredCondition){return triggeredCondition.componentId===componentId&&triggeredCondition.conditionType===type}))},ExpressionService.prototype.runExpression=function(sourceValue,targetValue,expression){var result=!1,component=this.findComponent(expression.usedBy);if("boolean"==typeof sourceValue&&(sourceValue=sourceValue?"1":"0"),"boolean"==typeof targetValue&&(targetValue=targetValue?"1":"0"),component)switch(expression.clauseOperator){case common_constant_1.Operators.EQUALS:result=sourceValue===targetValue,this.triggerCondition(expression,component,result);break;case common_constant_1.Operators.NOT_EQUALS:result=sourceValue!==targetValue,this.triggerCondition(expression,component,result);break;case common_constant_1.Operators.GREATER:result=parseInt(sourceValue)>parseInt(targetValue),this.triggerCondition(expression,component,result);break;case common_constant_1.Operators.LOWER:result=parseInt(sourceValue)<parseInt(targetValue),this.triggerCondition(expression,component,result);break;case common_constant_1.Operators.SAME_GREATER:result=parseInt(sourceValue)>=parseInt(targetValue),this.triggerCondition(expression,component,result);break;case common_constant_1.Operators.SAME_LOWER:result=parseInt(sourceValue)<=parseInt(targetValue),this.triggerCondition(expression,component,result);break;case common_constant_1.Operators.INCLUDES:var targetString=targetValue.trim().toLowerCase(),sourceString=sourceValue.trim().toLowerCase();sourceString&&targetString&&(result=targetString.includes(sourceString),this.triggerCondition(expression,component,result))}},ExpressionService.prototype.triggerCondition=function(expression,component,value){switch(value&&this.triggeredConditions.push({componentId:component.getId(),conditionType:expression.conditionType}),expression.conditionType){case common_constant_1.ConditionType.DISABLE:component.isReadonly=value;break;case common_constant_1.ConditionType.HIDE:component.isVisible=!value}},ExpressionService.prototype.getExpressionComponentValue=function(component,property){var value,componentDataservice=component.getDatasource(),componentValue=component.getValue(property),componentBindableValue=component.getBindableValue(property);return componentDataservice&&!helper_1.Helper.isUndefinedOrNull(componentValue)?value=componentValue:helper_1.Helper.isUndefinedOrNull(componentBindableValue)?property.includes(common_constant_1.SettingKeys.SELECTED_ITEM)&&(value=""):value=componentBindableValue,value},ExpressionService.prototype.getExpressionValue=function(componentName,property){var component=this.findComponent(componentName);return component&&(property=this.getExpressionComponentValue(component,property)),property},ExpressionService.prototype.findComponent=function(usedByComponent){return this.currentProjectComponents.find((function(component){return component.getId()===usedByComponent}))},ExpressionService.add=function(ngModule){ngModule.service(common_constant_1.InjectNames.EXPRESSION_SERVICE,ExpressionService)},ExpressionService.$inject=[common_constant_1.InjectNames.COMMON_SERVICE],ExpressionService}();exports.ExpressionService=ExpressionService},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MingleService=void 0;var common_constant_1=__webpack_require__(3),MingleService=function(){function MingleService(){}return MingleService.prototype.getLogicalId=function(){return this.logicalId||MingleService.DEFAULT_LID},MingleService.prototype.setupMessageHandler=function(messageType,callback){infor.companyon.client.registerMessageHandler(messageType,callback)},MingleService.prototype.sendApplicationInitComplete=function(){infor.companyon.client.sendMessage(MingleService.MESSAGETYPE_APPINITCOMPLETE,window.name)},MingleService.prototype.sendDrillbackMessage=function(message){infor.companyon.client.sendPrepareDrillbackMessage(message)},MingleService.prototype.sendBusinessContextMessage=function(messageType,appId,appName){var data;switch(messageType){case MingleService.MESSAGETYPE_BUSINESSCONTEXT:data={type:messageType,screenId:appId,visible:!0,readOnly:!1,originatingTime:this.getOriginatingTime(),contextId:this.generateContextId(),logicalId:this.getLogicalId(),entities:[{entityType:"InforApp",id1:appId,drillbackURL:this.getDrillbackUrl(this.getLogicalId(),appId)}]};break;case MingleService.MESSAGETYPE_SHORTCUTCONTEXT:data={name:appName,description:"An Infor App in AppHub",absoluteURL:!1,shortcutContext:this.getDrillbackUrl(this.getLogicalId(),appId)};break;default:data={}}infor.companyon.client.sendMessage(messageType,data)},MingleService.prototype.sendClearContextMessage=function(){infor.companyon.client.sendMessage(MingleService.MESSAGETYPE_BUSINESSCONTEXT,{}),infor.companyon.client.sendMessage(MingleService.MESSAGETYPE_SHORTCUTCONTEXT,{})},MingleService.prototype.getDrillbackUrl=function(logicalId,appId){return"?LogicalId="+encodeURIComponent(logicalId)+"&$appId="+appId},MingleService.prototype.generateContextId=function(){return this.getOriginatingTime().toString()+""+Math.floor(Math.random()*common_constant_1.Numbers.HUNDRED+1)},MingleService.prototype.getOriginatingTime=function(){return(new Date).getTime()},MingleService.add=function(m){m.service(common_constant_1.InjectNames.MINGLE_SERVICE,MingleService)},MingleService.MESSAGETYPE_BUSINESSCONTEXT="inforBusinessContext",MingleService.MESSAGETYPE_CLEARCONTEXT="clearAllContext",MingleService.MESSAGETYPE_APPINITCOMPLETE="appInitComplete",MingleService.MESSAGETYPE_APPLICATIONDRILLBACK="applicationDrillback",MingleService.MESSAGETYPE_FAVORITECONTEXT="showFavoriteContext",MingleService.MESSAGETYPE_SHORTCUTCONTEXT="setShortcutContext",MingleService.DEFAULT_LID="lid://infor.app-builder.1",MingleService}();exports.MingleService=MingleService},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var angular_1=__importDefault(__webpack_require__(12)),module_1=__webpack_require__(874),datasource_service_1=__webpack_require__(209),framework_service_1=__webpack_require__(28),ion_api_service_1=__webpack_require__(321),ion_metadata_service_1=__webpack_require__(542),local_ido_service_1=__webpack_require__(167),translation_management_service_1=__webpack_require__(71),defines_1=__webpack_require__(78),children_directive_1=__webpack_require__(543),component_common_1=__webpack_require__(950),component_directive_1=__webpack_require__(952),titlebar_1=__webpack_require__(953);exports.componentsModule=angular_1.default.module("componentsModule",[module_1.commonModule.name]),exports.componentsModule.config(["$qProvider",function($qProvider){$qProvider.errorOnUnhandledRejections(!1)}]),datasource_service_1.DatasourceService.add(exports.componentsModule),framework_service_1.FrameworkService.add(exports.componentsModule),ion_api_service_1.IonApiService.add(exports.componentsModule),ion_metadata_service_1.IonMetadataService.add(exports.componentsModule),local_ido_service_1.LocalIdoService.add(exports.componentsModule),translation_management_service_1.TranslationManagementService.add(exports.componentsModule),defines_1.Defines.addComponents(exports.componentsModule),children_directive_1.ChildrenDirective.add(exports.componentsModule),component_common_1.ComponentCommonDirective.add(exports.componentsModule),component_directive_1.ComponentDirective.add(exports.componentsModule),titlebar_1.TitlebarDirective.add(exports.componentsModule)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ExportProjectCtrl=void 0;var angular_constants_1=__webpack_require__(7),helper_1=__webpack_require__(15),dialog_service_1=__webpack_require__(13),common_constant_1=__webpack_require__(3),getFormattedFilename=function(params){params.type;var formattedFilename=params.filename.split(" ").join("_");switch(formattedFilename=formattedFilename.replace(common_constant_1.RegexStrings.NO_SPECIAL,""),params.type){case"project":return formattedFilename+"_"+helper_1.Helper.getFormattedDate("yyyy-mm-dd");default:return""+helper_1.Helper.getFormattedDate("yyyy-mm-dd")}},ExportProjectCtrl=function(){function ExportProjectCtrl(scope){this.scope=scope,this.errorList=[];var dialog=scope.eirDialog;this.dialog=dialog,this.exportFileName=getFormattedFilename(dialog.parameter),this.fileExtension=function(params){switch(params.type){case"project":return common_constant_1.FileExtensions.PROJECT;case"composite component":return common_constant_1.FileExtensions.COMPOSITE_COMPONENT;case"dataservice":return common_constant_1.FileExtensions.DATA_SERVICE;default:return".somethingIsWrong"}}(dialog.parameter),this.defaultFilename=getFormattedFilename(dialog.parameter)}return Object.defineProperty(ExportProjectCtrl.prototype,"isInvalid",{get:function(){return 0!==this.errorList.length},enumerable:!1,configurable:!0}),ExportProjectCtrl.prototype.validate=function(value){return!common_constant_1.RegexStrings.NO_SPECIAL.test(value)},ExportProjectCtrl.prototype.close=function(){var result={button:dialog_service_1.DialogButtonType.Cancel};this.dialog.close(result)},ExportProjectCtrl.prototype.export=function(){var result={value:(helper_1.Helper.isUndefinedEmpty(this.exportFileName)?this.defaultFilename:this.exportFileName)+"."+this.fileExtension,button:dialog_service_1.DialogButtonType.Ok};this.dialog.close(result)},ExportProjectCtrl.add=function(m){m.controller("eirExportProjectCtrl",ExportProjectCtrl)},ExportProjectCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE],ExportProjectCtrl}();exports.ExportProjectCtrl=ExportProjectCtrl},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.InforOwnedEnum=void 0,function(InforOwnedEnum){InforOwnedEnum[InforOwnedEnum.FALSE=0]="FALSE",InforOwnedEnum[InforOwnedEnum.TRUE=1]="TRUE"}(exports.InforOwnedEnum||(exports.InforOwnedEnum={}))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ListviewDirective=exports.LISTVIEW_RENDERED=void 0;var angular_1=__importDefault(__webpack_require__(12));__webpack_require__(40),__webpack_require__(541);var utils_1=__webpack_require__(47);exports.LISTVIEW_RENDERED="finishedListviewCreation";var ListviewDirective=function(){function ListviewDirective(){this.restrict="A",this.scope=!1}return ListviewDirective.prototype.link=function(scope,element,attributes){var options=attributes[ListviewDirective.DIRECTIVE_NAME],toolbar=element.closest(".widget, .card").find(".listview-toolbar"),unbindWatcher=scope.$watch(options,(function(newOptions){var api;newOptions?(api=utils_1.Utils.getData(element,"listview"))?api.updated(newOptions):(element.listview(newOptions),api=utils_1.Utils.getData(element,"listview"),toolbar.removeClass("is-visible").one("animateClosedComplete",(function(event){event.stopPropagation(),toolbar.css("display","none")})).animateClosed(),angular_1.default.forEach(api.selectedItems,(function(selected){return selected.removeClass()}))):api=element.listview();if(void 0!==(null==newOptions?void 0:newOptions.id)){var finishedResult={id:newOptions.id,api:api};element.trigger(exports.LISTVIEW_RENDERED,finishedResult)}}),!0);element.on("$destroy",(function(){var listViewData=utils_1.Utils.getData(element,"listview");listViewData&&listViewData.destroy(),unbindWatcher()}))},ListviewDirective.add=function(m){m.directive(ListviewDirective.DIRECTIVE_NAME,[function(){return new ListviewDirective}])},ListviewDirective.DIRECTIVE_NAME="xiListview",ListviewDirective}();exports.ListviewDirective=ListviewDirective},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.IonMetadataService=void 0;var common_constant_1=__webpack_require__(3);__webpack_require__(23),__webpack_require__(202);var angular_constants_1=__webpack_require__(7),error_response_1=__webpack_require__(51);__webpack_require__(433);var component_helper_1=__webpack_require__(949);__webpack_require__(321);var IonMetadataService=function(){function IonMetadataService($cacheFactory,$q,ionApiService){this.$cacheFactory=$cacheFactory,this.$q=$q,this.ionApiService=ionApiService,this.initCache()}return IonMetadataService.prototype.initCache=function(){this.cache=this.$cacheFactory.get("IonMetadataService"),this.cache||(this.cache=this.$cacheFactory("IonMetadataService"))},IonMetadataService.prototype.getApiSuites=function(){return this.makeIonRequest("metadata/v1/"+common_constant_1.Config.TENANT_ID+"/apisuites",!1,{pageSize:50})},IonMetadataService.prototype.searchOperations=function(suiteContext,query,pageNo){void 0===suiteContext&&(suiteContext=""),void 0===query&&(query=""),void 0===pageNo&&(pageNo=0);var options={suiteContext:encodeURI(suiteContext),searchCriteria:query,pageSize:IonMetadataService.OPERATIONS_PAGE_SIZE,pageNo:pageNo};return this.makeIonRequest("metadata/v1/"+common_constant_1.Config.TENANT_ID+"/operations",!1,options)},IonMetadataService.prototype.getSwaggerDoc=function(fullPath){var deferred=this.$q.defer(),regex=new RegExp(".*/"+common_constant_1.Config.TENANT_ID+"/(.*)","i"),pathMatch=fullPath.match(regex);if(pathMatch&&pathMatch[1]){var swaggerPath=pathMatch[1];this.makeIonRequest(swaggerPath,!0).then((function(resp){var dereferenced=component_helper_1.ComponentHelper.dereferenceSwagger(resp);deferred.resolve(dereferenced)})).catch((function(errorResponse){var error=new error_response_1.ErrorResponse(errorResponse.statusText,errorResponse.status);deferred.reject(error)}))}else{var error=new error_response_1.ErrorResponse('Unable to handle path "'+fullPath+'"');deferred.reject(error)}return deferred.promise},IonMetadataService.prototype.makeIonRequest=function(relativePath,setTenant,params,method){return void 0===params&&(params={}),void 0===method&&(method="GET"),this.ionApiService.executeIonApiAsync({url:relativePath,method:method,setTenant:setTenant,params:params,cache:this.cache}).then((function(response){return response.data}))},IonMetadataService.add=function(ngModule){ngModule.service(common_constant_1.InjectNames.ION_METADATA_SERVICE,IonMetadataService)},IonMetadataService.OPERATIONS_PAGE_SIZE=20,IonMetadataService.$inject=[angular_constants_1.AngularConstants.CACHE_FACTORY,angular_constants_1.AngularConstants.Q,common_constant_1.InjectNames.ION_API_SERVICE],IonMetadataService}();exports.IonMetadataService=IonMetadataService},function(module,exports,__webpack_require__){"use strict";(function($){Object.defineProperty(exports,"__esModule",{value:!0});var angular_constants_1=__webpack_require__(7),ChildrenDirective=function(){function ChildrenDirective($compileService){this.$compileService=$compileService,this.restrict="E",this.scope={parent:"=",childrenReady:"&"}}return ChildrenDirective.prototype.link=function($scope,element,attrs){var _this=this,nrChildrenReady=0,parentInstance=$scope.parent;$scope.context=parentInstance.getContext(),$scope.onChildReady=function(childInstance,index){parentInstance.children[index]=childInstance,++nrChildrenReady===parentInstance.getDatabearer().children.length&&$scope.childrenReady()},$scope.$applyAsync((function(){0===parentInstance.getDatabearer().children.length?$scope.childrenReady():parentInstance.getDatabearer().children.forEach((function(child,index){var childScope=$scope.$new();childScope.component=child,childScope.parent=parentInstance,childScope.context=$scope.context,childScope.index=index,_this.$compileService(ChildrenDirective.createTemplate(child.typedef))(childScope,(function(clone){element.append(clone)}))}))}))},ChildrenDirective.createTemplate=function(typedef){var componentTemplate=$("<eir-component-directive></eir-component-directive>");return componentTemplate.attr("component","component"),componentTemplate.attr("context","context"),componentTemplate.attr("parent","parent"),componentTemplate.attr("component-ready","onChildReady(componentInstance, index);"),componentTemplate.attr("generated-id","parent.generateId(index)"),componentTemplate.attr("typedef",typedef),componentTemplate},ChildrenDirective.add=function(m){var directive=function($compileService){return new ChildrenDirective($compileService)};directive.$inject=[angular_constants_1.AngularConstants.COMPILE],m.directive("eirChildren",directive)},ChildrenDirective}();exports.ChildrenDirective=ChildrenDirective}).call(this,__webpack_require__(21))},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.DesignerHelper=void 0;var common_constant_1=__webpack_require__(3),size_type_enum_1=__webpack_require__(29),debugger_1=__webpack_require__(112);__webpack_require__(16);var user_control_es_1=__webpack_require__(148),DesignerHelper=function(_super){function DesignerHelper(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(DesignerHelper,_super),DesignerHelper.getSizeSuffix=function(instance){return instance===size_type_enum_1.SizeTypeEnum.PIXELS?"px":instance===size_type_enum_1.SizeTypeEnum.PERCENT?"%":"auto"},DesignerHelper.openRuntime=function(projectId,$window,urlBindings,urlVariables){this.launchInMongooseIframes(projectId,$window,urlBindings,urlVariables)},DesignerHelper.launchAsIntended=function(projectId,$window,urlBindings,urlVariables){var url="#!/run/"+projectId;$window.open(url,"_blank")},DesignerHelper.launchInMongooseIframes=function(projectId,$window,urlBindings,urlVariables){var varValue="run/"+projectId;if(common_constant_1.Config.MG_FORM_ONLY){var setVarValues_1="SETVARVALUES(InitURL="+varValue;urlVariables&&urlVariables.length>0&&urlVariables.forEach((function(variable){var binding=urlBindings.find((function(bind){return bind.sourceKey===variable.sourceKey})),value=binding?binding.value:"";setVarValues_1+=","+variable.visibleName+"="+value})),setVarValues_1+=")";var url="/WSWebClient/PlainForm.aspx?page=FormOnly&notitle=1&"+("Form="+common_constant_1.Config.MG_FORM_NAME+"("+setVarValues_1+")")+(debugger_1.Debugger.isEnabled()?"&debug=true":"");$window.open(url,"_blank")}else if(urlVariables&&urlVariables.length>0){var parameters_1="SETVARVALUES(InitURL="+varValue+",";urlVariables.forEach((function(variable){var binding=urlBindings.find((function(bind){return bind.sourceKey===variable.sourceKey})),value=binding?binding.value:"";parameters_1+=variable.visibleName+"="+value+","})),parameters_1=parameters_1.substring(0,parameters_1.length-1),parameters_1+=")",user_control_es_1.WSForm.setVarValue("FormRunParameters",parameters_1,null),user_control_es_1.WSForm.generate("LaunchAppBuilderWithParameters",null,!1)}else user_control_es_1.WSForm.setVarValue("InitURL",varValue,null),user_control_es_1.WSForm.generate("LaunchAppBuilder",null,!1)},DesignerHelper}(__webpack_require__(15).Helper);exports.DesignerHelper=DesignerHelper},function(module,exports){module.exports='<div id=newDatasourceDialog ng-controller="eirDatasourceUpsertDialogCtrl as ctrl"> <div class=row> <div class=columns> <div class=field> <input class=ng-hide id=datasource-type type=text ng-model=ctrl.datasourceType disabled=disabled> </div> </div> <div class=columns> <div class=field> <label for=DatasourceDisplayName class=required>Display name</label> <input id=DatasourceDisplayName class=required type=text ng-model=ctrl.datasource.displayName /> </div> </div> </div> <div class=modal-buttonset> <button type=button class=btn-modal ng-click=ctrl.close()>Close</button> <button type=button class=btn-modal ng-disabled="!(ctrl.validForm && ctrl.saveable())" ng-click=ctrl.upsertDatasource()>{{ctrl.buttonTitle}}</button> </div> </div>'},function(module,exports){module.exports=' <div class=select-source ng-controller="eirSelectSourceCtrl as ctrl"> <fieldset class=radio-group> <legend>Select Source</legend> <div ng-repeat="option in ctrl.sourceList"> <input type=radio class=radio id={{option}} ng-model=ctrl.selectedSource value={{option}} /> <label for={{option}} class=radio-label>{{option}}</label> </div> </fieldset> <div class=modal-buttonset> <button type=button class=btn-modal ng-click=ctrl.close()> Cancel </button> <button type=button class=btn-modal-primary ng-click=ctrl.next()> Next </button> </div> </div>'},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.IonApiSearchCtrl=void 0;var angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3);__webpack_require__(41);var error_response_1=__webpack_require__(51);__webpack_require__(85),__webpack_require__(433),__webpack_require__(280),__webpack_require__(285);var base_search_ctrl_1=__webpack_require__(548);__webpack_require__(202);var dialog_service_1=__webpack_require__(13);__webpack_require__(542),__webpack_require__(549);var IonApiSearchCtrl=function(_super){function IonApiSearchCtrl($scope,$element,$cacheFactory,dialogService,ionMetadataService){var _this=_super.call(this,$scope,$element,$cacheFactory,dialogService,ionMetadataService)||this;return _this.setFilterOptions(),_this}return __extends(IonApiSearchCtrl,_super),IonApiSearchCtrl.prototype.setFilterOptions=function(){var _this=this;this.filterOptions=[{method:"get",displayText:"Get",checked:!1},{method:"put",displayText:"Put",checked:!1},{method:"post",displayText:"Post",checked:!1},{method:"delete",displayText:"Delete",checked:!1},{method:"patch",displayText:"Patch",checked:!1},{method:"head",displayText:"Head",checked:!1}],this.$scope.methodsFilter=function(operation){var allUnchecked=0===_this.filterOptions.filter((function(f){return f.checked})).length,operationShouldPass=!1;return allUnchecked?operationShouldPass=!0:_this.filterOptions.forEach((function(opt){opt.method===operation.method&&opt.checked&&(operationShouldPass=!0)})),operationShouldPass}},IonApiSearchCtrl.prototype.setDropdownOptions=function(){var _this=this;this.isBusy=!0,this.metadataService.getApiSuites().then((function(suites){_this.dropdownOptions=suites,_this.dropdownOptions.unshift({description:"All",name:"All",suiteContext:void 0,type:""}),_this.$scope.selectedOption=_this.dropdownOptions[0]})).catch((function(){return _this.showError(new error_response_1.ErrorResponse("Could not get suite list. "+common_constant_1.Subcodes.CONTACT_SYSTEM_ADMIN,common_constant_1.Subcodes.GENERIC_ERROR))})).finally((function(){_this.isBusy=!1}))},IonApiSearchCtrl.prototype.getListItems=function(selectedOption,query){var suiteContext=selectedOption&&selectedOption.suiteContext?selectedOption.suiteContext:void 0;return this.metadataService.searchOperations(suiteContext,query,this.pageNo)},IonApiSearchCtrl.prototype.handleRequestError=function(errorResponse){var error;errorResponse instanceof error_response_1.ErrorResponse?this.showError(new error_response_1.ErrorResponse("Could not perform search request. "+common_constant_1.Subcodes.CONTACT_SYSTEM_ADMIN,errorResponse.code,errorResponse.message)):error=new error_response_1.ErrorResponse(errorResponse.statusText,errorResponse.status),this.showError(error)},IonApiSearchCtrl.prototype.showOperationDetails=function(operation){var _this=this;this.showSwaggerDocumentation(operation,(function(swaggerDocument){var options={title:"Operation details - "+operation.operationSummary,template:__webpack_require__(967),cssClass:"operation-details",parameter:{operation:operation,swaggerDocument:swaggerDocument},buttons:[{text:"Close",click:function(event,modal){modal.close()}}],id:"dataservice-search-wizard"};_this.$scope.eirDialog.hide(),_this.dialogService.show(options).then((function(){_this.$scope.eirDialog.show()}))}))},IonApiSearchCtrl.prototype.getSwaggerDocumentFromCache=function(operation){var cacheKey="";switch(operation.suiteContext){case"M3":cacheKey=operation.swaggerJsonFilePath;break;case"IDM":case"Mingle":default:cacheKey=operation.swaggerOperationId}return this.cacheObject.get(cacheKey)},IonApiSearchCtrl.prototype.addSwaggerDocumentToCache=function(operation,swaggerDocument){var cacheKey="";switch(operation.suiteContext){case"M3":cacheKey=operation.swaggerJsonFilePath;break;case"IDM":case"Mingle":default:cacheKey=operation.swaggerOperationId}this.cacheObject.put(cacheKey,swaggerDocument)},IonApiSearchCtrl.prototype.isValidSwaggerDocument=function(item){return"string"==typeof item?0!==item.toLowerCase().indexOf("error"):"object"==typeof item&&null!==item},IonApiSearchCtrl.prototype.runCreateNewWizard=function(operation){var _this=this;this.showSwaggerDocumentation(operation,(function(swaggerDocument){var options={title:"Create Data Service",parameter:{swaggerDocument:swaggerDocument,focusedOperation:operation},template:"<eir-wizard ng-controller='eirDatasourceWizardCtrl as wizardCtrl'></eir-wizard>",cssClass:"wizard-dialog large",id:"datasource-wizard"};_this.$scope.eirDialog.hide(),_this.dialogService.show(options).then((function(result){result.button===dialog_service_1.DialogButtonType.Ok?_this.$scope.eirDialog.close(result):_this.$scope.eirDialog.show()}))}))},IonApiSearchCtrl.prototype.showSwaggerDocumentation=function(operation,openDialog){var _this=this,swaggerDocument=this.getSwaggerDocumentFromCache(operation);swaggerDocument?openDialog(swaggerDocument):(this.isBusy=!0,this.metadataService.getSwaggerDoc(operation.swaggerJsonFilePath).then((function(swaggerDocument){_this.isValidSwaggerDocument(swaggerDocument)?(_this.addSwaggerDocumentToCache(operation,swaggerDocument),openDialog(swaggerDocument)):"string"==typeof swaggerDocument&&_this.showError(swaggerDocument)})).catch((function(errorResponse){_this.showError(errorResponse)})).finally((function(){_this.isBusy=!1})))},IonApiSearchCtrl.prototype.showError=function(errorResponse){if("object"==typeof errorResponse&&null!==errorResponse){var errorMessage="Status Code: "+errorResponse.code+" <br><br>"+this.getErrorMessage(errorResponse);this.dialogService.showError("Error",errorMessage)}else"string"==typeof errorResponse&&this.dialogService.showError("Error",errorResponse)},IonApiSearchCtrl.prototype.getErrorMessage=function(errorResponse){var errorStatus=errorResponse.code;return 500<=errorStatus&&errorStatus<=599?"\n\t\t\t\tUnable to retrieve available ION API suits from ION API,\n\t\t\t\tif the issue persists please contact your system administrator.\n\t\t\t":errorResponse.message},IonApiSearchCtrl.add=function(m){m.controller("eirIonApiSearchCtrl",IonApiSearchCtrl)},IonApiSearchCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,angular_constants_1.AngularConstants.ELEMENT,angular_constants_1.AngularConstants.CACHE_FACTORY,common_constant_1.InjectNames.DIALOG_SERVICE,common_constant_1.InjectNames.ION_METADATA_SERVICE],IonApiSearchCtrl}(base_search_ctrl_1.BaseSearchCtrl);exports.IonApiSearchCtrl=IonApiSearchCtrl},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseSearchCtrl=void 0,__webpack_require__(16);var error_response_1=__webpack_require__(51),dialog_service_1=__webpack_require__(13),BaseSearchCtrl=function(){function BaseSearchCtrl($scope,$element,$cacheFactory,dialogService,metadataService){var _this=this;this.$scope=$scope,this.$element=$element,this.$cacheFactory=$cacheFactory,this.dialogService=dialogService,this.metadataService=metadataService,this.isBusy=!1,this.pageNo=0,this.setDropdownOptions(),this.resultListContainerElement=$element.find("#search-result-list"),this.resultListElement=this.resultListContainerElement.children("ul"),this.resultListContainerElement.on("scroll",(function(){return _this.onResultListScroll()}));var childName=this.constructor.name;this.cacheObject=this.$cacheFactory.get(childName)||this.$cacheFactory(childName)}return BaseSearchCtrl.prototype.onToggleSelected=function(operation,index){void 0!==this.previousIndex&&this.$element.find("#list-item-"+this.previousIndex).toggleClass("is-selected"),this.previousIndex=index,this.$element.find("#list-item-"+index).toggleClass("is-selected"),this.focusedOperation=operation},BaseSearchCtrl.prototype.cancel=function(){this.$scope.eirDialog.close({button:dialog_service_1.DialogButtonType.Cancel})},BaseSearchCtrl.prototype.back=function(){this.$scope.eirDialog.close({button:dialog_service_1.DialogButtonType.Back})},BaseSearchCtrl.prototype.searchOperations=function(selectedOption,query,getNextPage){var _this=this;this.$scope.query=query,getNextPage||(this.previousIndex=void 0),getNextPage?this.pageNo+=1:(this.previousPageHadResults=!1,this.operations=[],this.pageNo=0),this.isBusy=!0,this.getListItems(selectedOption,query).then((function(operations){_this.operations=_this.operations.concat(operations),_this.previousPageHadResults=operations.length>0})).catch(this.handleRequestError.bind(this)).finally((function(){return _this.isBusy=!1}))},BaseSearchCtrl.prototype.handleRequestError=function(errorResponse){this.previousPageHadResults=!1;var error=new error_response_1.ErrorResponse(errorResponse.statusText,errorResponse.status);this.showError(error)},BaseSearchCtrl.prototype.onResultListScroll=function(){if(this.getResultListScrollPosition()>.95&&!this.isBusy&&this.previousPageHadResults){var selectedOption=this.$scope.selectedOption,query=this.$scope.query;this.searchOperations(selectedOption,query,!0)}},BaseSearchCtrl.prototype.getResultListScrollPosition=function(){var scrollHeight=this.resultListContainerElement.scrollTop(),containerHeight=this.resultListContainerElement.height();return scrollHeight/(this.resultListElement.height()-containerHeight)},BaseSearchCtrl}();exports.BaseSearchCtrl=BaseSearchCtrl},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.IonApiOperationDetails=void 0;var angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3),custom_formatters_1=__webpack_require__(133),repository_helper_1=__webpack_require__(328),IonApiOperationDetails=function(){function IonApiOperationDetails($scope){this.$scope=$scope,this.initParameterDatagrid(),this.initResponseDatagrid(),this.initDialogData()}return Object.defineProperty(IonApiOperationDetails.prototype,"swaggerDocument",{get:function(){return this.$scope.eirDialog.parameter.swaggerDocument},enumerable:!1,configurable:!0}),Object.defineProperty(IonApiOperationDetails.prototype,"operation",{get:function(){return this.$scope.eirDialog.parameter.operation},enumerable:!1,configurable:!0}),IonApiOperationDetails.prototype.initDialogData=function(){var swaggerOp=repository_helper_1.RepositoryHelper.getSwaggerOperation(this.operation,this.swaggerDocument);this.parameterDatagridOption.dataset=swaggerOp.parameters;var responseDataset=[];for(var responseCode in swaggerOp.responses){var response=swaggerOp.responses[responseCode];responseDataset.push(repository_helper_1.RepositoryHelper.mapSchemaToGridData(response.schema,response.description||responseCode))}this.responseDatagridOption.dataset=responseDataset},IonApiOperationDetails.prototype.initParameterDatagrid=function(){var columns=[{id:"name",name:"Name",field:"name",sortable:!0,width:"20%",formatter:Soho.Formatters.Ellipsis},{id:"description",name:"Description",field:"description",width:"20%",sortable:!1},{id:"type",name:"Type",field:"type",sortable:!1,width:"20%"},{id:"in",name:"In",field:"in",sortable:!1,width:"20%"},{id:"required",name:"Required",field:"required",sortable:!0,width:"20%",formatter:custom_formatters_1.CustomFormatters.RequiredFormatter("required")}];this.parameterDatagridOption={columns:columns,dataset:[],selectable:!1,isList:!0,saveColumns:!1}},IonApiOperationDetails.prototype.initResponseDatagrid=function(){this.responseDatagridOption={columns:[{id:"name",name:"Name",field:"name",formatter:Soho.Formatters.Tree,width:"33%"},{id:"description",name:"Description",field:"description",width:"33%"},{id:"type",name:"Type",field:"type",width:"33%"}],dataset:[],selectable:!1,treeGrid:!0,isList:!0,saveColumns:!1}},IonApiOperationDetails.add=function(module){module.controller("eirIonApiOperationDetails",IonApiOperationDetails)},IonApiOperationDetails.$inject=[angular_constants_1.AngularConstants.SCOPE,angular_constants_1.AngularConstants.ELEMENT,common_constant_1.InjectNames.DIALOG_SERVICE],IonApiOperationDetails}();exports.IonApiOperationDetails=IonApiOperationDetails},function(module,exports,__webpack_require__){"use strict";(function(jQuery){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.DatasourceWizardHelper=void 0;var jsonpath_1=__importDefault(__webpack_require__(200)),helper_1=__webpack_require__(15),common_constant_1=__webpack_require__(3),datasource_type_enum_1=__webpack_require__(57),parameter_type_enum_1=__webpack_require__(113),value_type_enum_1=__webpack_require__(26);__webpack_require__(41),__webpack_require__(201);var date_helper_1=__webpack_require__(272),DatasourceWizardHelper=function(){function DatasourceWizardHelper(){}return DatasourceWizardHelper.isSupportedIonApiDataservice=function(suite){var value=suite.toUpperCase();return-1!==value.indexOf(datasource_type_enum_1.DatasourceTypeEnum.IDM)||-1!==value.indexOf(datasource_type_enum_1.DatasourceTypeEnum.IDO)||-1!==value.indexOf(datasource_type_enum_1.DatasourceTypeEnum.M3)||-1!==value.indexOf(datasource_type_enum_1.DatasourceTypeEnum.MINGLE)},DatasourceWizardHelper.generateParameters=function(datasource,isInput){void 0===isInput&&(isInput=!1);var root=isInput?datasource.inputRootElement:datasource.outputRootElement,parameters=[],jsonData=isInput?datasource.bodyTemplate:datasource.outputJson,result=jsonpath_1.default.query(JSON.parse(jsonData),root);return 1===result.length&&(this.findParameters(result[0],parameters,"",datasource.suite),this.renameDuplicates(parameters)),parameters},DatasourceWizardHelper.renameDuplicates=function(parameters){parameters.forEach((function(parameter,index,parameters){var alias=parameter.alias.toLowerCase(),id=parameter.id,count=1;parameters.forEach((function(parameter2){alias&&alias===parameter2.alias.toLowerCase()&&id!==parameter2.id&&(count++,parameter2.alias=parameter2.alias+count)}))}))},DatasourceWizardHelper.findParameters=function(object,parameters,path,suite){var _this=this;void 0===path&&(path=""),Object.entries(object).forEach((function(_a){var key=_a[0],value=_a[1];if("object"!=typeof value||Array.isArray(value))if(Array.isArray(value))if("object"==typeof value[0])if(1===value.length&&"/M3"!==suite)_this.findParameters(value[0],parameters,path+"."+key+"[*]",suite);else if(Object.entries(value[0])[0][0].includes("@"))value.forEach((function(element,index){_this.findParameters(element,parameters,path+"."+key+"["+index+"]",suite)}));else{var propertyName_1="";value.forEach((function(element,index,list){var entries=Object.entries(element),propertyValue="";if(2===entries.length&&2===entries[1].length)propertyValue=entries[1][1],propertyName_1=entries[1][0],"/M3"===suite&&(propertyValue=_this.getm3OnpremValue(propertyValue));else if(helper_1.Helper.isUndefinedEmpty(propertyName_1)){var doIndex=index;do{var entries_1=Object.entries(list[doIndex]);2===entries_1.length&&2===entries_1[1].length&&(propertyName_1=entries_1[1][1]),doIndex++}while(helper_1.Helper.isUndefinedEmpty(propertyName_1)||doIndex>value.length)}parameters.push(DatasourceWizardHelper.createParameterObject(path+"."+key+"[?(@."+entries[0][0]+"=='"+entries[0][1]+"')]."+propertyName_1,entries[0][1],propertyValue))}))}else parameters.push(DatasourceWizardHelper.createParameterObject(path+"."+key,key));else{var newPath=key.includes("@")?path+"['"+key+"']":path+"."+key;parameters.push(DatasourceWizardHelper.createParameterObject(newPath,key,value,suite))}else _this.findParameters(value,parameters,path+"."+key,suite)}))},DatasourceWizardHelper.getm3OnpremValue=function(sample){switch(sample){case"date":return"1985-04-12";case"date-time":return"1985-04-12T23:20:50.52Z";case"number":return 1;case"string":default:return"text"}},DatasourceWizardHelper.createParameterObject=function(key,alias,value,dataserviceType){var dataType=this.getParameterType(value,dataserviceType),finalAlias=common_constant_1.RegexStrings.FIRST_CHAR_LETTER.test(alias)?alias:"";return{id:helper_1.Helper.generateUniqueId(),key:key,valueType:value_type_enum_1.ValueTypeEnum.STRING,parameterType:parameter_type_enum_1.ParameterTypeEnum.OUTPUT,required:!1,alias:finalAlias,dataType:dataType}},DatasourceWizardHelper.getParameterType=function(value,dataserviceType){var dataType="";switch(typeof value){case"number":dataType=this.getNumericType(value);break;case"string":dataType=this.getStringType(value,dataserviceType);break;case"boolean":dataType="Boolean";break;default:dataType="String"}return dataType},DatasourceWizardHelper.getStringType=function(value,dataserviceType){void 0===dataserviceType&&(dataserviceType="");var date=new Date(value);if((DatasourceWizardHelper.isSupportedIonApiDataservice(dataserviceType)&&(date=date_helper_1.DateHelper.parse(value)),"Invalid Date"!==date.toString())&&0!==date.getHours())return value.split(":").length>1?"Date Time":"Date";return"true"===value.toLowerCase()||"false"===value.toLowerCase()?"Boolean":jQuery.isNumeric(value)?this.getNumericType(value):common_constant_1.RegexStrings.EMAIL.test(value)?"Email":"String"},DatasourceWizardHelper.getNumericType=function(value){var numericValue=Number(value);return helper_1.Helper.isFloat(numericValue)?"Decimal":numericValue>=-32768&&numericValue<=32768?"Short Integer":numericValue>=-0x8000000000000000&&numericValue<=0x8000000000000000?"Long Integer":"Integer"},DatasourceWizardHelper}();exports.DatasourceWizardHelper=DatasourceWizardHelper}).call(this,__webpack_require__(21))},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.IdoWizardCtrl=exports.IdoValidator=void 0;var angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3),sohoxi_constant_1=__webpack_require__(40);__webpack_require__(16),__webpack_require__(51);var helper_1=__webpack_require__(15);__webpack_require__(541);var dialog_service_1=__webpack_require__(13);__webpack_require__(80),__webpack_require__(94),__webpack_require__(151);var listview_directive_1=__webpack_require__(540);__webpack_require__(167);var wizard_ctrl_1=__webpack_require__(211);__webpack_require__(210),__webpack_require__(284);var IdoValidator=function(){function IdoValidator(){}return IdoValidator.isValidName=function(value){return-1!==value.indexOf(" ")?{status:!1,errorMessage:"Name cannot contain spaces"}:common_constant_1.RegexStrings.SPECIAL_CHARACTERS.test(value)?{status:!1,errorMessage:"Name cannot contain special characters"}:common_constant_1.RegexStrings.STARTS_WITH_NUMBER.test(value)?{status:!1,errorMessage:"Name cannot begin with a number"}:{status:!0}},IdoValidator.isUniqueName=function(value,collections){return function(value){return void 0!==collections.find((function(item){return item.toLowerCase()===value.toLowerCase()}))}(value)?{status:!1,errorMessage:"The name '"+value+"' is already used by an existing IDO."}:{status:!0}},IdoValidator}();exports.IdoValidator=IdoValidator;var IdoWizardCtrl=function(_super){function IdoWizardCtrl($scope,$element,$templateCache,dialogService,featureService,localIdoService,repositoryService){var _this=_super.call(this,$scope,$element,$templateCache,featureService)||this;return _this.dialogService=dialogService,_this.localIdoService=localIdoService,_this.repositoryService=repositoryService,_this.steps=[{id:"ido-wizard-basic.html",title:"Name & Description",userTip:"",template:__webpack_require__(1002)},{id:"ido-wizard-properties.html",title:"Create Properties",userTip:"",template:__webpack_require__(1003)},{id:"ido-wizard-summary.html",title:"Summary",userTip:"",template:__webpack_require__(1004)}],_this.listviewId="properties-listview",_this.idoProjects=[],_this.openTypeHelp=_this.showTypeHelp.bind(_this),_this.initWizard(),_this.collection={properties:[]},_this.initIdoWizard(),_this.$element.off().on(listview_directive_1.LISTVIEW_RENDERED,(function(event,result){result.id===_this.listviewId&&(_this.listApi=result.api,_this.listApi.element.on("click",(function(event,selectedItem){_this.selectedProperty.id!==selectedItem.data.id&&$scope.$applyAsync((function(){_this.selectedProperty=selectedItem.data}))})))})),_this}return __extends(IdoWizardCtrl,_super),Object.defineProperty(IdoWizardCtrl.prototype,"isCurrentPropertyValid",{get:function(){var currentProperty=this.selectedProperty,isCurrentUndefined=helper_1.Helper.isUndefined(currentProperty);if(isCurrentUndefined)return isCurrentUndefined;var invalidProperty=this.verifyErrorList()||helper_1.Helper.isUndefinedEmpty(currentProperty.dataType)||helper_1.Helper.isUndefinedEmpty(currentProperty.propertyLength)||helper_1.Helper.isUndefinedEmpty(currentProperty.name);return!invalidProperty||helper_1.Helper.isUndefinedEmpty(currentProperty.dataType)||"Date"!==currentProperty.dataType||helper_1.Helper.isUndefinedEmpty(currentProperty.name)||(invalidProperty=!1),invalidProperty||helper_1.Helper.isUndefinedEmpty(currentProperty.dataType)||"Decimal"!==currentProperty.dataType||!helper_1.Helper.isUndefinedEmpty(currentProperty.decimalLength)||(invalidProperty=!0),!invalidProperty},enumerable:!1,configurable:!0}),IdoWizardCtrl.prototype.verifyErrorList=function(){return 0!==this.errorList.filter((function(item){return"boolean"!=typeof item})).length},Object.defineProperty(IdoWizardCtrl.prototype,"addPropertyToolTip",{get:function(){return this.verifyErrorList()?"Correct errors in current property before adding new.":this.isCurrentPropertyValid?"Add Property":"You are missing one or more mandatory fields. Complete before adding new"},enumerable:!1,configurable:!0}),Object.defineProperty(IdoWizardCtrl.prototype,"ErrorList",{get:function(){return this.setNextDisabled(),this.setErrorToListItem(),this.errorList},enumerable:!1,configurable:!0}),IdoWizardCtrl.prototype.setErrorToListItem=function(){var _this=this;this.collection.properties.forEach((function(property){delete property.alert,delete property.alertClass})),this.errorList.forEach((function(error){var propertyFound=_this.collection.properties.find((function(property){return property.id===error.id}));propertyFound&&(propertyFound.alert=!0,propertyFound.alertClass="error")}))},IdoWizardCtrl.prototype.setNextDisabled=function(){var isDisabled,_this=this,currentStepTitle=this.currentStep.title;currentStepTitle===this.steps[0].title?isDisabled=helper_1.Helper.isUndefinedEmpty(this.collection.name)||helper_1.Helper.isUndefinedEmpty(this.collection.idoProject)||helper_1.Helper.isUndefinedEmpty(this.collection.tableAlias):currentStepTitle===this.steps[1].title&&(isDisabled=0===this.collection.properties.length||!_this.collection.properties.some((function(property){return property.primaryKey}))||!this.isCurrentPropertyValid),this.nextDisabled=isDisabled||0!==this.errorList.length},IdoWizardCtrl.prototype.getIdoProjects=function(){return this.localIdoService.getIdoProjectList().then((function(result){return result.map((function(item){return item.serverName}))}))},IdoWizardCtrl.prototype.add=function(){var newProperty={id:helper_1.Helper.generateUniqueId()};this.collection.properties.push(newProperty),this.selectedProperty=newProperty},IdoWizardCtrl.prototype.delete=function(){var index,_this=this,deleteRow=function(id){var index=_this.collection.properties.findIndex((function(item){return item.id===id}));return _this.collection.properties.splice(index,1),index},selectedRows=this.listApi.getSelected();this.dialogService.showYesNo("Delete Property","Do you want to delete "+(helper_1.Helper.isUndefinedEmpty(this.selectedProperty.name)?"the selected property":"'"+this.selectedProperty.name+"'")+"?").then((function(result){result.button===dialog_service_1.DialogButtonType.Yes&&(selectedRows.length>1?selectedRows.each((function(_,row){index=deleteRow(row.id)})):(1===selectedRows.length||_this.selectedProperty)&&(index=deleteRow(_this.selectedProperty.id)),function(index){var nextEntryIndex=index-1;-1===nextEntryIndex&&(nextEntryIndex=0),0===_this.collection.properties.length?_this.selectedProperty=void 0:_this.selectedProperty=_this.collection.properties[nextEntryIndex]}(index),_this.setNextDisabled())}))},IdoWizardCtrl.prototype.preview=function(){var option={title:"Preview IDO Properties",template:__webpack_require__(1005),parameter:this.collection.properties,cssClass:"wizard-dialog large"};this.dialogService.show(option)},IdoWizardCtrl.prototype.showTypeHelp=function(){var showOptions={message:"<b>Boolean</b> - Used for True(1) or False(0) values. <br><br><b>Date</b> -  Used for date and/or time values. <br><br><b>Decimal</b> - Used for decimal number values that have a fixed precision and scale. Valid precision values are 1 to 38. <br><br><b>File</b> - Used for Binary Large OBject (BLOB) data, such as image or audio files. <br><br><b>Integer</b> - Used for integer values. <br><br><b>String</b> - Used for text strings. Valid characters include all alphanumeric characters such as #, %, & and so on. ",title:"Data Type Help"};this.dialogService.showMessage(showOptions)},IdoWizardCtrl.prototype.isValidName=function(value){return IdoValidator.isValidName(value)},IdoWizardCtrl.prototype.isUniqueName=function(value){return IdoValidator.isUniqueName(value,this.idoCollectionUsedToValidateNameIsUnique)},IdoWizardCtrl.prototype.onChangeCurrentStep=function(){this.errorList.length=0},IdoWizardCtrl.prototype.getFinishParameter=function(){return this.collection.tableName=this.collection.name,this.collection},IdoWizardCtrl.prototype.initIdoWizard=function(){this.nextDisabled=!0,this.initIdoProjectDropdown(),this.initListviewOptions(),this.loadIdoCollections()},IdoWizardCtrl.prototype.initIdoProjectDropdown=function(){var _this=this;this.getIdoProjects().then((function(result){_this.$scope.$applyAsync((function(){return _this.idoProjects=result}))}))},IdoWizardCtrl.prototype.initListviewOptions=function(){this.listviewOptions={id:this.listviewId,dataset:this.collection.properties,template:'<ul>\n\t\t\t{{#dataset}}\n\t\t\t\t{{#alert}}\n\t\t\t\t<li class="{{alertClass}}">\n\t\t\t\t\t<p class="listview-heading">{{name}}</p>\n\t\t\t\t\t<p class="listview-micro">{{dataType}}</p>\n\t\t\t\t</li>\n\t\t\t\t{{/alert}}\n\t\t\t\t{{^alert}}\n\t\t\t\t<li id="{{id}}">\n\t\t\t\t\t<p class="listview-heading">{{name}}</p>\n\t\t\t\t\t<p class="listview-micro">{{dataType}}</p>\n\t\t\t\t</li>\n\t\t\t\t{{/alert}}\n\t\t\t{{/dataset}}\n\t\t</ul>',selectable:sohoxi_constant_1.SelectableEnum.Mixed,showCheckboxes:!1,selectOnFocus:!1}},IdoWizardCtrl.prototype.loadIdoCollections=function(){var _this=this;this.localIdoService.getIdoCollectionList().then((function(result){_this.idoCollectionUsedToValidateNameIsUnique=result.map((function(collection){return collection.collectionName}))}))},IdoWizardCtrl.prototype.setTableAlias=function(idoName){var alias;if(idoName){var shortHand=idoName.replace(/[a-z]/g,"");alias=shortHand?shortHand.slice(0,3)+"_AB":idoName.slice(0,3)+"_AB"}this.collection.tableAlias=alias},IdoWizardCtrl.prototype.getValidation=function($data){var result;switch($data.validator){case"isValidName":result=this.isValidName($data.value);break;case"isUniqueName":result=this.isUniqueName($data.value)}return result},IdoWizardCtrl.prototype.notify=function($data){return this.setTableAlias($data.value),_super.prototype.notify.call(this,$data)},IdoWizardCtrl.prototype.close=function(parameter){var _this=this;parameter.button===dialog_service_1.DialogButtonType.Ok?(this.isBusy=!0,this.repositoryService.createIDO(parameter.value).then((function(successful){_this.isBusy=!1,successful&&_this.dialog.close(parameter)})).catch((function(error){_this.isBusy=!1,_this.dialogService.showError("Could not create table",'Error due to "<b>'+error.message+'</b>"<br />\n\t\t\t\t\t\tThis could happen when an IDO was not correctly removed. Please contact your system administrator.')}))):this.dialog.close(parameter)},IdoWizardCtrl.add=function(m){m.controller("eirIdoWizardCtrl",IdoWizardCtrl)},IdoWizardCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,angular_constants_1.AngularConstants.ELEMENT,angular_constants_1.AngularConstants.TEMPLATE_CACHE,common_constant_1.InjectNames.DIALOG_SERVICE,common_constant_1.InjectNames.FEATURE_SWITCH_SERVICE,common_constant_1.InjectNames.LOCAL_IDO_SERVICE,common_constant_1.InjectNames.REPOSITORY_SERVICE],IdoWizardCtrl}(wizard_ctrl_1.WizardCtrl);exports.IdoWizardCtrl=IdoWizardCtrl},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PAGE_TEMPLATES=void 0,__webpack_require__(105),__webpack_require__(553),__webpack_require__(70),__webpack_require__(1031),__webpack_require__(1032),__webpack_require__(1033),__webpack_require__(1034),__webpack_require__(1035),__webpack_require__(554),__webpack_require__(1036),__webpack_require__(1037),__webpack_require__(1038),__webpack_require__(1039),__webpack_require__(1040),__webpack_require__(1041),__webpack_require__(1042),exports.PAGE_TEMPLATES=[{idx:1,imgSrc:"designer/images/createPage/01-thumb.png"},{idx:2,imgSrc:"designer/images/createPage/02-thumb.png"},{idx:3,imgSrc:"designer/images/createPage/03-thumb.png"},{idx:4,imgSrc:"designer/images/createPage/04-thumb.png"},{idx:5,imgSrc:"designer/images/createPage/05-thumb.png"},{idx:6,imgSrc:"designer/images/createPage/06-thumb.png"},{idx:7,imgSrc:"designer/images/createPage/07-thumb.png"},{idx:8,imgSrc:"designer/images/createPage/08-thumb.png"},{idx:9,imgSrc:"designer/images/createPage/09-thumb.png"},{idx:10,imgSrc:"designer/images/createPage/010-thumb.png"},{idx:11,imgSrc:"designer/images/createPage/011-thumb.png"},{idx:12,imgSrc:"designer/images/createPage/012-thumb.png"},{idx:13,imgSrc:"designer/images/createPage/013-thumb.png"}]},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="../designer/images/createPage/02-thumb.png"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ChartSettingsDialogCtrl=void 0;var angular_constants_1=__webpack_require__(7);__webpack_require__(319),__webpack_require__(16);var dialog_service_1=__webpack_require__(13),chart_settings_1=__webpack_require__(440),ChartSettingsDialogCtrl=function(){function ChartSettingsDialogCtrl(scope){this.scope=scope,this.chartActionEnum=chart_settings_1.ChartDialogActionEnum;var dialog=scope.eirDialog;this.dialog=dialog,this.type=dialog.parameter.type,this.content=dialog.parameter.content,this.setSelectedSourceField()}return ChartSettingsDialogCtrl.prototype.setSelectedSourceField=function(){for(var sourceFields=this.content.sourceFields,chartContent=this.content.chartContent,i=0;i<sourceFields.length;i++)sourceFields[i].sourceKeyShort===chartContent.categories&&(this.selectedCategory=sourceFields[i]),sourceFields[i].sourceKeyShort===chartContent.series&&(this.selectedSeries=sourceFields[i])},ChartSettingsDialogCtrl.prototype.cancel=function(){var result={button:dialog_service_1.DialogButtonType.Cancel};this.dialog.close(result)},ChartSettingsDialogCtrl.prototype.save=function(){this.content.chartContent.categories=this.selectedCategory?this.selectedCategory.sourceKeyShort:null,this.content.chartContent.series=this.selectedSeries?this.selectedSeries.sourceKeyShort:null;var result={value:{dialogAction:this.type,content:this.content.chartContent},button:dialog_service_1.DialogButtonType.Ok};this.dialog.close(result)},ChartSettingsDialogCtrl.add=function(m){m.controller("eirChartSettingsDialogCtrl",ChartSettingsDialogCtrl)},ChartSettingsDialogCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE],ChartSettingsDialogCtrl}();exports.ChartSettingsDialogCtrl=ChartSettingsDialogCtrl},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.UpsertDatagridColumnContentSettings=void 0;var angular_1=__importDefault(__webpack_require__(12)),helper_1=__webpack_require__(153),common_constant_1=__webpack_require__(3),sohoxi_constant_1=__webpack_require__(40),datasource_type_enum_1=__webpack_require__(57),angular_constants_1=__webpack_require__(7),settings_base_1=__webpack_require__(59),helper_2=__webpack_require__(15),datagrid_helper_1=__webpack_require__(93),helper_3=__webpack_require__(69),dialog_service_1=__webpack_require__(13);__webpack_require__(71),__webpack_require__(20);var UpsertDatagridColumnContentSettings=function(_super){function UpsertDatagridColumnContentSettings($scope,editorService,dialogService,translationManagementService){var _this=_super.call(this,$scope,editorService)||this;return _this.dialogService=dialogService,_this.translationManagementService=translationManagementService,_this.htmlDecode=helper_2.Helper.htmlDecode,_this.unsubscribers=[],_this.unsubscribers.push(editorService.selectedDatasourceChangedEvent.on((function(datasource){_this.refreshMetaSettings(datasource)})),_this.translationManagementService.onTranslationsChangedEvent.on((function(){_this.selectedComponent&&_this.selectedComponent.updateValuesWithTranslations()}))),_this}return __extends(UpsertDatagridColumnContentSettings,_super),Object.defineProperty(UpsertDatagridColumnContentSettings.prototype,"Columns",{get:function(){return this.selectedComponent.getDatabearer().columns},enumerable:!1,configurable:!0}),UpsertDatagridColumnContentSettings.prototype.onArrange=function(event){var databearer=this.selectedComponent.getDatabearer();helper_1.EditorHelper.moveByIndex(databearer.columns,event.startIndex,event.endIndex),this.refreshComponent(),this.save()},UpsertDatagridColumnContentSettings.prototype.onAddColumn=function(){var _this=this,column={id:"",name:"",sortable:!0,resizable:!0,editable:!1,summarize:!1,textOverflow:"ellipsis"};this.addColumn(column),this.selectedComponent.getDatasource()&&this.openUpsertDialog(column,!0).then((function(dialogResult){dialogResult.button===dialog_service_1.DialogButtonType.Ok?(_this.editColumn(dialogResult.value),_this.save()):_this.deleteColumn(column,!1)}))},UpsertDatagridColumnContentSettings.prototype.onEditColumn=function(column){var _this=this;this.openUpsertDialog(column).then((function(dialogResult){if(dialogResult.button){switch(dialogResult.button){case dialog_service_1.DialogButtonType.Ok:_this.editColumn(dialogResult.value);break;default:console.warn("Invalid option")}_this.save()}}))},UpsertDatagridColumnContentSettings.prototype.deleteColumn=function(column,save){void 0===save&&(save=!0);var databearer=this.selectedComponent.getDatabearer(),columns=databearer.columns,index=columns.findIndex((function(item){return item.id===column.id}));index>-1&&columns.splice(index,1),this.refreshComponent(),this.translationManagementService.removeTranslation(databearer.id,column.id),column.text&&this.translationManagementService.removeTranslation(databearer.id,column.id+"CellText"),save&&this.save()},UpsertDatagridColumnContentSettings.prototype.refreshMetaSettings=function(dataservice){var _this=this,newDeferred=this.editorService.getNewDeferred();if(dataservice){var resultPromise=dataservice.getMetaData().then((function(metadata){_this.addColumns(metadata.outputFields,!0,dataservice.typedef)}));newDeferred.resolve(resultPromise)}return newDeferred.promise},UpsertDatagridColumnContentSettings.prototype.deleteAllColumns=function(){var _this=this,columns=angular_1.default.copy(this.selectedComponent.getDatabearer().columns);columns.length&&columns.forEach((function(column){return _this.deleteColumn(column)}))},UpsertDatagridColumnContentSettings.prototype.addColumns=function(outputFields,showAskDialog,typedef){var _this=this;showAskDialog?this.showAddPredefinedColumnsDialog(outputFields).then((function(dialogResponse){if(dialogResponse.button===dialog_service_1.DialogButtonType.Ok){_this.deleteAllColumns();var values=dialogResponse.value;_this.autoAddColumns(values.selectedColumns,values.autoFormatColumns,typedef)}_this.save()})):(this.autoAddColumns(outputFields),this.refreshComponent())},UpsertDatagridColumnContentSettings.prototype.refreshComponent=function(){this.selectedComponent.updateValuesWithTranslations(),this.selectedComponent.getTypedef()===common_constant_1.ComponentNames.Datagrid&&this.selectedComponent.refreshDatagrid()},UpsertDatagridColumnContentSettings.prototype.save=function(){this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.TRANSLATIONS),this.editorService.saveCanvas(),this.editorService.setSourceTriggerEvent.raise()},UpsertDatagridColumnContentSettings.prototype.autoAddColumns=function(outputFields,autoFormatColumns,typedef){var _this=this;outputFields.forEach((function(item){var newColumn={id:"",name:item.FLDS.trim(),sortable:!0,resizable:!0,summarize:!1,textOverflow:"ellipsis",field:item.FLNM,formatterName:autoFormatColumns?_this.getFormatterName(item.type,typedef):void 0};autoFormatColumns&&datagrid_helper_1.DatagridHelper.setColumnSettings(newColumn,_this.translationManagementService.getSelectedLocale()),_this.addColumn(newColumn)})),this.selectedComponent.getTypedef()===common_constant_1.ComponentNames.Datagrid&&this.selectedComponent.toggleMultiSelection()},UpsertDatagridColumnContentSettings.prototype.getFormatterName=function(type,typedef){switch(typedef){case datasource_type_enum_1.DatasourceTypeEnum.IDO:case datasource_type_enum_1.DatasourceTypeEnum.generic:switch(type){case"Boolean":case"Byte":return sohoxi_constant_1.FormatterEnum.Checkbox;case"Date":return sohoxi_constant_1.FormatterEnum.Date;case"Date Time":return sohoxi_constant_1.FormatterEnum.Datetime;case"Email":return sohoxi_constant_1.FormatterEnum.Hyperlink;case"Short Integer":case"Long Integer":case"Number":return sohoxi_constant_1.FormatterEnum.Integer;case"Decimal":return sohoxi_constant_1.FormatterEnum.Decimal;case"GUID":case"String":default:return}case datasource_type_enum_1.DatasourceTypeEnum.IDM:case datasource_type_enum_1.DatasourceTypeEnum.M3:default:return}},UpsertDatagridColumnContentSettings.prototype.addColumn=function(newColumn){var databearer=this.selectedComponent.getDatabearer(),columnIds=databearer.columns.map((function(column){return column.id})),index=helper_3.ComponentsHelper.nextNumber(columnIds),newId=this.selectedComponent.getId()+"Column"+index;newColumn.id=newId,databearer.columns.push(newColumn),this.adjustColumnSizes(),this.addToLanguageComponents(newColumn,index)},UpsertDatagridColumnContentSettings.prototype.editColumn=function(column){var databearer=this.selectedComponent.getDatabearer();databearer.columns.forEach((function(ignoredColumn,index){column.id===ignoredColumn.id&&(databearer.columns[index]=column)}));var hasTextTranslation=this.translationManagementService.hasLanguageComponent(databearer.id,column.id+"CellText");return hasTextTranslation||helper_2.Helper.isUndefinedOrNull(column.text)?hasTextTranslation&&!helper_2.Helper.isUndefinedOrNull(column.text)?this.translationManagementService.setTranslatableStringByProperty(databearer.id,column.id+"CellText",{locale:this.translationManagementService.getSelectedLocale(),value:column.text},!1):hasTextTranslation&&helper_2.Helper.isUndefinedOrNull(column.text)&&this.translationManagementService.removeTranslation(databearer.id,column.id+"CellText",!1):this.translationManagementService.createGeneralLanguageComponent(databearer.id,column.id+"CellText",column.text,!1),this.translationManagementService.setTranslatableStringByProperty(databearer.id,column.id,{locale:this.translationManagementService.getSelectedLocale(),value:column.name}),column.formatterName===sohoxi_constant_1.FormatterEnum.Button?this.selectedComponent.addClickEvent(column):column.formatterName===sohoxi_constant_1.FormatterEnum.Hyperlink&&this.selectedComponent.addHyperlinkEvent(column),column.summarize||(column.summaryText=null,column.summaryTextPlacement=null),column.substitute||(column.substituteOptions=null),this.refreshComponent()},UpsertDatagridColumnContentSettings.prototype.adjustColumnSizes=function(){var columns=this.selectedComponent.getDatabearer().columns,numberOfColumns=columns.length,width=(common_constant_1.Numbers.HUNDRED/numberOfColumns).toString()+"%";columns.forEach((function(column){return column.width=width}))},UpsertDatagridColumnContentSettings.prototype.showAddPredefinedColumnsDialog=function(outputFields){var options={title:"Auto Add Columns",template:__webpack_require__(1051),parameter:outputFields};return this.dialogService.show(options)},UpsertDatagridColumnContentSettings.prototype.openUpsertDialog=function(column,isAdd){var _this=this,options={title:isAdd?this.addTitle:this.editTitle,parameter:{sourceFields:[],column:angular_1.default.copy(column),isAdd:isAdd,component:this.selectedComponent},template:__webpack_require__(1052)};return this.selectedComponent.datasource?this.getAvailableSourceFields().then((function(sourceFields){return options.parameter.sourceFields=sourceFields,_this.dialogService.show(options)})):this.dialogService.show(options)},UpsertDatagridColumnContentSettings.prototype.getAvailableSourceFields=function(){return this.selectedComponent.datasource.getMetaData().then((function(metadata){var availableSourceField=[];return metadata.outputFields.map((function(outputField){availableSourceField.push({visibleName:outputField.FLDS.trim(),sourceKey:outputField.FLNM,sourceKeyShort:outputField.FLNM})})),availableSourceField}))},UpsertDatagridColumnContentSettings.prototype.addToLanguageComponents=function(column,index){var databearer=this.selectedComponent.getDatabearer(),newId=column.id,newName=column.name?column.name:"Column "+index;return this.translationManagementService.createGeneralLanguageComponent(databearer.id,newId,newName),this.translationManagementService.setTranslatableStringByProperty(databearer.id,column.id,{locale:this.translationManagementService.getSelectedLocale(),value:column.name})},UpsertDatagridColumnContentSettings.$inject=[angular_constants_1.AngularConstants.SCOPE,common_constant_1.InjectNames.EDITOR_SERVICE,common_constant_1.InjectNames.DIALOG_SERVICE,common_constant_1.InjectNames.TRANSLATION_MANAGEMENT_SERVICE],UpsertDatagridColumnContentSettings}(settings_base_1.SettingsBase);exports.UpsertDatagridColumnContentSettings=UpsertDatagridColumnContentSettings},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.FlexboxContentSettingsDirective=exports.FlexboxContentSettingsCtrl=void 0;var cloneDeep_1=__importDefault(__webpack_require__(333)),angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3),orientation_enum_1=__webpack_require__(44),settings_base_1=__webpack_require__(59),flexbox_settings_1=__webpack_require__(332),helper_1=__webpack_require__(15),helper_2=__webpack_require__(69);__webpack_require__(20);var FlexboxContentSettingsCtrl=function(_super){function FlexboxContentSettingsCtrl($scope,editorService){var _this=_super.call(this,$scope,editorService)||this;return _this.htmlEncode=helper_1.Helper.htmlEncode,_this.onComponentChanged(editorService.getSelectedComponent()),_this.unsubscribers.push(_this.editorService.currentFlexOrientationChangedEvent.on((function(value){_this.currentOrientation=value}))),_this}return __extends(FlexboxContentSettingsCtrl,_super),FlexboxContentSettingsCtrl.prototype.addFirstColumn=function(){this.addFirstChildren(orientation_enum_1.OrientationEnum.HORIZONTAL)},FlexboxContentSettingsCtrl.prototype.addFirstRow=function(){this.addFirstChildren(orientation_enum_1.OrientationEnum.VERTICAL)},FlexboxContentSettingsCtrl.prototype.onMouseEnter=function(component,event){component.onMouseOver(event)},FlexboxContentSettingsCtrl.prototype.onMouseLeave=function(component,event){component.onMouseLeave(event)},FlexboxContentSettingsCtrl.prototype.selectComponent=function(component,event){component.onClick(event)},FlexboxContentSettingsCtrl.prototype.addChild=function(){this.pushChild(),this.editorService.saveCanvas()},FlexboxContentSettingsCtrl.prototype.removeChild=function(){this.selectedComponent.getDatabearer().children.length>FlexboxContentSettingsCtrl.MIN_CHILDREN_COUNT?this.popChild():this.removeLastChildren(),this.editorService.saveCanvas()},FlexboxContentSettingsCtrl.prototype.onComponentChanged=function(newComponent){if(_super.prototype.onComponentChanged.call(this,newComponent),this.selectedComponent){this.countflexChildren();var currentBoundary=this.editorService.getCurrentBoundary();this.currentOrientation=this.selectedComponent.getBoundarySetting(common_constant_1.SettingKeys.ORIENTATION,currentBoundary.id)}},FlexboxContentSettingsCtrl.prototype.onBoundaryChanged=function(currentBoundary){this.currentOrientation=this.selectedComponent.getBoundarySetting(common_constant_1.SettingKeys.ORIENTATION,currentBoundary.id)},FlexboxContentSettingsCtrl.prototype.countflexChildren=function(){var flexChildrenCount=0;this.selectedComponent.children.forEach((function(child){child.getTypedef()===common_constant_1.ComponentNames.Flexbox&&flexChildrenCount++})),this.flexChildrenAmount=flexChildrenCount},FlexboxContentSettingsCtrl.prototype.pushChild=function(){var newFlexChild=flexbox_settings_1.FlexboxSettings.getInstance().create(this.editorService.generateId(helper_2.ComponentsHelper.getComponentDisplayName("Flexbox")));return this.flexChildrenAmount++,this.selectedComponent.insert(newFlexChild),newFlexChild},FlexboxContentSettingsCtrl.prototype.popChild=function(){this.flexChildrenAmount--;var flexboxDatabearer=this.selectedComponent.getDatabearer(),childIdToRemove=flexboxDatabearer.children[flexboxDatabearer.children.length-1].id;return this.selectedComponent.detachChild(childIdToRemove)},FlexboxContentSettingsCtrl.prototype.addFirstChildren=function(orientation){var _this=this,flexbox=this.selectedComponent,detachedChildren=[],childrenContext=[];if(!flexbox.isFlexParent)for(var childArray=flexbox.children;childArray.length>0;){var currentItem=null;switch(childArray[0].getTypedef()){case common_constant_1.ComponentNames.Dropdown:currentItem=cloneDeep_1.default(childArray[0].currentItemIndex);break;case common_constant_1.ComponentNames.List:currentItem=cloneDeep_1.default(childArray[0].selectedGeneratedId);break;case common_constant_1.ComponentNames.Datagrid:currentItem=cloneDeep_1.default(childArray[0].previousAttributes)}childrenContext.push({context:cloneDeep_1.default(childArray[0].getScope().context),currentItemOptions:currentItem}),detachedChildren.push(childArray[0].detach())}var firstFlexChild=this.pushChild();this.pushChild(),detachedChildren.forEach((function(child){firstFlexChild.children.push(child)})),flexbox.setBoundarySetting(common_constant_1.SettingKeys.ORIENTATION,orientation),flexbox.isFlexParent=!0,this.currentOrientation=orientation,this.editorService.currentFlexIsParentChangedEvent.raise(flexbox.isFlexParent),this.editorService.currentFlexOrientationChangedEvent.raise(orientation),this.editorService.refreshSettingEvent.raise(common_constant_1.SettingKeys.ORIENTATION),this.editorService.saveCanvas(),this.editorService.getTimeout()((function(){_this.selectedComponent.children.length>0&&_this.resetPreviousData(childrenContext)}))},FlexboxContentSettingsCtrl.prototype.resetPreviousData=function(childrenContext){var _this=this;childrenContext.forEach((function(childContext,index){var newFlexboxParent=_this.selectedComponent.children[0];newFlexboxParent.children[index].getScope().context=childContext.context;var componentInstance=newFlexboxParent.children[index];switch(componentInstance.getTypedef()){case common_constant_1.ComponentNames.List:componentInstance.setCurrentItem(childContext.currentItemOptions);break;case common_constant_1.ComponentNames.Dropdown:var currentIndex=childContext.currentItemOptions;componentInstance.setCurrentItem(childContext.context.ListResult[currentIndex]);break;case common_constant_1.ComponentNames.Datagrid:var datagrid_1=componentInstance;datagrid_1.previousAttributes=childContext.currentItemOptions,datagrid_1.datagridOptions.dataset=childContext.context.ListResult,_this.editorService.getTimeout()((function(){datagrid_1.toggleSelected()}))}}))},FlexboxContentSettingsCtrl.prototype.removeLastChildren=function(){var flexbox=this.selectedComponent;flexbox.getDatabearer().children.length===FlexboxContentSettingsCtrl.MIN_CHILDREN_COUNT&&this.popChild();var lastChild=this.popChild();lastChild.children.length>0?this.transferChildrenToGrandParent(lastChild):flexbox.isFlexParent=!1,this.editorService.currentFlexIsParentChangedEvent.raise(flexbox.isFlexParent),this.editorService.currentFlexOrientationChangedEvent.raise(this.selectedComponent.getBoundarySetting(common_constant_1.SettingKeys.ORIENTATION,this.currentBoundary.id))},FlexboxContentSettingsCtrl.prototype.transferChildrenToGrandParent=function(child){var flexbox=this.selectedComponent;child.children.forEach((function(subChild){flexbox.insert(subChild)})),flexbox.isFlexParent=flexbox.getDatabearer().children[0].typedef===common_constant_1.ComponentNames.Flexbox,flexbox.setBoundarySetting(common_constant_1.SettingKeys.ORIENTATION,child.boundarySettings[common_constant_1.DEFAULT_BOUNDARY.id].orientation)},FlexboxContentSettingsCtrl.MIN_CHILDREN_COUNT=2,FlexboxContentSettingsCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,common_constant_1.InjectNames.EDITOR_SERVICE],FlexboxContentSettingsCtrl}(settings_base_1.SettingsBase);exports.FlexboxContentSettingsCtrl=FlexboxContentSettingsCtrl;var FlexboxContentSettingsDirective=function FlexboxContentSettingsDirective(){this.template=__webpack_require__(1054),this.scope=!0,this.controller=FlexboxContentSettingsCtrl,this.controllerAs="eirFlexboxContentSettingsCtrl"};exports.FlexboxContentSettingsDirective=FlexboxContentSettingsDirective},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ListSettings=void 0;var common_constant_1=__webpack_require__(3),orientation_enum_1=__webpack_require__(44),size_type_enum_1=__webpack_require__(29),component_settings_1=__webpack_require__(117),flexbox_settings_1=__webpack_require__(332),list_style_settings_1=__webpack_require__(1055),hyperlink_1=__webpack_require__(420),image_1=__webpack_require__(421),label_1=__webpack_require__(422),list_1=__webpack_require__(276),ListSettings=function(){function ListSettings(){if(this.availableTemplates=[{id:common_constant_1.ListTemplateIdEnum.OneLabelFlexbox,displayName:"One Label"},{id:common_constant_1.ListTemplateIdEnum.TwoVerticalLabels,displayName:"Two Labels Vertical"},{id:common_constant_1.ListTemplateIdEnum.ImageAndLabels,displayName:"Image & Labels"},{id:common_constant_1.ListTemplateIdEnum.OneHyperlink,displayName:"One Hyperlink"},{id:common_constant_1.ListTemplateIdEnum.OneHyperlinkAndLabel,displayName:"Label & Hyperlink"},{id:common_constant_1.ListTemplateIdEnum.ImageLabelAndHyperlink,displayName:"Image, Label and Hyperlink"}],this.styleSettingsDirective=new list_style_settings_1.ListStyleSettingsDirective,ListSettings.instance)throw new Error("Error: Instantiation failed: Use ListSettings.getInstance() instead of new.")}return ListSettings.getInstance=function(){return this.instance},ListSettings.prototype.create=function(id){var newList=component_settings_1.ComponentSettingsCtrl.create(id,list_1.List);return newList.boundarySettings[common_constant_1.DEFAULT_BOUNDARY.id].itemTemplate=this.getTemplate(this.availableTemplates[0].id,id),newList},ListSettings.prototype.getTemplate=function(id,listId){var templateComponent;switch(id){case common_constant_1.ListTemplateIdEnum.OneLabelFlexbox:var labelFlexbox=flexbox_settings_1.FlexboxSettings.getInstance().createWithoutPadding(common_constant_1.ListTemplateIdEnum.OneLabelFlexbox);labelFlexbox.children.push(component_settings_1.ComponentSettingsCtrl.create("OneLabel"+listId,label_1.Label)),templateComponent=labelFlexbox;break;case common_constant_1.ListTemplateIdEnum.TwoVerticalLabels:var flexboxVertical=flexbox_settings_1.FlexboxSettings.getInstance().createWithoutPadding(common_constant_1.ListTemplateIdEnum.TwoVerticalLabels),topLabel=this.createLabel(listId,"TopLabel"),bottomLabel=component_settings_1.ComponentSettingsCtrl.create("BottomLabel"+listId,label_1.Label);flexboxVertical.children.push(topLabel),flexboxVertical.children.push(bottomLabel),templateComponent=flexboxVertical;break;case common_constant_1.ListTemplateIdEnum.ImageAndLabels:var imageFlexbox=flexbox_settings_1.FlexboxSettings.getInstance().createWithoutPadding(common_constant_1.ListTemplateIdEnum.ImageAndLabels,orientation_enum_1.OrientationEnum.HORIZONTAL),image=this.createImage(listId),innerFlexbox=flexbox_settings_1.FlexboxSettings.getInstance().createWithoutPadding("InnerFlexbox"),label1=this.createLabel(listId,"Label1"),label2=component_settings_1.ComponentSettingsCtrl.create("Label2"+listId,label_1.Label);innerFlexbox.children.push(label1),innerFlexbox.children.push(label2),imageFlexbox.children.push(image),imageFlexbox.children.push(innerFlexbox),templateComponent=imageFlexbox;break;case common_constant_1.ListTemplateIdEnum.OneHyperlink:var hyperlinkFlexbox=flexbox_settings_1.FlexboxSettings.getInstance().createWithoutPadding(common_constant_1.ListTemplateIdEnum.OneHyperlink);hyperlinkFlexbox.children.push(component_settings_1.ComponentSettingsCtrl.create("Hyperlink"+listId,hyperlink_1.Hyperlink)),templateComponent=hyperlinkFlexbox;break;case common_constant_1.ListTemplateIdEnum.OneHyperlinkAndLabel:var flexboxHyperlinkVertical=flexbox_settings_1.FlexboxSettings.getInstance().createWithoutPadding(common_constant_1.ListTemplateIdEnum.OneHyperlinkAndLabel),label=this.createLabel(listId,"Label"),hyperlink=component_settings_1.ComponentSettingsCtrl.create("Hyperlink"+listId,hyperlink_1.Hyperlink);flexboxHyperlinkVertical.children.push(label),flexboxHyperlinkVertical.children.push(hyperlink),templateComponent=flexboxHyperlinkVertical;break;case common_constant_1.ListTemplateIdEnum.ImageLabelAndHyperlink:var imageHyperlinkFlexbox=flexbox_settings_1.FlexboxSettings.getInstance().createWithoutPadding(common_constant_1.ListTemplateIdEnum.ImageLabelAndHyperlink,orientation_enum_1.OrientationEnum.HORIZONTAL),imagePiece=this.createImage(listId),innerFlexboxPiece=flexbox_settings_1.FlexboxSettings.getInstance().createWithoutPadding("InnerFlexbox"),labelPiece=this.createLabel(listId,"Label"),hyperlinkPiece=component_settings_1.ComponentSettingsCtrl.create("Hyperlink"+listId,hyperlink_1.Hyperlink);innerFlexboxPiece.children.push(labelPiece),innerFlexboxPiece.children.push(hyperlinkPiece),imageHyperlinkFlexbox.children.push(imagePiece),imageHyperlinkFlexbox.children.push(innerFlexboxPiece),templateComponent=imageHyperlinkFlexbox;break;default:console.warn("[DataListpanelSettingsCtrl] Invalid template choice")}return templateComponent},ListSettings.prototype.createLabel=function(listId,name){var label=component_settings_1.ComponentSettingsCtrl.create(name+listId,label_1.Label);return label.fontStyle="medium-heading",label.boundarySettings[common_constant_1.DEFAULT_BOUNDARY.id].margin={top:2,right:0,bottom:10,left:0},label},ListSettings.prototype.createImage=function(listId){var image=component_settings_1.ComponentSettingsCtrl.create("Image"+listId,image_1.Image);return image.boundarySettings[common_constant_1.DEFAULT_BOUNDARY.id].width={sizeType:size_type_enum_1.SizeTypeEnum.PIXELS,value:40},image.boundarySettings[common_constant_1.DEFAULT_BOUNDARY.id].height={sizeType:size_type_enum_1.SizeTypeEnum.PIXELS,value:40},image.boundarySettings[common_constant_1.DEFAULT_BOUNDARY.id].margin={top:-1,right:15,bottom:2,left:0},image.position=common_constant_1.ImagePositions.FIT,image},ListSettings.instance=new ListSettings,ListSettings}();exports.ListSettings=ListSettings},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.EditRadioButtonCtrl=void 0;var angular_1=__importDefault(__webpack_require__(12)),angular_constants_1=__webpack_require__(7),dialog_service_1=__webpack_require__(13);__webpack_require__(80);var feature_switch_ctrl_1=__webpack_require__(134);__webpack_require__(71),__webpack_require__(444),__webpack_require__(20);var common_constant_1=__webpack_require__(3),EditRadioButtonCtrl=function(_super){function EditRadioButtonCtrl(scope,editorService,translationManagementService,featureSwitchService){var _this=_super.call(this,featureSwitchService)||this;_this.scope=scope,_this.editorService=editorService,_this.translationManagementService=translationManagementService;var dialog=scope.eirDialog;_this.dialog=dialog;var parameter=dialog.parameter;return _this.radioButton=parameter.radio,_this.selectedComponent=parameter.component,_this.lookupOptions=_this.translationManagementService.getLookupOptions(),_this.autocompleteOptions=_this.translationManagementService.getAutoOptions(),_this}return __extends(EditRadioButtonCtrl,_super),EditRadioButtonCtrl.prototype.openTranslations=function(){var _this=this;this.translationManagementService.openTranslations(this.selectedComponent,this.radioButton.id).then((function(result){if(result.button===dialog_service_1.DialogButtonType.Ok){var changes=result.value;if(changes.savedComponentStrings.length>0){var selectedChanged=changes.savedComponentStrings.find((function(translation){return translation.component===_this.selectedComponent.getId()&&translation.reference===_this.radioButton.id}));selectedChanged&&(_this.radioButton.name=selectedChanged.newValue),_this.editorService.updateTranslatables()}}result.button!==dialog_service_1.DialogButtonType.Ok||angular_1.default.equals({},result.value.savedGlobalStrings)||_this.translationManagementService.saveGlobalTranslations(result.value.savedGlobalStrings).then((function(){_this.editorService.updateTranslatables()})),result.button!==dialog_service_1.DialogButtonType.Ok||angular_1.default.equals({},result.value.deletedGlobalStrings)||_this.translationManagementService.deleteGlobalTranslations(result.value.deletedGlobalStrings).then((function(){_this.editorService.updateTranslatables()}))}))},EditRadioButtonCtrl.prototype.onChangeRadioButtonName=function(){var newValue={locale:this.translationManagementService.getSelectedLocale(),value:this.radioButton.name};this.translationManagementService.setTranslatableStringByProperty(this.selectedComponent.getId(),this.radioButton.id,newValue)},EditRadioButtonCtrl.prototype.cancel=function(){this.dialog.close()},EditRadioButtonCtrl.prototype.save=function(){delete this.radioButton.value;var result={value:this.radioButton,button:dialog_service_1.DialogButtonType.Ok};this.dialog.close(result),this.selectedComponent.initializeBindings()},EditRadioButtonCtrl.add=function(m){m.controller("eirEditRadioButtonCtrl",EditRadioButtonCtrl)},EditRadioButtonCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,common_constant_1.InjectNames.EDITOR_SERVICE,common_constant_1.InjectNames.TRANSLATION_MANAGEMENT_SERVICE,common_constant_1.InjectNames.FEATURE_SWITCH_SERVICE],EditRadioButtonCtrl}(feature_switch_ctrl_1.FeatureSwitchCtrl);exports.EditRadioButtonCtrl=EditRadioButtonCtrl},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TextboxSettings=void 0;var common_constant_1=__webpack_require__(3),textbox_1=__webpack_require__(424),component_settings_1=__webpack_require__(117),textbox_style_settings_1=__webpack_require__(1068),TextboxSettings=function(){function TextboxSettings(){if(this.availableMasks=[{name:"None",value:common_constant_1.MaskProcess.NONE},{name:"Number",value:common_constant_1.MaskProcess.NUMBER},{name:"Password",value:common_constant_1.MaskProcess.PASSWORD},{name:"Date/Time",value:common_constant_1.MaskProcess.DATE_TIME},{name:"String",value:common_constant_1.MaskProcess.STRING}],this.styleSettingsDirective=new textbox_style_settings_1.TextboxStyleSettingsDirective,TextboxSettings.instance)throw new Error("Error: Instantiation failed: Use TextboxSettings.getInstance() instead of new.")}return TextboxSettings.getInstance=function(){return this.instance},TextboxSettings.prototype.create=function(id){return component_settings_1.ComponentSettingsCtrl.create(id,textbox_1.TextBox)},TextboxSettings.instance=new TextboxSettings,TextboxSettings}();exports.TextboxSettings=TextboxSettings},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.EditorTextboxCtrl=void 0;var common_constant_1=__webpack_require__(3),textbox_1=__webpack_require__(424),EditorTextboxCtrl=function(_super){function EditorTextboxCtrl(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(EditorTextboxCtrl,_super),EditorTextboxCtrl.add=function(m){m.controller(common_constant_1.ComponentClassNames.EDITOR_COMPONENT_PREFIX+textbox_1.TextBox.name,EditorTextboxCtrl)},EditorTextboxCtrl}(__webpack_require__(58).EditorComponentCtrl);exports.EditorTextboxCtrl=EditorTextboxCtrl},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.StandardBoundariesCtrl=void 0;var angular_1=__importDefault(__webpack_require__(12)),angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3);__webpack_require__(16);var dialog_service_1=__webpack_require__(13);__webpack_require__(330),__webpack_require__(20);var StandardBoundariesCtrl=function(){function StandardBoundariesCtrl(scope,editorService,boundaryManagementService){this.scope=scope,this.editorService=editorService,this.boundaryManagementService=boundaryManagementService;var dialog=this.scope.eirDialog;this.dialog=dialog,this.standardBoundaries=angular_1.default.copy(dialog.parameter.standardBoundaries),this.standardBoundaries.forEach((function(boundary){dialog.parameter.selectedStandardBoundaryIds.indexOf(boundary.id)>=0&&(boundary.selected=!0)}))}return StandardBoundariesCtrl.prototype.ok=function(){var newBoundaryIds=[];this.standardBoundaries.forEach((function(boundary){!0===boundary.selected&&newBoundaryIds.push(boundary.id)}));var result={value:newBoundaryIds,button:dialog_service_1.DialogButtonType.Ok};this.dialog.close(result)},StandardBoundariesCtrl.add=function(m){m.controller("eirStandardBoundariesCtrl",StandardBoundariesCtrl)},StandardBoundariesCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,common_constant_1.InjectNames.EDITOR_SERVICE,common_constant_1.InjectNames.BOUNDARY_MANAGEMENT_SERVICE],StandardBoundariesCtrl}();exports.StandardBoundariesCtrl=StandardBoundariesCtrl},,function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.SettingsDirective=exports.SettingsCtrl=void 0;var angular_1=__importDefault(__webpack_require__(12)),angular_constants_1=__webpack_require__(7);__webpack_require__(114);var common_constant_1=__webpack_require__(3),datasource_type_enum_1=__webpack_require__(57);__webpack_require__(41),__webpack_require__(105),__webpack_require__(130);var dialog_service_1=__webpack_require__(13),helper_1=__webpack_require__(69);__webpack_require__(20),__webpack_require__(169);var SettingsCtrl=function(_super){function SettingsCtrl($scope,editorService,dialogService,interactionManagementService){var _this=_super.call(this,$scope,editorService)||this;return _this.$scope=$scope,_this.dialogService=dialogService,_this.interactionManagementService=interactionManagementService,_this.unsubscribers.push(editorService.currentBoundaryChangedEvent.on((function(newBoundary){_this.currentBoundary=newBoundary}))),_this.currentBoundary=editorService.getCurrentBoundary(),_this.unsubscribers.push(editorService.canvasModeChangedEvent.on((function(mode){_this.showOverlay=mode===common_constant_1.CanvasModeEnum.FINDER||mode===common_constant_1.CanvasModeEnum.WIZARD}))),_this.refreshAvailableDatasources(),_this.onComponentChanged(editorService.getSelectedComponent()),_this}return __extends(SettingsCtrl,_super),SettingsCtrl.prototype.refreshAvailableDatasources=function(){this.availableDatasources=this.editorService.getCurrentProject().getDatasourceDatabearers(),this.availableDatasources.unshift({displayName:common_constant_1.ValueObject.TARGET_CONTEXT,id:void 0})},SettingsCtrl.prototype.manageDatasources=function(){var _this=this,options={title:"Project Data Services",template:__webpack_require__(1129),cssClass:"datasources-manage-dialog",style:"min-width: 1000px; max-width: 1125px;"};this.dialogService.show(options).then((function(result){result&&result.button===dialog_service_1.DialogButtonType.Ok&&_this.refreshAvailableDatasources()}))},SettingsCtrl.prototype.changeSidebarTab=function(item){this.editorService.setCurrentSidebarTab(item)},SettingsCtrl.prototype.hideSidebar=function(){this.editorService.setSidebarVisibility(!1)},SettingsCtrl.prototype.onComponentChanged=function(newComponent){this.selectedComponent=newComponent,this.selectedComponent?(this.selectedComponentClassName=helper_1.ComponentsHelper.getComponentDisplayName(newComponent.getTypedef()),this.settingDatasource=this.selectedComponent.getDatasource()?newComponent.getDatasource().getDatabearer():null):this.selectedComponentClassName=""},SettingsCtrl.prototype.onChangeDisplayName=function(){var newWidth=6*this.selectedComponent.getDisplayName().length;angular_1.default.element(".selectionbox-wrapper").css("width",newWidth+33),angular_1.default.element(".selBoxComponentNameInput").css("width",newWidth),this.editorService.saveCanvas()},SettingsCtrl.prototype.onChangeDatasource=function(previousDatasourceId){var newDatasource=this.settingDatasource.id?this.editorService.getDatasourceObject(this.settingDatasource.id):null;""===previousDatasourceId?this.changeSelectDatasourceOnComponent(newDatasource):this.promptUpdateOrRemoveInteractionsConfirmDialog(newDatasource,previousDatasourceId)},SettingsCtrl.prototype.changeSelectDatasourceOnComponent=function(datasource){var _this=this;this.selectedComponent.setDatasource(datasource).then((function(){datasource&&_this.runDefaultInteraction(),_this.editorService.triggerDatasourceChanged(datasource),_this.editorService.getTimeout()((function(){_this.editorService.saveCanvas(),_this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.INTERACTIONS),null!==datasource&&datasource.typedef===datasource_type_enum_1.DatasourceTypeEnum.INLINE_LIST||_this.selectedComponent.resetContext()}),1)}))},SettingsCtrl.prototype.runDefaultInteraction=function(){var defaultAction=this.selectedComponent.getDefaultAction()===common_constant_1.InteractionPairOperation.GET?common_constant_1.InteractionActionEnum.GET:common_constant_1.InteractionActionEnum.LIST;this.selectedComponent.loadInteraction(this.interactionManagementService.createNewOnTheFly(defaultAction))},SettingsCtrl.prototype.promptUpdateOrRemoveInteractionsConfirmDialog=function(newDatasource,prevDatasourceId){var _this=this,isChangeDatasource=null!==newDatasource,currentProject=this.editorService.getCurrentProject(),interactions=angular_1.default.copy(currentProject.getInteractions()),amountInteractions=interactions.filter((function(interaction){return interaction.targetName===_this.selectedComponent.getId()})).length;newDatasource&&newDatasource.getDatabearer().id===prevDatasourceId||(amountInteractions>0?this.dialogService.showYesNo("Warning","The data service on this component has "+amountInteractions+" configured interaction"+(amountInteractions>1?"s":"")+".\n\t\t\t\tDo you want to "+(isChangeDatasource?"change":"remove")+" this data service from this component?","warning-text").then((function(dialogResult){dialogResult.button===dialog_service_1.DialogButtonType.Yes?(_this.removeComponentInteractions(interactions),_this.changeSelectDatasourceOnComponent(newDatasource)):_this.settingDatasource=_this.availableDatasources.find((function(datasource){return datasource.id===prevDatasourceId}))})):this.changeSelectDatasourceOnComponent(newDatasource))},SettingsCtrl.prototype.removeComponentInteractions=function(interactions){var _this=this;interactions.forEach((function(interaction,index){interaction.targetName===_this.selectedComponent.getId()&&_this.interactionManagementService.removeInteraction(interaction)}))},SettingsCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,common_constant_1.InjectNames.EDITOR_SERVICE,common_constant_1.InjectNames.DIALOG_SERVICE,common_constant_1.InjectNames.INTERACTION_MANAGEMENT_SERVICE],SettingsCtrl}(__webpack_require__(59).SettingsBase);exports.SettingsCtrl=SettingsCtrl;var SettingsDirective=function(){function SettingsDirective(){this.template=__webpack_require__(1130),this.scope=!0,this.controller=SettingsCtrl,this.controllerAs="eirSettingsCtrl"}return SettingsDirective.add=function(m){m.directive("eirSettings",(function(){return new SettingsDirective}))},SettingsDirective}();exports.SettingsDirective=SettingsDirective},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.EditBindingCtrl=void 0;var angular_1=__importDefault(__webpack_require__(12)),angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3),sohoxi_constant_1=__webpack_require__(40),value_type_enum_1=__webpack_require__(26);__webpack_require__(23),__webpack_require__(77),__webpack_require__(16),__webpack_require__(280);var dialog_service_1=__webpack_require__(13);__webpack_require__(80);var feature_switch_ctrl_1=__webpack_require__(134);__webpack_require__(71),__webpack_require__(20);var EditBindingCtrl=function(_super){function EditBindingCtrl(scope,editorService,translationManagementService,featureSwitchService){var _this=_super.call(this,featureSwitchService)||this;_this.scope=scope,_this.editorService=editorService,_this.translationManagementService=translationManagementService,_this.invalidString=!1;var dialog=scope.eirDialog;_this.dialog=dialog,_this.substitutionTag=common_constant_1.SubstitutionTags.VALUE;var valueType=dialog.parameter.valueType;return dialog.parameter.bindingString?_this.bindingString=dialog.parameter.bindingString:_this.bindingString=_this.substitutionTag,_this.isLocalized=valueType===value_type_enum_1.ValueTypeEnum.LOCALIZED_STRING,_this.property=dialog.parameter.property,_this.onChangeBindingString(),_this.initLookupOptions(),_this}return __extends(EditBindingCtrl,_super),EditBindingCtrl.prototype.initLookupOptions=function(){var _this=this,columns=[];columns.push({id:"Name",name:"Name",field:"Name",width:250,resizable:!1,sortable:!0}),columns.push({id:"Value",name:"Value",field:"Value",width:250,resizable:!1,sortable:!0,formatter:Soho.Formatters.Ellipsis});var dataset=this.translationManagementService.getCurrentStringsList();this.lookupOptions={title:"Select Item",field:function(selectedRow){return _this.substitutionTag+"{"+selectedRow.Name+"}"},match:function(){},options:{paging:!0,pagesize:10,columns:columns,dataset:dataset,selectable:sohoxi_constant_1.SelectableEnum.Single,toolbar:{keywordFilter:!0}}}},EditBindingCtrl.prototype.onChangeBindingString=function(){if(""===this.bindingString)this.bindingString=this.substitutionTag,this.invalidString=!1;else{var index=this.bindingString.indexOf(this.substitutionTag);this.invalidString=-1===index}},EditBindingCtrl.prototype.close=function(){this.dialog.close({button:dialog_service_1.DialogButtonType.Cancel})},EditBindingCtrl.prototype.save=function(){var result={value:this.bindingString,button:dialog_service_1.DialogButtonType.Ok};this.dialog.close(result)},EditBindingCtrl.prototype.openTranslations=function(){var _this=this,selectedComponent=this.editorService.getSelectedComponent();this.translationManagementService.openTranslations(selectedComponent,this.property).then((function(result){if(result.button===dialog_service_1.DialogButtonType.Ok){var data=result.value;if(data.savedComponentStrings.length>0){var selectedChanged=data.savedComponentStrings.filter((function(translation){return translation.component===selectedComponent.getId()}));selectedChanged&&(selectedChanged.forEach((function(updatedTranslation){updatedTranslation.reference===_this.property&&(_this.bindingString=updatedTranslation.newValue),_this.editorService.translationChangedEvent.raise(updatedTranslation)})),_this.editorService.addUndoStack(_this.editorService.getCurrentProject())),_this.editorService.updateTranslatables()}}result.button!==dialog_service_1.DialogButtonType.Ok||angular_1.default.equals({},result.value.savedGlobalStrings)||_this.translationManagementService.saveGlobalTranslations(result.value.savedGlobalStrings).then((function(){_this.editorService.updateTranslatables()})),result.button!==dialog_service_1.DialogButtonType.Ok||angular_1.default.equals({},result.value.deletedGlobalStrings)||_this.translationManagementService.deleteGlobalTranslations(result.value.deletedGlobalStrings).then((function(){_this.editorService.updateTranslatables()}))}))},EditBindingCtrl.add=function(m){m.controller("eirEditBindingCtrl",EditBindingCtrl)},EditBindingCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,common_constant_1.InjectNames.EDITOR_SERVICE,common_constant_1.InjectNames.TRANSLATION_MANAGEMENT_SERVICE,common_constant_1.InjectNames.FEATURE_SWITCH_SERVICE],EditBindingCtrl}(feature_switch_ctrl_1.FeatureSwitchCtrl);exports.EditBindingCtrl=EditBindingCtrl},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.InteractionSettingsDirective=exports.InteractionSettingsCtrl=void 0;var angular_1=__importDefault(__webpack_require__(12)),angular_constants_1=__webpack_require__(7),helper_1=__webpack_require__(15),instance_event_1=__webpack_require__(85),dialog_service_1=__webpack_require__(13),helper_2=__webpack_require__(69),lookup_1=__webpack_require__(234),settings_base_1=__webpack_require__(59),common_constant_1=__webpack_require__(3);__webpack_require__(1153);var InteractionSettingsCtrl=function(_super){function InteractionSettingsCtrl($scope,$compile,$templateCache,editorService,dialogService,interactionManagementService){var _this=_super.call(this,$scope,editorService)||this;return _this.$scope=$scope,_this.$compile=$compile,_this.$templateCache=$templateCache,_this.dialogService=dialogService,_this.interactionManagementService=interactionManagementService,_this.availableTargetActions=[],_this.interactionChangedEvent=new instance_event_1.InstanceEvent,_this.targetActionChangedEvent=new instance_event_1.InstanceEvent,_this.sourceTriggerChangedEvent=new instance_event_1.InstanceEvent,_this.onComponentChanged(editorService.getSelectedComponent()),_this.unsubscribers.push(_this.interactionManagementService.projectInteractionsChanged.on((function(interaction){_this.updateRelevantInteractions()}))),_this.unsubscribers.push(_this.editorService.wizardFocusComponentChangedEvent.on((function(focusSettings){_this.setWizardFocusType(focusSettings)}))),_this.unsubscribers.push(_this.editorService.selectedInteractionChangedEvent.on((function(interaction){_this.selectInteraction(interaction)}))),_this.unsubscribers.push(_this.editorService.finderModeChangedEvent.on((function(value){_this.isFinderActive=value}))),_this.unsubscribers.push(_this.editorService.newWizardInteractionEvent.on((function(interaction){_this.selectInteraction(interaction)}))),_this.unsubscribers.push(_this.editorService.isWizardChangedEvent.on((function(value){_this.isWizard=value}))),_this.unsubscribers.push(_this.editorService.setSourceTriggerEvent.on((function(){_this.selectedInteraction&&_this.updateUI()}))),_this.unsubscribers.push(_this.editorService.setTargetActionEvent.on((function(){_this.selectedInteraction&&_this.updateUI()}))),_this.unsubscribers.push(_this.editorService.selectedDatasourceChangedEvent.on((function(newDatasource){var currentInteractionsForSelectedComponent=_this.interactionManagementService.getInteractionsWithTarget(_this.selectedComponent);currentInteractionsForSelectedComponent.length>0&&(currentInteractionsForSelectedComponent.forEach((function(interaction){interaction.removeAllParameters()})),_this.refreshInteractionDisplayName(currentInteractionsForSelectedComponent)),newDatasource&&0===currentInteractionsForSelectedComponent.length&&(_this.createDefaultInteraction(),_this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.INTERACTIONS)),_this.selectedInteraction&&(_this.updateUI(),_this.targetActionChangedEvent.raise()),_this.initAvailableComponents()}))),_this.unsubscribers.push(_this.editorService.wizardSetFinderModeEvent.on((function(value){var tick=0;"target"===value&&(tick=1),_this.useFinder(value).then((function(){_this.editorService.wizardTickChangedEvent.raise(tick)}))}))),_this}return __extends(InteractionSettingsCtrl,_super),Object.defineProperty(InteractionSettingsCtrl.prototype,"hasAvailableTargetActions",{get:function(){return this.availableTargetActions.length>0&&""!==this.availableTargetActions[0].value},enumerable:!1,configurable:!0}),Object.defineProperty(InteractionSettingsCtrl.prototype,"COMPONENT_HAS_NO_DATASERVICE",{get:function(){return"Component has no data service"},enumerable:!1,configurable:!0}),InteractionSettingsCtrl.prototype.selectSourceApplication=function(){this.editorService.setWizardFocusComponent(common_constant_1.WizardFocusEnum.UNFOCUSED,this.settingSourceComponent,common_constant_1.SettingTypes.SOURCE),this.settingSourceComponent=this.editorService.getApplicationParent().getDatabearer(),this.onChangeSourceComponent(),this.settingTargetComponent=this.selectedComponent.getDatabearer(),this.onChangeTargetComponent()},InteractionSettingsCtrl.prototype.setSourceAsTarget=function(){this.editorService.setWizardFocusComponent(common_constant_1.WizardFocusEnum.UNFOCUSED,this.settingTargetComponent,common_constant_1.SettingTypes.TARGET),this.settingTargetComponent=angular_1.default.copy(this.settingSourceComponent),this.onChangeTargetComponent()},InteractionSettingsCtrl.prototype.selectTargetApplication=function(){this.editorService.setWizardFocusComponent(common_constant_1.WizardFocusEnum.UNFOCUSED,this.settingTargetComponent,common_constant_1.SettingTypes.TARGET),this.settingTargetComponent=this.editorService.getApplicationParent().getDatabearer(),this.onChangeTargetComponent()},InteractionSettingsCtrl.prototype.setDisplayStrings=function(interaction){if(interaction.displayName){var strings=interaction.displayName.split("->");2===strings.length&&(interaction.triggerString=strings[0],interaction.targetString=strings[1])}else interaction.triggerString="",interaction.targetString=""},InteractionSettingsCtrl.prototype.refreshInteractionDisplayName=function(interactions){var _this=this;interactions.forEach((function(interaction){interaction.displayName=_this.interactionManagementService.getInteractionDisplayName(interaction),_this.setDisplayStrings(interaction)}))},InteractionSettingsCtrl.prototype.updateRelevantInteractions=function(){var _this=this,interactions=this.editorService.getCurrentProject().getInteractions();if(this.relevantInteractions=[],this.selectedComponent){var selectedComponentId_1=this.selectedComponent.getId();this.relevantInteractions=interactions.filter((function(interaction){return interaction.displayName=_this.interactionManagementService.getInteractionDisplayName(interaction),_this.setDisplayStrings(interaction),interaction.sourceName===selectedComponentId_1||interaction.targetName===selectedComponentId_1}))}this.selectedInteraction&&void 0===interactions.find((function(interaction){return interaction.getId()===_this.selectedInteraction.getId()}))&&(this.selectedInteraction=null)},InteractionSettingsCtrl.prototype.onComponentChanged=function(newComponent){this.selectedComponent=null,_super.prototype.onComponentChanged.call(this,newComponent),this.updateRelevantInteractions(),this.initAvailableComponents(),this.selectInteraction(null)},InteractionSettingsCtrl.prototype.initAvailableComponents=function(){var allComponents=this.editorService.getAllInteractiveComponents().map((function(item){return item.getDatabearer()}));this.availableSources=allComponents,this.availableTargets=allComponents},InteractionSettingsCtrl.prototype.selectInteraction=function(newInteraction){newInteraction?(this.selectedInteraction=newInteraction,this.updateUI()):this.selectedInteraction=null,this.interactionChangedEvent.raise(this.selectedInteraction)},InteractionSettingsCtrl.prototype.updateUI=function(){var _this=this,sourceComponentInstance=this.editorService.getComponentInstanceById(this.selectedInteraction.sourceName),targetComponentInstance=this.editorService.getComponentInstanceById(this.selectedInteraction.targetName);this.settingTargetComponent=targetComponentInstance?targetComponentInstance.getDatabearer():void 0,this.settingTargetComponent&&targetComponentInstance&&this.setAvailableTargetActions(),this.settingSourceComponent=sourceComponentInstance?sourceComponentInstance.getDatabearer():void 0,this.settingSourceComponent&&sourceComponentInstance?this.setAvailableSourceTriggers():(this.settingSourceComponent=this.editorService.getApplicationParent().getDatabearer(),this.availableSourceTriggers=this.editorService.getApplicationParent().getSourceTriggers()),this.availableSourceTriggers.filter((function(trigger){trigger.value===_this.selectedInteraction.sourceTriggerName&&(_this.settingSourceTrigger=trigger)})),this.availableTargetActions.filter((function(action){action.value===_this.selectedInteraction.targetActionName&&(_this.settingTargetAction=action)})),this.selectedInteraction.displayName=this.getSelectedInteractionDisplayName(),this.setDisplayStrings(this.selectedInteraction),angular_1.default.element("#interactionSourceSelect").data("dropdown").updated(),angular_1.default.element("#interactionTargetSelect").data("dropdown").updated()},InteractionSettingsCtrl.prototype.getSelectedInteractionDisplayName=function(){return this.interactionManagementService.getInteractionDisplayName(this.selectedInteraction)},InteractionSettingsCtrl.prototype.setAvailableSourceTriggers=function(){var sourceComponentInstance=this.editorService.getComponentInstanceById(this.settingSourceComponent.id),sourceTriggers=sourceComponentInstance.getSourceTriggers(),datasource=sourceComponentInstance.datasource;if(datasource){var needsIdentifier_1=sourceTriggers.length>1;sourceTriggers=sourceTriggers.map((function(sourceTrigger){if(sourceTrigger===common_constant_1.InteractionPairOperation.ON_LOAD){var identifier=needsIdentifier_1?" ("+sourceTrigger.name+")":"";return{name:datasource.displayName+" has run "+identifier,value:sourceTrigger.value}}return sourceTrigger}))}else sourceTriggers=sourceTriggers.map((function(sourceTrigger){return sourceTrigger===common_constant_1.InteractionPairOperation.ON_LOAD?{name:sourceTrigger.name+" (No Data Service) ",value:sourceTrigger.value}:sourceTrigger}));this.availableSourceTriggers=sourceTriggers},InteractionSettingsCtrl.prototype.setAvailableTargetActions=function(){this.availableTargetActions=this.getTargetActions(),this.availableTargetActions.length>0?this.settingTargetAction=this.availableTargetActions[0]:(this.settingTargetAction={name:this.COMPONENT_HAS_NO_DATASERVICE,value:""},this.availableTargetActions.push(this.settingTargetAction))},InteractionSettingsCtrl.prototype.getTargetActions=function(){var targetComponentInstance=this.editorService.getComponentInstanceById(this.settingTargetComponent.id),targetActions=targetComponentInstance.getTargetActions(),datasource=targetComponentInstance.datasource;if(datasource){var needsIdentifier_2=targetActions.length>1;targetActions=targetActions.map((function(targetAction){if(targetAction===common_constant_1.InteractionPairOperation.GET||targetAction===common_constant_1.InteractionPairOperation.LIST){var identifier=needsIdentifier_2?" ("+targetAction.name+")":"";return{name:"Run "+datasource.displayName+identifier,value:targetAction.value}}return targetAction}))}else targetActions=targetActions.map((function(targetAction){return targetAction===common_constant_1.InteractionPairOperation.GET||targetAction===common_constant_1.InteractionPairOperation.LIST?{name:targetAction.name+" (No Data Service) ",value:targetAction.value}:targetAction}));return targetActions},InteractionSettingsCtrl.prototype.manualRunSelected=function(){this.interactionManagementService.runInteraction(this.selectedInteraction)},InteractionSettingsCtrl.prototype.getSelectedInteraction=function(){return this.selectedInteraction},InteractionSettingsCtrl.prototype.setWizardFocusType=function(focusSettings){focusSettings.setting===common_constant_1.SettingTypes.SOURCE?this.settingSourceComponent=focusSettings.component:this.settingTargetComponent=focusSettings.component;var encodedFocusSettings=helper_1.Helper.htmlEncode(focusSettings.setting);(focusSettings.focus===common_constant_1.WizardFocusEnum.UNFOCUSED?angular_1.default.element(".id-"+focusSettings.component.id).removeClass(encodedFocusSettings):angular_1.default.element(".id-"+focusSettings.component.id).addClass(encodedFocusSettings),helper_2.ComponentsHelper.isApplicationParent(focusSettings.component))||this.editorService.getComponentInstanceById(focusSettings.component.id).setIsWizardFocus(focusSettings.focus)},InteractionSettingsCtrl.prototype.createNewInteraction=function(){var interactionComponent=this.selectedComponent,targetComponent=this.editorService.getComponentInstanceById(this.availableTargets[0].id),newInteraction=this.interactionManagementService.createNew(interactionComponent,targetComponent);this.selectInteraction(newInteraction),this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.INTERACTIONS)},InteractionSettingsCtrl.prototype.removeSelectedInteraction=function(){var _this=this,interaction=this.selectedInteraction,options={title:"Confirm Delete",message:"Do you really want to delete this Interaction?",standardButtons:dialog_service_1.StandardDialogButtons.YesNo};this.dialogService.showMessage(options).then((function(result){result&&result.button===dialog_service_1.DialogButtonType.Yes&&(_this.interactionManagementService.removeInteraction(interaction),_this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.INTERACTIONS),_this.selectInteraction(null))}))},InteractionSettingsCtrl.prototype.onChangeSourceComponent=function(){var interactionSource,interaction=this.selectedInteraction;if(interactionSource=this.settingSourceComponent&&!helper_2.ComponentsHelper.isApplicationParent(this.settingSourceComponent)?this.editorService.getComponentInstanceById(this.settingSourceComponent.id):this.editorService.getApplicationParent()){interaction.sourceName=interactionSource.getId(),this.availableSourceTriggers=interactionSource.getSourceTriggers();var index=this.availableSourceTriggers.map((function(trigger){return trigger.value})).indexOf(interaction.sourceTriggerName);interaction.sourceTriggerName&&-1!==index||(this.settingSourceTrigger=interactionSource.getDefaultTrigger())}else this.settingSourceTrigger={},interaction.sourceName="",this.availableSourceTriggers=[];this.sourceTriggerChangedEvent.raise(this.selectedInteraction.sourceName),this.editorService.setTriggerSourceComponent(interactionSource),this.onChangeSourceTrigger()},InteractionSettingsCtrl.prototype.onChangeSourceTrigger=function(){this.selectedInteraction.sourceTriggerName=this.settingSourceTrigger.value,this.editorService.setSourceTrigger(this.settingSourceTrigger),this.isWizard||this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.INTERACTIONS)},InteractionSettingsCtrl.prototype.onChangeTargetComponent=function(){var interaction=this.selectedInteraction;this.settingTargetComponent&&!helper_2.ComponentsHelper.isApplicationParent(this.settingTargetComponent)||(this.settingTargetComponent=this.availableTargets[0]);var interactionTarget=this.editorService.getComponentInstanceById(this.settingTargetComponent.id);interactionTarget?(interaction.targetName=interactionTarget.getId(),this.setAvailableTargetActions()):(this.settingTargetAction={},interaction.targetName="",this.availableTargetActions=[]),this.targetActionChangedEvent.raise(this.selectedInteraction.targetActionName),this.editorService.setTargetActionComponent(interactionTarget),this.onChangeTargetAction()},InteractionSettingsCtrl.prototype.onChangeTargetAction=function(){var _this=this;if(this.selectedInteraction.removeAllParameters(),this.settingTargetAction){var newTargetAction=this.settingTargetAction;void 0!==newTargetAction.name&&(this.selectedInteraction.targetActionName=newTargetAction.value,this.editorService.setTargetAction(newTargetAction)),newTargetAction.value!==common_constant_1.InteractionPairOperation.LIST.value&&newTargetAction.value!==common_constant_1.InteractionPairOperation.GET.value||this.settingTargetComponent.datasource&&this.editorService.getComponentInstanceById(this.settingTargetComponent.id).datasource.getMetaData(),this.targetActionChangedEvent.raise(this.selectedInteraction.targetActionName),this.isWizard||this.editorService.getTimeout()((function(){_this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.INTERACTIONS)}),common_constant_1.Numbers.TEN)}},InteractionSettingsCtrl.prototype.setMode=function(component,settingComponent,mode){this.isWizard&&component.wizardFocusType===common_constant_1.WizardFocusEnum.UNFOCUSED?(settingComponent&&this.editorService.setWizardFocusComponent(common_constant_1.WizardFocusEnum.UNFOCUSED,settingComponent,mode),this.triggerChangeComponent(component,mode)):this.isWizard||this.triggerChangeComponent(component,mode)},InteractionSettingsCtrl.prototype.triggerChangeComponent=function(component,mode){mode===common_constant_1.SettingTypes.SOURCE?(this.settingSourceComponent=component.getDatabearer(),this.onChangeSourceComponent()):(this.settingTargetComponent=component.getDatabearer(),this.onChangeTargetComponent())},InteractionSettingsCtrl.prototype.selectedComponentAsTarget=function(component){var selectedComponent=this.selectedComponent,componentId=component.getId(),selectedId=selectedComponent.getId(),isTarget=this.settingTargetComponent&&this.settingTargetComponent.id===componentId;selectedComponent&&(selectedId!==componentId?(this.settingTargetComponent=selectedComponent.getDatabearer(),this.onChangeTargetComponent()):selectedId===componentId&&isTarget&&(delete this.settingTargetComponent,this.onChangeTargetComponent()))},InteractionSettingsCtrl.prototype.useFinder=function(componentToSet){var _this=this;this.isFinderActive=!0;var isTarget="target"===componentToSet,finderOptions={title:"Select Interaction "+(isTarget?"Target":"Source")};this.isWizard&&(finderOptions.closeOnSelect=!1,finderOptions.title="Create Interaction: Select the "+(isTarget?"target":"source")+" component on the canvas.",finderOptions.cancel=function(){_this.editorService.wizardCloseEvent.raise()});var promise=this.editorService.startFinderMode(finderOptions);return promise.then((function(component){!isTarget&&_this.isWizard&&helper_2.ComponentsHelper.isApplicationParent(component)?_this.selectSourceApplication():isTarget?_this.setMode(component,_this.settingTargetComponent,common_constant_1.SettingTypes.TARGET):isTarget||(_this.setMode(component,_this.settingSourceComponent,common_constant_1.SettingTypes.SOURCE),_this.selectedComponentAsTarget(component))})).finally((function(){_this.isWizard||(_this.isFinderActive=!1)})),promise},InteractionSettingsCtrl.prototype.createDefaultInteraction=function(){switch(this.selectedComponent.getDatabearer().typedef){case lookup_1.Lookup.name:this.interactionManagementService.createNew(this.selectedComponent,this.selectedComponent);break;default:this.interactionManagementService.createNew(this.editorService.getApplicationParent(),this.selectedComponent)}},InteractionSettingsCtrl.add=function(m){m.controller("eirInteractionSettingsCtrl",InteractionSettingsCtrl)},InteractionSettingsCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,angular_constants_1.AngularConstants.COMPILE,angular_constants_1.AngularConstants.TEMPLATE_CACHE,common_constant_1.InjectNames.EDITOR_SERVICE,common_constant_1.InjectNames.DIALOG_SERVICE,common_constant_1.InjectNames.INTERACTION_MANAGEMENT_SERVICE],InteractionSettingsCtrl}(settings_base_1.SettingsBase);exports.InteractionSettingsCtrl=InteractionSettingsCtrl;var InteractionSettingsDirective=function(){function InteractionSettingsDirective(){}return InteractionSettingsDirective.add=function(m){m.directive("eirInteractionSettings",(function(){return{restrict:"E",template:__webpack_require__(1154),scope:!0,controller:InteractionSettingsCtrl,controllerAs:"eirInteractionSettingsCtrl"}}))},InteractionSettingsDirective}();exports.InteractionSettingsDirective=InteractionSettingsDirective},function(module,exports){module.exports='<div ng-controller="eirBuildLinkCtrl as ctrl" class=build-link-dialog> <div class=add-source> <label>New Source:</label> <select class="dropdown dropdown-md" ng-model=ctrl.newTypeValue ng-options="type.value as type.name for type in ctrl.availableSources" xi-drop-down> </select> <button xi-tooltip="\'Add Source\'" class=btn-icon ng-click=ctrl.addSource() ng-disabled="ctrl.availableSources.length === 0"> <svg class=icon focusable=false> <use xlink:href=#icon-add></use> </svg> <span class=audible>Add</span> </button> </div> <div class=source-labels ng-if="ctrl.sources.length > 0"> <label>Source:</label> <label>Alias:</label> </div> <div ng-repeat="source in ctrl.sources track by $index"> <eir-url-source-field available-sources=ctrl.availableSources source=source build-link=ctrl.buildLink() remove-source=ctrl.removeSource(source) change-source-alias="ctrl.updateAlias(oldAlias, newAlias, $index)" index=$index> </eir-url-source-field> </div> <label>Address:</label> <textarea class=textarea ng-model=ctrl.link ng-change=ctrl.buildLink() ng-model-options="{ updateOn: \'default\', debounce: {\'default\': 400, \'blur\': 0}}">\r\n\t</textarea> <div class=field> <p class=link-text>{{ctrl.myLink}}</p> </div> <div class=modal-buttonset> <button type=button class=btn-modal ng-click=ctrl.close()>Cancel</button> <button type=button class="btn-modal btn-modal-primary" ng-click=ctrl.save()>Save</button> </div> </div>'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ExpressionDialogCtrl=void 0;var angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3),sohoxi_constant_1=__webpack_require__(40);__webpack_require__(278),__webpack_require__(23),__webpack_require__(270),__webpack_require__(16),__webpack_require__(68);var dialog_service_1=__webpack_require__(13);__webpack_require__(93),__webpack_require__(28),__webpack_require__(58),__webpack_require__(20);var ExpressionDialogCtrl=function(){function ExpressionDialogCtrl($scope,$element,$timeout,dialogService,editorService,frameworkService){this.$scope=$scope,this.$element=$element,this.$timeout=$timeout,this.dialogService=dialogService,this.editorService=editorService,this.frameworkService=frameworkService,this.itemSelected=!1,this.dataset=[],this.operatorDictionary={"=":"Equals","<>":"Not Equals",">":"Greater than",">=":"Equals or Greater","<":"Lower than","<=":"Equals or Lower","*":"Contains In"},this.typeDictionary={disable:"Disable",hide:"Hide"};var dialog=$scope.eirDialog;this.dialog=dialog,this.selectedComponent=dialog.parameter.component,this.expressionType=dialog.parameter.option,this.currentProject=this.editorService.getCurrentProject(),this.refreshDataset(),this.initGridOptions()}return ExpressionDialogCtrl.prototype.addExpression=function(){this.editExpression(!0)},ExpressionDialogCtrl.prototype.editExpression=function(newExpression){var _this=this;void 0===newExpression&&(newExpression=!1),newExpression&&(this.selectedExpression=null);var dialogOptions={template:__webpack_require__(1185),title:newExpression?"New Condition":"Edit Condition",parameter:{expression:this.selectedExpression,expressionType:this.expressionType}};this.dialogService.show(dialogOptions).then((function(results){results.button===dialog_service_1.DialogButtonType.Ok&&(newExpression?_this.currentProject.addExpression(results.value):_this.currentProject.saveExpression(results.value),_this.refreshDataset(),_this.save())}))},ExpressionDialogCtrl.prototype.deleteExpression=function(){var _this=this;this.dialogService.showYesNo("Delete Condition","Do you want to delete this condition?").then((function(result){result.button===dialog_service_1.DialogButtonType.Yes&&(_this.currentProject.deleteExpression(_this.selectedExpression),_this.refreshDataset(),_this.save())}))},ExpressionDialogCtrl.prototype.close=function(){var result={button:dialog_service_1.DialogButtonType.Ok};this.frameworkService.triggerExpressions(),this.dialog.close(result)},ExpressionDialogCtrl.prototype.save=function(){this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.EXPRESSIONS+common_constant_1.SaveFlagsEnum.MANIFEST)},ExpressionDialogCtrl.prototype.updateDisplayNames=function(){var _this=this;this.updatePropertyNames().then((function(){_this.$timeout((function(){_this.datagridOptions.dataset=_this.dataset}))}))},ExpressionDialogCtrl.prototype.updatePropertyNames=function(){var _this=this,deferred=this.frameworkService.getNewDeferred();return this.dataset.forEach((function(item){_this.expressionType===common_constant_1.ConditionType.ALL?item.children.forEach((function(child){_this.setSourcePropertyName(child).then((function(){_this.setTargetPropertyName(child).then((function(){deferred.resolve()}))}))})):_this.setSourcePropertyName(item).then((function(){_this.setTargetPropertyName(item).then((function(){deferred.resolve()}))}))})),deferred.promise},ExpressionDialogCtrl.prototype.getComponentExpression=function(){var _this=this,allExpressions=this.currentProject.getExpressions();return this.expressionType!==common_constant_1.ConditionType.ALL?allExpressions.filter((function(expression){return expression.usedBy===_this.selectedComponent.getId()&&expression.conditionType===_this.expressionType})):allExpressions},ExpressionDialogCtrl.prototype.setTargetPropertyName=function(item){var _this=this;return this.getPropertyName(item.targetName,item.targetPropertyName).then((function(propertyName){item.targetPropertyName=propertyName,item.targetName=_this.getName(item.targetName)}))},ExpressionDialogCtrl.prototype.setSourcePropertyName=function(item){var _this=this;return this.getPropertyName(item.sourceName,item.sourcePropertyName).then((function(propertyName){item.sourcePropertyName=propertyName,item.sourceName=_this.getName(item.sourceName)}))},ExpressionDialogCtrl.prototype.getPropertyName=function(componentName,propertyName){var propertyDisplayName,deferred=this.frameworkService.getNewDeferred();if("<static>"===componentName)propertyDisplayName=propertyName,deferred.resolve(propertyDisplayName);else{var component=this.editorService.getComponentInstanceById(componentName);component&&component.getBindingMetaData().then((function(bindings){bindings.length>0&&(propertyDisplayName=bindings.find((function(binding){return binding.sourceKey===propertyName})).visibleName,deferred.resolve(propertyDisplayName))}))}return deferred.promise},ExpressionDialogCtrl.prototype.getName=function(componentName){var componentDisplayName;"<static>"===componentName?componentDisplayName="Static Value":componentDisplayName=this.editorService.getComponentInstanceById(componentName).getDisplayName();return componentDisplayName},ExpressionDialogCtrl.prototype.buildDataset=function(){var _this=this,expressionViewData=[];return this.getComponentExpression().forEach((function(condition){var displayItem={id:condition.id,sourceName:condition.source,targetName:condition.target,sourcePropertyName:condition.sourceProperty,targetPropertyName:condition.targetProperty,operatorName:_this.operatorDictionary[condition.clauseOperator],usedBy:_this.getName(condition.usedBy),conditionalType:_this.typeDictionary[condition.conditionType]};if(_this.expressionType===common_constant_1.ConditionType.ALL){var existingComponent=expressionViewData.find((function(item){return item.componentId===condition.usedBy}));if(existingComponent)existingComponent.children.push(displayItem);else{var manageDisplayItem={componentId:condition.usedBy,expanded:!1,children:[displayItem]};expressionViewData.push(manageDisplayItem)}}else expressionViewData.push(displayItem)})),expressionViewData},ExpressionDialogCtrl.prototype.initGridOptions=function(){var _this=this,columns=[];if(this.expressionType===common_constant_1.ConditionType.ALL){var manageColumns=[{id:"component",name:"Component",field:"componentId",sortable:!0,formatter:Soho.Formatters.Tree,width:"21%"},{id:"conditionalType",name:"Type",field:"conditionalType",sortable:!0,formatter:Soho.Formatters.Ellipsis,width:"21%"}];columns.push.apply(columns,manageColumns)}var gridcolumns=[{id:"source",name:"Source",field:"sourceName",sortable:!0,formatter:Soho.Formatters.Ellipsis,width:"21%"},{id:"sourceProperty",name:"Property/Value",field:"sourcePropertyName",sortable:!0,formatter:Soho.Formatters.Ellipsis,width:"21%"},{id:"operator",name:"Operator",field:"operatorName",sortable:!0,formatter:Soho.Formatters.Ellipsis,width:"16%"},{id:"target",name:"Target",field:"targetName",sortable:!0,formatter:Soho.Formatters.Ellipsis,width:"21%"},{id:"targetProperty",name:"Property/Value",field:"targetPropertyName",sortable:!0,formatter:Soho.Formatters.Ellipsis,width:"21%"}];columns.push.apply(columns,gridcolumns);var options={dataset:[],columns:columns,treeGrid:!0,isList:!0,selectable:sohoxi_constant_1.SelectableEnum.Single,toolbar:{title:"Expression",results:!0,dateFilter:!1,keywordFilter:!0,advancedFilter:!0,actions:!0,views:!0,rowHeight:!0}};this.datagridOptions=options,this.$element.find("#datagrid-expressions").on("selected",(function(e,args){_this.$scope.$evalAsync((function(){args.length>0?args[0].data.children||(_this.itemSelected=!0,_this.selectedExpression=_this.getComponentExpression().find((function(condition){return args[0].data.id===condition.id}))):(_this.selectedExpression=null,_this.itemSelected=!1)}))}))},ExpressionDialogCtrl.prototype.refreshDataset=function(){var _this=this;this.dataset=this.buildDataset(),this.dataset.length>0?this.updateDisplayNames():this.$timeout((function(){_this.datagridOptions.dataset=_this.dataset})),this.clearSelected()},ExpressionDialogCtrl.prototype.clearSelected=function(){this.selectedExpression=null,this.itemSelected=!1;var api=this.$element.find("#datagrid-expressions").data("datagrid");api&&api.deSelectAllRows()},ExpressionDialogCtrl.add=function(m){m.controller("eirExpressionDialogCtrl",ExpressionDialogCtrl)},ExpressionDialogCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,angular_constants_1.AngularConstants.ELEMENT,angular_constants_1.AngularConstants.TIMEOUT,common_constant_1.InjectNames.DIALOG_SERVICE,common_constant_1.InjectNames.EDITOR_SERVICE,common_constant_1.InjectNames.FRAMEWORK_SERVICE],ExpressionDialogCtrl}();exports.ExpressionDialogCtrl=ExpressionDialogCtrl},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ManageDialogBase=void 0;var angular_1=__importDefault(__webpack_require__(12)),angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3);__webpack_require__(287),__webpack_require__(41),__webpack_require__(77),__webpack_require__(16),__webpack_require__(51);var datagrid_helper_1=__webpack_require__(93);__webpack_require__(169);var helper_1=__webpack_require__(15);__webpack_require__(325);var dialog_service_1=__webpack_require__(13);__webpack_require__(79),__webpack_require__(210),__webpack_require__(168),__webpack_require__(20);var ManageDialogBase=function(){function ManageDialogBase($scope,$element,$window,repositoryService,dialogService,editorService,conflictResolutionService,httpService,projectService,interactionManagementService){var _this=this;this.$scope=$scope,this.$element=$element,this.$window=$window,this.repositoryService=repositoryService,this.dialogService=dialogService,this.editorService=editorService,this.conflictResolutionService=conflictResolutionService,this.httpService=httpService,this.projectService=projectService,this.interactionManagementService=interactionManagementService,this.itemSelected=!1,this.loading=!1,this.selectedItems=[],this.dialog=$scope.eirDialog,this.initGrid(),this.$element.find("#local-grid").on("selected",(function(e,args){_this.$scope.$evalAsync((function(){args.length>0?(_this.itemSelected=!0,_this.selectedItems=args.map((function(rowObject){return rowObject.data}))):(_this.selectedItems=[],_this.itemSelected=!1)}))}))}return ManageDialogBase.prototype.openGlobalRepository=function(){var _this=this;this.loading=!0;var repoDatagridOptions=angular_1.default.copy(this.datagridOptions);repoDatagridOptions.toolbar.title="Global",this.repositoryService.getDataByName(this.getItemSpecificData().urlName).then((function(items){repoDatagridOptions.dataset=items;var options={title:"Repository",template:__webpack_require__(1187),style:"min-width: 1000px; max-width: 1125px;",parameter:repoDatagridOptions,cssClass:"repository-dialog"};_this.dialogService.show(options).then((function(result){if(result.button===dialog_service_1.DialogButtonType.Ok){var notAdded_1=[],newUniqueItems=result.value.filter((function(newItem){var isUnique=_this.isUnique(newItem);return isUnique||notAdded_1.push(_this.getItemDisplayName(newItem)),isUnique}));notAdded_1.length>0&&_this.dialogService.showError("Import","Following item(s) already exist in your project<br />"+notAdded_1.join("<br />")),newUniqueItems.forEach(datagrid_helper_1.DatagridHelper.clearSohoProperties),_this.addItems(newUniqueItems)}}))})).catch((function(errorResponse){_this.datagridOptions.dataset=[],_this.dialogService.showError("Load from Repository",errorResponse.message)})).finally((function(){_this.loading=!1}))},ManageDialogBase.prototype.addItems=function(newItems){var _this=this;if(0===newItems.length)return null;if(this.exceedsMaximum(newItems.length))return this.dialogService.showError("Import","Tried to add more than max allowed"),null;var importPromise=this.importToCurrentProject(newItems);return importPromise.then((function(response){return response.length!==newItems.length&&_this.dialogService.showError("Import","One or more "+_this.getItemSpecificData().dataName+"(s) was not imported due to error in them"),_this.addItemsToProject(newItems),_this.datagridOptions.dataset=_this.getDataList(),response})).catch((function(errorResponse){_this.dialogService.showError("Import","Failed to import any "+_this.getItemSpecificData().dataName+"(s).Due to "+errorResponse.message+".")})),importPromise},ManageDialogBase.prototype.import=function(){var _this=this;if(this.exceedsMaximum())this.dialogService.showError("Import New",this.getItemSpecificData().maxErrorMessage);else{var options={title:"Import New",template:__webpack_require__(436)};this.dialogService.show(options).then((function(result){result.button===dialog_service_1.DialogButtonType.Ok&&(_this.loading=!0,_this.repositoryService.readJsonFile(result.value[0]).then((function(itemsToImport){_this.exceedsMaximum(itemsToImport.length)?_this.dialogService.showError("Import New","You are trying to import too many "+_this.getItemSpecificData().dataName+"s"):_this.importItems(itemsToImport)})).catch((function(errorResponse){console.warn("Could not read file"),_this.dialogService.showError("Import New","Unable to read file due to: <br >"+errorResponse.message)})).finally((function(){_this.loading=!1})))}))}},ManageDialogBase.prototype.importItems=function(itemsToImport){var _this=this;this.conflictResolutionService.resolve(itemsToImport,this.datagridOptions.dataset,this.getItemSpecificData().conflictKey,this.getItemSpecificData().dataName,this.getItemSpecificData().maxAllowed).then((function(conflictResolutionObject){var idsToDelete=conflictResolutionObject.toRemove.map((function(itemToImport){return itemToImport.id}));_this.deleteItems(idsToDelete).then((function(deletedItems){conflictResolutionObject.toAdd.forEach((function(item){_this.setItemId(item,helper_1.Helper.generateUniqueId())})),_this.addItems(conflictResolutionObject.toAdd).catch((function(){_this.addItems(deletedItems)}))}))})).catch((function(){_this.loading=!1}))},ManageDialogBase.prototype.deleteItem=function(){var _this=this,displayNames=[],idsToDelete=this.selectedItems.map((function(item){return item.id?(displayNames.push(item.displayName),item.id):(displayNames.push(item.manifest.displayName),item.manifest.id)})),options={title:"Delete Item",message:"Are you sure you want to delete these Items?<br >"+displayNames.join(", "),standardButtons:dialog_service_1.StandardDialogButtons.YesNo};this.dialogService.showMessage(options).then((function(result){result.button===dialog_service_1.DialogButtonType.Yes&&_this.deleteItems(idsToDelete).then((function(deletedItems){deletedItems.length>0&&(_this.itemSelected=!1,_this.selectedItems=[],_this.save())}))})).finally((function(){_this.datagridOptions.dataset=_this.getDataList()}))},ManageDialogBase.prototype.close=function(){this.getDataList().forEach((function(dataItem){datagrid_helper_1.DatagridHelper.clearSohoProperties(dataItem)})),this.dialog.close({button:dialog_service_1.DialogButtonType.Ok})},ManageDialogBase.prototype.exceedsMaximum=function(withExtra){var amount=this.getDataList().length;return withExtra&&(amount+=withExtra),amount>this.getItemSpecificData().maxAllowed},ManageDialogBase.prototype.importToCurrentProject=function(newItems){var currentProject=this.editorService.getCurrentProject(),url=common_constant_1.ServerPaths.PROJECT+currentProject.getId()+"/"+this.getItemSpecificData().urlName+"import";return this.httpService.executePost(url,newItems)},ManageDialogBase.prototype.isUnique=function(item){var _this=this,idToFind=this.getItemId(item);return!this.getDataList().some((function(existingItem){return _this.getItemId(existingItem)===idToFind}))},ManageDialogBase.$inject=[angular_constants_1.AngularConstants.SCOPE,angular_constants_1.AngularConstants.ELEMENT,angular_constants_1.AngularConstants.WINDOW,common_constant_1.InjectNames.REPOSITORY_SERVICE,common_constant_1.InjectNames.DIALOG_SERVICE,common_constant_1.InjectNames.EDITOR_SERVICE,common_constant_1.InjectNames.CONFLICT_RESOLUTION_SERVICE,common_constant_1.InjectNames.HTTP_SERVICE,common_constant_1.InjectNames.PROJECT_SERVICE,common_constant_1.InjectNames.INTERACTION_MANAGEMENT_SERVICE],ManageDialogBase}();exports.ManageDialogBase=ManageDialogBase},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ButtonMetadata=void 0;var common_constant_1=__webpack_require__(3),interaction_defines_constant_1=__webpack_require__(52),binding_type_enum_1=__webpack_require__(30),size_type_enum_1=__webpack_require__(29),value_type_enum_1=__webpack_require__(26),component_metadata_1=__webpack_require__(240),ButtonMetadata=function(){function ButtonMetadata(){}return ButtonMetadata.availableButtonStyles=[{name:"Primary",value:common_constant_1.ButtonStyle.PRIMARY},{name:"Secondary",value:common_constant_1.ButtonStyle.SECONDARY},{name:"Tertiary",value:common_constant_1.ButtonStyle.TERTIARY}],ButtonMetadata.DEFAULT_WIDTH={sizeType:size_type_enum_1.SizeTypeEnum.AUTO},ButtonMetadata.DEFAULT_HEIGHT={sizeType:size_type_enum_1.SizeTypeEnum.AUTO},ButtonMetadata.SOURCE_TRIGGERS=interaction_defines_constant_1.InteractionDefines.SOURCE_TRIGGERS.concat([common_constant_1.InteractionPairOperation.ON_CLICK]),ButtonMetadata.TARGET_ACTIONS=interaction_defines_constant_1.InteractionDefines.TARGET_ACTIONS,ButtonMetadata.DEFAULT_TRIGGER=common_constant_1.InteractionPairOperation.ON_CLICK,ButtonMetadata.DEFAULT_ACTION=common_constant_1.InteractionPairOperation.GET,ButtonMetadata.BINDABLE_FIELDS_2=[{name:"Content",ref:common_constant_1.SettingKeys.CONTENT,valueType:value_type_enum_1.ValueTypeEnum.LOCALIZED_STRING,write:!0,read:!1,defaultValue:{Type:binding_type_enum_1.BindingTypeEnum.STATIC_VALUE,value:"Action"}}],ButtonMetadata.SETTING_FIELDS=[{title:"Style",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{ref:common_constant_1.SettingKeys.STYLE,inputType:common_constant_1.SettingInputKeys.RADIO,dataset:ButtonMetadata.availableButtonStyles,defaultValue:common_constant_1.ButtonStyle.PRIMARY},{title:"Disabled",ref:common_constant_1.SettingKeys.IS_READONLY,inputType:common_constant_1.SettingInputKeys.CHECKBOX,defaultValue:!1,button:{icon:"#icon-unlocked",tooltip:"Disable Component When...",dialog:!0}}]}].concat(component_metadata_1.BaseComponentMetadata.SETTING_FIELDS),ButtonMetadata}();exports.ButtonMetadata=ButtonMetadata},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ListMetadata=void 0;var common_constant_1=__webpack_require__(3),interaction_defines_constant_1=__webpack_require__(52),binding_type_enum_1=__webpack_require__(30),size_type_enum_1=__webpack_require__(29),value_type_enum_1=__webpack_require__(26),component_metadata_1=__webpack_require__(240),ListMetadata=function(){function ListMetadata(){}return ListMetadata.DEFAULT_WIDTH={sizeType:size_type_enum_1.SizeTypeEnum.PERCENT},ListMetadata.DEFAULT_HEIGHT={sizeType:size_type_enum_1.SizeTypeEnum.PERCENT},ListMetadata.SOURCE_TRIGGERS=interaction_defines_constant_1.InteractionDefines.SOURCE_TRIGGERS.concat([common_constant_1.InteractionPairOperation.ON_ITEM_CHANGED]),ListMetadata.TARGET_ACTIONS=[common_constant_1.InteractionPairOperation.LIST],ListMetadata.DEFAULT_TRIGGER=common_constant_1.InteractionPairOperation.ON_ITEM_CHANGED,ListMetadata.DEFAULT_ACTION=common_constant_1.InteractionPairOperation.LIST,ListMetadata.SETTING_FIELDS=[{title:"Style",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{title:"Show Header",boundarySetting:!0,ref:common_constant_1.SettingKeys.SHOW_LABEL,inputType:common_constant_1.SettingInputKeys.CHECKBOX,defaultValue:!0}]},{title:"Options",tab:common_constant_1.SidebarTabTypes.CONTENT,settings:[{title:"Keep Selection",tooltip:"Keep previous selected row on reload. (With ION APIs, an object ID is preferred if using this)",ref:common_constant_1.SettingKeys.KEEP_SELECTED,inputType:common_constant_1.SettingInputKeys.CHECKBOX,defaultValue:!0}]}].concat(component_metadata_1.BaseComponentMetadata.SETTING_FIELDS),ListMetadata.BINDABLE_FIELDS_2=[{name:"Selected Item",ref:common_constant_1.SettingKeys.CURRENT_ITEM,valueType:value_type_enum_1.ValueTypeEnum.OBJECT,write:!1,read:!0},{name:"Header",ref:common_constant_1.SettingKeys.LABEL,valueType:value_type_enum_1.ValueTypeEnum.LOCALIZED_STRING,write:!0,read:!1,defaultValue:{Type:binding_type_enum_1.BindingTypeEnum.STATIC_VALUE,value:""}}],ListMetadata}();exports.ListMetadata=ListMetadata},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TextboxMetadata=void 0;var common_constant_1=__webpack_require__(3),interaction_defines_constant_1=__webpack_require__(52),binding_type_enum_1=__webpack_require__(30),size_type_enum_1=__webpack_require__(29),value_type_enum_1=__webpack_require__(26),component_metadata_1=__webpack_require__(240),TextboxMetadata=function(){function TextboxMetadata(){}return TextboxMetadata.AVAILABLE_WIDTHS=[{name:"Tiny",value:"input-xs"},{name:"Small",value:"input-sm"},{name:"Medium",value:"input-mm"},{name:"Large",value:"input-default"}],TextboxMetadata.DEFAULT_WIDTH={sizeType:size_type_enum_1.SizeTypeEnum.AUTO},TextboxMetadata.DEFAULT_HEIGHT={sizeType:size_type_enum_1.SizeTypeEnum.AUTO},TextboxMetadata.SOURCE_TRIGGERS=interaction_defines_constant_1.InteractionDefines.SOURCE_TRIGGERS,TextboxMetadata.TARGET_ACTIONS=[common_constant_1.InteractionPairOperation.GET,common_constant_1.InteractionPairOperation.CLEAR],TextboxMetadata.DEFAULT_ACTION=common_constant_1.InteractionPairOperation.GET,TextboxMetadata.DEFAULT_TRIGGER=common_constant_1.InteractionPairOperation.ON_LOAD,TextboxMetadata.SETTING_FIELDS=[{title:"Style",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{title:"Show Label",boundarySetting:!0,ref:common_constant_1.SettingKeys.SHOW_LABEL,inputType:common_constant_1.SettingInputKeys.CHECKBOX,defaultValue:!0},{title:"Read Only",ref:common_constant_1.SettingKeys.IS_READONLY,inputType:common_constant_1.SettingInputKeys.CHECKBOX,defaultValue:!1,button:{icon:"#icon-unlocked",tooltip:"Disable Component When...",dialog:!0}}]},{title:"Width",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{boundarySetting:!0,ref:common_constant_1.SettingKeys.BOX_WIDTH,inputType:common_constant_1.SettingInputKeys.RADIO,dataset:TextboxMetadata.AVAILABLE_WIDTHS,defaultValue:"input-default"}]}].concat(component_metadata_1.BaseComponentMetadata.SETTING_FIELDS),TextboxMetadata.BINDABLE_FIELDS_2=[{name:"Text",ref:common_constant_1.SettingKeys.TEXT,valueType:value_type_enum_1.ValueTypeEnum.STRING,write:!0,read:!0,defaultValue:{Type:binding_type_enum_1.BindingTypeEnum.STATIC_VALUE,value:""}},{name:"Label",ref:common_constant_1.SettingKeys.LABEL,valueType:value_type_enum_1.ValueTypeEnum.LOCALIZED_STRING,write:!0,read:!1,defaultValue:{Type:binding_type_enum_1.BindingTypeEnum.STATIC_VALUE,value:""}},{name:"Placeholder",ref:common_constant_1.SettingKeys.PLACEHOLDER,valueType:value_type_enum_1.ValueTypeEnum.LOCALIZED_STRING,write:!0,read:!1,defaultValue:{Type:binding_type_enum_1.BindingTypeEnum.STATIC_VALUE,value:""}}],TextboxMetadata}();exports.TextboxMetadata=TextboxMetadata},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ButtonComponent=void 0;var core_1=__webpack_require__(1),ids_enterprise_ng_1=__webpack_require__(135),operators_1=__webpack_require__(106),common_constant_1=__webpack_require__(3),button_metadata_1=__webpack_require__(570),component_1=__webpack_require__(239),dynamic_component_service_1=__webpack_require__(104),framework_service_1=__webpack_require__(103),ButtonComponent=function(_super){function ButtonComponent(elementRef,renderer,changeDetectorRef,frameworkService,dynamicComponentService,sohoMessageService){return _super.call(this,elementRef,renderer,changeDetectorRef,frameworkService,dynamicComponentService,sohoMessageService)||this}var _a,_b,_c,_d,_e,_f;return __extends(ButtonComponent,_super),ButtonComponent.prototype.initializeBinding=function(componentDatabearer){var _this=this;button_metadata_1.ButtonMetadata.BINDABLE_FIELDS_2.forEach((function(field){var self=_this,bindingValue=componentDatabearer[field.ref].value;self[field.ref]=bindingValue===common_constant_1.SubstitutionTags.VALUE?"":bindingValue}))},ButtonComponent.prototype.onClick=function(){this.trigger(common_constant_1.InteractionTriggerEnum.CLICK).pipe(operators_1.take(1))},ButtonComponent=__decorate([core_1.Component({selector:"ng2-button",template:'\n\t\t<button\n\t\t\t[soho-button]="style"\n\t\t\tsoho-busyindicator\n\t\t\t[disabled]="busyIndicator.activated"\n\t\t\t(click)="onClick()"\n\t\t>\n\t\t\t{{ content }}\n\t\t</button>\n\t'}),__metadata("design:paramtypes",["function"==typeof(_a=void 0!==core_1.ElementRef&&core_1.ElementRef)?_a:Object,"function"==typeof(_b=void 0!==core_1.Renderer2&&core_1.Renderer2)?_b:Object,"function"==typeof(_c=void 0!==core_1.ChangeDetectorRef&&core_1.ChangeDetectorRef)?_c:Object,"function"==typeof(_d=void 0!==framework_service_1.FrameworkService&&framework_service_1.FrameworkService)?_d:Object,"function"==typeof(_e=void 0!==dynamic_component_service_1.DynamicComponentService&&dynamic_component_service_1.DynamicComponentService)?_e:Object,"function"==typeof(_f=void 0!==ids_enterprise_ng_1.SohoMessageService&&ids_enterprise_ng_1.SohoMessageService)?_f:Object])],ButtonComponent)}(component_1.BaseComponent);exports.ButtonComponent=ButtonComponent},function(module,exports,__webpack_require__){"use strict";(function($){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.DropdownComponent=void 0;var core_1=__webpack_require__(1),ids_enterprise_ng_1=__webpack_require__(135),rxjs_1=__webpack_require__(81),common_constant_1=__webpack_require__(3),value_type_enum_1=__webpack_require__(26),dropdown_metadata_1=__webpack_require__(1214),backward_compatible_1=__webpack_require__(64),component_1=__webpack_require__(239),dynamic_component_service_1=__webpack_require__(104),framework_service_1=__webpack_require__(103),DropdownComponent=function(_super){function DropdownComponent(elementRef,renderer,changeDetectorRef,frameworkService,dynamicComponentService,sohoMessageService){return _super.call(this,elementRef,renderer,changeDetectorRef,frameworkService,dynamicComponentService,sohoMessageService)||this}var _a,_b,_c,_d,_e,_f,_g;return __extends(DropdownComponent,_super),DropdownComponent.prototype.onInitComponent=function(){_super.prototype.onInitComponent.call(this),this.showLabel=backward_compatible_1.BackwardCompatible.getShowLabel(this.databearer)},DropdownComponent.prototype.initializeBinding=function(componentDatabearer){var _this=this;dropdown_metadata_1.DropdownMetadata.BINDABLE_FIELDS_2.forEach((function(field){var _a;switch(field.valueType){case value_type_enum_1.ValueTypeEnum.OBJECT:break;case value_type_enum_1.ValueTypeEnum.STRING:case value_type_enum_1.ValueTypeEnum.LOCALIZED_STRING:default:_this[field.ref]=null===(_a=componentDatabearer[field.ref])||void 0===_a?void 0:_a.value}}))},DropdownComponent.prototype.dataServiceCompleted=function(component){_super.prototype.dataServiceCompleted.call(this,component),component.currentItem=component.context.ListResult[0],component.contextData$=rxjs_1.of(component.context.ListResult),this.refreshComponent(),this.onChange()},DropdownComponent.prototype.refreshComponent=function(){this.dropDownComponent.setFocus(),$(":focus").blur()},DropdownComponent.prototype.onChange=function(event){console.info(event),this.trigger(common_constant_1.InteractionTriggerEnum.CURRENT_ITEM_CHANGED),this.updateBindings()},__decorate([core_1.ViewChild(ids_enterprise_ng_1.SohoDropDownComponent,{static:!0}),__metadata("design:type","function"==typeof(_a=void 0!==ids_enterprise_ng_1.SohoDropDownComponent&&ids_enterprise_ng_1.SohoDropDownComponent)?_a:Object)],DropdownComponent.prototype,"dropDownComponent",void 0),DropdownComponent=__decorate([core_1.Component({selector:"ng2-button",template:'\n\t\t<div [id]="id" class="dropdown-container">\n\t\t\t<label\n\t\t\t\t*ngIf="showLabel"\n\t\t\t\tclass="label"\n\t\t\t\t[for]="id"\n\t\t\t>\n\t\t\t\t{{ label }}\n\t\t\t</label>\n\t\t</div>\n\t\t<select soho-dropdown soho-busyindicator\n\t\t\t[name]="id"\n\t\t\t[(ngModel)]="currentItem"\n\t\t\t(change)="onChange($event)"\n\t\t>\n\t\t\t<option\n\t\t\t\t*ngFor="let item of (contextData$ | async)"\n\t\t\t\t[ngValue]="item"\n\t\t\t>\n\t\t\t\t{{ item[databearer.displayValue.sourceKey] }}\n\t\t\t</option>\n\t\t</select>\n\t'}),__metadata("design:paramtypes",["function"==typeof(_b=void 0!==core_1.ElementRef&&core_1.ElementRef)?_b:Object,"function"==typeof(_c=void 0!==core_1.Renderer2&&core_1.Renderer2)?_c:Object,"function"==typeof(_d=void 0!==core_1.ChangeDetectorRef&&core_1.ChangeDetectorRef)?_d:Object,"function"==typeof(_e=void 0!==framework_service_1.FrameworkService&&framework_service_1.FrameworkService)?_e:Object,"function"==typeof(_f=void 0!==dynamic_component_service_1.DynamicComponentService&&dynamic_component_service_1.DynamicComponentService)?_f:Object,"function"==typeof(_g=void 0!==ids_enterprise_ng_1.SohoMessageService&&ids_enterprise_ng_1.SohoMessageService)?_g:Object])],DropdownComponent)}(component_1.BaseComponent);exports.DropdownComponent=DropdownComponent}).call(this,__webpack_require__(21))},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.FlexboxComponent=void 0;var core_1=__webpack_require__(1),ids_enterprise_ng_1=__webpack_require__(135),common_constant_1=__webpack_require__(3),orientation_enum_1=__webpack_require__(44),size_type_enum_1=__webpack_require__(29),flexbox_metadata_1=__webpack_require__(1215),layout_component_1=__webpack_require__(451),dynamic_component_service_1=__webpack_require__(104),framework_service_1=__webpack_require__(103),FlexboxComponent=function(_super){function FlexboxComponent(elementRef,renderer,changeDetectorRef,frameworkService,dynamicComponentService,sohoMessageService){var _this=_super.call(this,elementRef,renderer,changeDetectorRef,frameworkService,dynamicComponentService,sohoMessageService)||this;return _this.hasIndividualChildSizes=!0,_this}var _a,_b,_c,_d,_e,_f;return __extends(FlexboxComponent,_super),FlexboxComponent.prototype.ngAfterViewInit=function(){},FlexboxComponent.prototype.getOrientationSettings=function(id){var orientation=this.getBoundarySetting(common_constant_1.SettingKeys.ORIENTATION,id);return orientation||(orientation=this.frameworkService.componentService.getDefaultComponentSettingValue(flexbox_metadata_1.FlexboxMetadata.SETTING_FIELDS,common_constant_1.SettingKeys.ORIENTATION,"Orientation")),orientation},FlexboxComponent.prototype.getAlignment=function(){var horizAlignment=this.getBoundarySetting(common_constant_1.SettingKeys.ALIGNMENT_HORIZONTAL),verticAlignment=this.getBoundarySetting(common_constant_1.SettingKeys.ALIGNMENT_VERTICAL);return{"justify-content":this.getAlignmentProperty(this.orientation===orientation_enum_1.OrientationEnum.HORIZONTAL?horizAlignment:verticAlignment),"align-items":this.getAlignmentProperty(this.orientation===orientation_enum_1.OrientationEnum.HORIZONTAL?verticAlignment:horizAlignment)}},FlexboxComponent.prototype.getAlignmentProperty=function(alignment){var alignmentProperty;switch(alignment){case common_constant_1.AlignmentEnum.FLEX_START:alignmentProperty="flex-start";break;case common_constant_1.AlignmentEnum.CENTER:alignmentProperty="center";break;case common_constant_1.AlignmentEnum.FLEX_END:alignmentProperty="flex-end";break;default:console.warn("[Flexbox] Invalid alignment:"+alignment)}return alignmentProperty},FlexboxComponent.prototype.getPadding=function(){var margin=this.getBoundarySetting(common_constant_1.SettingKeys.MARGIN);return{padding:margin.top+"px "+margin.right+"px "+margin.bottom+"px "+margin.left+"px"}},FlexboxComponent.prototype.getPxPerPercentComponent=function(ori,percent){var pixels=0;return ori===orientation_enum_1.OrientationEnum.VERTICAL&&this.children.forEach((function(child){child.getBoundarySetting(common_constant_1.SettingKeys.VISIBILITY)&&child.getBoundarySetting(common_constant_1.SettingKeys.HEIGHT).sizeType===size_type_enum_1.SizeTypeEnum.AUTO&&(pixels+=child.element.outerHeight(!0))}),!1),pixels},FlexboxComponent.prototype.updateClassNames=function(){this.classNames="something"},FlexboxComponent.prototype.updateInlineStyles=function(){this.calcNewSizes(),this.updateChildCageInlineStyles(),this.updateParentInlineStyles()},FlexboxComponent.prototype.updateChildCageInlineStyles=function(){var boundary=this.frameworkService.currentBoundary;this.orientation=this.getOrientationSettings(boundary.id),this.sizeType=this.getBoundarySetting(common_constant_1.SettingKeys.SIZE_TYPE,boundary.id),this.size=this.getBoundarySetting(common_constant_1.SettingKeys.SIZE,boundary.id),this.inlineStyles=Object.assign({},this.getAlignment(),this.getPadding())},FlexboxComponent.prototype.updateParentInlineStyles=function(){var generalComponentStyle=this.getInlineStyles(),backgroundColor=this.getBoundarySetting(common_constant_1.SettingKeys.BACKGROUND_COLOR),componentStyleProperties=Object.assign({backgroundColor:void 0===backgroundColor?"":backgroundColor,padding:null,width:"",height:""},generalComponentStyle);if(delete componentStyleProperties.margin,componentStyleProperties.width="",this.sizeType===common_constant_1.FlexSizeTypeEnum.PIXELS){var value=this.size+"px";componentStyleProperties.flexGrow=0,componentStyleProperties.flexShrink=0,componentStyleProperties.flexBasis=value}else componentStyleProperties.flexShrink=1,componentStyleProperties.flexBasis=0,componentStyleProperties.flexGrow=this.size;this.setStyles(componentStyleProperties)},FlexboxComponent=__decorate([core_1.Component({selector:"ng2-flexbox",template:'\n\t\t<div\n\t\t\tid="child-cage-{{ id }}"\n\t\t\tclass="child-cage"\n\t\t\t[ngStyle]="inlineStyles"\n\t\t>\n\t\t\t<children-component-container\n\t\t\t\t[ngClass]="{ \'vertical\': orientation === 2 }"\n\t\t\t\t[parent]="this"\n\t\t\t\t(onChildrenReady)="onChildrenReady($event)"\n\t\t\t></children-component-container>\n\t\t</div>\n\t'}),__metadata("design:paramtypes",["function"==typeof(_a=void 0!==core_1.ElementRef&&core_1.ElementRef)?_a:Object,"function"==typeof(_b=void 0!==core_1.Renderer2&&core_1.Renderer2)?_b:Object,"function"==typeof(_c=void 0!==core_1.ChangeDetectorRef&&core_1.ChangeDetectorRef)?_c:Object,"function"==typeof(_d=void 0!==framework_service_1.FrameworkService&&framework_service_1.FrameworkService)?_d:Object,"function"==typeof(_e=void 0!==dynamic_component_service_1.DynamicComponentService&&dynamic_component_service_1.DynamicComponentService)?_e:Object,"function"==typeof(_f=void 0!==ids_enterprise_ng_1.SohoMessageService&&ids_enterprise_ng_1.SohoMessageService)?_f:Object])],FlexboxComponent)}(layout_component_1.LayoutComponent);exports.FlexboxComponent=FlexboxComponent},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ListComponent=void 0;var core_1=__webpack_require__(1),ids_enterprise_ng_1=__webpack_require__(135),rxjs_1=__webpack_require__(81),common_constant_1=__webpack_require__(3),list_metadata_1=__webpack_require__(571),backward_compatible_1=__webpack_require__(64),component_1=__webpack_require__(239),dynamic_component_service_1=__webpack_require__(104),framework_service_1=__webpack_require__(103),ListComponent=function(_super){function ListComponent(elementRef,renderer,changeDetectorRef,frameworkService,dynamicComponentService,sohoMessageService){var _this=_super.call(this,elementRef,renderer,changeDetectorRef,frameworkService,dynamicComponentService,sohoMessageService)||this;return _this.templateId=[],_this}var _a,_b,_c,_d,_e,_f,_g;return __extends(ListComponent,_super),ListComponent.prototype.onInitComponent=function(){_super.prototype.onInitComponent.call(this),this.showLabel=backward_compatible_1.BackwardCompatible.getShowLabel(this.databearer)},ListComponent.prototype.initializeBinding=function(componentDatabearer){var _this=this;list_metadata_1.ListMetadata.BINDABLE_FIELDS_2.forEach((function(field){var _a,self=_this,bindingValue=null===(_a=componentDatabearer[field.ref])||void 0===_a?void 0:_a.value;self[field.ref]=bindingValue===common_constant_1.SubstitutionTags.VALUE?"":bindingValue;var currentBoundary=_this.frameworkService.currentBoundary,boundarySetting=componentDatabearer.boundarySettings[currentBoundary.displayName];_this.template=boundarySetting.itemTemplate,console.info("List Template: "+_this.template.id)}))},ListComponent.prototype.dataServiceCompleted=function(component){_super.prototype.dataServiceCompleted.call(this,component),this.setTemplateBindings(),component.contextData$=rxjs_1.of(component.context.ListResult),this.changeDetectorRef.detectChanges()},ListComponent.prototype.setTemplateBindings=function(){var _this=this;switch(this.templateId.length=0,this.template.id){case common_constant_1.ListTemplateIdEnum.OneLabelFlexbox:case common_constant_1.ListTemplateIdEnum.TwoVerticalLabels:default:this.template.children.forEach((function(item){_this.templateId.push(item.content.sourceKey)}))}},ListComponent.prototype.onSelected=function(){var selectedItemIndex=this.listComponent.getSelectedItems[0];this.currentItem=this.context.ListResult[selectedItemIndex],this.updateBindings()},__decorate([core_1.ViewChild(ids_enterprise_ng_1.SohoListViewComponent,{static:!0}),__metadata("design:type","function"==typeof(_a=void 0!==ids_enterprise_ng_1.SohoListViewComponent&&ids_enterprise_ng_1.SohoListViewComponent)?_a:Object)],ListComponent.prototype,"listComponent",void 0),ListComponent=__decorate([core_1.Component({selector:"ng2-list",template:'\n\t\t<div class="full-height"\n\t\t\t[id]="id"\n\t\t\tsoho-busyindicator\n\t\t>\n\t\t\t<soho-toolbar-flex\n\t\t\t\t*ngIf="showLabel"\n\t\t\t>\n\t\t\t\t<soho-toolbar-flex-section\n\t\t\t\t\t*ngIf="showLabel"\n\t\t\t\t\t[isTitle]="true"\n\t\t\t\t\t[isTitleFavor]="true"\n\t\t\t\t>\n\t\t\t\t\t<h2>{{ label }}</h2>\n\t\t\t\t</soho-toolbar-flex-section>\n\t\t\t</soho-toolbar-flex>\n\n\t\t\t<soho-listview\n\t\t\t\t[ngSwitch]="template.id"\n\t\t\t\t(selected)="onSelected($event)"\n\t\t\t>\n\t\t\t\t<li soho-listview-item\n\t\t\t\t\t*ngFor="let item of ( contextData$ | async )"\n\t\t\t\t>\n\t\t\t\t\t<ng-container\n\t\t\t\t\t\t*ngSwitchCase="\'OneLabelFlexbox\'"\n\t\t\t\t\t>\n\t\t\t\t\t\t<p soho-listview-header>{{ item[templateId[0]] }}</p>\n\t\t\t\t\t</ng-container>\n\t\t\t\t\t<ng-container\n\t\t\t\t\t\t*ngSwitchCase="\'TwoVerticalLabels\'"\n\t\t\t\t\t>\n\t\t\t\t\t\t<p soho-listview-header>{{ item[templateId[0]] }}</p>\n\t\t\t\t\t\t<p soho-listview-subheader>{{ item[templateId[1]] }}</p>\n\t\t\t\t\t</ng-container>\n\t\t\t\t\t<ng-container\n\t\t\t\t\t\t*ngSwitchDefault\n\t\t\t\t\t>\n\t\t\t\t\t\tYolo\n\t\t\t\t\t</ng-container>\n\t\t\t\t</li>\n\t\t\t</soho-listview>\n\t\t</div>\n\t'}),__metadata("design:paramtypes",["function"==typeof(_b=void 0!==core_1.ElementRef&&core_1.ElementRef)?_b:Object,"function"==typeof(_c=void 0!==core_1.Renderer2&&core_1.Renderer2)?_c:Object,"function"==typeof(_d=void 0!==core_1.ChangeDetectorRef&&core_1.ChangeDetectorRef)?_d:Object,"function"==typeof(_e=void 0!==framework_service_1.FrameworkService&&framework_service_1.FrameworkService)?_e:Object,"function"==typeof(_f=void 0!==dynamic_component_service_1.DynamicComponentService&&dynamic_component_service_1.DynamicComponentService)?_f:Object,"function"==typeof(_g=void 0!==ids_enterprise_ng_1.SohoMessageService&&ids_enterprise_ng_1.SohoMessageService)?_g:Object])],ListComponent)}(component_1.BaseComponent);exports.ListComponent=ListComponent},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.LookupComponent=void 0;var core_1=__webpack_require__(1),ids_enterprise_ng_1=__webpack_require__(135),isNil_1=__importDefault(__webpack_require__(164)),common_constant_1=__webpack_require__(3),lookup_metadata_1=__webpack_require__(1216),backward_compatible_1=__webpack_require__(64),component_1=__webpack_require__(239),dynamic_component_service_1=__webpack_require__(104),framework_service_1=__webpack_require__(103),LookupComponent=function(_super){function LookupComponent(elementRef,renderer,changeDetectorRef,frameworkService,dynamicComponentService,sohoMessageService){return _super.call(this,elementRef,renderer,changeDetectorRef,frameworkService,dynamicComponentService,sohoMessageService)||this}var _a,_b,_c,_d,_e,_f,_g;return __extends(LookupComponent,_super),LookupComponent.prototype.onInitComponent=function(){_super.prototype.onInitComponent.call(this),this.showLabel=backward_compatible_1.BackwardCompatible.getShowLabel(this.databearer)},LookupComponent.prototype.initializeBinding=function(componentDatabearer){var _this=this;lookup_metadata_1.LookupMetadata.BINDABLE_FIELDS_2.forEach((function(field){var self=_this,bindingValue=componentDatabearer[field.ref].value;self[field.ref]=bindingValue===common_constant_1.SubstitutionTags.VALUE?"":bindingValue})),this.columns=[{id:"productId",name:"Product Id",field:"productId",formatter:Soho.Formatters.Readonly}],this.dataset=[{id:1,productId:2142201,productName:"Compressor",activity:"Assemble Paint",quantity:1,price:210.99,status:"OK",orderDate:new Date(2014,12,8),action:"Action"}]},LookupComponent.prototype.onBeforeShow=function(api,response){return isNil_1.default(this.datasource)?(this.showErrorDialog("No data service available on component: "+this.databearer.displayName),this.busyIndicator.activated=!1,response(!1)):(this.trigger(common_constant_1.InteractionTriggerEnum.CLICK),response())},__decorate([core_1.ViewChild(ids_enterprise_ng_1.SohoLookupComponent),__metadata("design:type","function"==typeof(_a=void 0!==ids_enterprise_ng_1.SohoLookupComponent&&ids_enterprise_ng_1.SohoLookupComponent)?_a:Object)],LookupComponent.prototype,"sohoLookupComponent",void 0),LookupComponent=__decorate([core_1.Component({selector:"ng2-lookup",template:'\n\t\t<div class="field">\n\t\t\t<label\n\t\t\t\t[for]="id"\n\t\t\t\tsoho-label\n\t\t\t\t*ngIf="showLabel"\n\t\t\t>\n\t\t\t\t{{ label }}\n\t\t\t</label>\n\t\t\t<input\n\t\t\t\tsoho-lookup\n\t\t\t\tsoho-busyindicator\n\t\t\t\t[columns]="columns"\n\t\t\t\t[dataset]="dataset"\n\t\t\t\t[beforeShow]="onBeforeShow.bind(this)"\n\t\t\t/>\n\t\t</div>\n\t'}),__metadata("design:paramtypes",["function"==typeof(_b=void 0!==core_1.ElementRef&&core_1.ElementRef)?_b:Object,"function"==typeof(_c=void 0!==core_1.Renderer2&&core_1.Renderer2)?_c:Object,"function"==typeof(_d=void 0!==core_1.ChangeDetectorRef&&core_1.ChangeDetectorRef)?_d:Object,"function"==typeof(_e=void 0!==framework_service_1.FrameworkService&&framework_service_1.FrameworkService)?_e:Object,"function"==typeof(_f=void 0!==dynamic_component_service_1.DynamicComponentService&&dynamic_component_service_1.DynamicComponentService)?_f:Object,"function"==typeof(_g=void 0!==ids_enterprise_ng_1.SohoMessageService&&ids_enterprise_ng_1.SohoMessageService)?_g:Object])],LookupComponent)}(component_1.BaseComponent);exports.LookupComponent=LookupComponent},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.TextboxComponent=void 0;var core_1=__webpack_require__(1),ids_enterprise_ng_1=__webpack_require__(135),common_constant_1=__webpack_require__(3),textbox_metadata_1=__webpack_require__(572),backward_compatible_1=__webpack_require__(64),component_1=__webpack_require__(239),dynamic_component_service_1=__webpack_require__(104),framework_service_1=__webpack_require__(103),TextboxComponent=function(_super){function TextboxComponent(elementRef,renderer,changeDetectorRef,frameworkService,dynamicComponentService,sohoMessageService){return _super.call(this,elementRef,renderer,changeDetectorRef,frameworkService,dynamicComponentService,sohoMessageService)||this}var _a,_b,_c,_d,_e,_f,_g;return __extends(TextboxComponent,_super),TextboxComponent.prototype.onInitComponent=function(){_super.prototype.onInitComponent.call(this),this.showLabel=backward_compatible_1.BackwardCompatible.getShowLabel(this.databearer)},TextboxComponent.prototype.initializeBinding=function(componentDatabearer){var _this=this;textbox_metadata_1.TextboxMetadata.BINDABLE_FIELDS_2.forEach((function(field){var self=_this,bindingValue=componentDatabearer[field.ref].value;self[field.ref]=bindingValue===common_constant_1.SubstitutionTags.VALUE?"":bindingValue}))},TextboxComponent.prototype.clear=function(){this.text="",this.input.setValue(this.text)},__decorate([core_1.ViewChild(ids_enterprise_ng_1.SohoInputComponent),__metadata("design:type","function"==typeof(_a=void 0!==ids_enterprise_ng_1.SohoInputComponent&&ids_enterprise_ng_1.SohoInputComponent)?_a:Object)],TextboxComponent.prototype,"input",void 0),TextboxComponent=__decorate([core_1.Component({selector:"ng2-textbox",template:'\n\t\t<div class="field">\n\t\t\t<label [for]="id"\n\t\t\t\t*ngIf="showLabel">\n\t\t\t\t{{ label }}\n\t\t\t</label>\n\t\t\t<input [type]="editType" [id]="id" [name]="id" [class]="boxWidth"\n\t\t\t\tsoho-input\n\t\t\t\tsoho-busyindicator\n\t\t\t\t[(ngModel)]="text"\n\t\t\t\t[readOnly]="isReadonly"\n\t\t\t/>\n\t\t</div>\n\t'}),__metadata("design:paramtypes",["function"==typeof(_b=void 0!==core_1.ElementRef&&core_1.ElementRef)?_b:Object,"function"==typeof(_c=void 0!==core_1.Renderer2&&core_1.Renderer2)?_c:Object,"function"==typeof(_d=void 0!==core_1.ChangeDetectorRef&&core_1.ChangeDetectorRef)?_d:Object,"function"==typeof(_e=void 0!==framework_service_1.FrameworkService&&framework_service_1.FrameworkService)?_e:Object,"function"==typeof(_f=void 0!==dynamic_component_service_1.DynamicComponentService&&dynamic_component_service_1.DynamicComponentService)?_f:Object,"function"==typeof(_g=void 0!==ids_enterprise_ng_1.SohoMessageService&&ids_enterprise_ng_1.SohoMessageService)?_g:Object])],TextboxComponent)}(component_1.BaseComponent);exports.TextboxComponent=TextboxComponent},,,function(module,exports,__webpack_require__){__webpack_require__(582),__webpack_require__(768),__webpack_require__(807),module.exports=__webpack_require__(810)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(769),__webpack_require__(806)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(148),__webpack_require__(809)},function(module,exports){var subscriptions;MG=function(){var origin,parentDomain,postMessage,userControlListener,userControlListenerScope,handleParentMessage,readyHandlers,isInitialized=!1,requestId=1,requestCallbacks={},parameters={};if(origin=window.location.href.substring(0,window.location.href.indexOf("dynamic/metadata")+"dynamic/".length-1),function(){var i,pos,key,parms=window.location.search.substring(1).split("&");for(i=0;i<parms.length;i++)(pos=parms[i].indexOf("="))>0&&(key=parms[i].substring(0,pos),parameters[key]=parms[i].substring(pos+1))}(),handleParentMessage=function(e){if(e&&void 0!==e.data&&""!==e.data)if("}}$etParent~"===e.data){var ix,rh;if(parentDomain=e.origin,isInitialized=!0,readyHandlers){for(ix=0;ix<readyHandlers.length;ix++)(rh=readyHandlers[ix]).fn.apply(rh.scope);readyHandlers=void 0}}else{var payload=JSON.parse(e.data);payload.requestId?"function"==typeof requestCallbacks[payload.requestId]&&(payload.success&&requestCallbacks[payload.requestId].apply(window,[payload.value]),delete requestCallbacks[payload.requestId]):payload.fireEvent?WSForm.fireEvent(payload.fireEvent):userControlListener&&userControlListener.apply(userControlListenerScope||window,[payload])}},window.postMessage)window.addEventListener?window.addEventListener("message",handleParentMessage,!1):window.attachEvent&&window.attachEvent("onmessage",handleParentMessage),postMessage=function(msg){msg&&MG.getIsConnected()&&parent.postMessage(msg,parentDomain)};else{try{parent.MG&&(postMessage=function(msg){parent.MG.UserControl.postMessageDirect(msg,window)})}catch(err){postMessage=function(){alert("A user control is not supported by your browser: "+err.message)}}postMessage||(postMessage=function(){alert("A user control is not supported by your browser")})}return{generateServerEvent:function(args){var request={cmd:"gse",args:args};MG.sendWebUserControlRequest(request)},sendWebUserControlRequest:function(payload,callback){"function"==typeof callback&&(payload.requestId=requestId++,requestCallbacks[payload.requestId.toString()]=callback),postMessage(JSON.stringify({type:"webuserctrl",payload:payload}))},getQueryParameter:function(name){name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var results=new RegExp("[\\?&]"+name+"=([^&#]*)").exec(location.search);return null==results?"":decodeURIComponent(results[1].replace(/\+/g," "))},onReady:function(fn,scope){"function"==typeof fn&&(isInitialized?fn.apply(scope||window):(readyHandlers=readyHandlers||[]).push({fn:fn,scope:scope||window}))},getIsConnected:function(){return isInitialized},getOrigin:function(){return origin},getPlatform:function(){return parameters.platform},getTheme:function(){return parameters.theme},getWebClientUrl:function(){return decodeURIComponent(parameters.weburl)},getSession:function(){return parameters.session},getConfigName:function(){return parameters.config},Ajax:{get:function(path,cb,onError){var url,req=new XMLHttpRequest;url=-1===path.indexOf("?")?origin+path+"?zid="+(new Date).getTime():origin+path+"&zid="+(new Date).getTime(),req.onreadystatechange=function(){4===req.readyState&&(req.onreadystatechange=null,200===req.status?"function"==typeof cb&&cb(JSON.parse(req.responseText)):"function"==typeof onError&&onError())},req.open("GET",url,!0),req.send()},post:function(path,payload,cb,onError){var req=new XMLHttpRequest,url=origin+path;req.onreadystatechange=function(){4===req.readyState&&(req.onreadystatechange=null,200===req.status?"function"==typeof cb&&cb(JSON.parse(req.responseText)):"function"==typeof onError&&onError())},req.open("POST",url,!0),req.send(JSON.stringify(payload))}},UserControl:{registerListener:function(callback,scope){userControlListener=callback,userControlListenerScope=scope}}}}(),WSForm=(subscriptions={},{UserControl:{registerListener:function(callback,scope){MG.UserControl.registerListener(callback,scope)},invoke:function(args){MG.generateServerEvent(args)},getName:function(){return MG.getQueryParameter("name")}},fireEvent:function(eventName){"function"==typeof subscriptions[eventName]&&subscriptions[eventName](eventName)},getFormId:function(){return MG.getQueryParameter("formId")},getCompValue:function(name,cb){MG.sendWebUserControlRequest({cmd:"getcomp",name:name},cb)},setCompValue:function(name,value,cb){MG.sendWebUserControlRequest({cmd:"setcomp",name:name,value:value},cb)},getVarValue:function(name,cb){MG.sendWebUserControlRequest({cmd:"getvar",name:name},cb)},setVarValue:function(name,value,cb){MG.sendWebUserControlRequest({cmd:"setvar",name:name,value:value},cb)},getPropValue:function(name,cb){MG.sendWebUserControlRequest({cmd:"getprop",name:name},cb)},setPropValue:function(name,value,cb){MG.sendWebUserControlRequest({cmd:"setprop",name:name,value:value},cb)},invoke:function(method){for(var cb,args=[],i=1;i<arguments.length;i++)"function"==typeof arguments[i]?cb=arguments[i]:args.push(arguments[i]);MG.sendWebUserControlRequest({cmd:"invoke",name:method,args:args},cb)},call:function(method){MG.sendWebUserControlRequest({cmd:"call",name:method.name,args:method.parameters},method.onCompleted)},generate:function(eventName,cb,async){MG.sendWebUserControlRequest({cmd:"generate",name:eventName,args:1==async},cb)},subscribe:function(eventName,handler,cb){subscriptions[eventName]=handler,MG.sendWebUserControlRequest({cmd:"subscribe",name:eventName},cb)},getImageSrc:function(propertyName,row,cb){var src=MG.getOrigin()+"/form/"+WSForm.getFormId()+"/getimage/"+propertyName;void 0!==row&&(src+="/"+row.toString()),"function"==typeof cb&&cb(src+"?zid="+(new Date).getTime())}}),WSUserControl={generateServerEvent:MG.generateServerEvent,registerCallback:MG.UserControl.registerListener,onReady:MG.onReady}},function(module,exports,__webpack_require__){(function($){"undefined"==typeof infor&&(infor={}),void 0===infor.companyon&&(infor.companyon={}),infor.companyon.client={},infor.companyon.client.listeningMessageTypes={},infor.companyon.client.drillbackSelector="a.companyon-drillbacklink",infor.companyon.client.favoritesSelector="a.companyon-favoritelink";var MsgType_ContextDimensionChanged="contextDimensionChanged";infor.companyon.client.messageReceiver=function(e){infor.companyon.client.executeMessage(e.data)},infor.companyon.client.executeMessage=function(msg){if(null!=msg){try{msg=$.parseJSON(msg)}catch(e){return}var type=msg.type,data=msg.data;if(null!=type){var registeredHandlers=infor.companyon.client.listeningMessageTypes[type]||[],wildCardHandlers=infor.companyon.client.listeningMessageTypes["*"]||[],allHandlers={};$.extend(allHandlers,registeredHandlers,wildCardHandlers),$.each(allHandlers,(function(index,elem){var registeredHandler=elem.handler;try{registeredHandler(data,type)}catch(e){}})),allHandlers={}}}},infor.companyon.client.sendRelayMessage=function(type,data){var proxyMessage={type:type,data:data};infor.companyon.client.sendMessage("prepareRelayProxyMessage",proxyMessage)},infor.companyon.client.sendMessageToParent=function(type,data){var message={type:type,data:data};JSON.stringify(message);if(null!=window.postMessage){var proxyMessage={type:"workspaceProxyMessage",data:message},encodedProxyMessage=JSON.stringify(proxyMessage);window.parent!=window&&window.parent.postMessage(encodedProxyMessage,"*")}},infor.companyon.client.sendMessage=function(type,data,target){var message={type:type,data:data},encodedMessage=JSON.stringify(message);if(!0===infor.companyon.containerWindow)null!=window.postMessage?window.postMessage(encodedMessage,"*"):"function"==typeof infor.companyon.messageReceiver&&infor.companyon.messageReceiver({data:encodedMessage});else{if(null!=window.opener){try{window.opener.infor.companyon.client.sendMessageProxy(encodedMessage),window.opener.focus(),window.opener.document.focus()}catch(e){}return}if(3==arguments.length){var encodedProxyMessage=JSON.stringify(message);arguments[2].postMessage(encodedProxyMessage,"*")}else if(null!=window.postMessage){var proxyMessage={type:"workspaceProxyMessage",data:message};encodedProxyMessage=JSON.stringify(proxyMessage);window.top!=window&&window.top.postMessage(encodedProxyMessage,"*")}else{function testFrameAndSend(){var frame=window.parent.frames.inforCommFrame;null!=frame?frame.sendMessage(encodedMessage,infor.companyon.client.sharePointUrl):setTimeout(testFrameAndSend,100)}testFrameAndSend()}}},infor.companyon.client.sendMessageProxy=function(encodedMessage){var messageObject=$.evalJSON(encodedMessage);infor.companyon.client.sendMessage(messageObject.type,messageObject.data)},infor.companyon.client.sendPrepareDrillbackMessage=function(href){var data={link:href};infor.companyon.client.sendMessage("prepareApplicationDrillback",data),infor.companyon.client.sendMessage("syndication.complete",{})},infor.companyon.client.adjustHeight=function(height){infor.companyon.client.sendMessage(window.name,{height:height+"px"}),infor.companyon.client.sendMessage(MsgType_ContextDimensionChanged,{height:height,iframeName:window.name})},infor.companyon.client.sendPrepareFavoritesMessage=function(href){var data={link:href};infor.companyon.client.sendMessage("prepareFavoriteContext",data)},infor.companyon.client.getValueQuerystring=function(key){key=key.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var qs=new RegExp("[\\?&]"+key+"=([^&#]*)").exec(window.location.href),value=null;return null!=qs&&(value=qs[1]),value},infor.companyon.client.registerMessageHandler=function(messageType,handler,namespace){if(null!=messageType&&null!=handler){var handlers=infor.companyon.client.listeningMessageTypes[messageType]||[];handlers.push({handler:handler,namespace:namespace}),infor.companyon.client.listeningMessageTypes[messageType]=handlers,4==arguments.length?infor.companyon.client.sendMessageToParent("workspaceClientSubscribe",{messageType:messageType,iframeName:window.name}):infor.companyon.client.sendMessage("workspaceClientSubscribe",{messageType:messageType,iframeName:window.name})}},infor.companyon.client.unRegisterMessageHandler=function(messageType,namespace){if(null!=messageType){var handlers=infor.companyon.client.listeningMessageTypes[messageType]||[],newHandlers=[];$.each(handlers,(function(index,elem){elem.namespace!=namespace&&newHandlers.push(elem)})),infor.companyon.client.listeningMessageTypes[messageType]=newHandlers}},infor.companyon.client.bind=infor.companyon.client.registerMessageHandler,infor.companyon.client.unbind=infor.companyon.client.unRegisterMessageHandler,infor.companyon.client.getEnvironmentInformation=function(callback){var randomNumber=infor.companyon.client.getRandomNumber(),data={};data.MessageId=randomNumber,infor.companyon.client.unRegisterMessageHandler("processEnvironmentInformation_"+randomNumber),infor.companyon.client.registerMessageHandler("processEnvironmentInformation_"+randomNumber,(function(data){callback(data)})),infor.companyon.client.sendMessage("getEnvironmentInformation",data)},infor.companyon.client.getEntityInformation=function(data,callback){var randomNumber=infor.companyon.client.getRandomNumber();data.MessageId=randomNumber,infor.companyon.client.unRegisterMessageHandler("processEntityInformation_"+randomNumber),infor.companyon.client.registerMessageHandler("processEntityInformation_"+randomNumber,(function(data){callback(data)})),infor.companyon.client.sendMessage("getEntityInformation",data)},infor.companyon.client.getRandomNumber=function(){return""+(new Date).getTime()+Math.floor(1e4*Math.random())},infor.companyon.client.getInforMingleHomeUrl=function(callback){var randomNumber=infor.companyon.client.getRandomNumber(),data={};data.MessageId=randomNumber,infor.companyon.client.unRegisterMessageHandler("processInforMingleHomeUrl_"+randomNumber),infor.companyon.client.registerMessageHandler("processInforMingleHomeUrl_"+randomNumber,(function(data){callback(data)})),infor.companyon.client.sendMessage("getInforMingleHomeUrl",data)},infor.companyon.client.relayMessage=function(data){infor.companyon.client.executeMessage(JSON.stringify(data));for(var frames=$("iframe"),ct=0;ct<frames.length;ct++){var fr=$('iframe[name="'+$(frames[ct]).attr("name")+'"]');infor.companyon.client.sendMessage("relayFrameMessage",data,fr.get(0).contentWindow)}},$((function(){null==infor.companyon.iframeId&&(null!=window.postMessage&&(window.attachEvent?window.attachEvent("onmessage",infor.companyon.client.messageReceiver):window.addEventListener&&window.addEventListener("message",infor.companyon.client.messageReceiver,!1)),void 0===$("body").live?($("body").on({click:function(){event.preventDefault();$(this).attr("href")}},infor.companyon.client.drillbackSelector),$("body").on({click:function(){event.preventDefault();$(this).attr("href")}},infor.companyon.client.favoritesSelector)):"function"==typeof $(infor.companyon.client.drillbackSelector).live&&($(infor.companyon.client.drillbackSelector).live("click",(function(event){event.preventDefault();var href=$(this).attr("href");return infor.companyon.client.sendPrepareDrillbackMessage(href),!1})),$(infor.companyon.client.favoritesSelector).live("click",(function(event){event.preventDefault();var href=$(this).attr("href");return infor.companyon.client.sendPrepareFavoritesMessage(href),!1}))),null==window.opener&&infor.companyon.client.sendMessage("initClient",window.name),infor.companyon.client.registerMessageHandler("relayFrameMessage",infor.companyon.client.relayMessage))}))}).call(this,__webpack_require__(21))},function(module,exports,__webpack_require__){"use strict";var __importStar=this&&this.__importStar||function(mod){if(mod&&mod.__esModule)return mod;var result={};if(null!=mod)for(var k in mod)Object.hasOwnProperty.call(mod,k)&&(result[k]=mod[k]);return result.default=mod,result};Object.defineProperty(exports,"__esModule",{value:!0});var ng1Import,ng2Import,core_1=__webpack_require__(1),platform_browser_dynamic_1=__webpack_require__(811),core_2=__webpack_require__(2);ng1Import=Promise.resolve().then((function(){return __importStar(__webpack_require__(505))})).then((function(module){return module.appBuilder})),ng2Import=Promise.resolve().then((function(){return __importStar(__webpack_require__(1201))})).then((function(module){return module.RootModule})),ng1Import.then((function(ng1RootModule){ng1RootModule.config(["$urlServiceProvider",function($urlService){return $urlService.deferIntercept()}])})),ng2Import.then((function(ng2RootModule){platform_browser_dynamic_1.platformBrowserDynamic().bootstrapModule(ng2RootModule).then((function(platformRef){var urlService=platformRef.injector.get(core_2.UrlService);platformRef.injector.get(core_1.NgZone).run((function(){urlService.listen(),urlService.sync()}))}))}))},,,,,function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.StateNames=void 0;var StateNames=function(){function StateNames(){}return StateNames.APP_LAUNCHER="ng2AppLauncher",StateNames}();exports.StateNames=StateNames},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Generic=void 0,__webpack_require__(313);var jsonpath_1=__webpack_require__(200),isArray_1=__importDefault(__webpack_require__(33)),rxjs_1=__webpack_require__(81),map_1=__webpack_require__(818);__webpack_require__(57);var parameter_type_enum_1=__webpack_require__(113),data_service_helper_1=__webpack_require__(231),json_helper_1=__webpack_require__(271),base_data_service_1=__webpack_require__(822);__webpack_require__(104);var Generic=function(_super){function Generic(http,dynamicComponentService,obj){return _super.call(this,http,dynamicComponentService,obj)||this}return __extends(Generic,_super),Generic.prototype.getDatabearer=function(){return this.databearer},Generic.prototype.getDetailData=function(interactionParameters){var parameters=this.readParameters(interactionParameters),databearer=this.databearer,url=""+databearer.suite+databearer.endpoint+databearer.resource,substituedUrl=this.setSubstitutionTags(url,void 0,parameters);return this.ionApiRequest(substituedUrl,parameters).pipe(map_1.map((function(data){var list=[];return jsonpath_1.query(data,databearer.outputRootElement).forEach((function(row){var listObject={};databearer.outputParameters.forEach((function(param){listObject[param.id]=jsonpath_1.value(row,"$."+param.key)})),databearer.objectIdPath&&(listObject.id=jsonpath_1.value(row,"$."+databearer.objectIdPath)),list.push(listObject)})),list})))},Generic.prototype.getListData=function(interactionParameters){try{var parameters_1=this.readParameters(interactionParameters),databearer_1=this.databearer,extraParameters_1={},url=""+databearer_1.suite+databearer_1.endpoint+databearer_1.resource;databearer_1.inputParameters.forEach((function(ionapiParameter){var inputparameter=parameters_1[ionapiParameter.id];inputparameter&&isArray_1.default(inputparameter)?inputparameter.forEach((function(parameter,index){parameters_1[index]||parameters_1.push({}),parameters_1[index][ionapiParameter.id]=parameter})):inputparameter&&(extraParameters_1[ionapiParameter.id]=inputparameter,1===parameters_1.length&&(parameters_1[0]=parameters_1))}));var substituedUrl=this.setSubstitutionTags(url,void 0,parameters_1);return this.ionApiRequest(substituedUrl,parameters_1).pipe(map_1.map((function(data){var list=[];return jsonpath_1.query(data,databearer_1.outputRootElement).forEach((function(row){var listObject={};databearer_1.outputParameters.forEach((function(param){listObject[param.id]=jsonpath_1.value(row,"$."+param.key).trim()})),databearer_1.objectIdPath&&(listObject.id=jsonpath_1.value(row,"$."+databearer_1.objectIdPath)),list.push(listObject)})),list})))}catch(error){return rxjs_1.throwError(error)}},Generic.prototype.setSubstitutionTags=function(url,bodyParameter,parameters){var value,substitutionTag,bodyParameterJson=bodyParameter?JSON.parse(bodyParameter):"";return this.databearer.inputParameters.forEach((function(datasourceParameter){switch(value=parameters[datasourceParameter.id],datasourceParameter.parameterType){case parameter_type_enum_1.ParameterTypeEnum.PATH:case parameter_type_enum_1.ParameterTypeEnum.MATRIX:case parameter_type_enum_1.ParameterTypeEnum.QUERY:if(substitutionTag=data_service_helper_1.DataServiceHelper.getURLVariable(datasourceParameter.key),-1===url.indexOf(substitutionTag))throw Error("Substitution tag does not exist!");if(null!=value&&""!==value)url=url.replace(substitutionTag,encodeURIComponent(value));else{if(datasourceParameter.required)throw Error("Parameter is required");if(datasourceParameter.parameterType===parameter_type_enum_1.ParameterTypeEnum.MATRIX){var strToReplace=";"+data_service_helper_1.DataServiceHelper.getURLVariable(datasourceParameter.key,parameter_type_enum_1.ParameterTypeEnum.MATRIX);url=url.replace(strToReplace,"")}else{var fullSubstitutionTag=data_service_helper_1.DataServiceHelper.getURLVariable(datasourceParameter.key,parameter_type_enum_1.ParameterTypeEnum.QUERY);"&"===(url=(url=(url=url.replace(fullSubstitutionTag,"")).replace("?&","?")).replace("&&","&")).charAt(url.length-1)&&(url=url.substr(0,url.length-1))}}break;case parameter_type_enum_1.ParameterTypeEnum.BODY_PART:var schema=json_helper_1.JsonHelper.generateSchema(bodyParameterJson);switch(json_helper_1.JsonHelper.getPropertyType(schema,datasourceParameter.key)){case"number":value=parseFloat(value)}value(bodyParameterJson,datasourceParameter.key,value)}})),{relativeUrl:url,requestBody:JSON.stringify(bodyParameterJson)}},Generic.prototype.readParameters=function(parameters){var _this=this,interactionParameters={};return parameters.forEach((function(parameter){var sourceComponentId=parameter.valueSource.sourceName,sourceComponentKey=parameter.valueSource.sourceKey;if(sourceComponentKey){var sourceComponentValue=_this.dynamicComponentService.componentRefs.find((function(componentRef){return componentRef.instance.id===sourceComponentId})).instance[sourceComponentKey];interactionParameters[parameter.targetKey]=sourceComponentValue.trim()}})),interactionParameters},Generic}(base_data_service_1.DataService);exports.Generic=Generic},,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DataService=void 0,__webpack_require__(313),__webpack_require__(516);var common_constant_1=__webpack_require__(3);__webpack_require__(104);var DataService=function(){function DataService(http,dynamicComponentService,obj){this.http=http,this.dynamicComponentService=dynamicComponentService,this.databearer=obj,this.initService()}return DataService.prototype.initService=function(){this.isDevelopment=common_constant_1.Config.IS_DEV&&"true"===localStorage.getItem(common_constant_1.DeveloperConstants.ION_PROXY)},DataService.prototype.ionApiRequest=function(ionapiCall,parameters){var url=this.isDevelopment?"http://localhost:8083/infor"+ionapiCall.relativeUrl:common_constant_1.Config.ION_API_URL+"/"+common_constant_1.Config.TENANT_ID+ionapiCall.relativeUrl,headers={Accept:"application/json",Authorization:"Bearer "+common_constant_1.Config.ION_API_TOKEN};return this.http.get(url,{headers:headers})},DataService}();exports.DataService=DataService},,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(42)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports){module.exports="<div> <button type=button class=btn-{{componentInstance.style}} ng-click=componentInstance.click() ng-disabled=componentInstance.isReadonly> {{componentInstance.content}} </button> </div> "},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports){module.exports="<div class=chart> <div class=widget-header ng-if=componentInstance.showLabel> <h2 eir-component-value content=componentInstance.title class=widget-title></h2> </div> <div class=widget-content> <div id=chart-{{::component.id}} class=chart-container></div> </div> </div>"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports){module.exports="<div class=field> <input id=checkbox-{{::component.id}} type=checkbox class=checkbox ng-model=componentInstance.checkboxState ng-disabled=componentInstance.isReadonly ng-click=componentInstance.checked()> <label for=checkbox-{{::component.id}} class=checkbox-label>{{componentInstance.content}}</label> </div>"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LocaleHelper=void 0;var sohoxi_constant_1=__webpack_require__(40),helper_1=__webpack_require__(15),LocaleHelper=function(){function LocaleHelper(){}return LocaleHelper.getDateFormat=function(format,locale){helper_1.Helper.isUndefined(locale)&&(locale=Soho.Locale.currentLocale.name);var calendar=Soho.Locale.cultures[locale].calendars[0];return format===sohoxi_constant_1.DateFormatEnum.Timeformat?calendar.timeFormat:calendar.dateFormat[format]},LocaleHelper}();exports.LocaleHelper=LocaleHelper},function(module,exports){module.exports='<div class=datagrid-export-content ng-controller="eirDatagridExportDialogCtrl as ctrl"> <div class=field> <label class=required for=export-name>Name</label> <input type=text id=export-name name=export-name ng-model=ctrl.exportName> </div> <fieldset class=radio-group> <legend>Type</legend> <input type=radio class=radio name=options id=exportExcel value=excel ng-model=ctrl.exportType /> <label for=exportExcel class=radio-label>Excel</label> <br> <input type=radio class=radio name=options id=exportCsv value=csv ng-model=ctrl.exportType /> <label for=exportCsv class=radio-label>Csv</label> </fieldset> <div class=modal-buttonset> <button type=button class=btn-modal ng-click=ctrl.close()>Cancel</button> <button type=button class="btn-modal btn-modal-primary" ng-click=ctrl.export() ng-disabled="!ctrl.exportName.length > 0">Export</button> </div> </div> '},function(module,exports){module.exports='<div class=ab-datagrid-wrapper> <div class=toolbar role=toolbar ng-hide=!componentInstance.showLabel xi-control=toolbar> <div class=title> <h2 eir-component-value content=componentInstance.label></h2> <span class=datagrid-result-count ng-hide=!componentInstance.rowCount>(N Results)</span> </div> <div class=buttonset> <div class="searchfield-wrapper toolbar-searchfield-wrapper" ng-hide=!componentInstance.filterBar> <label class=audible for=searchfield-datagrid-{{::component.id}}>Keyword Search</label> <input id=searchfield-datagrid-{{::component.id}} name=searchfield-datagrid-{{::component.id}} class=searchfield data-options="{ collapsible: true }"/> </div> </div> <button type=button class=btn id=export ng-click=componentInstance.export() ng-if=componentInstance.enableExport> <svg class=icon focusable=false aria-hidden=true role=presentation> <use href=#icon-export-spreadsheet></use> </svg> <span>Export</span> </button> </div> <div id=datagrid-{{::component.id}} ng-if=componentInstance.showDatagrid xi-datagrid=componentInstance.datagridOptions /> </div>'},function(module,exports){module.exports="<div class=field> <label for=date-field-{{component.id}} class=label ng-show=componentInstance.showLabel eir-component-value content=componentInstance.label> </label> <input id=date-field-{{component.id}} class=datepicker type=text data-disable-validation=true xi-datepicker=componentInstance.datepickerOptions /> </div> "},function(module,exports){module.exports='<div class="dropdown-container {{componentInstance.boxWidth}}"> <label ng-attr-for="{{::component.id + \'select\'}}" ng-if=componentInstance.showLabel eir-component-value content=componentInstance.label></label> <select ng-attr-id="{{::component.id + \'select\'}}" class=dropdown ng-model=componentInstance.currentItemIndex ng-disabled=componentInstance.isReadonly ng-options="context.ListResult.indexOf(value) as value[component.displayValue.sourceKey] for value in context.ListResult" ng-change=componentInstance.setCurrentItem(context.ListResult[componentInstance.currentItemIndex]) xi-drop-down></select> </div>'},function(module,exports){module.exports="<div class=childCage ng-class=\"{ 'vertical': componentInstance.orientation === 2, 'flex-parent': componentInstance.isFlexParent}\" ng-style=componentInstance.styleOptions> <eir-children class={{componentInstance.childrenClasses}} parent=componentInstance children-ready=onChildrenReady()> </eir-children> </div>"},function(module,exports){module.exports='<div> <a class="hyperlink {{componentInstance.direction}} hide-focus" ng-click=componentInstance.onLinkClick() ng-disabled=componentInstance.isReadonly> <svg role=presentation aria-hidden=true focusable=false class=icon ng-if="componentInstance.direction == \'back\'"> <use xlink:href=#icon-caret-left /> </svg> <span class=hyperlink-content eir-component-value content=componentInstance.content></span> <svg role=presentation aria-hidden=true focusable=false class=icon ng-if="componentInstance.direction == \'directional\'"> <use xlink:href=#icon-caret-right /> </svg> </a> </div>'},function(module,exports){module.exports="<div class=\"image img-{{component.position}}\" ng-if=componentInstance.source ng-style=\"{'background-image':'url('+componentInstance.source+')'}\" ng-click=componentInstance.click()> </div> "},function(module,exports){module.exports='<div class=label-container> <span class="label {{componentInstance.fontChar}}" xi-tooltip=componentInstance.toolTip ng-class=componentInstance.fontStyle ng-style="{ color: componentInstance.color }" eir-component-value content=componentInstance.content> </span> </div>'},function(module,exports){module.exports='<div class=card> <div class=card-header> <h2 class=card-title eir-component-value content=componentInstance.label> </h2> </div> <div class=card-content> <div class=listview-search ng-if=componentInstance.search> <span class=searchfield-wrapper> <input class=searchfield placeholder=Search name=list-search id=list-search autocomplete=off ng-model=componentInstance.filterValue ng-change=componentInstance.refresh()> <svg class=icon focusable=false aria-hidden=true role=presentation> <use href=#icon-search></use> </svg> </span> </div> <div class=listview id=list-{{::component.id}} eir-infinite-scroll=componentInstance.loadMore(scrollingDown) eir-infinite-scroll-enabled=componentInstance.infiniteScrollEnabled> <ul> <li ng-repeat="child in componentInstance.childrenDatabearers" ng-init="childContext=componentInstance.getChildContext(child.generatedId);" ng-click=componentInstance.setCurrentItem(child.generatedId);$event.stopPropagation() ng-class="{ \'is-selected\': componentInstance.selectedGeneratedId === child.generatedId }"> <eir-component-directive component=child parent=componentInstance context=childContext typedef=Flexbox component-ready="componentInstance.parent.onComponentReady(componentInstance, child.generatedId)"> </eir-component-directive> </li> </ul> </div> </div> </div>'},function(module,exports){module.exports='<div class="field {{componentInstance.boxWidth}}"> <label for={{::component.id}} ng-if=componentInstance.showLabel eir-component-value content=componentInstance.label> </label> <input class=lookup id={{::component.id}} name={{::component.id}} ng-model=componentInstance.text ng-readonly=componentInstance.isReadonly ng-change=componentInstance.onUpdateValue() xi-lookup=componentInstance.lookupOptions /> </div>'},function(module,exports){module.exports='<div> <fieldset class=radio-group> <label ng-if=componentInstance.showLabel eir-component-value content=componentInstance.label></label> <div ng-repeat="radio in componentInstance.radioButtons track by radio.id" class=radio-button-group> <input type=radio class=radio ng-model=componentInstance.selectedRadioButtonId ng-disabled=componentInstance.isReadonly id={{radio.id}} ng-change=componentInstance.setCurrentItem(radio) value={{radio.id}} /> <label for={{radio.id}} class=radio-label>{{radio.value ? radio.value : radio.name}}</label> </div> </fieldset> </div>'},function(module,exports){module.exports='<div class=tab-wrapper ng-class="{\'horizontal\': componentInstance.orientation === 1, \'page-container no-scroll\': componentInstance.orientation === 2}"> <div id=tabs class=tab-container ng-class="{\'horizontal\': componentInstance.orientation === 1, \'vertical no-scroll\': componentInstance.orientation === 2}"> <ul class=tab-list> <li class=tab ng-repeat="tabObject in ::componentInstance.componentTabs track by tabObject.id"> <a href="{{\'#\' + tabObject.id}}" id="{{\'atag-\' + tabObject.id}}"> {{tabObject.value ? tabObject.value : tabObject.name}} </a> </li> </ul> <div id=vertical-tab class="tab-panel-container scrollable-y" ng-if="componentInstance.orientation === 2"> <div id={{tabChild.id}} class=tab-panel ng-repeat="tabChild in ::componentInstance.childrenDatabearers track by tabChild.id"> <eir-component-directive component=tabChild context=context parent=componentInstance typedef=TabPanel component-ready=componentInstance.parent.onComponentReady(componentInstance)> </eir-component-directive> </div> </div> </div> <div id=horizontal-tab class=tab-panel-container ng-if="componentInstance.orientation === 1"> <div id={{tabChild.id}} class=tab-panel ng-repeat="tabChild in ::componentInstance.childrenDatabearers track by tabChild.id"> <eir-component-directive component=tabChild context=context parent=componentInstance typedef=TabPanel component-ready=componentInstance.parent.onComponentReady(componentInstance)> </eir-component-directive> </div> </div> </div> '},function(module,exports){module.exports="<div class=\"childCage tabPanelChildCage\" ng-class=\"{ 'vertical': componentInstance.orientation === 2, 'flex-parent': componentInstance.isFlexParent}\" ng-style=componentInstance.styleOptions> <eir-children class={{componentInstance.childrenClasses}} parent=componentInstance children-ready=onChildrenReady()> </eir-children> </div> "},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports){module.exports="<div class=field> <label for={{::component.id}} ng-if=componentInstance.showLabel eir-component-value content=componentInstance.label> </label> <textarea class=textarea ng-class=\"{'resizable': componentInstance.resizable}\" ng-readonly=componentInstance.isReadonly ng-model=componentInstance.text ng-change=componentInstance.onUpdateValue() ng-attr-maxlength={{componentInstance.maxLength}} ng-attr-placeholder={{componentInstance.placeholder}} xi-textarea=componentInstance.textareaOptions>\r\n\t</textarea> </div>"},function(module,exports){module.exports="<div class=field> <label for={{::component.id}} ng-if=componentInstance.showLabel eir-component-value content=componentInstance.label></label> <input type={{componentInstance.editType}} id={{::component.id}} name={{::component.id}} class={{componentInstance.boxWidth}} eir-component-value content=componentInstance.text ng-model=componentInstance.text ng-change=componentInstance.onUpdateValue() ng-readonly=componentInstance.isReadonly placeholder={{componentInstance.placeholder}} ng-model-options=\"{ updateOn: 'default', debounce: {'default': 500, 'blur': 0}}\" maxlength={{componentInstance.maxLength}} /> <div ng-if=componentInstance.lengthWarning> <svg class=icon focusable=false aria-hidden=true role=presentation> <use href=#icon-alert></use> </svg> <span class=audible>Warning</span> <span class=warning-text>Maximum of 2000 characters reached.</span> </div> </div>"},function(module,exports){module.exports="<div class=field> <label for=time-field-{{component.id}} class=label ng-show=componentInstance.showLabel eir-component-value content=componentInstance.label> </label> <input id=time-field-{{component.id}} class=timepicker type=text data-validate=time xi-timepicker=componentInstance.timepickerOptions> </div>"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(68)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.HttpUtil=void 0;var HttpUtil=function(){function HttpUtil(){}return HttpUtil.combine=function(url1,url2){if(!url1)return url2;if(!url2)return url1;var end=url1.length-1;return"/"===url1.charAt(end)&&(url1=url1.substring(0,end)),"/"===url2.charAt(0)&&(url2=url2.substring(1)),url1+"/"+url2},HttpUtil}();exports.HttpUtil=HttpUtil},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.InlineList=void 0,__webpack_require__(41),__webpack_require__(273),__webpack_require__(232),__webpack_require__(316),__webpack_require__(209);var InlineList=function(_super){function InlineList(obj,datasourceService){var _this=_super.call(this,obj)||this;return _this.datasourceService=datasourceService,_this}return __extends(InlineList,_super),InlineList.prototype.getDetailData=function(){return this.loadData().then((function(result){return result[0]}))},InlineList.prototype.getNonParsedData=function(){var _this=this,defer=this.datasourceService.$q.defer(),output=this.databearer.dataset.map((function(entry){var newEntry={};return _this.databearer.outputParameters.forEach((function(parameter){newEntry[parameter.key]=entry[parameter.field]})),newEntry}));return defer.resolve(output),defer.promise},InlineList.prototype.getListData=function(){return this.loadData().then((function(result){return result}))},InlineList.prototype.loadData=function(){var defer=this.datasourceService.$q.defer();return defer.resolve(this.databearer.dataset),defer.promise},InlineList.prototype.getMetaData=function(){var deferredMetaData=this.datasourceService.getDeferred(),outputFields=[];return this.databearer.outputParameters.forEach((function(param){outputFields.push({FLNM:param.id,FLDS:param.key,MAND:"0",type:"string"})})),deferredMetaData.resolve({inputFields:[],outputFields:outputFields}),deferredMetaData.promise},InlineList}(__webpack_require__(427).Datasource);exports.InlineList=InlineList},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.LocalIdo=void 0;var isArray_1=__importDefault(__webpack_require__(33)),common_constant_1=__webpack_require__(3),error_response_1=__webpack_require__(51),datasource_1=__webpack_require__(427);__webpack_require__(209);var LocalIdo=function(_super){function LocalIdo(obj,datasourceService){var _this=_super.call(this,obj)||this;return _this.datasourceService=datasourceService,_this}return __extends(LocalIdo,_super),LocalIdo.prototype.getDetailData=function(inputParameterValues){var _this=this;return this.loadData(inputParameterValues).then((function(result){return Array.isArray(result[0])?result[0]:[result[0]]})).then((function(result){return _this.parseListData(result)[0]}))},LocalIdo.prototype.getListData=function(inputParameterValues){var _this=this;return this.loadData(inputParameterValues).then((function(result){return _this.parseListData(result[0])}))},LocalIdo.prototype.loadData=function(inputParameterValues){var _this=this,defer=this.datasourceService.$q.defer(),parameters=[{}],extraParameters={};try{this.databearer.inputParameters.forEach((function(idoParameter){var inputparameter=inputParameterValues[idoParameter.id];if(idoParameter.required&&!inputparameter)throw new Error("Parameter is required");inputparameter&&isArray_1.default(inputparameter)?inputparameter.forEach((function(parameter,index){parameters[index]||parameters.push({}),parameters[index][idoParameter.id]=parameter})):inputparameter&&(extraParameters[idoParameter.id]=inputparameter,1===parameters.length&&(parameters[0]=inputParameterValues))}))}catch(e){var error=new error_response_1.ErrorResponse(e,e);return defer.reject(error),console.error(e),defer.promise}this.fillInParameters(extraParameters,this.databearer.inputParameters,parameters);var promises=[];return parameters.forEach((function(parameter){promises.push(_this.datasourceService.localIdoRequest(_this.databearer,parameter))})),this.datasourceService.$q.all(promises)},LocalIdo.prototype.getNonParsedData=function(inputParameterValues){return this.datasourceService.localIdoRequest(this.databearer,inputParameterValues)},LocalIdo.prototype.parseListData=function(result){var _this=this;return result.map((function(idoEntry){var newEntry={};return _this.databearer.outputParameters.forEach((function(parameter){newEntry[parameter.id]=idoEntry[parameter.key]})),newEntry.id=idoEntry[common_constant_1.IdoProperties.ROW_POINTER],newEntry}))},LocalIdo.prototype.getMetaData=function(){var deferredMetaData=this.datasourceService.getDeferred(),inputFields=[],outputFields=[];return this.databearer.inputParameters.forEach((function(param){inputFields.push({FLNM:param.id,FLDS:param.alias?param.alias:param.key,MAND:param.required?"1":"0"})})),this.databearer.outputParameters.forEach((function(param){outputFields.push({FLNM:param.id,FLDS:param.alias?param.alias:param.key,MAND:"0",type:param.dataType})})),deferredMetaData.resolve({inputFields:inputFields,outputFields:outputFields}),deferredMetaData.promise},LocalIdo}(datasource_1.Datasource);exports.LocalIdo=LocalIdo},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.Mongoose=void 0;var Mongoose=function(_super){function Mongoose(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(Mongoose,_super),Mongoose.prototype.loadData=function(parameters){var _this=this;return _super.prototype.loadData.call(this,parameters).then((function(response){var items=response[0].Items;return(null==items?void 0:items.length)>0&&"object"==typeof items[0][0]?_this.remapItemProperties(response[0]):response[0]})).catch((function(error){return console.error(error),error}))},Mongoose.prototype.remapItemProperties=function(response){var parsedResponse=response,parsedItems=response.Items.map((function(items){var obj={};return items.forEach((function(item){obj[item.Name]=null!==item.Value?item.Value:""})),obj}));return parsedResponse.Items=parsedItems,parsedResponse},Mongoose}(__webpack_require__(533).Generic2);exports.Mongoose=Mongoose},function(module,exports){module.exports='<div ng-controller="eirTranslationDialogCtrl as $ctrl"> <div id=translation-tabs class=tab-container xi-tabs> <ul class=tab-list role=tablist aria-multiselectable=false> <li class="tab is-selected"> <a href=#component-tab class=hyperlink ng-click=$ctrl.onChangeTab($ctrl.tabEnum.COMPONENT)>Component Strings</a> </li> <li class=tab> <a href=#global-tab class=hyperlink ng-click=$ctrl.onChangeTab($ctrl.tabEnum.GLOBAL)>Global Strings</a> </li> </ul> </div> <div class="maincontent scrollable"> <div id=component-tab class=scrollable> <p class=error-text>{$value} needs to be present.</p> <div class=toolbar role=toolbar data-options="{maxVisibleButtons: 10}"> <h3 class=language-text xi-tooltip="\'Current Language\'">{{$ctrl.currentLanguageDisplayName}}</h3> <div class=buttonset> <label class=audible for=searchfield-component-language>Keyword Search</label> <input ng-show=!$ctrl.selectedComponent id=searchfield-component-language name=searchfield-language class=searchfield /> <button class="btn btn-menu" type=button xi-popupmenu> <span>Filter</span> </button> <ul class="popupmenu is-padded is-selectable"> <li class=is-checked ng-click="$ctrl.filterLanguage(\'All\')"><a>All</a></li> <li ng-repeat="usedLanguage in $ctrl.usedLanguages track by usedLanguage.key" ng-click=$ctrl.filterLanguage(usedLanguage.key)> <a>{{usedLanguage.value}}</a> </li> </ul> <button class="btn btn-menu" type=button xi-popupmenu> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-delete></use> </svg> <span>Delete Language</span> </button> <ul class=popupmenu> <li ng-repeat="usedLanguage in $ctrl.usedLanguages track by usedLanguage.key" ng-click=$ctrl.deleteLanguage(usedLanguage)> <a>{{usedLanguage.value}}</a> </li> </ul> <button class="btn btn-menu" type=button xi-popupmenu> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-add></use> </svg> <span>Add Language</span> </button> <ul class="popupmenu is-padded"> <li ng-repeat="supportedLanguage in $ctrl.supportedLanguages" ng-click=$ctrl.addLanguage(supportedLanguage)> <a>{{supportedLanguage.value}}</a> </li> </ul> <button class=btn-actions type=button xi-tooltip="\'More Actions\'" ng-show=$ctrl.originalComponent> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-more></use> </svg> <span class=audible>More Actions</span> </button> <ul class="popupmenu is-padded"> <li><a ng-click=$ctrl.toggleAllTranslations()>{{ $ctrl.selectedComponent ? "All Translations" : "Component Translations" }}</a></li> </ul> </div> </div> <div xi-datagrid=$ctrl.componentDatagridOptions id=component-language-grid></div> </div> <div id=global-tab class=scrollable> <div class=toolbar role=toolbar> <h3 class=language-text xi-tooltip="\'Current Language\'">{{$ctrl.currentLanguageDisplayName}}</h3> <div class=buttonset> <label class=audible for=searchfield-global-language>Keyword Search</label> <input id=searchfield-global-language name=searchfield-language class=searchfield /> <button class=btn-tertiary type=button ng-click=$ctrl.addNewString() xi-tooltip="\'Add String\'"> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-add></use> </svg> <span>Add</span> </button> <button class=btn-tertiary type=button ng-disabled=!$ctrl.selectedGlobalString ng-click=$ctrl.deleteGlobalString() xi-tooltip="\'Delete\'"> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-delete></use> </svg> <span>Delete</span> </button> <button class="btn btn-menu" type=button xi-popupmenu> <span>Open Language</span> </button> <ul class="popupmenu is-padded is-selectable"> <li ng-repeat="supportedLanguage in $ctrl.supportedLanguages" ng-click=$ctrl.openLanguage(supportedLanguage) class="{{$ctrl.selectedGlobalLocale === supportedLanguage.key ? \'is-checked\' : \'\'}}"> <a>{{supportedLanguage.value}}</a> </li> </ul> </div> </div> <div xi-datagrid=$ctrl.globalDatagridOptions id=global-language-grid></div> </div> </div> <div class=modal-buttonset> <button type=button class=btn-modal ng-click=$ctrl.close()>Cancel</button> <button type=button class="btn-modal btn-modal-primary translation-save" ng-click=$ctrl.save()>Save</button> </div> </div>'},function(module,exports){module.exports='<div ng-controller="eirAddStringCtrl as ctrl"> <div class=field> <label for=stringName class=required>String Name</label> <input id=stringName type=text class=required aria-required=true ng-model=ctrl.stringName /> </div> <div class=field> <label for=stringValue class=required>String Value</label> <input id=stringValue type=text ng-model=ctrl.stringValue /> </div> <div class=modal-buttonset> <button type=button class=btn-modal ng-click=ctrl.close()>Cancel</button> <button type=button class="btn-modal btn-modal-primary" ng-disabled=!ctrl.stringName ng-click=ctrl.add()>Add</button> </div> </div>'},function(module,exports,__webpack_require__){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};Object.defineProperty(exports,"__esModule",{value:!0}),exports.RuntimeService=void 0;var core_1=__webpack_require__(1),RuntimeService=function(){function RuntimeService(){}return RuntimeService.prototype.runtimeHelo=function(){return"Helo"},RuntimeService=__decorate([core_1.Injectable({providedIn:"root"})],RuntimeService)}();exports.RuntimeService=RuntimeService},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.idsAssetsModule=void 0;var ab_ids_enterprise_1=__webpack_require__(865),angular_1=__importDefault(__webpack_require__(12)),ids_svg_component_1=__webpack_require__(870);exports.idsAssetsModule=angular_1.default.module("idsAssetsModule",[]).config((function(){window.Soho||(window.Soho={Editors:ab_ids_enterprise_1.Editors,Formatters:ab_ids_enterprise_1.Formatters,Locale:ab_ids_enterprise_1.Locale,theme:ab_ids_enterprise_1.theme}),ab_ids_enterprise_1.Locale.set("en-US")})),ids_svg_component_1.IdsSvgComponent.add(exports.idsAssetsModule)},,,,,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var IdsSvgComponent=function(){function IdsSvgComponent(){}return IdsSvgComponent.add=function(module){module.component("eirSvg",{template:__webpack_require__(871)}).component("idsSvg",{template:__webpack_require__(872)}).component("idsAssetsModule",{template:"\n\t\t\t\t\t<eir-svg></eir-svg>\n\t\t\t\t\t<ids-svg></ids-svg>\n\t\t\t\t"})},IdsSvgComponent}();exports.IdsSvgComponent=IdsSvgComponent},function(module,exports){module.exports='<div class=svg-icons> <svg xmlns=http://www.w3.org/2000/svg version=1.1 class=svg-icons style=display:none> <symbol id=icon-hidden xmlns=http://www.w3.org/2000/svg viewBox="0 0 18 18"> <path class=cls-1 fill=none d=M7.38,12.51l-.44.82c.2.06.39.1.59.14a4.29,4.29,0,0,1-.6-.13h0a2.72,2.72,0,0,1-.38-.11c-.25-.07-.5-.16-.74-.25a2.6,2.6,0,0,1-.36-.13,8.1,8.1,0,0,1-3.22-2.42c-.1-.13-.18-.25-.26-.37s-.15-.27-.21-.4A1.73,1.73,0,0,1,1.6,9a1.49,1.49,0,0,1,0-.21.67.67,0,0,1,0-.19A7,7,0,0,1,5.44,5.27L5.6,5.2a4.23,4.23,0,0,0-.71.94c-.06.12-.11.24-.17.37a3.14,3.14,0,0,0-.23.81,2.13,2.13,0,0,0-.07.44c0,.14,0,.29,0,.44a4.67,4.67,0,0,0,.41,1.91,3,3,0,0,0,.16.31,3.85,3.85,0,0,0,.23.38l.27.35a2.68,2.68,0,0,0,.28.3l.17.17.13.1a4.63,4.63,0,0,0,1.33.77h0 /> <path class=cls-1 fill=none d=M16.4,9a3.94,3.94,0,0,1-1.75,2.54c-.16.14-.34.27-.52.4l-.52.34a10.69,10.69,0,0,1-1.12.58,9.62,9.62,0,0,1-1.57.51l-.48.1A8.47,8.47,0,0,1,9,13.6l-.78,0-.69-.1.69.09.41-.77h0a2.17,2.17,0,0,0,.36,0l.48,0a5.57,5.57,0,0,0,.85-.16A4.57,4.57,0,0,0,13.7,8.2a4.4,4.4,0,0,0-1.06-2.82l0,0,0,0C14.89,6.2,16.4,7.93,16.4,9Z /> <path class=cls-1 fill=none d=M7.5,7.1A6.23,6.23,0,0,1,9.8,5.7a3.29,3.29,0,0,0-3,.7c-.9.7-.6,2.7-.6,2.7A4.63,4.63,0,0,1,7.5,7.1Z /> <path d=M12.6,5.45l-4,7.33a2.17,2.17,0,0,0,.36,0l.48,0a5.57,5.57,0,0,0,.85-.16A4.52,4.52,0,0,0,13.6,8.2,4.09,4.09,0,0,0,12.6,5.45Zm.7-1.28-.61,1.11,0,0C14.83,6.34,16.3,8,16.3,9a3.73,3.73,0,0,1-1.65,2.54c-.16.14-.34.27-.52.4l-.52.34a10.69,10.69,0,0,1-1.12.58,9.62,9.62,0,0,1-1.57.51l-.48.1A8.47,8.47,0,0,1,9,13.6l-.78,0L7.6,14.71A10.74,10.74,0,0,0,9,14.8c5,0,9-3.8,9-5.8C18,7.69,16.11,5.44,13.3,4.17Zm-5.77,9.3.69.1h0Zm-.59-.14h0a4.29,4.29,0,0,0,.6.13C7.33,13.43,7.14,13.39,6.94,13.33ZM6.8,6.4,7,6.23l.06-.05a2.87,2.87,0,0,1,.68-.38l.34-.11h0l.31,0a3.57,3.57,0,0,1,.86,0h.07l.19,0a1.75,1.75,0,0,1,.27,0,2.69,2.69,0,0,0-.61.21A5.67,5.67,0,0,0,7.5,7.1l-.2.2A3.51,3.51,0,0,0,6.21,9.06v0S5.9,7.1,6.8,6.4Zm.59,6.09,4.74-8.78h0a11.17,11.17,0,0,0-1.54-.38A10.21,10.21,0,0,0,9,3.2C4,3.2,0,7.1,0,9c0,1.47,2,3.72,4.85,4.94a11.57,11.57,0,0,0,1.47.51,0,0,0,0,1,0,0l.6-1.12h0l-.38-.1c-.25-.07-.5-.16-.74-.25l-.35-.15a8.52,8.52,0,0,1-3.23-2.4c-.1-.13-.18-.25-.26-.37s-.15-.27-.21-.4A1.73,1.73,0,0,1,1.6,9a1.49,1.49,0,0,1,0-.21.67.67,0,0,1,0-.19C2,7.5,3.46,6,5.5,5.2l-.06.07a4.62,4.62,0,0,0-.55.87c-.06.12-.11.24-.17.37a4.42,4.42,0,0,0-.23.81c0,.14,0,.29-.07.44s0,.29,0,.44a4.67,4.67,0,0,0,.41,1.91,3,3,0,0,0,.16.31,3.85,3.85,0,0,0,.23.38l.27.35a2.68,2.68,0,0,0,.28.3l.17.17.12.11a4.44,4.44,0,0,0,1.33.78h0Z /> <rect x=7.75 y=1.87 width=1.53 height=13.8 transform="translate(5.19 -2.99) rotate(28.38)"/> <path class=cls-2 fill=currentColor d=M6.94,13.33c.2.06.39.1.59.14a4.29,4.29,0,0,1-.6-.13Z /> <path class=cls-2 fill=currentColor d=M8.22,13.56h0l-.69-.1Z /> <line class=cls-1 fill=none x1=7.39 y1=12.49 x2=7.38 y2=12.51 /> </symbol> <symbol id=icon-screen viewBox="0 0 18 18"> <g id=additional-icons stroke=none stroke-width=1 fill=none fill-rule=evenodd> <g id=screen-1 fill=currentColor> <path d="M15.5,1 L2.5,1 C1.119,1 0,2.12 0,3.5 L0,10.599 C0,11.945 1.098,13 2.5,13 L15.5,13 C16.881,13 18,11.881 18,10.5 L18,3.5 C18,2.12 16.881,1 15.5,1 L15.5,1 Z M16,10 L16,10.5 C16,10.775 15.776,11 15.5,11 L2.5,11 C2.449,11 2,10.988 2,10.599 L2,3.5 C2,3.224 2.224,3 2.5,3 L15.5,3 C15.775,3 16,3.224 16,3.5 L16,10 Z M12,17 L6,17 C5.45,17 5,16.55 5,16 C5,15.45 5.45,15 6,15 L12,15 C12.55,15 13,15.45 13,16 C13,16.55 12.55,17 12,17 L12,17 Z" id=Page-1></path> </g> </g> </symbol> <symbol id=icon-stop viewBox="0 0 22 22"> <rect width=22 height=22 rx=4 ry=4 /> </symbol> <symbol id=icon-play viewBox="3 3 12 12"> <path d="M5 3.731c0-.604.886-.947 1.361-.58l6.329 5.269c.377.292.427.868.049 1.16l-6.403 5.269c-.475.367-1.336.024-1.336-.58v-10.538"></path> </symbol> <symbol id=icon-more-small class=soho-icon-color viewBox="0 0 18 18"> <path d="M2 7a2 2 0 1 0 .001 4.001A2 2 0 0 0 2 7zm7 0a2 2 0 1 0 .001 4.001A2 2 0 0 0 9 7zm7 0a2 2 0 1 0 .001 4.001A2 2 0 0 0 16 7z" fill=currentColor fill-rule=nonzero stroke=none class=soho-icon-color-path-white></path> </symbol> <symbol id=icon-preview viewBox="0 0 17 11"> <g> <path fill=none d="M11.8,1.9c0.7,0.8,1.1,1.7,1.1,2.8c0,2.4-1.9,4.3-4.3,4.3C6.1,9,4.2,7.1,4.2,4.7c0-1.1,0.4-2.1,1.1-2.8\r\n\t\tC3,2.8,1.5,4.5,1.5,5.5c0,1.5,3.1,4.3,7,4.3c3.8,0,7-2.8,7-4.3C15.5,4.5,14,2.8,11.8,1.9z"/> <path fill=none d=M7.1,3.7c1.1-1,2.2-1.3,2.2-1.3S7.5,1.9,6.4,3C5.6,3.7,5.9,5.6,5.9,5.6S6,4.7,7.1,3.7z /> <path fill=currentColor d="M8.5,0C3.8,0,0,3.7,0,5.5c0,2,3.8,5.5,8.5,5.5c4.7,0,8.5-3.6,8.5-5.5C17,3.7,13.2,0,8.5,0z M6.4,3\r\n\t\tc1.2-1.1,2.9-0.6,2.9-0.6S8.2,2.6,7.1,3.7C6,4.7,5.9,5.6,5.9,5.6S5.6,3.7,6.4,3z M8.5,9.8c-3.8,0-7-2.8-7-4.3c0-1,1.5-2.7,3.7-3.6\r\n\t\tC4.6,2.6,4.2,3.6,4.2,4.7C4.2,7.1,6.1,9,8.5,9c2.4,0,4.3-1.9,4.3-4.3c0-1.1-0.4-2-1.1-2.8c2.2,1,3.7,2.7,3.7,3.6\r\n\t\tC15.5,7,12.3,9.8,8.5,9.8z"/> </g> </symbol> <svg id=icon-custom-hamburger x=0px y=0px viewBox="0 0 160 120"> <rect x=0 y=0 width=160 height=20 /> <rect x=0 y=50 width=160 height=20 /> <rect x=0 y=100 width=160 height=20 /> </svg> <symbol id=eir-icon-dashboard class=soho-icon-color viewBox="0 0 18 18"> <path d=M7,8H1C0.4,8,0,7.6,0,7V1c0-0.5,0.4-1,1-1h6c0.5,0,1,0.5,1,1v6C8,7.6,7.5,8,7,8z fill=currentColor /> <path d=M17,8h-6c-0.6,0-1-0.4-1-1V1c0-0.5,0.4-1,1-1h6c0.5,0,1,0.5,1,1v6C18,7.6,17.5,8,17,8z fill=currentColor /> <path d=M7,18H1c-0.6,0-1-0.5-1-1v-6c0-0.6,0.4-1,1-1h6c0.5,0,1,0.4,1,1v6C8,17.6,7.5,18,7,18z fill=currentColor /> <path d=M17,18h-6c-0.6,0-1-0.5-1-1v-6c0-0.6,0.4-1,1-1h6c0.5,0,1,0.4,1,1v6C18,17.6,17.5,18,17,18z fill=currentColor /> </symbol> <symbol id=icon-launch-project class=soho-icon-color viewBox="0 0 16 19"> <path d="M15.2,14.8c-0.6-1.2-1.6-2.2-2.9-2.9c-0.1-0.1-0.2-0.1-0.1-0.2c0.3-1.8,0.3-3.6-0.1-5.4c-0.3-1.4-0.8-2.7-1.8-4\r\n\t\t\t\t\t\tC9.7,1.6,9,1,8.1,0.5c-0.1-0.1-0.3-0.1-0.4,0C7.4,0.7,7,0.9,6.7,1.1C5.6,2,4.9,3,4.4,4.1C3.8,5.3,3.6,6.4,3.4,7.6\r\n\t\t\t\t\t\tc-0.1,1.3-0.1,2.7,0.1,4c0,0.2,0,0.3-0.2,0.3c-1,0.6-1.8,1.3-2.4,2.1c-0.9,1.3-1.2,2.6-0.9,4c0.1,0.3,0.1,0.6,0.2,0.9c0,0,0,0,0.1,0\r\n\t\t\t\t\t\tc0.1-0.1,0.1-0.2,0.2-0.3c0.8-1,1.8-1.9,3.1-2.4c0.2-0.1,0.5-0.1,0.6-0.3c0.1-0.2,0-0.4-0.1-0.6C4.1,15,4.1,14.7,4,14.3\r\n\t\t\t\t\t\tc0.1,0,0.1,0.1,0.1,0.2c0.3,0.5,0.5,1,0.8,1.5c0.2,0.4,0.5,0.9,1,1.2c0.8,0.5,1.6,0.6,2.6,0.5c1-0.1,1.8-0.5,2.2-1.3\r\n\t\t\t\t\t\tc0.3-0.6,0.6-1.2,0.9-1.8c0,0,0-0.1,0.1-0.1c0,0,0,0.1,0,0.1c-0.1,0.5-0.1,1-0.2,1.5c0,0.1,0,0.1,0.1,0.2c1.7,0.6,2.8,1.5,3.7,2.8\r\n\t\t\t\t\t\tc0,0,0.1,0.1,0.1,0.2c0-0.1,0-0.1,0-0.1C15.9,17.5,15.8,16.2,15.2,14.8z M7.9,7.6C7.2,7.6,6.6,7,6.5,6.2c0-0.8,0.6-1.4,1.4-1.4\r\n\t\t\t\t\t\tc0.8,0,1.4,0.6,1.4,1.4C9.3,6.9,8.7,7.6,7.9,7.6z" fill=currentColor /> </symbol> <symbol id=icon-action-wizard viewBox="0 0 16.2 15.5"> <polygon fill=none stroke=#FFFFFF stroke-miterlimit=10 points="10,7.3 12.3,4 8.3,4.2 5.9,1.1 4.9,4.9 1.1,6.3 4.5,8.4 4.6,12.4 7.7,9.9 7.2,7.1 "/> <path fill=#FFFFFF d=M8.9,9.8l1.4-1.5l5.7,4.8c0,0,0.9,2.2-1.8,2.1C12.8,13.9,8.9,9.8,8.9,9.8z /> </symbol> <symbol id=icon-add-comp class=soho-icon-color viewBox="0 0 18 18"> <path d="M9,0C4,0,0,4,0,9c0,5,4,9,9,9c5,0,9-4,9-9C18,4,14,0,9,0z M14.4,9.7H10v4.7H8V9.7H3.6v-2H8V3.6h2v4.1h4.4V9.7z" fill=currentColor /> </symbol> <symbol id=icon-action-interaction viewBox="0 0 12.5 18.2"> <path fill=#FFFFFF d="M4,18.2c-0.3-0.1-0.5-0.3-0.7-0.6c-1-1.3-2-2.6-3-3.9C0.2,13.5,0,13.3,0,13.1C0,12.6,0.2,12.2,0.5,12\r\n\t\t\tc0.4-0.2,0.8-0.2,1.2,0.1c0.4,0.3,0.8,0.7,1.2,1c0.1,0.1,0.3,0.2,0.4,0.2c0.3,0,0.5-0.2,0.5-0.5c0-1.4,0-2.8,0-4.2\r\n\t\t\tc0-0.9,0-1.9,0-2.8c0-0.6,0.4-1,0.9-1.1c0.6-0.1,1.2,0.4,1.2,1c0,0.7,0,1.5,0,2.2c0,0.5,0,1,0,1.4c0,0,0,0.1,0.1,0.2\r\n\t\t\tc0,0,0.1-0.1,0.1-0.1c0.2-0.4,0.7-0.6,1.2-0.5c0.5,0.1,0.8,0.5,0.8,1c0,0.2,0,0.4,0,0.7c0,0,0,0,0,0c0,0,0.1-0.1,0.1-0.1\r\n\t\t\tc0.2-0.4,0.7-0.7,1.2-0.5c0.5,0.1,0.8,0.5,0.8,1c0,0.2,0,0.4,0,0.7c0,0,0.1-0.1,0.1-0.1c0.2-0.4,0.7-0.6,1.2-0.5\r\n\t\t\tc0.5,0.1,0.8,0.5,0.8,1c0,0.9,0,1.7,0,2.6c0,0.7-0.2,1.5-0.4,2.2c-0.1,0.3-0.2,0.6-0.3,0.9c-0.1,0.3-0.3,0.6-0.6,0.7\r\n\t\t\tC8.7,18.2,6.3,18.2,4,18.2z"/> <path style=fill:none;stroke:#fff;stroke-width:2;stroke-miterlimit:10 d=M2.1,6.7C1.6,6.1,1.3,5.4,1.3,4.5c0-2,1.6-3.5,3.5-3.5s3.5,1.6,3.5,3.5c0,0.8-0.2,1.5-0.7,2 /> </symbol> <symbol id=icon-action-dataservice viewBox="0 0 13.1 12.8"> <ellipse fill=#FFFFFF cx=6.6 cy=1.4 rx=6.6 ry=1.4 /> <path fill=#FFFFFF d=M0,2.6c0,0,3.1,1.1,6.4,1.1c3.4,0,6.7-1,6.7-1v3.9c0,0-3.5,1.3-6.7,1.3C2.6,7.9,0,6.6,0,6.6V2.6z /> <path fill=#FFFFFF d=M0,7.6c0,0,3.1,1.1,6.4,1.1c3.4,0,6.7-1,6.7-1v3.9c0,0-3.5,1.3-6.7,1.3c-3.7,0-6.4-1.3-6.4-1.3V7.6z /> </symbol> <symbol id=icon-action-edit viewBox="0 0 16.9 14.1"> <path fill=#FFFFFF d="M6.4,7.8c0,0,4.1-6.8,6.8-7.3C14.5,0.2,15.6,0,16.1,0c0.3,0,0.7,0.4,0.7,0.7l-0.1,1.7c0,0.2-0.1,0.6-0.2,0.7\r\n\t\t\tC16,4.4,13.2,9.1,8.9,10C8.2,9.5,6.4,7.8,6.4,7.8z"/> <path style=fill:none;stroke:#fff;stroke-width:1.5;stroke-miterlimit:10 d="M7.1,8.3H4.9c0,0-0.8,0-1.3,1c-0.4,0.8-1.4,3.4-2,4h3.9c0.2,0,0.3-0.1,0.4-0.2c0.6-0.7,2.7-3,2.6-3.7\r\n\t\t\tC7.2,8.4,7.1,8.3,7.1,8.3z"/> </symbol> <symbol id=icon-action-orientation-2 viewBox="0 0 18 18"> <path fill=#FFFFFF d="M9.715 15.77l.062-.063h.001l4.999-5c.391-.391.391-1.023 0-1.414-.39-.391-1.054-.391-1.445 0l-3.324 3.293v-9.586c0-.553-.448-1-1-1s-1 .447-1 1v9.711l-3.324-3.355c-.391-.391-1.008-.391-1.399 0-.195.195-.285.451-.285.706 0 .256.102.512.297.707l5.002 5.001c.391.39 1.025.39 1.416 0"/> </symbol> <symbol id=icon-action-orientation-1 viewBox="0 0 18 18"> <path fill=#FFFFFF d="M1 10h13.564l-5.33 5.32c-.392.388-.396 1.037-.008 1.43.389.393 1.021.404 1.415.016l7.062-6.996c.393-.388.397-1.019.009-1.412l-7-7.061c-.196-.198-.454-.297-.712-.297-.254 0-.508.096-.703.289-.393.388-.397.989-.009 1.382l5.318 5.329h-13.606c-.553 0-1 .448-1 1s.447 1 1 1"/> </symbol> <symbol id=icon-small-close viewBox="0 0 12 12"> <circle fill=#ffffff cx=6 cy=6 r=6 /> <g> <line fill=none stroke-width=1.5 stroke=#313236 x1=3.5 y1=3.5 x2=8.5 y2=8.5 /> <line fill=none stroke-width=1.5 stroke=#313236 x1=3.5 y1=8.5 x2=8.5 y2=3.5 /> </g> </symbol> <symbol id=boundary-marker-pin viewBox="0 0 5 11.3"> <polygon class=st0 points="0,0.1 5,0.1 5,8.4 2.5,11.3 0,8.4 "/> </symbol> <symbol id=icon-add-from-repository viewBox="0 0 18 18"> <polygon fill=currentColor points="15 14.83 9 18 3 14.83 3 11.48 3 8.13 9 11.3 15 8.13 15 11.48 15 14.83"/> <path fill=currentColor class=cls-1 d=M11.88,13.07,9,11.27,15.12,8,18,9.65Z /> <path fill=currentColor class=cls-1 d=M0,9.65,2.88,8,9,11.27l-2.88,1.8Z /> <path fill=currentColor class=cls-1 d=M0,6.24,2.88,8,5,6.85V3.59Z /> <path fill=currentColor class=cls-1 d=M13,3.59V6.85L15.12,8,18,6.24Z /> <path fill=currentColor class=cls-2 d=M11.27,4H10V1A1,1,0,0,0,8,1V4H6.73a.88.88,0,0,0-.58,1.36L8.42,8.69a.73.73,0,0,0,1.16.05l2.27-3.4A.86.86,0,0,0,11.27,4Z /> </symbol></svg>  </div> '},,function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var angular_1=__importDefault(__webpack_require__(12)),module_1=__webpack_require__(536),designer_service_1=__webpack_require__(152),project_service_1=__webpack_require__(168);exports.designerModule=angular_1.default.module("designerModule",[module_1.componentsModule.name]),project_service_1.ProjectService.add(exports.designerModule),designer_service_1.DesignerService.add(exports.designerModule)},function(module,exports,__webpack_require__){"use strict";(function($){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.commonModule=void 0;var angular_1=__importDefault(__webpack_require__(12)),angular_animate_1=__importDefault(__webpack_require__(875)),common_constant_1=__webpack_require__(3),filters_1=__webpack_require__(877),add_string_1=__webpack_require__(878),export_dialog_1=__webpack_require__(537),conflict_decision_dialog_1=__webpack_require__(879),import_error_dialog_1=__webpack_require__(881),import_dialog_1=__webpack_require__(882),licenses_button_1=__webpack_require__(883),licenses_dialog_1=__webpack_require__(884),test_dataservice_dialog_1=__webpack_require__(281),datagrid_export_dialog_ctrl_1=__webpack_require__(885),common_service_1=__webpack_require__(70),conflict_resolution_service_1=__webpack_require__(325),dialog_service_1=__webpack_require__(13),expression_service_1=__webpack_require__(534),feature_switch_service_1=__webpack_require__(80),hash_service_1=__webpack_require__(425),http_service_1=__webpack_require__(79),language_service_1=__webpack_require__(166),mingle_service_1=__webpack_require__(535),tag_service_1=__webpack_require__(430),theme_service_1=__webpack_require__(426),after_repeat_directive_1=__webpack_require__(886),drag_directive_1=__webpack_require__(887),infinite_scroll_1=__webpack_require__(888),initialize_directive_1=__webpack_require__(889),dropdown_field_component_1=__webpack_require__(890),filter_popupmenu_component_1=__webpack_require__(892),filter_tag_component_1=__webpack_require__(895),filter_toolbar_1=__webpack_require__(898),input_field_component_1=__webpack_require__(900),paginator_component_1=__webpack_require__(903),project_tags_component_1=__webpack_require__(906),sort_popupmenu_component_1=__webpack_require__(908),tag_dropdown_component_1=__webpack_require__(911),textarea_field_component_1=__webpack_require__(914),about_directive_1=__webpack_require__(917),application_menu_directive_1=__webpack_require__(919),arrange_directive_1=__webpack_require__(920),autocomplete_directive_1=__webpack_require__(921),busy_directive_1=__webpack_require__(922),button_directive_1=__webpack_require__(923),colorpicker_directive_1=__webpack_require__(924),control_directive_1=__webpack_require__(926),datagrid_directive_1=__webpack_require__(282),datepicker_directive_1=__webpack_require__(928),dropdown_directive_1=__webpack_require__(929),editor_directive_1=__webpack_require__(930),fileupload_directive_1=__webpack_require__(931),listview_directive_1=__webpack_require__(540),lookup_directive_1=__webpack_require__(932),mask_directive_1=__webpack_require__(933),multiselect_directive_1=__webpack_require__(934),popover_directive_1=__webpack_require__(935),popupmenu_directive_1=__webpack_require__(936),search_field_directive_1=__webpack_require__(937),slider_directive_1=__webpack_require__(938),spinbox_directive_1=__webpack_require__(940),tabs_directive_1=__webpack_require__(941),textarea_directive_1=__webpack_require__(943),timepicker_directive_1=__webpack_require__(944),toolbar_directive_1=__webpack_require__(945),tooltip_directive_1=__webpack_require__(946),trackdirty_directive_1=__webpack_require__(947),validate_directive_1=__webpack_require__(948);exports.commonModule=angular_1.default.module("commonModule",[angular_animate_1.default]),exports.commonModule.run((function(){var pathname,pathnameNoIndex;pathnameNoIndex=(pathname=location.pathname).substr(0,pathname.indexOf("index.html")),common_constant_1.Config.APP_ROOT=pathnameNoIndex,-1!==pathname.indexOf("appbuilder")?common_constant_1.Config.REST_ROOT=common_constant_1.Config.APP_BUILDER_REST_ROOT:-1!==pathname.indexOf("apphub")?common_constant_1.Config.REST_ROOT=common_constant_1.Config.APP_RUNTIME_REST_ROOT:common_constant_1.Config.REST_ROOT="http://localhost:3000/"+pathname})),exports.commonModule.config(["$animateProvider",function($animateProvider){$animateProvider.classNameFilter(/angularAnimate/)}]),exports.commonModule.animation(".angularAnimate-slide",[function(){return{enter:function(element,doneFn){$(element).slideDown(1e3,doneFn)},leave:function(element,doneFn){$(element).slideUp(1e3,doneFn)}}}]).animation(".angularAnimate-fade",[function(){return{enter:function(element,doneFn){$(element).fadeIn(1500,doneFn)},leave:function(element,doneFn){$(element).fadeOut(500,doneFn)}}}]),exports.commonModule.config(["$qProvider",function($qProvider){$qProvider.errorOnUnhandledRejections(!1)}]),add_string_1.AddStringCtrl.add(exports.commonModule),export_dialog_1.ExportProjectCtrl.add(exports.commonModule),conflict_decision_dialog_1.ImportConflictCtrl.add(exports.commonModule),import_error_dialog_1.ImportErrorCtrl.add(exports.commonModule),import_dialog_1.ImportProjectCtrl.add(exports.commonModule),licenses_button_1.LicensesButton.add(exports.commonModule),licenses_dialog_1.LicensesDialogCtrl.add(exports.commonModule),test_dataservice_dialog_1.TestDataserviceDialogCtrl.add(exports.commonModule),datagrid_export_dialog_ctrl_1.DatagridExportDialogCtrl.add(exports.commonModule),common_service_1.CommonService.add(exports.commonModule),conflict_resolution_service_1.ConflictResolutonService.add(exports.commonModule),dialog_service_1.DialogService.add(exports.commonModule),expression_service_1.ExpressionService.add(exports.commonModule),feature_switch_service_1.FeatureSwitchService.add(exports.commonModule),hash_service_1.HashService.add(exports.commonModule),http_service_1.HttpService.add(exports.commonModule),language_service_1.LanguageService.add(exports.commonModule),mingle_service_1.MingleService.add(exports.commonModule),tag_service_1.TagService.add(exports.commonModule),theme_service_1.ThemeService.add(exports.commonModule),drag_directive_1.DragDirective.add(exports.commonModule),initialize_directive_1.InitializeDirective.add(exports.commonModule),infinite_scroll_1.InfiniteScrollDirective.add(exports.commonModule),after_repeat_directive_1.RepeatDoneDirective.add(exports.commonModule),filters_1.Filters.add(exports.commonModule),dropdown_field_component_1.DropdownFieldComponent.add(exports.commonModule),filter_popupmenu_component_1.FilterPopupmenuComponent.add(exports.commonModule),filter_tag_component_1.FilterTagComponent.add(exports.commonModule),filter_toolbar_1.FilterToolbarComponent.add(exports.commonModule),input_field_component_1.InputFieldComponent.add(exports.commonModule),paginator_component_1.PaginatorComponent.add(exports.commonModule),project_tags_component_1.ProjectTagsComponent.add(exports.commonModule),tag_dropdown_component_1.TagDropdownComponent.add(exports.commonModule),textarea_field_component_1.TextareaFieldComponent.add(exports.commonModule),sort_popupmenu_component_1.SortPopupmenuComponent.add(exports.commonModule),about_directive_1.AboutDirective.add(exports.commonModule),arrange_directive_1.ArrangeDirective.add(exports.commonModule),autocomplete_directive_1.AutocompleteDirective.add(exports.commonModule),busy_directive_1.BusyDirective.add(exports.commonModule),button_directive_1.ButtonDirective.add(exports.commonModule),colorpicker_directive_1.ColorPickerDirective.add(exports.commonModule),control_directive_1.ControlDirective.add(exports.commonModule),datagrid_directive_1.DatagridDirective.add(exports.commonModule),datepicker_directive_1.DatepickerDirective.add(exports.commonModule),dropdown_directive_1.DropDownDirective.add(exports.commonModule),editor_directive_1.EditorDirective.add(exports.commonModule),fileupload_directive_1.FileuploadDirective.add(exports.commonModule),listview_directive_1.ListviewDirective.add(exports.commonModule),lookup_directive_1.LookupDirective.add(exports.commonModule),mask_directive_1.MaskDirective.add(exports.commonModule),multiselect_directive_1.MultiSelectDirective.add(exports.commonModule),popupmenu_directive_1.PopupmenuDirective.add(exports.commonModule),popover_directive_1.PopoverDirective.add(exports.commonModule),search_field_directive_1.SearchFieldDirective.add(exports.commonModule),slider_directive_1.SliderDirective.add(exports.commonModule),spinbox_directive_1.SpinboxDirective.add(exports.commonModule),tabs_directive_1.TabsDirective.add(exports.commonModule),textarea_directive_1.TextareaDirective.add(exports.commonModule),timepicker_directive_1.TimepickerDirective.add(exports.commonModule),toolbar_directive_1.ToolbarDirective.add(exports.commonModule),tooltip_directive_1.TooltipDirective.add(exports.commonModule),trackdirty_directive_1.TrackDirtyDirective.add(exports.commonModule),validate_directive_1.ValidateDirective.add(exports.commonModule),application_menu_directive_1.ApplicationMenuDirective.add(exports.commonModule)}).call(this,__webpack_require__(21))},,,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var helper_1=__webpack_require__(15),ExcludeFromFilter=function(){function ExcludeFromFilter(){}return ExcludeFromFilter.add=function(m){m.filter("eirExcludeFrom",(function(){return function(inputArray,criteria,itemProperty,selectedItem){return criteria instanceof Array?inputArray?inputArray.filter((function(item){var keepItem=!0,compareValue1=itemProperty?item[itemProperty]:item;return criteria.forEach((function(item2){var compareValue2=itemProperty?item2[itemProperty]:item2;compareValue1===compareValue2&&(keepItem=!1)})),selectedItem&&selectedItem[itemProperty]===compareValue1&&(keepItem=!0),keepItem})):inputArray:inputArray?inputArray.filter((function(item){var compareValue1=itemProperty?item[itemProperty]:item;return criteria!==compareValue1})):inputArray}}))},ExcludeFromFilter}(),OnlyIncludeFilter=function(){function OnlyIncludeFilter(){}return OnlyIncludeFilter.add=function(m){m.filter("eirOnlyInclude",(function(){return function(inputArray,criteria,itemProperty1,itemProperty2){return inputArray?inputArray.filter((function(item){var compareValue1=itemProperty1?item[itemProperty1]:item,compareValue2=itemProperty2?item[itemProperty2]:item;return criteria===compareValue1||criteria===compareValue2})):inputArray}}))},OnlyIncludeFilter}(),HtmlEncode=function(){function HtmlEncode(){}return HtmlEncode.add=function(m){m.filter("eirHtmlEncode",(function(){return function(input){return helper_1.Helper.htmlEncode(input)}}))},HtmlEncode}(),Filters=function(){function Filters(){}return Filters.add=function(m){ExcludeFromFilter.add(m),OnlyIncludeFilter.add(m),HtmlEncode.add(m)},Filters}();exports.Filters=Filters},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AddStringCtrl=void 0;var angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3);__webpack_require__(116),__webpack_require__(16);var dialog_service_1=__webpack_require__(13);__webpack_require__(166);var AddStringCtrl=function(){function AddStringCtrl(scope,languageService,dialogService){this.scope=scope,this.languageService=languageService,this.dialogService=dialogService;var dialog=scope.eirDialog;this.dialog=dialog,this.stringName=this.dialog.parameter,this.stringValue=null}return AddStringCtrl.prototype.close=function(){this.dialog.close()},AddStringCtrl.prototype.add=function(){if(this.stringValue)if(this.languageService.getGlobalString(this.stringName))this.dialogService.showError("Add String","String Key already exists");else{var result={button:dialog_service_1.DialogButtonType.Ok,value:{Name:this.stringName,Value:this.stringValue}};this.dialog.close(result)}else this.dialogService.showError("Add String","Must have a string Value")},AddStringCtrl.add=function(m){m.controller("eirAddStringCtrl",AddStringCtrl)},AddStringCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,common_constant_1.InjectNames.LANGUAGE_SERVICE,common_constant_1.InjectNames.DIALOG_SERVICE],AddStringCtrl}();exports.AddStringCtrl=AddStringCtrl},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ImportConflictCtrl=void 0;var angular_constants_1=__webpack_require__(7);__webpack_require__(16);var conflict_resolution_service_1=__webpack_require__(325),dialog_service_1=__webpack_require__(13),helper_1=__webpack_require__(15),ImportConflictCtrl=function(){function ImportConflictCtrl(scope){this.scope=scope,this.sameForAll=!1;var dialog=scope.eirDialog;this.dialog=dialog;var parameter=dialog.parameter;this.objectName=parameter.objectName,this.remainingCount=parameter.remainingCount,this.maxItems=parameter.maxItems,this.occupiedStrings=parameter.occupiedStrings,this.maxItems>this.occupiedStrings.length?this.resolutionOption=parameter.lastAction?parameter.lastAction.toString():conflict_resolution_service_1.ConflictResolutionEnum.REPLACE.toString():this.resolutionOption=conflict_resolution_service_1.ConflictResolutionEnum.REPLACE.toString(),this.onChangeOption(),this.newName=helper_1.Helper.generateNewDisplayName(parameter.conflictedString,parameter.occupiedStrings)}return Object.defineProperty(ImportConflictCtrl.prototype,"ConflictResolutionEnum",{get:function(){return conflict_resolution_service_1.ConflictResolutionEnum},enumerable:!1,configurable:!0}),ImportConflictCtrl.prototype.close=function(){this.dialog.close()},ImportConflictCtrl.prototype.resolve=function(){var result={value:{action:parseInt(this.resolutionOption),sameForRemaining:this.sameForAll,newName:this.newName},button:dialog_service_1.DialogButtonType.Ok};this.dialog.close(result)},ImportConflictCtrl.prototype.onChangeOption=function(){switch(parseInt(this.resolutionOption)){case conflict_resolution_service_1.ConflictResolutionEnum.REPLACE:this.currentActionName="Replace";break;case conflict_resolution_service_1.ConflictResolutionEnum.COPY:this.currentActionName="Copy";break;case conflict_resolution_service_1.ConflictResolutionEnum.SKIP:this.currentActionName="Skip";break;default:console.warn("[ImportConflictCtrl] Invalid option")}},ImportConflictCtrl.add=function(m){m.controller("eirImportConflictCtrl",ImportConflictCtrl)},ImportConflictCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE],ImportConflictCtrl}();exports.ImportConflictCtrl=ImportConflictCtrl},function(module,exports){module.exports='<div id=conflict-dialog ng-controller="eirImportConflictCtrl as ctrl"> <fieldset class=radio-group> <legend>You already have a {{ctrl.objectName}} with the name "<b>{{ctrl.dialog.parameter.conflictedString}}</b>"</legend> <input type=radio checked=checked class=radio name=import id=importReplace value={{ctrl.ConflictResolutionEnum.REPLACE}} ng-model=ctrl.resolutionOption ng-change=ctrl.onChangeOption() /> <label for=importReplace class=radio-label>Replace</label> <br/> <label class=extra-label>Replace the existing {{ctrl.objectName}} with the {{ctrl.objectName}} you are importing</label> <br/> <input type=radio class=radio name=import id=importCopy value={{ctrl.ConflictResolutionEnum.COPY}} ng-model=ctrl.resolutionOption ng-change=ctrl.onChangeOption() ng-disabled="ctrl.maxItems <= ctrl.occupiedStrings.length"/> <label for=importCopy class=radio-label>Copy</label> <br/> <label class="extra-label label-warning" ng-if="ctrl.maxItems <= ctrl.occupiedStrings.length">No more space for new data services!</label> <label class=extra-label ng-if="ctrl.maxItems > ctrl.occupiedStrings.length" ng-model=ctrl.newName>Import a copy with new name <b>{{ctrl.newName}}</b></label> <br/> <input type=radio class=radio name=import id=importSkip value={{ctrl.ConflictResolutionEnum.SKIP}} ng-model=ctrl.resolutionOption ng-change=ctrl.onChangeOption() /> <label for=importSkip class=radio-label>Skip</label> <br/> <label class=extra-label ng-model=ctrl.newName>Do not import this {{ctrl.objectName}}</label> <br/> <div class="field center" ng-if="ctrl.remainingCount > 0"> <input type=checkbox class=checkbox id=same-for-all ng-model=ctrl.sameForAll ng-disabled="ctrl.currentActionName === \'Copy\' && ctrl.maxItems <= (ctrl.occupiedStrings.length + ctrl.remainingCount)"/> <label for=same-for-all class=checkbox-label>Same action for remaining {{ctrl.remainingCount}} {{ctrl.objectName}}(s)</label> <label class=label-warning ng-if="ctrl.currentActionName === \'Copy\' && ctrl.maxItems <= (ctrl.occupiedStrings.length + ctrl.remainingCount)">Only space for {{ctrl.maxItems - ctrl.occupiedStrings.length}} new item(s)</label> </div> </fieldset> <div class=modal-buttonset> <button type=button class=btn-modal ng-click=ctrl.close()>Cancel (All)</button> <button type=button class=btn-modal-primary ng-click=ctrl.resolve()>{{ctrl.currentActionName}}</button> </div> </div>'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ImportErrorCtrl=void 0;var angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3);__webpack_require__(16),__webpack_require__(51);var dialog_service_1=__webpack_require__(13),ImportErrorCtrl=function(){function ImportErrorCtrl(scope){this.scope=scope;var dialog=scope.eirDialog,state=this.stateBasedOnSubcode(dialog.parameter.subcode);this.dialog=dialog,this.information=dialog.parameter.message,this.extraInfo=state.extraInfo,this.confirmButtonDisplayName=state.confirmButton.text}return ImportErrorCtrl.prototype.stateBasedOnSubcode=function(subcode){switch(subcode){case common_constant_1.Subcodes.PROJECT_ID_CONFLICT:return{confirmButton:{text:"Replace",type:dialog_service_1.DialogButtonType.Yes},extraInfo:"Would you like to replace that version?"};case common_constant_1.Subcodes.PROJECT_DISPLAYNAME_CONFLICT:return{confirmButton:{text:"Replace",type:dialog_service_1.DialogButtonType.Yes},extraInfo:"Would you like to replace the existing App?"};default:return{confirmButton:{text:"Confirm",type:dialog_service_1.DialogButtonType.None},extraInfo:""}}},ImportErrorCtrl.prototype.close=function(){this.dialog.close()},ImportErrorCtrl.prototype.confirm=function(){var result={button:this.stateBasedOnSubcode(this.dialog.parameter.subcode).confirmButton.type};this.dialog.close(result)},ImportErrorCtrl.add=function(m){m.controller("eirImportErrorCtrl",ImportErrorCtrl)},ImportErrorCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE],ImportErrorCtrl}();exports.ImportErrorCtrl=ImportErrorCtrl},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ImportProjectCtrl=void 0;var angular_constants_1=__webpack_require__(7);__webpack_require__(16);var dialog_service_1=__webpack_require__(13),ImportProjectCtrl=function(){function ImportProjectCtrl(scope){this.scope=scope;var dialog=scope.eirDialog;this.dialog=dialog,this.chosenFile=dialog.parameter}return ImportProjectCtrl.prototype.close=function(){this.dialog.close()},ImportProjectCtrl.prototype.import=function(){var result={value:this.chosenFile,button:dialog_service_1.DialogButtonType.Ok};this.dialog.close(result)},ImportProjectCtrl.add=function(m){m.controller("eirImportProjectCtrl",ImportProjectCtrl)},ImportProjectCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE],ImportProjectCtrl}();exports.ImportProjectCtrl=ImportProjectCtrl},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LicensesButton=void 0;var common_constant_1=__webpack_require__(3),angular_constants_1=__webpack_require__(7);__webpack_require__(70);var LicensesButton=function(){function LicensesButton($q,commonService){this.$q=$q,this.commonService=commonService}return LicensesButton.prototype.$onInit=function(){var _this=this,promises=[this.commonService.loadApplicationVersion(),this.commonService.loadDBVersions()];this.$q.all(promises).then((function(response){var version=response[0],dbVersion=response[1],productName=_this.appName.replace("Infor ",""),content="<p>Form definitions database version "+dbVersion+"</p>";_this.aboutOptions={appName:_this.appName,productName:productName,version:version,useDefaultCopyright:!0,content:content}}))},LicensesButton.add=function(m){m.component("eirLicensesButton",{bindings:{appName:"@"},controller:LicensesButton,controllerAs:"eirLicenseButtonCtrl",template:'\n\t\t\t<button class="btn about" id="about-dialog"\n\t\t\t\txi-about="eirLicenseButtonCtrl.aboutOptions"\n\t\t\t>\n\t\t\t\tAbout App Builder\n\t\t\t</button>\n\t\t\t'})},LicensesButton.$inject=[angular_constants_1.AngularConstants.Q,common_constant_1.InjectNames.COMMON_SERVICE],LicensesButton}();exports.LicensesButton=LicensesButton},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LicensesDialogCtrl=void 0;var angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3);__webpack_require__(16),__webpack_require__(70),__webpack_require__(13);var LicensesDialogCtrl=function(){function LicensesDialogCtrl(scope,commonService,$sce){var _this=this;this.scope=scope,this.commonService=commonService,this.$sce=$sce;var dialog=scope.eirDialog;this.dialog=dialog,this.licensesHtml="Loading...",commonService.loadApplicationVersion().then((function(applicationVersion){_this.applicationVersion=applicationVersion})),commonService.loadDBVersions().then((function(dbVersions){_this.dbVersions=dbVersions}))}return LicensesDialogCtrl.prototype.close=function(){this.dialog.close()},LicensesDialogCtrl.add=function(m){m.controller("eirLicensesDialogCtrl",LicensesDialogCtrl).filter("sanitize",["$sce",function($sce){return function(htmlCode){return $sce.trustAsHtml(htmlCode)}}])},LicensesDialogCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,common_constant_1.InjectNames.COMMON_SERVICE],LicensesDialogCtrl}();exports.LicensesDialogCtrl=LicensesDialogCtrl},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DatagridExportDialogCtrl=void 0;var angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3);__webpack_require__(16);var dialog_service_1=__webpack_require__(13),DatagridExportDialogCtrl=function(){function DatagridExportDialogCtrl($scope){this.$scope=$scope,this.exportName="",this.exportType=common_constant_1.DatagridExportTypes.EXCEL}return DatagridExportDialogCtrl.prototype.export=function(){var result={value:{exportName:this.exportName,exportType:this.exportType},button:dialog_service_1.DialogButtonType.Ok};this.$scope.eirDialog.close(result)},DatagridExportDialogCtrl.prototype.close=function(){this.$scope.eirDialog.close()},DatagridExportDialogCtrl.add=function(m){m.controller("eirDatagridExportDialogCtrl",DatagridExportDialogCtrl)},DatagridExportDialogCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE],DatagridExportDialogCtrl}();exports.DatagridExportDialogCtrl=DatagridExportDialogCtrl},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var RepeatDoneDirective=function(){function RepeatDoneDirective(){}return RepeatDoneDirective.add=function(m){m.directive("repeatDone",(function(){return function(scope,element,attrs){scope.$last&&scope.$eval(attrs.repeatDone)}}))},RepeatDoneDirective}();exports.RepeatDoneDirective=RepeatDoneDirective},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var angular_1=__importDefault(__webpack_require__(12)),angular_constants_1=__webpack_require__(7),DragDirective=function(){function DragDirective(){}return DragDirective.add=function(m){var ngDragEventDirectives={};angular_1.default.forEach("drag dragend dragenter dragexit dragleave dragover dragstart drop".split(" "),(function(eventName){var directiveName="ng"+eventName.charAt(0).toUpperCase()+eventName.slice(1);ngDragEventDirectives[directiveName]=["$parse",angular_constants_1.AngularConstants.ROOT_SCOPE,function($parse,$rootScope){return{restrict:"A",compile:function($element,attr){var fn=$parse(attr[directiveName]);return function ngDragEventHandler(scope,element){element.on(eventName,(function(event){fn(scope,{$event:event}),scope.$digest()}))}}}}]})),m.directive(ngDragEventDirectives)},DragDirective}();exports.DragDirective=DragDirective},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var angular_constants_1=__webpack_require__(7),InfiniteScrollCtrl=function(){function InfiniteScrollCtrl($scope,$element,$timeout,$interval){this.$scope=$scope,this.$element=$element,this.$timeout=$timeout,this.$interval=$interval,this.THROTTLE_MILLISECONDS=50,this.scrollDistanceThreshold=.25,this.bounceDistance=10,this.EDGE_BOUNCE_INTERVAL_MILLIESECONDS=50,this.lastScrollTop=0,this.edgeBounceInterval={up:null,down:null},this.initialize()}return InfiniteScrollCtrl.prototype.initialize=function(){var _this=this,scope=this.$scope,element=this.$element;this.loadMore=scope.eirInfiniteScroll,scope.$watch("eirInfiniteScrollEnabled",(function(scrollEnabled){scrollEnabled?element.on("scroll",_this.throttle(_this.handler,_this.THROTTLE_MILLISECONDS)):element.off("scroll")})),scope.$on(angular_constants_1.AngularConstants.DESTROY,(function(){element.off("scroll")}))},InfiniteScrollCtrl.prototype.handler=function(evt){var target=evt.currentTarget,scrollingDown=this.lastScrollTop<target.scrollTop,scrollingUp=this.lastScrollTop>target.scrollTop;if(this.lastScrollTop=target.scrollTop,scrollingDown){var distanceFromBottom=target.scrollHeight-(target.offsetHeight+target.scrollTop);distanceFromBottom<target.offsetHeight*this.scrollDistanceThreshold&&(this.loadMore({scrollingDown:scrollingDown}),this.$scope.$apply()),distanceFromBottom<=0&&(target.scrollTop-=this.bounceDistance)}else if(scrollingUp){var distanceFromTop=target.scrollTop;distanceFromTop<target.offsetHeight*this.scrollDistanceThreshold&&(this.loadMore({scrollingDown:scrollingDown}),this.$scope.$apply()),distanceFromTop<=0&&(target.scrollTop+=this.bounceDistance)}this.bounceEdges(evt)},InfiniteScrollCtrl.prototype.bounceEdges=function(evt){var _this=this,target=evt.currentTarget,distanceFromBottom=target.scrollHeight-(target.offsetHeight+target.scrollTop),distanceFromTop=target.scrollTop;this.edgeBounceInterval.up&&(this.$interval.cancel(this.edgeBounceInterval.up),this.edgeBounceInterval.up=null),this.edgeBounceInterval.down&&(this.$interval.cancel(this.edgeBounceInterval.down),this.edgeBounceInterval.down=null),distanceFromBottom<=0&&(this.edgeBounceInterval.up=this.$interval((function(){distanceFromBottom<=0&&(target.scrollTop-=_this.bounceDistance)}),this.EDGE_BOUNCE_INTERVAL_MILLIESECONDS)),distanceFromTop<=0&&(this.edgeBounceInterval.down=this.$interval((function(){distanceFromTop<=0&&(target.scrollTop+=_this.bounceDistance)}),this.EDGE_BOUNCE_INTERVAL_MILLIESECONDS))},InfiniteScrollCtrl.prototype.throttle=function(func,wait){var _this=this,timeout=null,previous=0,later=function(event){return previous=(new Date).getTime(),_this.$timeout.cancel(timeout),timeout=null,func.call(_this,event)};return function(event){var now=(new Date).getTime(),remaining=wait-(now-previous);remaining<=0?(_this.$timeout.cancel(timeout),timeout=null,previous=now,func.call(_this,event)):(_this.$timeout.cancel(timeout),timeout=_this.$timeout(later,remaining,!1,event))}},InfiniteScrollCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,angular_constants_1.AngularConstants.ELEMENT,angular_constants_1.AngularConstants.TIMEOUT,angular_constants_1.AngularConstants.INTERVAL],InfiniteScrollCtrl}(),InfiniteScrollDirective=function(){function InfiniteScrollDirective(){this.restrict="A",this.scope={eirInfiniteScroll:"&",eirInfiniteScrollEnabled:"="},this.controller=InfiniteScrollCtrl}return InfiniteScrollDirective.add=function(m){m.directive("eirInfiniteScroll",(function(){return new InfiniteScrollDirective}))},InfiniteScrollDirective}();exports.InfiniteScrollDirective=InfiniteScrollDirective},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.InitializeDirective=void 0;var helper_1=__webpack_require__(15),common_constant_1=__webpack_require__(3),angular_constants_1=__webpack_require__(7),debugger_1=__webpack_require__(112),user_control_es_1=__webpack_require__(148);__webpack_require__(70),__webpack_require__(166);var InitializeCtrl=function(){function InitializeCtrl($scope,$interval,commonService,languageService){var _this=this;this.$scope=$scope,this.$interval=$interval,this.commonService=commonService,this.languageService=languageService,user_control_es_1.WSUserControl.onReady((function(){_this.loadEnvironmentSettings()}))}return InitializeCtrl.prototype.loadEnvironmentSettings=function(){var _this=this;this.commonService.loadEnvironmentSettings().then((function(settings){common_constant_1.Config.IS_DEV=settings.isDevelopment,common_constant_1.Config.ION_API_URL=settings.url,common_constant_1.Config.MAX_PROJECTS=settings.maxProjects,common_constant_1.Config.MAX_APPS=settings.maxApps,common_constant_1.Config.MAX_COMPOSITES=settings.maxComposites,common_constant_1.Config.MAX_DATASOURCES=settings.maxDatasources,common_constant_1.Config.LOCALE=settings.locale,common_constant_1.Config.TENANT_ID=settings.tenantId,common_constant_1.Config.USER=settings.user,common_constant_1.Config.MG_FORM_NAME=settings.mgFormName,common_constant_1.Config.MG_FORM_ONLY=settings.mgFormOnly,common_constant_1.Config.MG_PLATFORM=settings.mgPlatform,common_constant_1.Config.MG_CONFIG_NAME=settings.mgConfigName,common_constant_1.Config.MG_HELP_BASE_URL=settings.mgHelpBaseUrl,debugger_1.Debugger.initialize(),_this.$scope.done=common_constant_1.Config.IS_CONFIG_LOADED=!0})).then((function(){_this.languageService.initializeLanguageSettings(),_this.setBaseBuilder()})).then((function(){var stop=_this.$interval((function(){common_constant_1.Config.IS_FIRST_LOAD||(_this.$scope.isLoading=common_constant_1.Config.IS_FIRST_LOAD,_this.$interval.cancel(stop))}),common_constant_1.Numbers.HUNDRED)})).catch((function(error){console.error(error)}))},InitializeCtrl.prototype.setBaseBuilder=function(){var url=common_constant_1.Config.MG_PLATFORM===common_constant_1.MGPlatform.WEB?window.parent.location.search.substring(1):window.location.search.substring(1);helper_1.Helper.parseQueryString(url).basebuilder&&(common_constant_1.Config.IS_BASE_BUILDER=!0)},InitializeCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,angular_constants_1.AngularConstants.INTERVAL,common_constant_1.InjectNames.COMMON_SERVICE,common_constant_1.InjectNames.LANGUAGE_SERVICE],InitializeCtrl}(),InitializeDirective=function(){function InitializeDirective(){}return InitializeDirective.add=function(m){m.directive("eirInitialize",(function(){return{restrict:"A",scope:{done:"=eirInitialize",isLoading:"="},controller:InitializeCtrl}}))},InitializeDirective}();exports.InitializeDirective=InitializeDirective},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.DropdownFieldComponent=exports.DropdownFieldCtrl=void 0;var angular_constants_1=__webpack_require__(7);__webpack_require__(23);var helper_1=__webpack_require__(15),DropdownFieldCtrl=function(_super){function DropdownFieldCtrl($element,$scope){var _this=_super.call(this)||this;return _this.$static=[angular_constants_1.AngularConstants.ELEMENT,angular_constants_1.AngularConstants.SCOPE],$element.on("listclosed",(function(){helper_1.Helper.isUndefined(_this.validation)||(_this.validate(),$scope.$applyAsync())})).on("change",(function(){_this.onChange&&_this.onChange()})),_this}return __extends(DropdownFieldCtrl,_super),DropdownFieldCtrl}(__webpack_require__(94).FieldValidation);exports.DropdownFieldCtrl=DropdownFieldCtrl;var DropdownFieldComponent=function(){function DropdownFieldComponent(){this.controller=DropdownFieldCtrl,this.template=__webpack_require__(891),this.bindings={id:"@?",labelName:"@?",fieldValue:"=",validation:"<?",readonly:"<?",listValues:"<",onChange:"&?"}}return DropdownFieldComponent.add=function(m){m.component("eirDropdownFieldComponent",new DropdownFieldComponent)},DropdownFieldComponent}();exports.DropdownFieldComponent=DropdownFieldComponent},function(module,exports){module.exports='<div ng-if="$ctrl.validation !== undefined" class=dropdown-field> <label for=dropdown-field-component ng-class="{ required : $ctrl.isRequired }" ng-if="$ctrl.labelName !== undefined"> {{ $ctrl.labelName }} </label> <select id=ido-project-select class="dropdown-field-component dropdown-lg" ng-model=$ctrl.fieldValue ng-options="item for item in $ctrl.listValues" xi-drop-down></select> <div ng-repeat="validatorError in $ctrl.fieldSpecificErrors" ng-style="{ \'display\': $ctrl.displayStatus }" class=error-message> <svg class="icon-error icon" focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-error></use> </svg> <pre class=audible>Error</pre> <p class=message-text>{{ validatorError.message }}</p> </div> </div> <div ng-if="$ctrl.validation === undefined"> <label for=dropdown-field-component>{{ $ctrl.labelName }}</label> <select id=ido-project-select class="dropdown-field-component dropdown-lg" ng-model=$ctrl.fieldValue ng-options="item for item in $ctrl.listValues" xi-drop-down></select> </div> '},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FilterPopupmenuComponent=void 0;var angular_constants_1=__webpack_require__(7);__webpack_require__(23);var filter_popupmenu_ctrl_1=__webpack_require__(893),FilterPopupmenuComponent=function(){function FilterPopupmenuComponent(){this.bindings={filterOptions:"<",filterValues:"=",localPrefix:"<"},this.controller=[angular_constants_1.AngularConstants.FILTER,filter_popupmenu_ctrl_1.FilterPopupmenuCtrl],this.controllerAs="ctrl",this.template=__webpack_require__(894)}return FilterPopupmenuComponent.add=function(m){m.component("eirFilterPopupmenuComponent",new FilterPopupmenuComponent)},FilterPopupmenuComponent}();exports.FilterPopupmenuComponent=FilterPopupmenuComponent},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.FilterPopupmenuCtrl=void 0;var angular_1=__importDefault(__webpack_require__(12)),angular_constants_1=__webpack_require__(7),FilterPopupmenuCtrl=function(){function FilterPopupmenuCtrl($filter){this.$filter=$filter,this.filterOn="filter-on",this.orderBy=this.$filter("orderBy"),this.filter=this.$filter("filter"),this.$inject=[angular_constants_1.AngularConstants.FILTER]}return FilterPopupmenuCtrl.prototype.$onInit=function(){var storageName=this.localPrefix+this.filterOn,storedFilter=JSON.parse(localStorage.getItem(storageName));if(this.originalValues=angular_1.default.copy(this.filterValues),storedFilter)this.currentSelectedFilter=this.filterOptions.find((function(x){return x.name===storedFilter.name}));else{var filterOption=this.filterOptions[0];localStorage.setItem(storageName,JSON.stringify(filterOption)),this.currentSelectedFilter=filterOption}this.doFilter()},FilterPopupmenuCtrl.prototype.$doCheck=function(){var previousValues=this.previousFilterValues,currentValues=this.filterValues;(previousValues.length!==currentValues.length||this.equalLengthsNotSameContent(previousValues,currentValues))&&(this.originalValues=angular_1.default.copy(currentValues),this.doFilter())},FilterPopupmenuCtrl.prototype.onFilter=function(filterOption){var storageName=this.localPrefix+this.filterOn;this.currentSelectedFilter=angular_1.default.copy(filterOption),localStorage.setItem(storageName,JSON.stringify({name:filterOption.name})),this.doFilter()},FilterPopupmenuCtrl.prototype.doFilter=function(){var currentSelectedFilter=this.currentSelectedFilter.value;this.filterValues=currentSelectedFilter?this.filter(this.originalValues,currentSelectedFilter):this.originalValues,this.previousFilterValues=this.filterValues},FilterPopupmenuCtrl.prototype.equalLengthsNotSameContent=function(listA,listB){return listA.length===listB.length&&!angular_1.default.equals(this.orderBy(listA,"manifest.createdTime"),this.orderBy(listB,"manifest.createdTime"))},FilterPopupmenuCtrl}();exports.FilterPopupmenuCtrl=FilterPopupmenuCtrl},function(module,exports){module.exports='<button type=button id=buttonFilterBy class=btn-menu xi-popupmenu> <span>{{ ctrl.currentSelectedFilter.name }}</span> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-dropdown></use> </svg> </button> <ul class=popupmenu> <li ng-repeat="filterOption in ctrl.filterOptions track by filterOption.name" ng-click=ctrl.onFilter(filterOption)> <a>{{filterOption.name}}</a> </li> </ul>'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FilterTagComponent=void 0;var angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3);__webpack_require__(23);var filter_tag_ctrl_1=__webpack_require__(896),FilterTagComponent=function(){function FilterTagComponent(){this.bindings={filterValues:"=",localPrefix:"<"},this.controller=[angular_constants_1.AngularConstants.FILTER,common_constant_1.InjectNames.TAG_SERVICE,filter_tag_ctrl_1.FilterTagCtrl],this.controllerAs="ctrl",this.template=__webpack_require__(897)}return FilterTagComponent.add=function(m){m.component("eirFilterTagComponent",new FilterTagComponent)},FilterTagComponent}();exports.FilterTagComponent=FilterTagComponent},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.FilterTagCtrl=void 0;var angular_1=__importDefault(__webpack_require__(12)),angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3);__webpack_require__(326),__webpack_require__(431),__webpack_require__(430);var FilterTagCtrl=function(){function FilterTagCtrl($filter,tagService){var _this=this;this.$filter=$filter,this.tagService=tagService,this.selectedTags=[],this.currentTag={id:"select",name:"All"},this.filterOptions=[],this.unsubscribers=[],this.filter=this.$filter("filter"),this.unsubscribers.push(tagService.projectInfoChangedEvent.on((function(projects){_this.updateValues(projects),_this.doFilter()}))),this.getAvailableTags()}return FilterTagCtrl.prototype.$onInit=function(){this.originalValues=angular_1.default.copy(this.filterValues),this.doFilter()},FilterTagCtrl.prototype.doFilter=function(){var _this=this;this.selectedTags.length>0?this.filterValues=this.filter(this.originalValues,(function(projectItem){return _this.filterProject(projectItem)})):this.filterValues=angular_1.default.copy(this.originalValues)},FilterTagCtrl.prototype.addTag=function(){var _this=this;this.selectedTags.some((function(tag){return tag.id===_this.currentTag.id}))||"select"===this.currentTag.id||(this.selectedTags.push(this.currentTag),this.doFilter())},FilterTagCtrl.prototype.deleteTag=function(tag){var selectedTags=angular_1.default.copy(this.selectedTags);this.selectedTags=selectedTags.filter((function(selectedTag){return tag.id!==selectedTag.id})),this.doFilter()},FilterTagCtrl.prototype.filterProject=function(project){return this.selectedTags.some((function(selectedTag){return project.tags.some((function(projectTag){return projectTag.name===selectedTag.name}))}))},FilterTagCtrl.prototype.updateValues=function(projects){var _this=this;angular_1.default.copy(this.originalValues).forEach((function(originalProject,index){projects.forEach((function(currentProject){originalProject.manifest.id===currentProject.manifest.id&&(_this.originalValues[index]=currentProject)}))})),this.getAvailableTags()},FilterTagCtrl.prototype.getAvailableTags=function(){var _this=this;this.filterOptions=[this.currentTag],this.tagService.getAvailableTags().then((function(tags){var _a;(_a=_this.filterOptions).push.apply(_a,tags)}))},FilterTagCtrl.$inject=[angular_constants_1.AngularConstants.FILTER,common_constant_1.InjectNames.TAG_SERVICE],FilterTagCtrl}();exports.FilterTagCtrl=FilterTagCtrl},function(module,exports){module.exports='<div class="with-button filter-tag"> <div class=tag-container> <a class="tag is-dismissable" ng-repeat="tag in ctrl.selectedTags track by tag.id">{{tag.name}} <span class=dismissable-btn ng-click=ctrl.deleteTag(tag)> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-close></use> </svg> <span class=audible>Close</span> </span> </a> </div> <select id=tagSetting class=dropdown ng-model=ctrl.currentTag ng-options="tag.name for tag in ctrl.filterOptions track by tag.id" xi-drop-down=ctrl.filterOptions> </select> <button class=btn-icon xi-tooltip="\'Add tag\'" ng-click=ctrl.addTag()> <svg class=icon focusable=false> <use xlink:href=#icon-add></use> </svg> <span class=audible>Add</span> </button> </div>'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FilterToolbarComponent=void 0,__webpack_require__(92),__webpack_require__(522);var FilterToolbarComponent=function(){function FilterToolbarComponent(){}return FilterToolbarComponent.add=function(m){m.component("eirFilterToolbarComponent",{bindings:{filterTypeOptions:"<",sortPropertiesOptions:"<",filterTarget:"=",localPrefix:"@"},controller:FilterToolbarComponent,controllerAs:"ctrl",template:__webpack_require__(899)})},FilterToolbarComponent}();exports.FilterToolbarComponent=FilterToolbarComponent},function(module,exports){module.exports="<div class=sort-container> <eir-filter-popupmenu-component filter-options=ctrl.filterTypeOptions filter-values=ctrl.filterTarget local-prefix=::ctrl.localPrefix> </eir-filter-popupmenu-component> <eir-sort-popupmenu-component sort-options=ctrl.sortPropertiesOptions sort-values=ctrl.filterTarget local-prefix=::ctrl.localPrefix> </eir-sort-popupmenu-component> <eir-filter-tag-component filter-values=ctrl.filterTarget> </eir-filter-tag-component> </div>"},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.InputFieldComponent=exports.InputFieldCtrl=void 0,__webpack_require__(23);var field_validation_1=__webpack_require__(94);__webpack_require__(901);var InputFieldCtrl=function(_super){function InputFieldCtrl(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.readonly=!1,_this}return __extends(InputFieldCtrl,_super),InputFieldCtrl}(field_validation_1.FieldValidation);exports.InputFieldCtrl=InputFieldCtrl;var InputFieldComponent=function(){function InputFieldComponent(){this.bindings={id:"@?",labelName:"@?",fieldValue:"=",fieldName:"@?",validation:"<?",required:"@?",readonly:"<?",onComponentChange:"&?",parentAnnounce:"<?"},this.controller=InputFieldCtrl,this.controllerAs="ctrl",this.template=__webpack_require__(902)}return InputFieldComponent.add=function(m){m.component("eirInputFieldComponent",new InputFieldComponent)},InputFieldComponent}();exports.InputFieldComponent=InputFieldComponent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports){module.exports='<div class=component-base> <div ng-if="ctrl.validation !== undefined"> <label for=input-field-component ng-class="{ required : ctrl.isRequired }" ng-if="ctrl.labelName !== undefined"> {{ ctrl.labelName }} </label> <input class=input-field-component type=text name={{ctrl.fieldName}} ng-model=ctrl.fieldValue ng-model-options="{ debounce: 100 }" ng-change=ctrl.validate() ng-readonly=ctrl.readonly ng-blur=ctrl.validate() /> <div class=error-message> <div class=error-text ng-repeat="validatorError in ctrl.fieldSpecificErrors" ng-show="ctrl.displayStatus === \'none\' ? false : true"> <svg class="icon-error icon" focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-error></use> </svg> <pre class=audible>Error</pre> <p class=message-text>{{ validatorError.message }}</p> </div> </div> </div> <div ng-if="ctrl.validation === undefined"> <label for=input-field-component>{{ ctrl.labelName }}</label> <input class=input-field-component type=text aria-required=true class=input-lg ng-model=ctrl.fieldValue ng-readonly=ctrl.readonly /> </div> </div> '},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PaginatorComponent=void 0,__webpack_require__(23);var paginator_ctrl_1=__webpack_require__(904),PaginatorComponent=function(){function PaginatorComponent(){this.bindings={pagingValues:"<",currentPage:"="},this.controller=paginator_ctrl_1.PaginatorCtrl,this.controllerAs="ctrl",this.template=__webpack_require__(905)}return PaginatorComponent.add=function(m){m.component("eirPaginator",new PaginatorComponent)},PaginatorComponent}();exports.PaginatorComponent=PaginatorComponent},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.PaginatorCtrl=void 0;var angular_1=__importDefault(__webpack_require__(12)),angular_constants_1=__webpack_require__(7),PaginatorCtrl=function(){function PaginatorCtrl($scope,$element){this.$scope=$scope,this.$element=$element}return PaginatorCtrl.prototype.$onInit=function(){var _this=this;this.createPages(PaginatorCtrl.pagesize),this.pagerOptions={type:"standalone",pagesize:PaginatorCtrl.pagesize,pageSizeSelectorText:"{0} Projects per page",pagesizes:[16,28,48,76],showPageSizeSelector:!0,showFirstButton:!0,enableFirstButton:!1,showPreviousButton:!0,enablePreviousButton:!1,showNextButton:!0,enableNextButton:!0,showLastButton:!0,enableLastButton:!0,onFirstPage:function(_elem,_args){_this.resetCurrentPage(),_this.$scope.$apply()},onPreviousPage:function(_elem,_args){--_this.pageNumber,_this.previousPage(_this.pageNumber),_this.$scope.$apply()},onNextPage:function(_elem,_args){++_this.pageNumber,_this.nextPage(_this.pageNumber),_this.$scope.$apply()},onLastPage:function(_elem,_args){_this.pageNumber=_this.pages.length-1,_this.currentPage=_this.pages[_this.pageNumber],_this.updateButtons(!1,!1,!0,!0),_this.$scope.$apply()},onPageSizeChange:function(_elem,args){_this.createPages(args.pagesize),_this.resetCurrentPage(),_this.$scope.$apply()}},this.getPagerElement().pager(this.pagerOptions).data("pager"),this.resetCurrentPage()},PaginatorCtrl.prototype.$onChanges=function(value){var currentList=value.pagingValues.currentValue,previousList=value.pagingValues.previousValue;previousList.length&&currentList!==previousList&&(this.pagingValues=value.pagingValues.currentValue,this.createPages(PaginatorCtrl.pagesize),this.resetCurrentPage())},PaginatorCtrl.prototype.nextPage=function(page){this.currentPage=this.pages[page],page===this.pages.length-1?this.updateButtons(!1,!1,!0,!0):this.updateButtons(!0,!0,!0,!0)},PaginatorCtrl.prototype.previousPage=function(page){this.currentPage=this.pages[page],0===page?this.updateButtons(!0,!0,!1,!1):this.updateButtons(!0,!0,!0,!0)},PaginatorCtrl.prototype.createPages=function(pagesize){this.pages=[];for(var pagingTarget=angular_1.default.copy(this.pagingValues),pageIndex=0;0!==pagingTarget.length;pageIndex++){var page=pagingTarget.splice(0,pagesize);this.pages.push(page)}},PaginatorCtrl.prototype.getPagerElement=function(){return this.$element.find(".pager-container")},PaginatorCtrl.prototype.getPagerApi=function(){return this.getPagerElement().data("pager")},PaginatorCtrl.prototype.resetCurrentPage=function(){this.pageNumber=0,this.currentPage=this.pages[this.pageNumber],this.pages.length>1?this.updateButtons(!0,!0,!1,!1):this.updateButtons(!1,!1,!1,!1)},PaginatorCtrl.prototype.updateButtons=function(last,next,first,previous){this.getPagerApi().updated({enableLastButton:last,enableNextButton:next,enableFirstButton:first,enablePreviousButton:previous})},PaginatorCtrl.pagesize=16,PaginatorCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,angular_constants_1.AngularConstants.ELEMENT],PaginatorCtrl}();exports.PaginatorCtrl=PaginatorCtrl},function(module,exports){module.exports="<div class=pager-container></div>"},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProjectTagsComponent=void 0,__webpack_require__(326);var angular_constants_1=__webpack_require__(7);__webpack_require__(539);var ProjectTagsComponent=function(){function ProjectTagsComponent($timeout,$element){this.$timeout=$timeout,this.$element=$element,this.tagsOverflowed=!1}return ProjectTagsComponent.prototype.checkOverflow=function(){var _this=this;this.$timeout((function(){var tagContainerElement=_this.$element.find(".tag-container")[0];tagContainerElement.offsetHeight<tagContainerElement.scrollHeight&&(_this.tagsOverflowed=!0)}),1)},ProjectTagsComponent.prototype.moreTagInit=function(){var popoverOptions={popover:!0,content:this.$element.find("#popover-contents"),placement:"bottom",title:"Tags",extraClass:"alternate"};this.$element.find("#popover-trigger").popover(popoverOptions)},ProjectTagsComponent.add=function(m){m.component("eirProjectTags",{bindings:{tags:"<"},template:__webpack_require__(907),controller:ProjectTagsComponent,controllerAs:"ctrl"})},ProjectTagsComponent.$inject=[angular_constants_1.AngularConstants.TIMEOUT,angular_constants_1.AngularConstants.ELEMENT],ProjectTagsComponent}();exports.ProjectTagsComponent=ProjectTagsComponent},function(module,exports){module.exports='<div class=tag-field> <div class="tag-container tag-list"> <span class=tag ng-repeat="tag in ctrl.tags" repeat-done=ctrl.checkOverflow()> {{tag.name}} </span> </div> <span class="more-tag tag is-clickable" id=popover-trigger ng-init=ctrl.moreTagInit() ng-if=ctrl.tagsOverflowed>...</span> </div> <div id=popover-contents class=hidden> <div class="tag-list popover-tags"> <span class="pop-tag hide-focus" ng-repeat="tag in ctrl.tags"> {{tag.name}} </span> </div> </div>'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SortPopupmenuComponent=void 0;var angular_constants_1=__webpack_require__(7),sort_popupmenu_ctrl_1=__webpack_require__(909),SortPopupmenuComponent=function(){function SortPopupmenuComponent(){this.bindings={sortOptions:"<",sortValues:"=",localPrefix:"<"},this.controller=[angular_constants_1.AngularConstants.FILTER,sort_popupmenu_ctrl_1.SortPopupmenuCtrl],this.controllerAs="ctrl",this.template=__webpack_require__(910)}return SortPopupmenuComponent.add=function(m){m.component("eirSortPopupmenuComponent",new SortPopupmenuComponent)},SortPopupmenuComponent}();exports.SortPopupmenuComponent=SortPopupmenuComponent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SortPopupmenuCtrl=void 0;var OrderEnum,angular_constants_1=__webpack_require__(7);!function(OrderEnum){OrderEnum.ASCENDING="",OrderEnum.DESCENDING="-"}(OrderEnum||(OrderEnum={}));var SortPopupmenuCtrl=function(){function SortPopupmenuCtrl($filter){this.$filter=$filter,this.sortOrderTypes=[{name:"Ascending",value:0},{name:"Descending",value:1}],this.sortOn="sort-on",this.sortOrder="sort-order",this.$inject=[angular_constants_1.AngularConstants.FILTER]}return Object.defineProperty(SortPopupmenuCtrl.prototype,"sortValues",{get:function(){return this.bindingSortValues},set:function(value){this.bindingSortValues=value,value&&this.currentSelected&&this.currentSelectedSortOrder&&this.doSort()},enumerable:!1,configurable:!0}),SortPopupmenuCtrl.prototype.$onInit=function(){var sortOn=JSON.parse(localStorage.getItem(this.localPrefix+this.sortOn)),sortOrder=JSON.parse(localStorage.getItem(this.localPrefix+this.sortOrder));if(sortOn&&sortOrder)this.currentSelected=sortOn,this.currentSelectedSortOrder=sortOrder;else{var sortOption=this.sortOptions[0],sortOrder_1=this.sortOrderTypes[1];localStorage.setItem(this.localPrefix+this.sortOn,JSON.stringify(sortOption)),localStorage.setItem(this.localPrefix+this.sortOrder,JSON.stringify(sortOrder_1)),this.currentSelected=sortOption,this.currentSelectedSortOrder=sortOrder_1}this.doSort()},SortPopupmenuCtrl.prototype.onSort=function(sortOption){this.currentSelected=sortOption,localStorage.setItem(this.localPrefix+this.sortOn,JSON.stringify(sortOption)),this.doSort()},SortPopupmenuCtrl.prototype.onSortOrder=function(sortOrder){this.currentSelectedSortOrder=sortOrder,localStorage.setItem(this.localPrefix+this.sortOrder,JSON.stringify(sortOrder)),this.doSort()},SortPopupmenuCtrl.prototype.doSort=function(){var orderBy=this.currentSelectedSortOrder.value?OrderEnum.DESCENDING:OrderEnum.ASCENDING;this.bindingSortValues=this.$filter("orderBy")(this.bindingSortValues,orderBy+"("+this.currentSelected.value+")")},SortPopupmenuCtrl}();exports.SortPopupmenuCtrl=SortPopupmenuCtrl},function(module,exports){module.exports='<button type=button id=buttonSort class=btn-menu xi-popupmenu> <span>By {{ ctrl.currentSelected.name }}</span> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-dropdown></use> </svg> </button> <ul class=popupmenu> <li ng-repeat="sortOption in ctrl.sortOptions track by sortOption.name" ng-click=ctrl.onSort(sortOption)> <a>{{sortOption.name}}</a> </li> </ul> <button type=button id=buttonSortOrder class=btn-menu xi-popupmenu> <span>In {{ctrl.currentSelectedSortOrder.name }} Order</span> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-dropdown></use> </svg> </button> <ul class=popupmenu> <li ng-repeat="sortOrder in ctrl.sortOrderTypes track by sortOrder.name" ng-click=ctrl.onSortOrder(sortOrder)> <a>{{ sortOrder.name }}</a> </li> </ul> '},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.TagDropdownComponent=void 0;var angular_1=__importDefault(__webpack_require__(12)),angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3),infor_owned_enum_1=__webpack_require__(538);__webpack_require__(206),__webpack_require__(326);var defines_1=__webpack_require__(16),helper_1=__webpack_require__(15);__webpack_require__(912),__webpack_require__(430);var TagDropdownComponent=function(){function TagDropdownComponent($scope,$element,tagService){this.$scope=$scope,this.$element=$element,this.tagService=tagService,this.availableTags=[],this.availableTagNames=[],this.selectedTags=[],this.KeyCodeEnum=defines_1.KeyCodeEnum,this.initAvailableTags(),this.initSearchFieldEvent()}return TagDropdownComponent.prototype.$onChanges=function(changeObject){var project=changeObject.project;project&&!project.isFirstChange()&&project.currentValue.id!==project.previousValue.id&&(this.currentTag=void 0,this.errorMessage=void 0)},TagDropdownComponent.prototype.addTag=function(){var currentTag=this.currentTag;if(!helper_1.Helper.isUndefinedEmpty(currentTag)&&this.isValid()&&currentTag){var tag=this.getAvailableTag(currentTag);tag||(tag=this.getNewTag()),this.selectedTags.push(tag),this.save(),this.currentTag=void 0}},TagDropdownComponent.prototype.deleteTag=function(tag){var selectedTags=angular_1.default.copy(this.selectedTags);this.selectedTags=selectedTags.filter((function(selectedTag){return tag.name!==selectedTag.name})),this.save()},TagDropdownComponent.prototype.isValid=function(){var currentTag=this.currentTag;return helper_1.Helper.isUndefinedEmpty(currentTag)?(this.errorMessage=void 0,!0):this.selectedTags.some((function(tag){return tag.name===currentTag}))?(this.errorMessage="Tag already added",!1):/^[a-zA-Z0-9\s]{1,256}$/.test(currentTag)?(this.errorMessage=void 0,!0):(this.errorMessage="Tag is not valid",!1)},TagDropdownComponent.prototype.onKeyPressed=function($event){$event.which===defines_1.KeyCodeEnum.ENTER&&this.addTag()},TagDropdownComponent.prototype.getNewTag=function(){return{id:helper_1.Helper.generateUniqueId(),name:this.currentTag,inforOwned:infor_owned_enum_1.InforOwnedEnum.FALSE}},TagDropdownComponent.prototype.getAvailableTag=function(tagName){return this.availableTags.find((function(availableTag){return availableTag.name===tagName}))},TagDropdownComponent.prototype.save=function(){this.project.tags?this.project.tags=this.selectedTags:this.onSaveTags({$tags:this.selectedTags})},TagDropdownComponent.prototype.initAvailableTags=function(){var _this=this;this.tagService.getAvailableTags().then((function(tags){_this.availableTags=tags,_this.availableTagNames=helper_1.Helper.getListNames(tags)}))},TagDropdownComponent.prototype.initSearchFieldEvent=function(){var _this=this;this.$element.on("selected",(function(event,selectedItem){_this.currentTag=selectedItem.text().trim(),_this.isValid(),_this.$scope.$applyAsync()}))},TagDropdownComponent.add=function(m){m.component("eirTagDropdown",{bindings:{onSaveTags:"&",project:"<",selectedTags:"="},template:__webpack_require__(913),controller:TagDropdownComponent,controllerAs:"ctrl"})},TagDropdownComponent.$inject=[angular_constants_1.AngularConstants.SCOPE,angular_constants_1.AngularConstants.ELEMENT,common_constant_1.InjectNames.TAG_SERVICE],TagDropdownComponent}();exports.TagDropdownComponent=TagDropdownComponent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports){module.exports='<div class=with-button> <label for=tagSetting>Tags</label> <div class=tag-container> <a class="tag is-dismissable" ng-repeat="tag in ctrl.selectedTags track by tag.id">{{tag.name}} <span class=dismissable-btn ng-click=ctrl.deleteTag(tag)> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-close></use> </svg> <span class=audible>Close</span> </span> </a> </div> <input class=searchfield xi-searchfield="{\'source\': ctrl.availableTagNames}" ng-model=ctrl.currentTag ng-model-options="{ debounce: 500 }" ng-change=ctrl.isValid() ng-keypress=ctrl.onKeyPressed($event) id=tag-searchfield name=searchfield placeholder="Add tag" maxlength=25 /> <button class=btn-icon xi-tooltip="\'Add tag\'" ng-click=ctrl.addTag()> <svg class=icon focusable=false> <use xlink:href=#icon-add></use> </svg> <span class=audible>Add</span> </button> </div> <div ng-show="ctrl.errorMessage !== undefined" class="error-icon error-message"> <svg class="icon icon-error" focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-error></use> </svg> <pre class=audible>Error</pre> <p class=message-text>{{ ctrl.errorMessage }}</p> </div> '},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TextareaFieldComponent=void 0;var textarea_field_ctrl_1=__webpack_require__(915),TextareaFieldComponent=function(){function TextareaFieldComponent(){this.bindings={labelName:"@?",fieldValue:"=",validation:"<?",readonly:"<?"},this.controller=textarea_field_ctrl_1.TextareaFieldCtrl,this.controllerAs="ctrl",this.template=__webpack_require__(916)}return TextareaFieldComponent.add=function(m){m.component("eirTextareaFieldComponent",new TextareaFieldComponent)},TextareaFieldComponent}();exports.TextareaFieldComponent=TextareaFieldComponent},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var TextareaFieldCtrl=function(_super){function TextareaFieldCtrl(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.readonly=!1,_this}return __extends(TextareaFieldCtrl,_super),TextareaFieldCtrl.prototype.$onInit=function(){_super.prototype.$onInit.call(this),this.textareaOptions={autoGrow:!0,autoGrowAnimate:!0}},TextareaFieldCtrl}(__webpack_require__(94).FieldValidation);exports.TextareaFieldCtrl=TextareaFieldCtrl},function(module,exports){module.exports='<div class=component-base> <div ng-if="ctrl.validation !== undefined"> <label for=textareaField ng-if="ctrl.labelName !== undefined"> {{ ctrl.labelName }} </label> <textarea class="textarea resizable" id=textareaField name=textareaField xi-textarea=ctrl.textareaOptions ng-model=ctrl.fieldValue ng-model-options="{ debounce: 100 }" ng-blur=ctrl.validate() ng-change=ctrl.validate() ng-readonly=ctrl.readonly></textarea> <div ng-repeat="validatorError in ctrl.fieldSpecificErrors" ng-style="{ \'display\': ctrl.displayStatus }" class=error-message> <svg class="icon-error icon" focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-error></use> </svg> <pre class=audible>Error</pre> <p class=message-text>{{ validatorError.message }}</p> </div> </div> <div ng-if="ctrl.validation === undefined"> <label for=textareaField ng-if="ctrl.labelName !== undefined"> {{ ctrl.labelName }} </label> <textarea class=resizable id=textareaField name=textareaField xi-textareaname=textareaField ng-model=ctrl.fieldValue ng-readonly=ctrl.readonly></textarea> </div> </div>'},function(module,exports,__webpack_require__){"use strict";(function($){Object.defineProperty(exports,"__esModule",{value:!0}),exports.AboutDirective=void 0,__webpack_require__(918);var utils_1=__webpack_require__(47),AboutDirective=function(){function AboutDirective(){this.restrict="A",this.scope=!1}return AboutDirective.prototype.link=function(scope,element,attributes){var options=attributes[AboutDirective.DIRECTIVE_NAME],unbindWatcher=scope.$watch(options,(function(newOptions){var aboutComponent=utils_1.Utils.getData(element,"about");aboutComponent&&(aboutComponent.destroy(),aboutComponent.modal.remove()),newOptions?element.about(newOptions):element.about()}));element.on("$destroy",(function(){var modalData=utils_1.Utils.getData(element,"about");if(modalData){modalData.destroy();do{$("#about-modal").remove()}while($("#about-modal").length>0)}unbindWatcher()}))},AboutDirective.add=function(m){m.directive(AboutDirective.DIRECTIVE_NAME,(function(){return new AboutDirective}))},AboutDirective.DIRECTIVE_NAME="xiAbout",AboutDirective}();exports.AboutDirective=AboutDirective}).call(this,__webpack_require__(21))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var ApplicationMenuDirective=function(){function ApplicationMenuDirective(){this.restrict="A",this.scope=!1}return ApplicationMenuDirective.prototype.link=function(scope,element){element.applicationMenu()},ApplicationMenuDirective.add=function(m){m.directive("xiAppMenu",(function(){return new ApplicationMenuDirective}))},ApplicationMenuDirective}();exports.ApplicationMenuDirective=ApplicationMenuDirective},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ArrangeDirective=void 0,__webpack_require__(432);var ArrangeDirective=function(){function ArrangeDirective($timeout){this.$timeout=$timeout,this.restrict="A",this.scope=!1}return ArrangeDirective.prototype.link=function(scope,element,attributes){element.length>0&&this.$timeout((function(){var arrangeElement=element;arrangeElement.arrange().off("arrangeupdate"),arrangeElement.arrange().on("arrangeupdate",(function(e,event){scope[attributes.xiArrange].onArrange(event)}));var unbindWatcher=scope.$watch((function(){return element[0].childNodes.length}),(function(newValue,oldValue){newValue!==oldValue&&arrangeElement.arrange()}));arrangeElement.on("$destroy",(function(){unbindWatcher()}))}))},ArrangeDirective.add=function(m){m.directive(ArrangeDirective.DIRECTIVE_NAME,(function($timeout){return new ArrangeDirective($timeout)}))},ArrangeDirective.DIRECTIVE_NAME="xiArrange",ArrangeDirective}();exports.ArrangeDirective=ArrangeDirective},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AutocompleteDirective=void 0,__webpack_require__(429);var utils_1=__webpack_require__(47),AutocompleteDirective=function(){function AutocompleteDirective(){this.restrict="A",this.scope=!1}return AutocompleteDirective.prototype.link=function(scope,element,attributes){var options=attributes[AutocompleteDirective.DIRECTIVE_NAME],unbindWatcher=scope.$watchCollection(options,(function(newOptions){newOptions?(element.attr("data-autocomplete","source"),element.autocomplete(newOptions)):element.autocomplete()}));element.on("$destroy",(function(){var autoCompleteData=utils_1.Utils.getData(element,"autocomplete");autoCompleteData&&autoCompleteData.destroy(),unbindWatcher()}))},AutocompleteDirective.add=function(m){m.directive(AutocompleteDirective.DIRECTIVE_NAME,(function(){return new AutocompleteDirective}))},AutocompleteDirective.DIRECTIVE_NAME="xiAutocomplete",AutocompleteDirective}();exports.AutocompleteDirective=AutocompleteDirective},function(module,exports,__webpack_require__){"use strict";(function($){Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=__webpack_require__(47),BusyDirective=function(){function BusyDirective(){this.restrict="A",this.scope=!1}return BusyDirective.prototype.link=function(scope,element,attributes){element.addClass("busy");var options={},delay=attributes.busyDelay,transparentOverlay=attributes.transparentOverlay;$.isNumeric(delay)&&(options.displayDelay=parseInt(delay)),"true"===transparentOverlay&&(options.transparentOverlay=!0),element.busyindicator(options);var expression=attributes[BusyDirective.DIRECTIVE_NAME],isRunning=!1,unbindWatcher=scope.$watch(expression,(function(newValue,_){newValue&&!isRunning?(isRunning=!0,element.trigger("start.busyindicator")):!newValue&&isRunning&&(isRunning=!1,element.trigger("complete.busyindicator"))}));element.on("$destroy",(function(){var busyData=utils_1.Utils.getData(element,"busyindicator");busyData&&busyData.destroy(),unbindWatcher()}))},BusyDirective.add=function(m){m.directive(BusyDirective.DIRECTIVE_NAME,(function(){return new BusyDirective}))},BusyDirective.DIRECTIVE_NAME="xiBusy",BusyDirective}();exports.BusyDirective=BusyDirective}).call(this,__webpack_require__(21))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var ButtonDirective=function(){function ButtonDirective(){this.restrict="A",this.scope=!1}return ButtonDirective.prototype.link=function(scope,element){element.button()},ButtonDirective.add=function(m){m.directive("xiButton",(function(){return new ButtonDirective}))},ButtonDirective}();exports.ButtonDirective=ButtonDirective},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ColorPickerDirective=void 0,__webpack_require__(925);var utils_1=__webpack_require__(47),ColorPickerDirective=function(){function ColorPickerDirective($parse){this.$parse=$parse,this.restrict="A",this.scope=!1,this.require="?ngModel"}return ColorPickerDirective.prototype.link=function(scope,element,attributes,ngModel){var api,_this=this,selectedColor=element.val(),options=attributes[ColorPickerDirective.DIRECTIVE_NAME],unbindWatcher=scope.$watch(options,(function(newOptions){newOptions?element.colorpicker(newOptions):element.colorpicker(),api=utils_1.Utils.getData(element,"colorpicker"),ngModel&&(scope.$watch(attributes.ngModel,(function(color){color&&color.length>0&&color!==selectedColor&&(element.val(color),api&&api.setColor(color),selectedColor=color)})),element.on("selected.colorpicker",(function(e,item){scope.$apply((function(){_this.$parse(attributes.ngModel).assign(scope,"#"+item.data("value"))}))})))}));element.on("$destroy",(function(){api&&(element.off("change"),element.off("selected.colorpicker"),api.destroy()),unbindWatcher()}))},ColorPickerDirective.add=function(m){m.directive(ColorPickerDirective.DIRECTIVE_NAME,["$parse",function(parse){return new ColorPickerDirective(parse)}])},ColorPickerDirective.DIRECTIVE_NAME="xiColorPicker",ColorPickerDirective}();exports.ColorPickerDirective=ColorPickerDirective},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=__webpack_require__(47),ControlDirective=function(){function ControlDirective(log,timeout){this.log=log,this.timeout=timeout,this.restrict="A",this.scope=!1}return ControlDirective.prototype.link=function(scope,element,attributes){var _this=this,functionName=attributes[ControlDirective.DIRECTIVE_NAME];if(functionName){try{this.timeout((function(){if(!utils_1.Utils.getData(element,functionName))switch(functionName){case"expandablearea":element.expandablearea();break;case"toolbar":element.toolbar();break;case"accordion":element.accordion();break;case"wizard":default:element.wizard()}}),1)}catch(ex){this.log.error(name+" Failed to call "+functionName,ex)}scope.$on("$destroy",(function(){var data=utils_1.Utils.getData(element,functionName);if(data)try{data.destroy()}catch(exc){_this.log.error(name+" Failed to destroy "+functionName,exc)}}))}},ControlDirective.add=function(m){m.directive(ControlDirective.DIRECTIVE_NAME,["$log","$timeout",function(log,timeout){return new ControlDirective(log,timeout)}])},ControlDirective.DIRECTIVE_NAME="xiControl",ControlDirective.$inject=["$log"],ControlDirective}();exports.ControlDirective=ControlDirective},,function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var DatepickerDirective=function(){function DatepickerDirective(){this.restrict="A",this.scope=!1}return DatepickerDirective.prototype.link=function(scope,element,attributes){var options=attributes[DatepickerDirective.DIRECTIVE_NAME],unbindWatcher=scope.$watch(options,(function(newOptions,oldOptions){newOptions&&element.datepicker(newOptions)}));element.on("$destroy",(function(){unbindWatcher()}))},DatepickerDirective.add=function(m){m.directive(DatepickerDirective.DIRECTIVE_NAME,(function(){return new DatepickerDirective}))},DatepickerDirective.DIRECTIVE_NAME="xiDatepicker",DatepickerDirective}();exports.DatepickerDirective=DatepickerDirective},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=__webpack_require__(47),DropDownDirective=function(){function DropDownDirective($timeout){this.$timeout=$timeout,this.restrict="A",this.scope=!1}return DropDownDirective.prototype.link=function(scope,element,attributes){var api,modelWatcher,disabledWatcher,_this=this,options=attributes[DropDownDirective.DIRECTIVE_NAME],unbindWatcher=scope.$watch(options,(function(newOptions){_this.$timeout((function(){newOptions?element.dropdown(newOptions):element.dropdown(),(api=utils_1.Utils.getData(element,"dropdown")).setDisplayedValues()}),100)}),!0),modelAttr=attributes.ngModel;modelAttr&&(modelWatcher=scope.$watch(modelAttr,(function(){api&&_this.$timeout((function(){api.setDisplayedValues()}),100)})));var disabledAttr=attributes.ngDisabled;disabledAttr&&(disabledWatcher=scope.$watch(disabledAttr,(function(newValue){api&&(!1===newValue?api.enable():!0===newValue&&api.disable())}))),element.on("$destroy",(function(){api&&api.destroy(),unbindWatcher(),modelWatcher&&modelWatcher(),disabledWatcher&&disabledWatcher()}))},DropDownDirective.add=function(m){m.directive(DropDownDirective.DIRECTIVE_NAME,["$timeout",function(timeout){return new DropDownDirective(timeout)}])},DropDownDirective.DIRECTIVE_NAME="xiDropDown",DropDownDirective}();exports.DropDownDirective=DropDownDirective},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=__webpack_require__(47),EditorDirective=function(){function EditorDirective(){this.restrict="A",this.scope=!1}return EditorDirective.prototype.link=function(scope,element,attributes){var options=attributes[EditorDirective.DIRECTIVE_NAME],unbindWatcher=scope.$watch(options,(function(newOptions){newOptions?element.editor(newOptions):element.editor()}));element.on("$destroy",(function(){var editorData=utils_1.Utils.getData(element,"editor");editorData&&editorData.destroy(),unbindWatcher()}))},EditorDirective.add=function(m){m.directive(EditorDirective.DIRECTIVE_NAME,(function(){return new EditorDirective}))},EditorDirective.DIRECTIVE_NAME="xiEditor",EditorDirective}();exports.EditorDirective=EditorDirective},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FileuploadDirective=void 0;var utils_1=__webpack_require__(47),FileuploadDirective=function(){function FileuploadDirective(timeout,parse){this.timeout=timeout,this.parse=parse,this.restrict="A",this.scope=!1}return FileuploadDirective.prototype.link=function(scope,element,attributes){var _this=this,expression=attributes[FileuploadDirective.DIRECTIVE_NAME],parent=element.parent(".fileupload");expression&&0!==parent.length&&(element.bind("change.fileupload",(function(){var files=element[0].files;_this.parse(expression).assign(scope,files),scope.$apply()})),this.timeout((function(){parent.fileupload()}),1),parent.on("$destroy",(function(){var fileUploadData=utils_1.Utils.getData(parent,"fileupload");fileUploadData&&fileUploadData.destroy()})))},FileuploadDirective.add=function(m){m.directive(FileuploadDirective.DIRECTIVE_NAME,["$timeout","$parse",function(timeout,parse){return new FileuploadDirective(timeout,parse)}])},FileuploadDirective.DIRECTIVE_NAME="xiFileupload",FileuploadDirective}();exports.FileuploadDirective=FileuploadDirective},function(module,exports,__webpack_require__){"use strict";(function($){Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=__webpack_require__(47),LookupDirective=function(){function LookupDirective(){this.restrict="A",this.scope=!1}return LookupDirective.prototype.link=function(scope,element,attributes){var options=attributes[LookupDirective.DIRECTIVE_NAME],unbindWatcher=scope.$watch(options,(function(newOptions){newOptions?element.lookup(newOptions):element.lookup()}),!0);element.on("$destroy",(function(){var lookupData=utils_1.Utils.getData(element,"lookup");lookupData&&lookupData.destroy(),$("body").off("open"),unbindWatcher()}))},LookupDirective.add=function(m){m.directive(LookupDirective.DIRECTIVE_NAME,(function(){return new LookupDirective}))},LookupDirective.DIRECTIVE_NAME="xiLookup",LookupDirective}();exports.LookupDirective=LookupDirective}).call(this,__webpack_require__(21))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MaskDirective=void 0,__webpack_require__(530);var utils_1=__webpack_require__(47),MaskDirective=function(){function MaskDirective(){this.restrict="A",this.scope=!1}return MaskDirective.prototype.link=function(scope,element,attributes){var options=attributes[MaskDirective.DIRECTIVE_NAME],unbindWatcher=scope.$watch(options,(function(newOptions){newOptions?(newOptions.mode&&element.attr("data-mask-mode",newOptions.mode),newOptions.thousands&&element.attr("data-thousands",String(newOptions.thousands)),newOptions.mustComplete&&element.attr("data-must-complete",String(newOptions.mustComplete)),newOptions.showCurrency&&element.attr("data-show-currency",String(newOptions.showCurrency)),element.mask(newOptions)):element.mask()}));element.on("$destroy",(function(){var maskData=utils_1.Utils.getData(element,"mask");maskData&&maskData.destroy(),unbindWatcher()}))},MaskDirective.add=function(m){m.directive(MaskDirective.DIRECTIVE_NAME,(function(){return new MaskDirective}))},MaskDirective.DIRECTIVE_NAME="xiMask",MaskDirective}();exports.MaskDirective=MaskDirective},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=__webpack_require__(47),MultiSelectDirective=function(){function MultiSelectDirective($timeout){this.$timeout=$timeout,this.restrict="A",this.scope=!1}return MultiSelectDirective.prototype.link=function(scope,element,attributes){var _this=this;if(attributes.id){var options=attributes[MultiSelectDirective.DIRECTIVE_NAME],unbindWatcher=scope.$watch(options,(function(newOptions){_this.$timeout((function(){newOptions?element.multiselect(newOptions):element.multiselect()}),100)}));element.on("$destroy",(function(){var multiSelectApi=utils_1.Utils.getData(element,"multiselect");multiSelectApi&&multiSelectApi.destroy(),unbindWatcher()}))}},MultiSelectDirective.add=function(m){m.directive(MultiSelectDirective.DIRECTIVE_NAME,["$timeout",function(timeout){return new MultiSelectDirective(timeout)}])},MultiSelectDirective.DIRECTIVE_NAME="xiMultiselect",MultiSelectDirective}();exports.MultiSelectDirective=MultiSelectDirective},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=__webpack_require__(47),PopoverDirective=function(){function PopoverDirective(){this.restrict="A",this.scope=!1}return PopoverDirective.prototype.link=function(scope,element,attributes){var unbindWatcher=scope.$watch(attributes[PopoverDirective.DIRECTIVE_NAME],(function(newValue){newValue&&(newValue.placement||(newValue.placement="right"),element.popover(newValue))}));element.on("$destroy",(function(){var tooltipData=utils_1.Utils.getData(element,"tooltip");tooltipData&&tooltipData.destroy(),unbindWatcher()}))},PopoverDirective.add=function(m){m.directive(PopoverDirective.DIRECTIVE_NAME,(function(){return new PopoverDirective}))},PopoverDirective.DIRECTIVE_NAME="xiPopover",PopoverDirective}();exports.PopoverDirective=PopoverDirective},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=__webpack_require__(47),PopupmenuDirective=function(){function PopupmenuDirective(timeout){this.timeout=timeout,this.restrict="A",this.scope=!1}return PopupmenuDirective.prototype.link=function(scope,element,attributes){var _this=this,unbindWatcher=scope.$watch(attributes[PopupmenuDirective.DIRECTIVE_NAME],(function(newOptions){_this.timeout((function(){newOptions?element.popupmenu(newOptions):element.popupmenu()}),1)}));element.on("$destroy",(function(){var popupMenuData=utils_1.Utils.getData(element,"popupmenu");popupMenuData&&popupMenuData.destroy(),unbindWatcher()}))},PopupmenuDirective.add=function(m){m.directive(PopupmenuDirective.DIRECTIVE_NAME,["$timeout",function(timeout){return new PopupmenuDirective(timeout)}])},PopupmenuDirective.DIRECTIVE_NAME="xiPopupmenu",PopupmenuDirective}();exports.PopupmenuDirective=PopupmenuDirective},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=__webpack_require__(47),SearchFieldDirective=function(){function SearchFieldDirective(){this.restrict="A",this.scope=!1}return SearchFieldDirective.prototype.link=function(scope,element,attributes){var options=attributes[SearchFieldDirective.DIRECTIVE_NAME],unbindWatcher=scope.$watch(options,(function(newOptions){newOptions?element.searchfield(newOptions):element.searchfield()}));element.on("$destroy",(function(){var searchFieldData=utils_1.Utils.getData(element,"searchfield");searchFieldData&&searchFieldData.destroy(),unbindWatcher()}))},SearchFieldDirective.add=function(m){m.directive(SearchFieldDirective.DIRECTIVE_NAME,(function(){return new SearchFieldDirective}))},SearchFieldDirective.DIRECTIVE_NAME="xiSearchfield",SearchFieldDirective}();exports.SearchFieldDirective=SearchFieldDirective},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SliderDirective=void 0,__webpack_require__(939);var utils_1=__webpack_require__(47),SliderDirective=function(){function SliderDirective(){this.restrict="A",this.scope=!1}return SliderDirective.prototype.link=function(scope,element,attributes){var options=attributes[SliderDirective.DIRECTIVE_NAME],unbindWatcher=scope.$watch(options,(function(newOptions){newOptions?element.slider(newOptions):element.slider()}));element.on("$destroy",(function(){var sliderData=utils_1.Utils.getData(element,"slider");sliderData&&sliderData.destroy(),unbindWatcher()}))},SliderDirective.add=function(m){m.directive(SliderDirective.DIRECTIVE_NAME,(function(){return new SliderDirective}))},SliderDirective.DIRECTIVE_NAME="xiSlider",SliderDirective}();exports.SliderDirective=SliderDirective},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=__webpack_require__(47),SpinboxDirective=function(){function SpinboxDirective(){this.restrict="A",this.scope=!1}return SpinboxDirective.prototype.link=function(scope,element,attributes){element.spinbox(),element.on("$destroy",(function(){var spinBoxData=utils_1.Utils.getData(element,"spinbox");spinBoxData&&spinBoxData.destroy()}))},SpinboxDirective.add=function(m){m.directive(SpinboxDirective.DIRECTIVE_NAME,(function(){return new SpinboxDirective}))},SpinboxDirective.DIRECTIVE_NAME="xiSpinbox",SpinboxDirective}();exports.SpinboxDirective=SpinboxDirective},function(module,exports,__webpack_require__){"use strict";(function($){Object.defineProperty(exports,"__esModule",{value:!0}),exports.TabsDirective=void 0,__webpack_require__(942);var utils_1=__webpack_require__(47),TabsDirective=function(){function TabsDirective($timeout){this.$timeout=$timeout,this.restrict="A",this.scope=!1}return TabsDirective.prototype.link=function(scope,element,attributes){var _this=this,options=attributes[TabsDirective.DIRECTIVE_NAME],unbindWatcher=scope.$watch(options,(function(newOptions){if(newOptions)if(newOptions.modalId){var tabToFocus_1,modalElement_1=$("#"+newOptions.modalId);modalElement_1.addClass("hidden"),modalElement_1.one("open",(function(){modalElement_1.removeClass("hidden"),element.tabs(newOptions),utils_1.Utils.getData(modalElement_1,"modal").resize(),_this.$timeout((function(){if((tabToFocus_1=modalElement_1.find(":focusable:not(.searchfield):first")).length&&tabToFocus_1.focus(),newOptions.tabToSelect){var tab=modalElement_1.find("li"+newOptions.tabToSelect);tab.length&&tab.click()}}),10)}))}else element.tabs(newOptions);else element.tabs()}));element.on("$destroy",(function(){var tabData=utils_1.Utils.getData(element,"tabs");tabData&&tabData.destroy(),unbindWatcher()}))},TabsDirective.add=function(m){m.directive(TabsDirective.DIRECTIVE_NAME,["$timeout",function(timeout){return new TabsDirective(timeout)}])},TabsDirective.DIRECTIVE_NAME="xiTabs",TabsDirective}();exports.TabsDirective=TabsDirective}).call(this,__webpack_require__(21))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=__webpack_require__(47),TextareaDirective=function(){function TextareaDirective(){this.restrict="A",this.scope=!1}return TextareaDirective.prototype.link=function(scope,element,attributes){var options=attributes[TextareaDirective.DIRECTIVE_NAME],unbindWatcher=scope.$watch(options,(function(newOptions){var textareaApi=utils_1.Utils.getData(element,"textarea");newOptions&&void 0===textareaApi?element.textarea(newOptions):textareaApi?textareaApi.updated(newOptions):element.textarea()}));element.on("$destroy",(function(){var textAreaData=utils_1.Utils.getData(element,"textarea");textAreaData&&textAreaData.destroy(),unbindWatcher()}))},TextareaDirective.add=function(m){m.directive(TextareaDirective.DIRECTIVE_NAME,(function(){return new TextareaDirective}))},TextareaDirective.DIRECTIVE_NAME="xiTextarea",TextareaDirective}();exports.TextareaDirective=TextareaDirective},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TimepickerDirective=void 0;var utils_1=__webpack_require__(47),TimepickerDirective=function(){function TimepickerDirective(){this.restrict="A",this.scope=!1}return TimepickerDirective.prototype.link=function(scope,element,attributes){var options=attributes[TimepickerDirective.DIRECTIVE_NAME],unbindWatcher=scope.$watch(options,(function(newOptions){newOptions?(element.data("timepicker").destroy(),element.timepicker(newOptions)):element.timepicker()}));element.on("$destroy",(function(){var timePickerData=utils_1.Utils.getData(element,"timepicker");timePickerData&&timePickerData.destroy(),unbindWatcher()}))},TimepickerDirective.add=function(m){m.directive(TimepickerDirective.DIRECTIVE_NAME,(function(){return new TimepickerDirective}))},TimepickerDirective.DIRECTIVE_NAME="xiTimepicker",TimepickerDirective}();exports.TimepickerDirective=TimepickerDirective},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=__webpack_require__(47),ToolbarDirective=function(){function ToolbarDirective(){this.restrict="A",this.scope=!1,this.replace=!0}return ToolbarDirective.prototype.link=function(scope,element,attributes){var options=attributes[ToolbarDirective.DIRECTIVE_NAME],unbindWatcher=scope.$watch(options,(function(newOptions){newOptions?element.toolbar(newOptions):element.toolbar()}));element.on("$destroy",(function(){var toolbarData=utils_1.Utils.getData(element,"toolbar");toolbarData&&toolbarData.destroy(),unbindWatcher()}))},ToolbarDirective.add=function(m){m.directive(ToolbarDirective.DIRECTIVE_NAME,(function(){return new ToolbarDirective}))},ToolbarDirective.DIRECTIVE_NAME="xiToolbar",ToolbarDirective}();exports.ToolbarDirective=ToolbarDirective},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.TooltipDirective=void 0;var has_1=__importDefault(__webpack_require__(1223));__webpack_require__(539);var utils_1=__webpack_require__(47),TooltipDirective=function(){function TooltipDirective(){this.restrict="A",this.scope=!1}return TooltipDirective.prototype.link=function(scope,element,attributes){var isInstantiated=!1;if(has_1.default(attributes,"ngDisabled")){var content=attributes.xiTooltip.replace(/^\'+|\'+$/g,"");element.append('<div class="disabled-tooltip" title="'+content+'"></div>')}var options=attributes[TooltipDirective.DIRECTIVE_NAME],unbindWatcher=scope.$watch(options,(function(newValue){if("string"==typeof newValue){if(0===newValue.length)return void(isInstantiated&&(utils_1.Utils.getData(element,"tooltip").destroy(),isInstantiated=!1));if(isInstantiated){var newOptions={content:newValue};utils_1.Utils.getData(element,"tooltip").updated(newOptions),1===(disabledTooltip=element.find("div.disabled-tooltip")).length&&disabledTooltip.data("tooltip").updated(newOptions)}else{var disabledTooltip;setTimeout((function(){element.tooltip({content:newValue})}),100),0!==(disabledTooltip=element.find("div[title]")).length&&disabledTooltip.tooltip(),isInstantiated=!0}}else{if(null==newValue)return void(isInstantiated&&(utils_1.Utils.getData(element,"tooltip").destroy(),isInstantiated=!1));element.tooltip(newValue),isInstantiated=!0}}));element.on("$destroy",(function(){var tooltipData=utils_1.Utils.getData(element,"tooltip");isInstantiated&&tooltipData&&tooltipData.destroy(),unbindWatcher()}))},TooltipDirective.add=function(m){m.directive(TooltipDirective.DIRECTIVE_NAME,(function(){return new TooltipDirective}))},TooltipDirective.DIRECTIVE_NAME="xiTooltip",TooltipDirective}();exports.TooltipDirective=TooltipDirective},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var TrackDirtyDirective=function(){function TrackDirtyDirective(){this.restrict="A",this.scope=!1,this.replace=!0}return TrackDirtyDirective.prototype.link=function(scope,element,attributes){element.attr("data-trackdirty","true"),element.trackdirty()},TrackDirtyDirective.add=function(m){m.directive(TrackDirtyDirective.DIRECTIVE_NAME,(function(){return new TrackDirtyDirective}))},TrackDirtyDirective.DIRECTIVE_NAME="xiTrackDirty",TrackDirtyDirective}();exports.TrackDirtyDirective=TrackDirtyDirective},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var ValidateDirective=function(){function ValidateDirective(){this.require="?ngModel",this.restrict="A",this.scope=!1}return ValidateDirective.prototype.link=function(scope,element,attributes){var options=attributes[ValidateDirective.DIRECTIVE_NAME],unbindWatcher=scope.$watch(options,(function(newOptions){newOptions?(newOptions.validation&&element.attr("data-validate",newOptions.validation),newOptions.timeFormat&&element.attr("data-time-format",newOptions.timeFormat),element.validate()):element.validate()}));element.on("$destroy",(function(){unbindWatcher()}))},ValidateDirective.add=function(m){m.directive(ValidateDirective.DIRECTIVE_NAME,[function(){return new ValidateDirective}])},ValidateDirective.DIRECTIVE_NAME="xiValidate",ValidateDirective}();exports.ValidateDirective=ValidateDirective},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ComponentHelper=void 0,__webpack_require__(23),__webpack_require__(202);var ComponentHelper=function(){function ComponentHelper(){}return ComponentHelper.dereferenceSwagger=function(doc){var copy=JSON.parse(JSON.stringify(doc));return ComponentHelper.mapObject(copy,(function(key,value){if("$ref"===key){var _a=ComponentHelper.lookupRef(value,copy),prop=_a.prop,propName=_a.propName;return prop?{key:propName,value:prop}:(console.warn("Could not dereference "+value),null)}return null})),copy},ComponentHelper.mapObject=function(obj,mapFunc){for(var propName in obj)if(obj.hasOwnProperty(propName)){"object"==typeof obj[propName]&&ComponentHelper.mapObject(obj[propName],mapFunc);var newProp=mapFunc(propName,obj[propName]);if(null!==newProp){for(var k in newProp.value)obj[k]=newProp.value[k];delete obj[propName]}}},ComponentHelper.lookupRef=function(path,obj,upperPropName){var matches=(path=path.replace(/^#/,"")).match(/\/?[^\/]+\/?/);if(matches){var firstMatch=matches[0],restOfPath=path.slice(firstMatch.length),propName=firstMatch.replace(/\//g,"");return ComponentHelper.lookupRef(restOfPath,obj[propName],propName)}return{prop:obj,propName:upperPropName}},ComponentHelper}();exports.ComponentHelper=ComponentHelper},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ComponentCommonDirective=void 0;var angular_constants_1=__webpack_require__(7);__webpack_require__(46);var ComponentCommonCtrl=function(){function ComponentCommonCtrl(){}return ComponentCommonCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE],ComponentCommonCtrl}(),ComponentCommonDirective=function(){function ComponentCommonDirective(){}return ComponentCommonDirective.add=function(m){m.directive("eirComponentCommon",(function(){return{controller:ComponentCommonCtrl,template:__webpack_require__(951),replace:!0,scope:!0}}))},ComponentCommonDirective}();exports.ComponentCommonDirective=ComponentCommonDirective},function(module,exports){module.exports='<div class=componentCommon> <span class=errorMessage xi-tooltip=componentInstance.errorTooltip ng-if="componentInstance.errorTooltip != null && componentInstance.isShowError"> <svg class="icon icon-error" focusable=false aria-hidden=true> <use xlink:href=#icon-error></use> </svg> <span class=audible>Error</span> </span> <div class="component-tooltip row"> <div class="component-name id-{{::component.id}}"> <span class=focus-type-target>Target Component</span> <span class=focus-type-source>Source Component</span> <span class="normal-name small-thin-text">{{component.displayName}}</span> <svg ng-if=!componentInstance.isGenerated class=icon-selectionbox focusable=false> <use xlink:href=#icon-more></use> </svg> </div> <div class=arrow-down-outer> <div class=arrow-down-inner></div> </div> </div> </div>'},function(module,exports,__webpack_require__){"use strict";(function($){Object.defineProperty(exports,"__esModule",{value:!0}),exports.ComponentDirective=void 0;var angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3);__webpack_require__(165);var layout_component_1=__webpack_require__(275),helper_1=__webpack_require__(69);__webpack_require__(28);var ComponentDirective=function(){function ComponentDirective($compile,frameworkService,$controller){var _this=this;this.$compile=$compile,this.frameworkService=frameworkService,this.$controller=$controller,this.restrict="E",this.scope={component:"=",parent:"=",context:"=",generatedId:"=",componentReady:"&",componentDestroyed:"&"},this.replace=!0,ComponentDirective.prototype.controllerExists=function(controllerName){try{return _this.$controller(controllerName,null,!0),!0}catch(e){return!1}},ComponentDirective.prototype.template=function(element,attrs){var template=$("<eir-component></eir-component>");if(template.attr("id","{{component.id}}"),template.attr("xi-busy","componentInstance.isLoading"),template.attr("ng-show","componentInstance.isVisible"),frameworkService.isDesigner()){var editorControllerName=common_constant_1.ComponentClassNames.EDITOR_COMPONENT_PREFIX+element.attr("typedef");if(!_this.controllerExists(editorControllerName))throw new Error("[Component directive] Not implemented controller for component of type: "+element.attr("typedef"));template.attr("eir-editor-component",editorControllerName),template.attr("ng-click","componentInstance.onClick($event);"),template.attr("ng-attr-draggable","{{eirEditorComponent.isDraggable}}"),template.attr("ng-dragenter","componentInstance.onDragenter($event);"),template.attr("ng-dragleave","componentInstance.onDragleave($event);"),template.attr("ng-dragover","componentInstance.onDragover($event);"),template.attr("ng-dragstart","componentInstance.onDragstart($event);"),template.attr("ng-drop","componentInstance.onDrop($event);"),template.attr("ng-mouseleave","componentInstance.onMouseLeave($event);"),template.attr("ng-mousemove","componentInstance.onMouseMove($event);"),template.attr("ng-mouseover","componentInstance.onMouseOver($event);");var classes=[];classes.push("{ isHovered: eirEditorComponent.isHovered }"),classes.push("{ isSelected: eirEditorComponent.isSelected }"),classes.push("{ isWizardFocus: eirEditorComponent.wizardFocusType===1 }"),classes.push("{ isWizardRest: eirEditorComponent.wizardFocusType===2 }"),classes.push("{ isFinder: eirEditorComponent.isFinder }"),classes.push("{ isInsertParent: eirEditorComponent.isInsertParent }"),classes.push("{ isInsertChild: eirEditorComponent.isInsertChild }"),template.attr("ng-class","["+classes.join(", ")+"]")}return template[0].outerHTML},ComponentDirective.prototype.link=function($scope,$element,$attrs){if(!$scope.component)throw new Error("[ComponentDirective] Component not set");if(!$scope.context)throw new Error("[ComponentDirective] Context not provided");if(!$scope.parent)throw new Error("[ComponentDirective] Parent not provided");var component=$scope.component,parentInstance=$scope.parent;$scope.context=Object.create($scope.context),$element.data("eir-scope",$scope);var componentInstance=helper_1.ComponentsHelper.instantiateComponent(component,$element,parentInstance,_this.frameworkService);$scope.componentInstance=componentInstance;var template=document.createElement("d"+componentInstance.getTypedef().toLowerCase());_this.$compile(template)($scope,(function(clone,scope){$element.empty();var commonPart=_this.$compile("<eir-component-common></eir-component-common>")($scope);$element.append(commonPart),$element.append(clone),componentInstance instanceof layout_component_1.LayoutComponent&&($scope.onChildrenReady=function(){componentInstance.onChildrenReady(),$scope.componentReady({componentInstance:componentInstance})}),scope.$on(angular_constants_1.AngularConstants.DESTROY,(function(ev){$scope.componentDestroyed({componentInstance:componentInstance}),componentInstance.element.empty(),componentInstance.element.remove()}))}))}}return ComponentDirective.add=function(m){var directive=function($compile,frameworkService,$controller){return new ComponentDirective($compile,frameworkService,$controller)};directive.$inject=[angular_constants_1.AngularConstants.COMPILE,common_constant_1.InjectNames.FRAMEWORK_SERVICE,angular_constants_1.AngularConstants.CONTROLLER],m.directive("eirComponentDirective",directive)},ComponentDirective}();exports.ComponentDirective=ComponentDirective}).call(this,__webpack_require__(21))},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.TitlebarDirective=exports.TitlebarCtrl=void 0;var angular_1=__importDefault(__webpack_require__(12)),common_constant_1=__webpack_require__(3);__webpack_require__(149);var angular_constants_1=__webpack_require__(7);__webpack_require__(80);var feature_switch_ctrl_1=__webpack_require__(134);__webpack_require__(28);var TitlebarCtrl=function(_super){function TitlebarCtrl($scope,frameworkService,featureSwitchService){var _this=_super.call(this,featureSwitchService)||this;return _this.frameworkService=frameworkService,_this.themes=[{data:"light-theme",displayName:"Light"},{data:"dark-theme",displayName:"Dark"},{data:"high-contrast-theme",displayName:"High Contrast"},{data:"light-transparent-theme",displayName:"Light Transparent"},{data:"dark-transparent-theme",displayName:"Dark Transparent"}],_this.unsubscribers=[],_this.updateSettings(frameworkService.getCurrentProject().manifest),_this.unsubscribers.push(frameworkService.projectSettingsChangedEvent.on((function(manifest){_this.updateSettings(manifest)}))),_this.unsubscribers.push(frameworkService.currentCanvasThemeChangedEvent.on((function(theme){_this.currentTheme=theme}))),$scope.$on(angular_constants_1.AngularConstants.DESTROY,(function(){angular_1.default.forEach(_this.unsubscribers,(function(unsubscribe){unsubscribe()}))})),_this}return __extends(TitlebarCtrl,_super),TitlebarCtrl.prototype.updateSettings=function(manifest){this.currentTheme=manifest.defaultTheme,this.showTitlebar=manifest.showTitleBar,this.showThemeSwitch=manifest.themeSwitchEnabled,this.title=this.isFeatureTranslationEnabled()?this.frameworkService.getTranslatableHeaderString():manifest.title},TitlebarCtrl.prototype.changeCanvasTheme=function(theme){this.frameworkService.setCanvasTheme(theme)},TitlebarCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,common_constant_1.InjectNames.FRAMEWORK_SERVICE,common_constant_1.InjectNames.FEATURE_SWITCH_SERVICE],TitlebarCtrl}(feature_switch_ctrl_1.FeatureSwitchCtrl);exports.TitlebarCtrl=TitlebarCtrl;var TitlebarDirective=function(){function TitlebarDirective(){this.controller=TitlebarCtrl,this.controllerAs="eirTitlebarCtrl",this.template=__webpack_require__(954),this.replace=!0}return TitlebarDirective.add=function(m){m.directive("eirTitlebar",(function(){return new TitlebarDirective}))},TitlebarDirective}();exports.TitlebarDirective=TitlebarDirective},function(module,exports){module.exports='<header class="header is-personalizable application-header" ng-if=eirTitlebarCtrl.showTitlebar ng-class="{\'with-themeswitcher\' : eirTitlebarCtrl.showThemeSwitch}"> <div class="toolbar has-title" ng-class="{\'has-more-button\' : eirTitlebarCtrl.showThemeSwitch}"> <div class=title> <h1>{{eirTitlebarCtrl.title}}</h1> </div> <div ng-if=eirTitlebarCtrl.showThemeSwitch> <button class=btn-menu xi-popupmenu> <svg class=icon aria-hidden=true focusable=false> <use xlink:href=#icon-more></use> </svg> <span class=audible>More Actions</span> </button> <ul class="popupmenu is-selectable"> <li class=heading>Theme</li> <li ng-repeat="theme in eirTitlebarCtrl.themes" ng-class="{\'is-checked\':eirTitlebarCtrl.currentTheme === $index + 1}"> <a ng-click="eirTitlebarCtrl.changeCanvasTheme($index + 1)" data-theme=theme.data> {{theme.displayName}} </a> </li> </ul> </div> </div> </header>'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Designer=void 0,__webpack_require__(79);var common_constant_1=__webpack_require__(3);__webpack_require__(956);var Designer=function(){function Designer(){}return Designer.prototype.getUserDisplayName=function(){return this.userDisplayName},Designer.prototype.getUserName=function(){return this.userName},Designer.prototype.fromJson=function(obj){if(null===obj)throw new Error("Json object was null and could therefore not be loaded.");this.userDisplayName=obj.userDisplayName,this.userName=obj.userName},Designer.info=function(httpService){return httpService.executeGet(common_constant_1.ServerPaths.DESIGNER).then((function(data){var designer=new Designer;return designer.fromJson(data),designer}))},Designer}();exports.Designer=Designer},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports){module.exports='<div ng-controller="eirDuplicateProjectCtrl as ctrl"> <div class=field> <label for=duplicateName class=required>Name</label> <input id=duplicateName type=text class=required ng-model=ctrl.projectName aria-required=true data-validate=required xi-validate/> </div> <div class=modal-buttonset> <button type=button class=btn-modal ng-click=ctrl.close()>Cancel</button> <button type=button class=btn-modal-primary ng-click=ctrl.duplicate()>Duplicate</button> </div> </div>'},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.repositoryModule=void 0;var angular_1=__importDefault(__webpack_require__(12)),repository_service_1=__webpack_require__(210),repository_1=__webpack_require__(959),datasource_tab_ctrl_1=__webpack_require__(434),select_source_ctrl_1=__webpack_require__(437),datasource_parameter_component_1=__webpack_require__(965),datasource_wizard_ctrl_1=__webpack_require__(285),jsonpath_help_dialog_ctrl_1=__webpack_require__(974),request_editor_ctrl_1=__webpack_require__(975),request_header_editor_component_1=__webpack_require__(976),edit_url_dialog_ctrl_1=__webpack_require__(979),resource_url_editor_component_1=__webpack_require__(980),view_json_dialog_ctrl_1=__webpack_require__(984),datasource_upsert_dialog_ctrl_1=__webpack_require__(985),swagger_schema_expander_1=__webpack_require__(986),ion_api_operation_details_ctrl_1=__webpack_require__(549),ion_api_search_wizard_ctrl_1=__webpack_require__(547),dataservice_parameters_component_1=__webpack_require__(988),dataservice_summary_datagrid_component_1=__webpack_require__(991),dataservice_wizard_ctrl_1=__webpack_require__(994),operation_details_ctrl_1=__webpack_require__(439),search_wizard_ctrl_1=__webpack_require__(998),composite_tab_ctrl_1=__webpack_require__(1e3),ido_wizard_ctrl_1=__webpack_require__(551),preview_ctrl_1=__webpack_require__(1006),ido_property_component_1=__webpack_require__(1007),ido_property_datagrid_component_1=__webpack_require__(1009),ido_tab_ctrl_1=__webpack_require__(1012),add_new_column_1=__webpack_require__(1016),dataservice_wizard_ctrl_2=__webpack_require__(1017),delete_column_1=__webpack_require__(1022),dataservice_wizard_summary_component_1=__webpack_require__(1023);exports.repositoryModule=angular_1.default.module("repositoryModule",[]),repository_service_1.RepositoryService.add(exports.repositoryModule),repository_1.RepositoryDirective.add(exports.repositoryModule),datasource_tab_ctrl_1.DatasourceTabComponent.add(exports.repositoryModule),datasource_upsert_dialog_ctrl_1.DatasourceUpsertDialogCtrl.add(exports.repositoryModule),datasource_wizard_ctrl_1.DatasourceWizardCtrl.add(exports.repositoryModule),datasource_parameter_component_1.DatasourceParameterComponent.add(exports.repositoryModule),edit_url_dialog_ctrl_1.EditUrlDialogCtrl.add(exports.repositoryModule),ion_api_search_wizard_ctrl_1.IonApiSearchCtrl.add(exports.repositoryModule),ion_api_operation_details_ctrl_1.IonApiOperationDetails.add(exports.repositoryModule),jsonpath_help_dialog_ctrl_1.JsonpathHelpDialogCtrl.add(exports.repositoryModule),request_editor_ctrl_1.RequestEditorDialogCtrl.add(exports.repositoryModule),request_header_editor_component_1.RequestHeaderEditorComponent.add(exports.repositoryModule),resource_url_editor_component_1.ResourceUrlEditorComponent.add(exports.repositoryModule),select_source_ctrl_1.SelectSourceCtrl.add(exports.repositoryModule),swagger_schema_expander_1.SwaggerSchemaExpanderComponent.add(exports.repositoryModule),view_json_dialog_ctrl_1.ViewJsonDialogCtrl.add(exports.repositoryModule),search_wizard_ctrl_1.LocalIdoSearchCtrl.add(exports.repositoryModule),operation_details_ctrl_1.LocalIdoOperationDetails.add(exports.repositoryModule),dataservice_wizard_ctrl_1.LocalIdoDataserviceWizardCtrl.add(exports.repositoryModule),dataservice_parameters_component_1.LocalIdoDataserviceParametersComponent.add(exports.repositoryModule),dataservice_summary_datagrid_component_1.LocalIdoDataserviceSummaryDatagridComponent.add(exports.repositoryModule),dataservice_wizard_ctrl_2.InlineListDataserviceWizardCtrl.add(exports.repositoryModule),add_new_column_1.AddNewColumnDialogCtrl.add(exports.repositoryModule),delete_column_1.DeleteColumnDialogCtrl.add(exports.repositoryModule),dataservice_wizard_summary_component_1.InlineListDataserviceSummaryDatagridComponent.add(exports.repositoryModule),composite_tab_ctrl_1.CompositeTabComponent.add(exports.repositoryModule),ido_tab_ctrl_1.IdoTabComponent.add(exports.repositoryModule),ido_wizard_ctrl_1.IdoWizardCtrl.add(exports.repositoryModule),ido_property_component_1.IdoPropertyComponent.add(exports.repositoryModule),ido_property_datagrid_component_1.IdoPropertyDatagridComponent.add(exports.repositoryModule),preview_ctrl_1.PreviewCtrl.add(exports.repositoryModule)},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RepositoryDirective=void 0;var RepositoryTabEnum,app_state_1=__webpack_require__(236),angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3),defines_1=__webpack_require__(16);__webpack_require__(152),function(RepositoryTabEnum){RepositoryTabEnum[RepositoryTabEnum.DATASOURCE=0]="DATASOURCE",RepositoryTabEnum[RepositoryTabEnum.COMPOSITE=1]="COMPOSITE",RepositoryTabEnum[RepositoryTabEnum.IDO=2]="IDO"}(RepositoryTabEnum||(RepositoryTabEnum={}));var RepositoryCtrl=function(){function RepositoryCtrl($state,designerService){this.$state=$state,this.designerService=designerService,this.tabEnum=RepositoryTabEnum,this.currentTab=RepositoryTabEnum.DATASOURCE,this.setCanNavigateBack(),designerService.setView(defines_1.ViewEnum.REPOSITORY)}return RepositoryCtrl.prototype.onChangeTab=function(tab){this.currentTab=tab},RepositoryCtrl.prototype.navigateBack=function(){this.canNavigateBack&&(this.fromEditor?this.$state.go(app_state_1.AppState.EDITOR.name,{id:this.designerService.getCurrentProject().getId(),reloadProject:!1}):this.$state.go(app_state_1.AppState.HOME.name))},RepositoryCtrl.prototype.setCanNavigateBack=function(){var currentView=this.designerService.getView();this.canNavigateBack=currentView===defines_1.ViewEnum.DASHBOARD||currentView===defines_1.ViewEnum.EDITOR,this.canNavigateBack&&(this.fromEditor=currentView===defines_1.ViewEnum.EDITOR)},RepositoryCtrl.$inject=[angular_constants_1.AngularConstants.STATE_SERVICE,common_constant_1.InjectNames.DESIGNER_SERVICE],RepositoryCtrl}(),RepositoryDirective=function(){function RepositoryDirective(){}return RepositoryDirective.add=function(m){m.directive("eirRepository",(function(){return{template:__webpack_require__(960),controller:RepositoryCtrl,controllerAs:"eirRepositoryCtrl"}}))},RepositoryDirective}();exports.RepositoryDirective=RepositoryDirective},function(module,exports){module.exports='<header class=header> <div class=toolbar> <div class=title> <button class="btn-icon application-menu-trigger" type=button ng-if=eirRepositoryCtrl.canNavigateBack ng-click=eirRepositoryCtrl.navigateBack()> <span class="icon app-header go-back"> <span class=one></span> <span class=two></span> <span class=three></span> </span> </button> <h1><span>App Builder Repository</span></h1> </div> </div> </header> <div id=repository-tabs class="tab-container alternate" xi-tabs> <ul class=tab-list role=tablist aria-multiselectable=false> <li class="tab is-selected"> <a href=#datasource-tab class=hyperlink ng-click=eirRepositoryCtrl.onChangeTab(eirRepositoryCtrl.tabEnum.DATASOURCE)>Data Services</a> </li> <li class=tab> <a href=#composite-tab class=hyperlink ng-click=eirRepositoryCtrl.onChangeTab(eirRepositoryCtrl.tabEnum.COMPOSITE)>Composite Components</a> </li>  <li class=tab> <a href=#ido-tab class=hyperlink ng-click=eirRepositoryCtrl.onChangeTab(eirRepositoryCtrl.tabEnum.IDO)>IDOs</a> </li> </ul> </div> <div class="maincontent scrollable"> <div id=datasource-tab class="scrollable repository-tab"> <eir-datasource-tab ng-if="eirRepositoryCtrl.currentTab === eirRepositoryCtrl.tabEnum.DATASOURCE"></eir-datasource-tab> </div> <div id=composite-tab class="scrollable repository-tab"> <eir-composite-tab ng-if="eirRepositoryCtrl.currentTab === eirRepositoryCtrl.tabEnum.COMPOSITE"></eir-composite-tab> </div> <div id=ido-tab class="scrollable repository-tab"> <eir-ido-tab ng-if="eirRepositoryCtrl.currentTab === eirRepositoryCtrl.tabEnum.IDO"></eir-ido-tab> </div> </div> '},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var angular_constants_1=__webpack_require__(7),CacheableCtrl=function(){function CacheableCtrl($cacheFactory){this.setCacheObject($cacheFactory)}return CacheableCtrl.prototype.setCacheObject=function($cacheFactory){var cacheId=this.constructor.name,cacheObject=$cacheFactory.get(cacheId);this.cacheObject=void 0===cacheObject?$cacheFactory(cacheId):cacheObject},CacheableCtrl.prototype.getFromCache=function(key){return this.cacheObject.get(key)},CacheableCtrl.prototype.saveToCache=function(key,value){this.cacheObject.put(key,value)},CacheableCtrl.$inject=[angular_constants_1.AngularConstants.CACHE_FACTORY],CacheableCtrl}();exports.CacheableCtrl=CacheableCtrl},function(module,exports){module.exports='<div class=row> <div class="twelve columns"> <div class=toolbar role=toolbar id=toolbar-dataservice xi-toolbar=\'{"maxVisibleButtons": 5}\'> <div class=title></div> <div class=buttonset> <div class="searchfield-wrapper toolbar-searchfield-wrapper"> <label class=audible for=searchfield-local-datasource>Keyword Search</label> <input id=searchfield-local-datasource name=searchfield-local-datasource class=searchfield data-options="{ collapsible: true }"/> </div> <button class="btn btn-menu" type=button xi-tooltip="\'Add Data Service\'"> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-add></use> </svg> <span>Add Data Service</span> </button> <ul class="popupmenu is-padded"> <li> <a ng-click=eirDatasourceTabCtrl.create(true)> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-magic-wand></use> </svg> <span>Create from Wizard</span> </a> </li> <li class=separator></li> <li> <a ng-click=eirDatasourceTabCtrl.import()> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-import></use> </svg> <span>Import from File</span> </a> </li> <li> <a ng-click=eirDatasourceTabCtrl.openDataserviceWizard()> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-compose></use> </svg> <span>Configure Data Service Manually</span> </a> </li> </ul> <button class=btn-tertiary type=button ng-disabled="eirDatasourceTabCtrl.selectedDataItems.length !== 1" ng-click=eirDatasourceTabCtrl.editDatasource() xi-tooltip="\'Edit Data Service\'"> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-edit></use> </svg> <span>Edit</span> </button> <button class=btn-tertiary type=button ng-disabled=!eirDatasourceTabCtrl.anySelectedDataItem ng-click=eirDatasourceTabCtrl.delete() xi-tooltip="\'Delete\'"> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-delete></use> </svg> <span>Delete</span> </button> <button class=btn type=button ng-disabled=!eirDatasourceTabCtrl.anySelectedDataItem ng-click=eirDatasourceTabCtrl.exportDatasource()> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-export></use> </svg> <span>Export to File</span> </button> </div> </div> <div id="{{ eirDatasourceTabCtrl.datagridId }}" xi-datagrid=eirDatasourceTabCtrl.datagridOptions></div> </div> </div>'},function(module,exports){module.exports='<div class=dataservice-search-wizard xi-busy=$ctrl.isBusy ng-controller="eirLocalIdoSearchCtrl as $ctrl"> <div class=search> <form ng-submit="$ctrl.searchOperations(selectedOption, query)"> <div class=compound-field> <div class=field> <label for=generic-suites class=label>Project</label> <select id=generic-suites name=generic-suites class="dropdown dropdown-sm" ng-model=selectedOption ng-options="option as option.serverName for option in $ctrl.dropdownOptions" xi-drop-down> </select> </div> <div class=field> <label for=generic-search>Search</label> <input id=generic-search class=searchfield name=generic-search placeholder="Search for something" autocomplete=off ng-model=query /> </div> <div class=field> <label for=generic-search-button></label> <button id=generic-search-button class=btn-primary type=submit name=generic-search-button>Search</button> </div> </div> </form> </div> <div class=results> <div class=list> <div class=field> <h2 class=card-title ng-show="$ctrl.operations.length > 0"> Showing {{filteredOperations.length}} results <span ng-show="$ctrl.operations.length - filteredOperations.length > 0"> ({{$ctrl.operations.length - filteredOperations.length}} hidden) </span> </h2> </div> <div id=search-result-list class=listview> <ul> <li id=list-item-{{$index}} ng-repeat="operation in $ctrl.operations | filter: methodsFilter as filteredOperations track by $index " ng-click="$ctrl.onToggleSelected(operation, $index)" class=search-li> <div class=summary> <p class=listview-heading style=width:fit-content xi-tooltip=operation.collectionName> {{operation.collectionName | limitTo: 60}} {{operation.collectionName.length > 60 ? "..." : ""}} </p> <p class=listview-subheading>{{operation.serverName}}</p> <p class=listview-micro>{{operation.collectionDesc}}</p> </div> <button class=btn ng-click=$ctrl.showOperationDetails(operation)> Details </button> </li> </ul> </div> </div> </div> <div class=modal-buttonset> <button type=button class=btn-modal ng-click=$ctrl.cancel()> Cancel </button> <button type=button class=btn-modal ng-click=$ctrl.back()> Back </button> <button type=button class=btn-modal-primary ng-click=$ctrl.runCreateNewWizard($ctrl.focusedOperation) ng-disabled="!$ctrl.focusedOperation || $ctrl.isBusy"> Next </button> </div> </div>'},function(module,exports){module.exports='<div class=dataservice-search-wizard xi-busy=$ctrl.isBusy ng-controller="eirIonApiSearchCtrl as $ctrl"> <div class=search> <form ng-submit="$ctrl.searchOperations(selectedOption, query)"> <div class=compound-field> <div class=field> <label for=generic-suites class=label>Suite</label> <select id=generic-suites name=generic-suites class="dropdown dropdown-sm" ng-model=selectedOption ng-options="option as option.name for option in $ctrl.dropdownOptions" xi-drop-down> </select> </div> <div class=field> <label for=generic-search>Search</label> <input id=generic-search class=searchfield name=generic-search placeholder="Search for something" autocomplete=off ng-model=query /> </div> <div class=field> <label for=generic-search-button></label> <button id=generic-search-button class=btn-primary type=submit name=generic-search-button>Search</button> </div> </div> </form> </div> <div class=results> <div class=filters> <div class=field> <h4>Filters</h4> </div> <div class=field ng-repeat="opt in $ctrl.filterOptions"> <input type=checkbox class=checkbox name=cb-{{opt.method}} id=cb-{{opt.method}} ng-model=opt.checked /> <label for=cb-{{opt.method}} class=checkbox-label>{{opt.displayText}}</label> </div> </div> <div class=list> <div class=field> <h2 class=card-title ng-show="$ctrl.operations.length > 0"> Showing {{filteredOperations.length}} results <span ng-show="$ctrl.operations.length - filteredOperations.length > 0"> ({{$ctrl.operations.length - filteredOperations.length}} hidden) </span> </h2> </div> <div id=search-result-list class=listview> <ul> <li id=list-item-{{$index}} ng-repeat="operation in $ctrl.operations | filter: methodsFilter as filteredOperations track by $index " ng-click="$ctrl.onToggleSelected(operation, $index)" class=search-li> <div class=summary> <p class=listview-heading style=width:fit-content xi-tooltip=operation.operationSummary> {{operation.operationSummary | limitTo: 60}} {{operation.operationSummary.length > 60 ? "..." : ""}} </p> <p class=listview-subheading xi-tooltip=operation.restPath>{{operation.restPath}}</p> <p class=listview-micro>{{operation.proxyPath}}</p> </div> <button class=btn ng-click=$ctrl.showOperationDetails(operation)> Details </button> </li> </ul> </div> </div> </div> <div class=row ng-if="$ctrl.configStep === 1"> <div class=row> <button class="btn-tertiary btn--left-float" type=button ng-click="$ctrl.configStep = 0"> <svg class=icon><use xlink:href=#icon-caret-left></use></svg> <span>Back to results</span> </button> <button class="btn-tertiary btn--right-float" type=button ng-click=$ctrl.runCreateNewWizard($ctrl.focusedOperation)> <svg class=icon><use xlink:href=#icon-add></use></svg> <span>Create Data Service</span> </button> </div> <div class="columns operation-details" ng-init="op = $ctrl.swagger.paths[$ctrl.focusedOperation.restPath][$ctrl.focusedOperation.method]"> <h1>{{$ctrl.focusedOperation.productName}}</h1> <h2>{{$ctrl.swagger.info.title}}</h2> <br/> <h2>{{op.summary}}</h2> <p>{{op.description || \'This operation has no detailed description\'}}</p> <small><strong> {{$ctrl.focusedOperation.method | uppercase}} {{$ctrl.focusedOperation.proxyPath}}{{$ctrl.focusedOperation.restPath}} </strong></small> <h2 class=fieldset-title>Input</h2> <div class=row> <div xi-datagrid=$ctrl.parameterDatagridOpts></div> </div> <h2 class=fieldset-title>Output</h2> <div class=row> <div xi-datagrid=$ctrl.responseDatagridOpts></div> </div> </div> </div> <div class=modal-buttonset> <button type=button class=btn-modal ng-click=$ctrl.cancel()> Cancel </button> <button type=button class=btn-modal ng-click=$ctrl.back()> Back </button> <button type=button class=btn-modal-primary ng-click=$ctrl.runCreateNewWizard($ctrl.focusedOperation) ng-disabled="!$ctrl.focusedOperation || $ctrl.isBusy"> Next </button> </div> </div>'},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.DatasourceParameterComponent=exports.DatasourceParameterCtrl=void 0;var jsonpath_1=__importDefault(__webpack_require__(200)),common_constant_1=__webpack_require__(3),parameter_type_enum_1=__webpack_require__(113),value_type_enum_1=__webpack_require__(26),notifiable_component_1=__webpack_require__(151),custom_formatters_1=__webpack_require__(133),datasource_wizard_ctrl_1=__webpack_require__(285),helper_1=__webpack_require__(15),datasource_wizard_helper_1=__webpack_require__(550),data_service_helper_1=__webpack_require__(231),dialog_service_1=__webpack_require__(13),DatasourceParameterCtrl=function(_super){function DatasourceParameterCtrl(dialogService){var _this=_super.call(this)||this;return _this.dialogService=dialogService,_this.ParameterTypeEnum=parameter_type_enum_1.ParameterTypeEnum,_this.invalidParameters=[],_this.requiredParameters=[],_this.matrixPath="",_this.privateErrorList=[],_this}return __extends(DatasourceParameterCtrl,_super),Object.defineProperty(DatasourceParameterCtrl.prototype,"isInput",{get:function(){return this.isInputPriv},enumerable:!1,configurable:!0}),Object.defineProperty(DatasourceParameterCtrl.prototype,"datasourceParameters",{get:function(){return this.bindingDatasourceParameters},set:function(value){this.bindingDatasourceParameters=value},enumerable:!1,configurable:!0}),Object.defineProperty(DatasourceParameterCtrl.prototype,"datasourceResourceUrl",{get:function(){return this.restPath+this.matrixPath+this.queryPath},set:function(value){var _a;_a=data_service_helper_1.DataServiceHelper.deconstructPath(value),this.restPath=_a[0],this.matrixPath=_a[1],this.queryPath=_a[2]},enumerable:!1,configurable:!0}),Object.defineProperty(DatasourceParameterCtrl.prototype,"errorList",{get:function(){var item=0!==this.privateErrorList.length;return this.wizardNextDisabled&&this.wizardNextDisabled({$item:{id:DatasourceParameterComponent.componentName,status:item}}),this.privateErrorList},set:function(value){this.privateErrorList=value},enumerable:!1,configurable:!0}),Object.defineProperty(DatasourceParameterCtrl.prototype,"isInvalid",{get:function(){var json=this.isInput?this.datasource.bodyTemplate:this.datasource.outputJson;try{return!this.datasource||(jsonpath_1.default.query(JSON.parse(json),"$"),!1)}catch(e){return!0}},enumerable:!1,configurable:!0}),DatasourceParameterCtrl.prototype.$onInit=function(){var _this=this;-1!==this.headTitle.indexOf("Input")?(this.swaggerOperation&&this.swaggerOperation.parameters&&this.swaggerOperation.parameters.forEach((function(swaggerParameter){swaggerParameter.required&&_this.bindingDatasourceParameters.forEach((function(datasourceParameter,index){"query"===swaggerParameter.in&&swaggerParameter.name===datasourceParameter.key&&(_this.requiredParameters[index]=!0)}))})),this.isInputPriv=!0,this.parameterTypes=[{name:"Path",value:parameter_type_enum_1.ParameterTypeEnum.PATH},{name:"Matrix",value:parameter_type_enum_1.ParameterTypeEnum.MATRIX},{name:"Query",value:parameter_type_enum_1.ParameterTypeEnum.QUERY},{name:"Body(jsonpath)",value:parameter_type_enum_1.ParameterTypeEnum.BODY_PART}]):this.parameterTypes=[],this.initParameterDatagrid()},DatasourceParameterCtrl.prototype.initParameterDatagrid=function(){var columns=[{width:"30%",id:"key",name:"Name",field:"key",sortable:!1},{width:"30%",id:"parameterType",name:"Type",field:"parameterType",sortable:!1,formatter:custom_formatters_1.CustomFormatters.DataSourceParameterType()},{width:"30%",id:"alias",name:"Alias",field:"alias",sortable:!1}];this.parameterDatagridOptions={columns:columns,isList:!0,selectable:!1,dataset:this.datasourceParameters,rowHeight:"short"}},DatasourceParameterCtrl.prototype.generateParameters=function(){this.isInput?this.generateInputParameters({$datasource:this.datasource}):this.generateOutputParameters({$datasource:this.datasource})},DatasourceParameterCtrl.prototype.isUrlComponent=function(type){switch(type){case parameter_type_enum_1.ParameterTypeEnum.MATRIX:case parameter_type_enum_1.ParameterTypeEnum.PATH:case parameter_type_enum_1.ParameterTypeEnum.QUERY:return!0;default:return!1}},DatasourceParameterCtrl.prototype.getParameterTypeName=function(type){var name;return this.parameterTypes.some((function(dataPair){return name=dataPair.name,dataPair.value===type})),name},DatasourceParameterCtrl.prototype.onDeleteDatasourceParameter=function(item){var _this=this,deleteParameter=function(){switch(item.parameterType){case parameter_type_enum_1.ParameterTypeEnum.PATH:_this.updateRestPath(item,!0);break;case parameter_type_enum_1.ParameterTypeEnum.MATRIX:_this.updateRestMatrixPath(item,!0);break;case parameter_type_enum_1.ParameterTypeEnum.QUERY:_this.updateRestQueryPath(item,!0);break;default:console.info("No change in REST path")}var index=_this.bindingDatasourceParameters.indexOf(item);-1!==index&&_this.bindingDatasourceParameters.splice(index,1),_this.privateErrorList=_this.privateErrorList.filter((function(error){return error.field!==item.id})),_this.wizardNextDisabled({$item:{id:DatasourceParameterComponent.componentName,status:0!==_this.privateErrorList.length}})};if(item.required)switch(this.datasourceCreateMode){case datasource_wizard_ctrl_1.DatasourceCreateModeEnum.EDIT:case datasource_wizard_ctrl_1.DatasourceCreateModeEnum.FROM_SWAGGER:this.dialogService.showYesNo("Warning","Deleting mandatory parameter may cause data service to stop working. Do you want to continue?","warning-text").then((function(result){result.button===dialog_service_1.DialogButtonType.Yes&&deleteParameter()}));break;case datasource_wizard_ctrl_1.DatasourceCreateModeEnum.FROM_SCRATCH:default:deleteParameter()}else deleteParameter()},DatasourceParameterCtrl.prototype.onAddDatasourceParameter=function(type){var newItem={id:helper_1.Helper.generateUniqueId(),key:this.getNewName(type),valueType:value_type_enum_1.ValueTypeEnum.STRING,parameterType:type,required:type===parameter_type_enum_1.ParameterTypeEnum.PATH,alias:""};switch(type){case parameter_type_enum_1.ParameterTypeEnum.PATH:var index=this.bindingDatasourceParameters.findIndex((function(item){return item.parameterType===parameter_type_enum_1.ParameterTypeEnum.QUERY}));-1!==index?this.bindingDatasourceParameters.splice(index,0,newItem):this.bindingDatasourceParameters.push(newItem),this.updateRestPath(newItem);break;case parameter_type_enum_1.ParameterTypeEnum.MATRIX:this.bindingDatasourceParameters.push(newItem),this.updateRestMatrixPath(newItem);break;case parameter_type_enum_1.ParameterTypeEnum.QUERY:this.bindingDatasourceParameters.push(newItem),this.updateRestQueryPath(newItem);break;case parameter_type_enum_1.ParameterTypeEnum.BODY_PART:case parameter_type_enum_1.ParameterTypeEnum.OUTPUT:this.bindingDatasourceParameters.push(newItem);break;default:console.warn("unknown"),this.isPathParameter=newItem.parameterType===parameter_type_enum_1.ParameterTypeEnum.PATH}},DatasourceParameterCtrl.prototype.getNextParamName=function(baseName){var elementMatch=this.bindingDatasourceParameters.filter((function(item){return item.key.match(baseName+"[0-9]+$")}));if(0===elementMatch.length)return baseName+0;var lastElement=elementMatch[elementMatch.length-1],next=parseInt(lastElement.key.match(/[0-9]+$/g).join())+1;return baseName+next},DatasourceParameterCtrl.prototype.getNewName=function(type){switch(type){case parameter_type_enum_1.ParameterTypeEnum.PATH:return this.getNextParamName("path");case parameter_type_enum_1.ParameterTypeEnum.MATRIX:return this.getNextParamName("matrix");case parameter_type_enum_1.ParameterTypeEnum.QUERY:return this.getNextParamName("query");case parameter_type_enum_1.ParameterTypeEnum.BODY_PART:return"$";case parameter_type_enum_1.ParameterTypeEnum.OUTPUT:default:return""}},DatasourceParameterCtrl.prototype.updateRestPath=function(newItem,remove){remove?this.restPath=this.restPath.replace("/"+data_service_helper_1.DataServiceHelper.getURLVariable(newItem.key,parameter_type_enum_1.ParameterTypeEnum.PATH),""):this.restPath+=(this.restPath.endsWith("/")?"":"/")+data_service_helper_1.DataServiceHelper.getURLVariable(newItem.key,parameter_type_enum_1.ParameterTypeEnum.PATH)},DatasourceParameterCtrl.prototype.updateRestMatrixPath=function(newItem,remove){remove?this.matrixPath=this.matrixPath.split(";").filter(data_service_helper_1.DataServiceHelper.emptyItem).filter((function(item){return item.split("=")[0]!==encodeURIComponent(newItem.key)})).join(";"):this.matrixPath+=";"+data_service_helper_1.DataServiceHelper.getURLVariable(newItem.key,parameter_type_enum_1.ParameterTypeEnum.MATRIX)},DatasourceParameterCtrl.prototype.updateRestQueryPath=function(newItem,remove){if(remove){var newQueryPath=this.queryPath.split("&").map((function(item){return"?"===item.charAt(0)?item.slice(1):item})).filter((function(item){return item.split("=")[0]!==encodeURIComponent(newItem.key)})).join("&");this.queryPath=""===newQueryPath?newQueryPath:"?"+newQueryPath}else this.queryPath+=(""===this.queryPath?"?":"&")+data_service_helper_1.DataServiceHelper.getURLVariable(newItem.key,parameter_type_enum_1.ParameterTypeEnum.QUERY)},DatasourceParameterCtrl.prototype.onUpdateResourceUrl=function(newItem,oldItem,index){switch(this.isInput&&0===newItem.key.length&&(newItem.key=this.getNewName(newItem.parameterType)),newItem.parameterType){case parameter_type_enum_1.ParameterTypeEnum.PATH:case parameter_type_enum_1.ParameterTypeEnum.MATRIX:case parameter_type_enum_1.ParameterTypeEnum.QUERY:this.datasourceResourceUrl=this.datasourceResourceUrl.replace(data_service_helper_1.DataServiceHelper.getURLVariable(oldItem.key,oldItem.parameterType),data_service_helper_1.DataServiceHelper.getURLVariable(newItem.key,newItem.parameterType));break;case parameter_type_enum_1.ParameterTypeEnum.OUTPUT:try{jsonpath_1.default.parse(this.outputRootElement+newItem.key);var foundMatch=jsonpath_1.default.query(JSON.parse(this.datasource.outputJson),this.outputRootElement+newItem.key);if(1!==foundMatch.length)throw new Error("No match found in Schema");newItem.dataType=datasource_wizard_helper_1.DatasourceWizardHelper.getParameterType(foundMatch[0],this.datasource.suite),this.invalidParameters[index]=!1}catch(error){this.invalidParameters[index]=!0}break;case parameter_type_enum_1.ParameterTypeEnum.BODY_PART:try{jsonpath_1.default.parse(newItem.key),this.invalidParameters[index]=!1}catch(error){this.invalidParameters[index]=!0}}this.bindingDatasourceParameters[index]=newItem},DatasourceParameterCtrl.prototype.isAliasUnique=function(alias,id){if(helper_1.Helper.isUndefinedEmpty(alias))return!0;var checkAlias=this.bindingDatasourceParameters.filter((function(parameter){return parameter.alias.toLowerCase()===alias.toLowerCase()}));return!(checkAlias.length>1)&&(1===checkAlias.length&&checkAlias[0].id===id||(1!==checkAlias.length||checkAlias[0].id===id))},DatasourceParameterCtrl.prototype.getValidation=function($data){var result;return"isAliasUnique"===$data.validator?result=this.isAliasUnique($data.value,$data.id):"isFirstCharLetter"===$data.validator&&(result=!$data.value||helper_1.Helper.isFirstCharLetter($data.value)),result},DatasourceParameterCtrl.$inject=[common_constant_1.InjectNames.DIALOG_SERVICE],DatasourceParameterCtrl}(notifiable_component_1.NotifiableComponent);exports.DatasourceParameterCtrl=DatasourceParameterCtrl;var DatasourceParameterComponent=function(){function DatasourceParameterComponent(){this.bindings={headTitle:"@",swaggerOperation:"<",datasourceParameters:"=",datasourceResourceUrl:"=?",datasourceCreateMode:"=?",wizardNextDisabled:"&?",outputRootElement:"=",showHelp:"<",generateOutputParameters:"&",generateInputParameters:"&",datasource:"<",readonly:"<"},this.controller=DatasourceParameterCtrl,this.controllerAs="ctrl",this.template=__webpack_require__(973)}return DatasourceParameterComponent.add=function(m){m.component(DatasourceParameterComponent.componentName,new DatasourceParameterComponent)},DatasourceParameterComponent.componentName="eirDatasourceParameter",DatasourceParameterComponent}();exports.DatasourceParameterComponent=DatasourceParameterComponent},function(module,exports){module.exports='<div xi-busy=wizardCtrl.isBusy> <div class=wizard> <div class=wizard-header> <div class=bar> <div class=completed-range></div> </div> </div> </div> <div class=summary-title ng-if="wizardCtrl.currentTick === wizardCtrl.getEndStep()"> <h4>Summary</h4> </div> <div class=wizard-content> <p ng-if=wizardCtrl.currentStep.userTip class="user-tip label">{{wizardCtrl.currentStep.userTip}}</p> <div class=wizard-content-wrapper ng-include src=wizardCtrl.currentStep.id></div> </div> <div class=modal-buttonset> <button type=button class=btn-modal ng-click=wizardCtrl.cancel() ng-disabled=wizardCtrl.isBusy> Cancel </button> <button type=button class=btn-modal ng-click=wizardCtrl.back() ng-disabled="wizardCtrl.isBusy || wizardCtrl.backDisabled"> Back </button> <button type=button class=btn-modal-primary ng-click=wizardCtrl.next() ng-disabled="wizardCtrl.isBusy || wizardCtrl.nextDisabled"> {{wizardCtrl.currentStep === wizardCtrl.getEndStep() ? \'Finish\' : \'Next\'}} </button> </div> </div> '},function(module,exports){module.exports=' <div class=row ng-controller="eirIonApiOperationDetails as $ctrl"> <div class="columns operation-details" ng-init="op = $ctrl.swaggerDocument.paths[$ctrl.operation.restPath][$ctrl.operation.method]"> <h1>{{$ctrl.operation.productName}}</h1> <h2>{{$ctrl.swaggerDocument.info.title}}</h2> <br/> <h2>{{op.summary}}</h2> <p>{{op.description || \'This operation has no detailed description\'}}</p> <small><strong> {{$ctrl.operation.method | uppercase}} {{$ctrl.operation.proxyPath}}{{$ctrl.operation.restPath}} </strong></small> <h2 class=fieldset-title>Input</h2> <div class="row operation-details-grid"> <div xi-datagrid=$ctrl.parameterDatagridOption></div> </div> <h2 class=fieldset-title>Output</h2> <div class="row operation-details-grid"> <div xi-datagrid=$ctrl.responseDatagridOption></div> </div> </div> </div>'},function(module,exports){module.exports='<div id=wizard-input-parameter class=container> <h2 class=fieldset-title>Basic Request Information</h2> <hr class=hr-field> <div class=field> <button type=button id=buttonViewJson class="btn-tertiary hide-focus" ng-disabled=!wizardCtrl.hasRequestBody ng-click=wizardCtrl.openInputJsonDialog()> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-info></use> </svg> <span>VIEW JSON</span> </button> </div> <div class=field ng-if=wizardCtrl.hasRequestBody> <label for=root-element>Root Element</label> <input name=root-element class=input-md value="" placeholder="Root Element" ng-model=wizardCtrl.datasource.inputRootElement ng-class="{\'error\':wizardCtrl.inputRootElementInvalid}" ng-change=wizardCtrl.onChangeInputRootElement() /> </div> <div class=field> <label>Http Method</label> <select class="dropown dropdown-md" xi-drop-down ng-model=wizardCtrl.datasource.method ng-change=wizardCtrl.onChangeRequestMethod()> <option value={{httpMethod}} ng-repeat="httpMethod in wizardCtrl.httpMethods">{{httpMethod}}</option> </select> </div> <div class=field> <eir-resource-url-editor datasource-parameters=wizardCtrl.datasource.inputParameters datasource-resource-url=wizardCtrl.datasource.resource datasource-rest-url=wizardCtrl.restUrl /> </div> <div class=field> <eir-request-header-editor headers=wizardCtrl.datasource.headers wizard-next-disabled=wizardCtrl.setNextDisabled($item)></eir-request-header-editor> </div> <eir-datasource-parameter head-title={{wizardCtrl.currentStep.title}} swagger-operation=wizardCtrl.swaggerOperation datasource-parameters=wizardCtrl.datasource.inputParameters datasource-resource-url=wizardCtrl.datasource.resource datasource-create-mode=wizardCtrl.datasourceCreateMode wizard-next-disabled=wizardCtrl.setNextDisabled($item) show-help=wizardCtrl.onOpenJsonHelp datasource=wizardCtrl.datasource output-root-element=wizardCtrl.datasource.inputRootElement generate-input-parameters=wizardCtrl.generateInputParameters($datasource)></eir-datasource-parameter> <div class="field test-button"> <button type=button ng-click=wizardCtrl.openTestDataserviceDialog() xi-tooltip="\'Test Data Service\'" xi-button class=btn-primary> <span>Test Data Service</span> </button> </div> </div> '},function(module,exports){module.exports='<div id=wizard-output-parameter class=container> <h2 class=fieldset-title>Basic Response Information</h2> <hr class=hr-field> <div class=field> <fieldset class=radio-group> <legend>Output Type</legend> <input type=radio class=radio name=options id=outputIsJson ng-value=false ng-model=wizardCtrl.datasource.isOutputFile ng-change=wizardCtrl.onChangeOutputType() /> <label for=outputIsJson class=radio-label>JSON</label> <br> <input type=radio class=radio name=options id=outputIsFile ng-value=true ng-model=wizardCtrl.datasource.isOutputFile ng-change=wizardCtrl.onChangeOutputType() /> <label for=outputIsFile class=radio-label>File</label> </fieldset> </div> <div ng-if=wizardCtrl.datasource.isOutputFile> <div class=field> <label>Response alias</label> <input name=parameterAlias ng-model=wizardCtrl.datasource.outputParameters[0].alias /> </div> </div> <div ng-if=!wizardCtrl.datasource.isOutputFile> <div class=field> <button type=button id=buttonViewJson class="btn-tertiary hide-focus" ng-click=wizardCtrl.openOutputJsonDialog()> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-info></use> </svg> <span>VIEW JSON</span> </button> </div> <div class=field> <label for=root-element>Root Element</label> <input name=root-element class=input-md value="" placeholder="Root Element" ng-class="{\'error\':wizardCtrl.outputRootElementInvalid}" ng-model=wizardCtrl.datasource.outputRootElement ng-change=wizardCtrl.onChangeOutputRootElement() /> </div> <div class=field> <div class=value-label-info> <label for=id-element>Object Id</label> <svg class=icon focusable=false aria-hidden=true role=presentation xi-tooltip="\'Add unique key, used for selecting items on refresh. (Optional)\'"> <use xlink:href=#icon-info></use> </svg> </div> <input name=id-element class=input-md ng-class="{\'error\':wizardCtrl.objectIdInvalid}" ng-model=wizardCtrl.datasource.objectIdPath ng-change=wizardCtrl.onChangeObjectIdPath() ng-model-options="{ debounce: 300 }"/> <label class="warning-text override-soho-field-short-label-path" ng-if=wizardCtrl.objectIdInvalid>JSON-path might be incorrect.</label> </div> <eir-datasource-parameter head-title={{wizardCtrl.currentStep.title}} swagger-operation=wizardCtrl.swaggerOperation datasource-parameters=wizardCtrl.datasource.outputParameters output-root-element=wizardCtrl.datasource.outputRootElement wizard-next-disabled=wizardCtrl.setNextDisabled($item) show-help=wizardCtrl.onOpenJsonHelp generate-output-parameters=wizardCtrl.generateOutputParameters($datasource) datasource=wizardCtrl.datasource class=datasourceOutputParameter></eir-datasource-parameter> <div class="field test-button"> <button class=btn-primary type=button ng-click=wizardCtrl.openTestDataserviceDialog() xi-tooltip="\'Test Data Service\'" xi-button> <span>Test Data Service</span> </button> </div> </div> </div>'},function(module,exports){module.exports='<div id=wizard-summary class="container summary-form"> <div class=row> <div class=field> <span class=label>Name</span> <span class="data summary {{wizardCtrl.datasource.displayName.length > 0 ? \'\' : \'warning-field\' }}"> {{ wizardCtrl.datasource.displayName.length > 0 ? wizardCtrl.datasource.displayName : \'Empty\' }} </span> </div> <div class=field ng-hide="!wizardCtrl.datasource.description || wizardCtrl.datasource.description.length === 0 "> <span class=label>Description</span> <span class="data summary">{{ wizardCtrl.datasource.description }}</span> </div> </div> <div class=row> <h2 class=fieldset-title>Request Information</h2> <hr class=hr-field> <div class=field> <span class=label>Http Method</span> <span class="data summary">{{ wizardCtrl.datasource.method }}</span> </div> <div class=field> <span class=label>API URL</span> <span class="data summary">{{ wizardCtrl.restUrl }}</span> </div> <div class=row> <eir-request-header-editor headers=wizardCtrl.datasource.headers readonly=true></eir-request-header-editor> </div> <div class=row> <eir-datasource-parameter head-title="Input Parameters" swagger-operation=wizardCtrl.swaggerOperation datasource-parameters=wizardCtrl.datasource.inputParameters datasource-resource-url=wizardCtrl.datasource.resource readonly=true /> </div> </div> <div class=row> <h2 class=fieldset-title>Response Information</h2> <hr class=hr-field> <div class=field ng-show=wizardCtrl.datasource.isOutputFile> <h3 class=section-title>Output is a File</h3> <label>Response alias</label> <input name=parameterAlias ng-model=wizardCtrl.datasource.outputParameters[0].alias readonly=readonly /> </div> <div ng-show=!wizardCtrl.datasource.isOutputFile> <div class=field> <span class=label>Root Element</span> <span class="data summary">{{ wizardCtrl.datasource.outputRootElement }}</span> </div> <eir-datasource-parameter head-title="Output Parameters" swagger-operation=wizardCtrl.swaggerOperation datasource-parameters=wizardCtrl.datasource.outputParameters datasource-resource-url=wizardCtrl.datasource.resource readonly=true /> </div> </div> </div> '},function(module,exports){module.exports='<div id=jsonhelp-dialog ng-controller="eirJsonpathHelpDialogCtrl as ctrl"> <table role=grid class="listview-table show-headers"> <thead> <tr> <th scope=col role=columnheader>JSONPath</th> <th scope=col role=columnheader>Description</th> </tr> </thead> <tbody> <tr> <td><code>$</code></td> <td>The root object/element</td> </tr> <tr> <td><code>@</code></td> <td>The current object/element</td> </tr> <tr> <td><code>.</code></td> <td>Child member operator</td> </tr> <tr> <td><code>..</code></td> <td>Recursive descendant operator; JSONPath borrows this syntax from E4X</td> </tr> <tr> <td><code>*</code></td> <td>Wildcard matching all objects/elements regardless their names</td> </tr> <tr> <td><code>[]</code></td> <td>Subscript operator</td> </tr> <tr> <td><code>[,]</code></td> <td>Union operator for alternate names or array indices as a set</td> </tr> <tr> <td><code>[start:end:step]</code></td> <td>Array slice operator borrowed from ES4 / Python</td> </tr> <tr> <td><code>?()</code></td> <td>Applies a filter (script) expression via static evaluation</td> </tr> <tr> <td><code>()</code></td> <td>Script expression via static evaluation</td> </tr> </tbody> </table> <div class=field> <p>More information about JSONPath in the library page at <a class="hyperlink hide-focus" href=https://github.com/dchester/jsonpath target=_blank>https://github.com/dchester/jsonpath</a> </p> </div> <div class=modal-buttonset> <button type=button class=btn-modal-primary ng-click=ctrl.close()>Close</button> </div> </div> '},function(module,exports){module.exports='<div class=view-json-dialog ng-controller="eirViewJsonDialogCtrl as $ctrl"> <div class=row> <div class="six columns"> <h1>Schema</h1> <textarea ng-model=$ctrl.schemaString ng-change="$ctrl.isModified = true; $ctrl.generateSample()" ng-class="{error: $ctrl.schemaHasError}"></textarea> </div> <div class="six columns"> <h1>{{ $ctrl.isInput ? \'Template\' : \'Json\'}}</h1> <textarea ng-model=$ctrl.sampleString ng-change="$ctrl.isModified = true; $ctrl.generateSchema()" ng-class="{error: $ctrl.sampleHasError}"></textarea> </div> </div> <div class=field> <button type=button class=btn-primary ng-if=!$ctrl.isInput ng-click=$ctrl.refreshSchema() ng-disabled=!$ctrl.resetEnabled>Reset</button> <div class=root> <label for=root-element>Root Element</label> <input name=root-element id=root class=input-md value="" placeholder="Root Element" ng-class="{\'error\':$ctrl.rootElementInvalid}" ng-model=$ctrl.root ng-change="$ctrl.onChangeRootElement(); $ctrl.isModified = true;"/> </div> <button type=button class=btn-tertiary ng-click=$ctrl.showHelp()> <span>JSON Help</span> </button> </div> <div class=modal-buttonset> <button type=button class=btn-modal ng-click=$ctrl.close()>Close</button> <button type=button class="btn-modal-primary no-validation" ng-disabled=$ctrl.saveDisabled ng-click=$ctrl.save()>Save</button> </div> </div>'},function(module,exports){module.exports='<div class=parameter-container ng-show=!ctrl.readonly> <div class=datasource-header> <h2 class=fieldset-title>{{ctrl.headTitle}}</h2> <div class=field> <button type=button class=btn-tertiary ng-click=ctrl.showHelp()> <span>JSON Help</span> </button> </div> </div> <hr class=hr-field> <div class=button-content> <div class=button-container> <button type=button class="btn-tertiary hide-focus" ng-click=ctrl.generateParameters() ng-disabled=ctrl.isInvalid> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-refresh></use> </svg> <span>GENERATE PARAMETERS</span> </button> <button type=button id=buttonAdd class=btn-menu ng-if=ctrl.isInput xi-popupmenu> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-add></use> </svg> <span>ADD</span> </button> <ul class=popupmenu ng-if=ctrl.isInput> <li ng-repeat="parameterType in ctrl.parameterTypes" ng-click=ctrl.onAddDatasourceParameter(parameterType.value)> <a>{{parameterType.name}} Parameter</a> </li> </ul> <button type=button id=buttonAdd class="btn-tertiary hide-focus" ng-click=ctrl.onAddDatasourceParameter(ctrl.ParameterTypeEnum.OUTPUT) ng-if=!ctrl.isInput> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-add></use> </svg> <span>ADD</span> </button> </div> </div> <div class="datasource-param-container field"> <div class=compound-field> <div class="field-short override-soho-field-short-label-mandatory" ng-show=ctrl.isInput> <label for=parameterMandatory>Required</label> </div> <div class=field-short ng-class="ctrl.isInput ?\r\n\t\t\t\t\t\'override-soho-field-short-is-input\' :\r\n\t\t\t\t\t\'override-soho-field-short-is-not-input\'"> <label class="" for=parameterName>Name</label> </div> <div class="field-short override-soho-field-short-label-type" ng-show=ctrl.isInput> <label class="" for=parameterType>Type</label> </div> <div class="field-short override-soho-field-short-label-alias"> <label class="" for=input-field-component>Alias (Optional)</label> </div> </div> <div class=compound-field ng-repeat="item in ctrl.bindingDatasourceParameters track by $index"> <div class="field-short override-soho-field-short-container" ng-show=ctrl.isInput> <input type=checkbox class=checkbox name=parameterMandatory-{{$index}} id=parameterMandatory-{{$index}} ng-model=item.required ng-change=ctrl.onValidateAlias() ng-disabled=ctrl.isPathParameter /> <label ng-show=ctrl.isInput for=parameterMandatory-{{$index}} class=checkbox-label></label> </div> <div class=field-short> <input name=parameterName ng-class="{\'error\':ctrl.invalidParameters[$index], \'input-mm\':ctrl.isInput, \'input-lg\':!ctrl.isInput  }" ng-model=item.key ng-change="ctrl.onUpdateResourceUrl(item, {{item}}, $index)" ng-model-options="{ updateOn: \'default\', debounce: {\'default\': 500, \'blur\': 0}}"/> <label class="warning-text override-soho-field-short-label-path" ng-if=ctrl.invalidParameters[$index]>JSON-path might be incorrect.</label> </div> <div class=field-short> <input name=parameterType class="input-xs override-soho-field-short-label-type" ng-show=ctrl.isInput ng-value=::ctrl.getParameterTypeName(item.parameterType) disabled=disabled /> </div> <div class=field-short> <eir-input-field-component id={{item.id}} field-value=item.alias field-name=parameterAlias validation="{\r\n\t\t\t\t\t\tvalidators: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype: \'custom\',\r\n\t\t\t\t\t\t\t\tcustom: {\r\n\t\t\t\t\t\t\t\t\tvalidator: \'isAliasUnique\',\r\n\t\t\t\t\t\t\t\t\terrorMessage: \'Alias has to be unique\'\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype: \'custom\',\r\n\t\t\t\t\t\t\t\tcustom: {\r\n\t\t\t\t\t\t\t\t\tvalidator: \'isFirstCharLetter\',\r\n\t\t\t\t\t\t\t\t\terrorMessage: \'First character needs to be a letter\'\r\n\t\t\t\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\terrorList: ctrl.errorList\r\n\t\t\t\t\t}" on-component-change=ctrl.notify($data) parent-announce=ctrl.parentAnnounce /> </div> <div class=field-short> <button type=button class="btn-tertiary hide-focus button-delete" ng-class="{ overrideSohoFieldShortLabelTest:($first && !ctrl.isInput) }" ng-click=ctrl.onDeleteDatasourceParameter(item)> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-delete></use> </svg> </button> </div> </div> </div> </div> <div class=field ng-show=ctrl.readonly> <span class=label>{{ctrl.headTitle}}</span> <div xi-datagrid=ctrl.parameterDatagridOptions></div> </div>'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.JsonpathHelpDialogCtrl=void 0,__webpack_require__(16),__webpack_require__(13);var JsonpathHelpDialogCtrl=function(){function JsonpathHelpDialogCtrl($scope){this.$scope=$scope,this.dialog=$scope.eirDialog}return JsonpathHelpDialogCtrl.prototype.close=function(){this.dialog.close()},JsonpathHelpDialogCtrl.add=function(m){m.controller("eirJsonpathHelpDialogCtrl",JsonpathHelpDialogCtrl)},JsonpathHelpDialogCtrl}();exports.JsonpathHelpDialogCtrl=JsonpathHelpDialogCtrl},function(module,exports,__webpack_require__){"use strict";(function($){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.RequestEditorDialogCtrl=void 0,__webpack_require__(204),__webpack_require__(23);var sohoxi_constant_1=__webpack_require__(40);__webpack_require__(77),__webpack_require__(16);var helper_1=__webpack_require__(15),dialog_service_1=__webpack_require__(13),notifiable_component_1=__webpack_require__(151),datagrid_directive_1=__webpack_require__(282),datagrid_helper_1=__webpack_require__(93),RequestEditorDialogCtrl=function(_super){function RequestEditorDialogCtrl($scope){var _this=_super.call(this)||this;return _this.errorList=[],_this.isInitialValid=!1,_this.dataset=[],_this.datagridId="requestEditorDatagrid",_this.hasError=!1,_this.editMode=!1,_this.dialog=$scope.eirDialog,_this.initDatagridOptions(),$("#request-header-datagrid").on(datagrid_directive_1.DATAGRID_RENDERED,(function(_,result){_this.datagridApi=result.api})).on("entereditmode",(function(){$scope.$applyAsync((function(){_this.editMode=!0}))})).on("exiteditmode",(function(_,args){$scope.$applyAsync((function(){_this.hasError=args.target.hasClass("error"),_this.editMode=!1})),args.value!==args.oldValue&&_this.datagridApi.validateCell(args.row,args.cell)})),_this}return __extends(RequestEditorDialogCtrl,_super),RequestEditorDialogCtrl.prototype.add=function(){this.dataset.push(this.newParameter),delete this.newParameter},RequestEditorDialogCtrl.prototype.close=function(){this.dialog.close()},RequestEditorDialogCtrl.prototype.save=function(){var result=this.dataset.map((function(item){return item.key+":"+item.value})).join("\n"),dialogResult={button:dialog_service_1.DialogButtonType.Ok,value:result};this.dialog.close(dialogResult)},RequestEditorDialogCtrl.prototype.initDatagridOptions=function(){var _this=this,columns=function(){var columns=[{id:"key",name:"Key",field:"key",width:"40%",editable:!0,formatterName:sohoxi_constant_1.FormatterEnum.Text,validate:"required"},{id:"value",name:"Value",field:"value",width:"40%",editable:!0,formatterName:sohoxi_constant_1.FormatterEnum.Text,validate:"required"},{id:"action",name:"Action",field:"",width:"20%",align:"center",formatter:Soho.Formatters.Button,text:"Remove",click:function(_,rowsSelected){1===rowsSelected.length&&(helper_1.Helper.removeItemFromListByIndex(_this.dataset,rowsSelected[0].row),_this.datagridApi.updateDataset(_this.dataset,null))}}];return columns.forEach((function(column){return datagrid_helper_1.DatagridHelper.setEditableOnColumn(column)})),columns}();this.dataset=function(){var headerObject=_this.dialog.parameter,dataset=[];for(var key in headerObject)dataset.push({key:key,value:headerObject[key]});return dataset}(),this.datagridOptions={columns:columns,dataset:this.dataset,editable:!0,id:this.datagridId}},RequestEditorDialogCtrl.prototype.notify=function($data){return-1!==$data.id.indexOf("key")?this.isInitialValid=!helper_1.Helper.isUndefinedEmpty($data.value)&&!helper_1.Helper.isUndefinedEmpty(this.newParameter.value):-1!==$data.id.indexOf("value")&&(this.isInitialValid=!helper_1.Helper.isUndefinedEmpty(this.newParameter.key)&&!helper_1.Helper.isUndefinedEmpty($data.value)),this.isInitialValid},RequestEditorDialogCtrl.add=function(m){m.controller("eirRequestEditorDialogCtrl",RequestEditorDialogCtrl)},RequestEditorDialogCtrl}(notifiable_component_1.NotifiableComponent);exports.RequestEditorDialogCtrl=RequestEditorDialogCtrl}).call(this,__webpack_require__(21))},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.RequestHeaderEditorComponent=exports.RequestHeaderEditorCtrl=void 0;var isEmpty_1=__importDefault(__webpack_require__(230)),common_constant_1=__webpack_require__(3);__webpack_require__(23);var dialog_service_1=__webpack_require__(13);__webpack_require__(94);var RequestHeaderEditorCtrl=function(){function RequestHeaderEditorCtrl(dialogService){this.dialogService=dialogService,this.errorList=[]}return Object.defineProperty(RequestHeaderEditorCtrl.prototype,"parsedHeaders",{get:function(){return this._parsedHeaders},set:function(value){this.isValid=this.isValidParsedHeaders(value),this.isValid&&!isEmpty_1.default(value)&&(this.headers=value.split("\n").reduce((function(output,keyValuePair){var indexOfFirstColon=keyValuePair.indexOf(":");if(-1!==indexOfFirstColon){var key=keyValuePair.substring(0,indexOfFirstColon),value_1=keyValuePair.substring(indexOfFirstColon+1);output[key]=value_1}else output[keyValuePair]="";return output}),{})),isEmpty_1.default(value)&&!isEmpty_1.default(this.headers)&&(this.headers={}),this._parsedHeaders=value},enumerable:!1,configurable:!0}),RequestHeaderEditorCtrl.prototype.$onInit=function(){this.parseHeader()},RequestHeaderEditorCtrl.prototype.parseHeader=function(){this.parsedHeaders=JSON.stringify(this.headers).slice(1).slice(0,-1).split(",").map((function(keyValue){return keyValue.replace(/\"/g,"")})).join("\n")},RequestHeaderEditorCtrl.prototype.isValidParsedHeaders=function(value){var validHeaderRequestRow=/.+:{1}.+[\n]?/,isNextDisabled={$item:{id:RequestHeaderEditorComponent.componentName}},hasInvalid=!1;return hasInvalid=-1!==value.indexOf("\n")?value.split("\n").some((function(keyValuePair){return!validHeaderRequestRow.test(keyValuePair)})):!isEmpty_1.default(value)&&!validHeaderRequestRow.test(value),isNextDisabled.$item.status=hasInvalid,this.wizardNextDisabled&&this.wizardNextDisabled(isNextDisabled),!isNextDisabled.$item.status},RequestHeaderEditorCtrl.prototype.onEdit=function(){var _this=this,dialogOptions={title:"Request Header Editor",template:__webpack_require__(977),parameter:this.headers};this.dialogService.show(dialogOptions).then((function(dialogResult){dialogResult.button===dialog_service_1.DialogButtonType.Ok&&(_this.parsedHeaders=dialogResult.value,_this.headers=JSON.parse(_this.parsedHeaders))}))},RequestHeaderEditorCtrl.$inject=[common_constant_1.InjectNames.DIALOG_SERVICE],RequestHeaderEditorCtrl}();exports.RequestHeaderEditorCtrl=RequestHeaderEditorCtrl;var RequestHeaderEditorComponent=function(){function RequestHeaderEditorComponent(){this.controller=RequestHeaderEditorCtrl,this.controllerAs="$ctrl",this.template=__webpack_require__(978),this.bindings={headers:"=",wizardNextDisabled:"&?",readonly:"<?"}}return RequestHeaderEditorComponent.add=function(m){m.component(RequestHeaderEditorComponent.componentName,new RequestHeaderEditorComponent)},RequestHeaderEditorComponent.componentName="eirRequestHeaderEditor",RequestHeaderEditorComponent.componentRoot="designer/repository/datasource/create-wizard/request-header-editor/",RequestHeaderEditorComponent}();exports.RequestHeaderEditorComponent=RequestHeaderEditorComponent},function(module,exports){module.exports='<div id=request-editor-dialog ng-controller="eirRequestEditorDialogCtrl as ctrl"> <div class=row> <div class="five columns"> <eir-input-field-component id=key-field label-name=Key field-value=ctrl.newParameter.key validation="{\r\n\t\t\t\t\tvalidators: [\r\n\t\t\t\t\t\t{type: \'not-empty\'},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttype: \'custom\',\r\n\t\t\t\t\t\t\tcustom: {\r\n\t\t\t\t\t\t\t\tvalidator: \'void\'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\terrorList: ctrl.errorList\r\n\t\t\t\t}" on-component-change=ctrl.notify($data) parent-announce=ctrl.parentAnnounce /> </div> <div class="five columns"> <eir-input-field-component id=value-field label-name=Value field-value=ctrl.newParameter.value validation="{\r\n\t\t\t\t\tvalidators: [\r\n\t\t\t\t\t\t{type: \'not-empty\'},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttype: \'custom\',\r\n\t\t\t\t\t\t\tcustom: {\r\n\t\t\t\t\t\t\t\tvalidator: \'void\'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\terrorList: ctrl.errorList\r\n\t\t\t\t}" on-component-change=ctrl.notify($data) parent-announce=ctrl.parentAnnounce /> </div> <div class="two columns"> <label></label> <button class=btn-icon ng-click=ctrl.add() ng-disabled="!ctrl.isInitialValid || ctrl.errorList.length !== 0" xi-tooltip="\'Add Header Parameter\'"> <svg class=icon focusable=false> <use xlink:href=#icon-add></use> </svg> <span class=audible>Add</span> </button> </div> </div> <div class=row> <div class="full column"> <div id=request-header-datagrid xi-datagrid=ctrl.datagridOptions></div> </div> </div> <div class=modal-buttonset> <button type=button ng-click=ctrl.close()> Cancel </button> <button type=button class=btn-modal-primary ng-click=ctrl.save() ng-disabled="ctrl.editMode || ctrl.hasError"> OK </button> </div> </div>'},function(module,exports){module.exports='<label>Request Header</label> <div class="six columns"> <eir-textarea-field-component field-value=$ctrl.parsedHeaders readonly=$ctrl.readonly validation="{\r\n\t\t\tvalidators: [{\r\n\t\t\t\ttype: \'custom\',\r\n\t\t\t\tcustom: {\r\n\t\t\t\t\tvalidator: $ctrl.isValidObject,\r\n\t\t\t\t\terrorMessage: \'Needs to be a valid JSON\'\r\n\t\t\t\t}\r\n\r\n\t\t\t}],\r\n\t\t\terrorList: $ctrl.errorList\r\n\t\t}"></eir-textarea-field-component> </div> <div class="two columns" ng-if=!$ctrl.readonly> <button type=button class=btn-icon ng-click=$ctrl.onEdit() ng-disabled=!$ctrl.isValid> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-edit></use> </svg> </button> </div> '},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EditUrlDialogCtrl=void 0;var angular_constants_1=__webpack_require__(7),data_service_helper_1=__webpack_require__(231),dialog_service_1=__webpack_require__(13),EditUrlDialogCtrl=function(){function EditUrlDialogCtrl($scope){this.errorList=[],this.dialog=$scope.eirDialog}return Object.defineProperty(EditUrlDialogCtrl.prototype,"resourceUrl",{get:function(){return this.dialog.parameter.resource},set:function(value){this.dialog.parameter.resource=value},enumerable:!1,configurable:!0}),Object.defineProperty(EditUrlDialogCtrl.prototype,"IsInvalid",{get:function(){return 0!==this.errorList.length},enumerable:!1,configurable:!0}),EditUrlDialogCtrl.prototype.cancel=function(){this.dialog.close()},EditUrlDialogCtrl.prototype.ok=function(){this.dialog.close({value:this.resourceUrl,button:dialog_service_1.DialogButtonType.Ok})},EditUrlDialogCtrl.prototype.validate=function(value){return data_service_helper_1.DataServiceHelper.validate(value)},EditUrlDialogCtrl.add=function(m){m.controller("eirEditUrlDialogCtrl",EditUrlDialogCtrl)},EditUrlDialogCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE],EditUrlDialogCtrl}();exports.EditUrlDialogCtrl=EditUrlDialogCtrl},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ResourceUrlEditorComponent=void 0;var resource_url_editor_ctrl_1=__webpack_require__(981),ResourceUrlEditorComponent=function(){function ResourceUrlEditorComponent(){this.bindings={datasourceParameters:"=",datasourceResourceUrl:"=",datasourceRestUrl:"<"},this.controller=resource_url_editor_ctrl_1.ResourceUrlEditorCtrl,this.controllerAs="ctrl",this.template=__webpack_require__(983)}return ResourceUrlEditorComponent.add=function(m){m.component("eirResourceUrlEditor",new ResourceUrlEditorComponent)},ResourceUrlEditorComponent}();exports.ResourceUrlEditorComponent=ResourceUrlEditorComponent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ResourceUrlEditorCtrl=void 0;var common_constant_1=__webpack_require__(3),parameter_type_enum_1=__webpack_require__(113),dialog_service_1=__webpack_require__(13),data_service_helper_1=__webpack_require__(231),helper_1=__webpack_require__(15),ResourceUrlEditorCtrl=function(){function ResourceUrlEditorCtrl(dialogService){this.dialogService=dialogService,this.htmlEncode=helper_1.Helper.htmlEncode}return Object.defineProperty(ResourceUrlEditorCtrl.prototype,"datasourceParameters",{get:function(){return this.bindingDatasourceParameters},set:function(value){this.bindingDatasourceParameters=value},enumerable:!1,configurable:!0}),ResourceUrlEditorCtrl.prototype.onEditDatasourceUrl=function(){var _this=this,options={title:"Edit Relative URL",template:__webpack_require__(982),parameter:{resource:this.datasourceResourceUrl}};this.dialogService.show(options).then((function(result){if(result.button===dialog_service_1.DialogButtonType.Ok){_this.datasourceResourceUrl=result.value;var newParameters=data_service_helper_1.DataServiceHelper.parse(result.value),resultParameters_1=[];newParameters.forEach((function(newParameter){var existingIndex=_this.bindingDatasourceParameters.findIndex((function(existingParameter){return existingParameter.key===newParameter.key&&existingParameter.parameterType===newParameter.parameterType}));-1!==existingIndex?resultParameters_1.push(_this.bindingDatasourceParameters[existingIndex]):resultParameters_1.push(newParameter)})),_this.bindingDatasourceParameters.forEach((function(existingParameter,index,existingParameters){existingParameter.parameterType===parameter_type_enum_1.ParameterTypeEnum.BODY_PART&&resultParameters_1.push(existingParameter)})),_this.bindingDatasourceParameters=resultParameters_1}}))},ResourceUrlEditorCtrl.$inject=[common_constant_1.InjectNames.DIALOG_SERVICE],ResourceUrlEditorCtrl}();exports.ResourceUrlEditorCtrl=ResourceUrlEditorCtrl},function(module,exports){module.exports='<div id=edit-dialog ng-controller="eirEditUrlDialogCtrl as ctrl"> <div class=warning-label> <span class=data>Please note that changing URL will also change the input parameters</span> </div> <div class=field> <eir-input-field-component class=input-field-component label-name="API Relative URL" field-value=ctrl.resourceUrl validation="{\r\n\t\t\t\tvalidators: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype: \'custom\',\r\n\t\t\t\t\t\tcustom: {\r\n\t\t\t\t\t\t\tvalidator: ctrl.validate,\r\n\t\t\t\t\t\t\terrorMessage: \'Invalid URL\'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\terrorList: ctrl.errorList\r\n\t\t\t}"/> </div> <div class=modal-buttonset> <button type=button class=btn-modal ng-click=ctrl.cancel()>Cancel</button> <button type=button class=btn-modal-primary ng-click=ctrl.ok() ng-disabled=ctrl.IsInvalid>OK</button> </div> </div>'},function(module,exports){module.exports='<label for=relative-url>API Relative URL</label> <div class=content> <div class=input-container> <input name=relative-url class="input-full {{ctrl.error ? \'required error\' : \'\'}}" readonly=readonly xi-tooltip=ctrl.htmlEncode(ctrl.datasourceResourceUrl) ng-model=ctrl.datasourceResourceUrl ng-blur=ctrl.validate() /> <label class="data sub-label">{{ ctrl.datasourceRestUrl }}</label> </div> <button type=button id=button-edit class="btn-tertiary hide-focus" ng-click=ctrl.onEditDatasourceUrl()> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-edit></use> </svg> </button> </div> '},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ViewJsonDialogCtrl=void 0,__webpack_require__(200);var angular_constants_1=__webpack_require__(7),dialog_service_1=__webpack_require__(13),common_constant_1=__webpack_require__(3),json_helper_1=__webpack_require__(271),ViewJsonDialogCtrl=function(){function ViewJsonDialogCtrl($scope,dialogService){this.$scope=$scope,this.dialogService=dialogService,this.schemaString="",this.sampleString="",this.resetEnabled=!1,this.rootElementInvalid=!1;var parameters=$scope.eirDialog.parameter,schema=parameters.isInput?parameters.dataservice.inputSchema:parameters.dataservice.outputSchema;this.originalSchema=parameters.dataservice.originalSchema;var json=parameters.isInput?parameters.dataservice.bodyTemplate:parameters.dataservice.outputJson;this.root=parameters.isInput?parameters.dataservice.inputRootElement:parameters.dataservice.outputRootElement,this.showHelp=parameters.showHelp,this.isInput=parameters.isInput,this.originalSchema&&(this.resetEnabled=!0),schema?(this.schemaString=JSON.stringify(schema,null,"  "),json?this.sampleString=json:this.generateSample()):json&&(this.sampleString=json,this.generateSchema())}return Object.defineProperty(ViewJsonDialogCtrl.prototype,"saveDisabled",{get:function(){return!this.isModified||this.schemaHasError||this.sampleHasError||this.rootElementInvalid},enumerable:!1,configurable:!0}),ViewJsonDialogCtrl.prototype.generateSample=function(){try{if(this.schemaString){var parsedSchema=JSON.parse(this.schemaString),sample=json_helper_1.JsonHelper.generateSample(parsedSchema);this.sampleString=JSON.stringify(sample,null,"  "),this.schemaHasError=!1,this.sampleHasError=!1,this.sampleError=""}}catch(error){console.warn("Schema has error:",error),this.schemaHasError=!0,error instanceof Error?this.sampleError=error.message.split("<br/>").join(""):this.sampleError="Ops, something went wrong. See Console for details."}},ViewJsonDialogCtrl.prototype.generateSchema=function(){try{var parsedSample=JSON.parse(this.sampleString),schema=json_helper_1.JsonHelper.generateSchema(parsedSample);this.schemaString=JSON.stringify(schema,null,"  "),this.sampleHasError=!1,this.schemaHasError=!1}catch(error){console.warn("Sample has error:",error),this.sampleHasError=!0}},ViewJsonDialogCtrl.prototype.onChangeRootElement=function(){this.rootElementInvalid=json_helper_1.JsonHelper.isInvalidJsonPath(this.root)},ViewJsonDialogCtrl.prototype.save=function(){this.$scope.eirDialog.close({button:dialog_service_1.DialogButtonType.Ok,value:{json:this.sampleString,schema:json_helper_1.JsonHelper.generateSchema(JSON.parse(this.sampleString)),root:this.root}})},ViewJsonDialogCtrl.prototype.refreshSchema=function(){var _this=this;this.dialogService.showYesNo("Warning","All user changes will be discarded, continue?","warning-text").then((function(result){result.button===dialog_service_1.DialogButtonType.Yes&&(_this.schemaString=JSON.stringify(_this.originalSchema,null,"  "),_this.isModified=!0,_this.generateSample(),_this.generateSchema())}))},ViewJsonDialogCtrl.prototype.close=function(){this.$scope.eirDialog.close({button:dialog_service_1.DialogButtonType.Cancel,value:null})},ViewJsonDialogCtrl.add=function(m){m.controller("eirViewJsonDialogCtrl",ViewJsonDialogCtrl)},ViewJsonDialogCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,common_constant_1.InjectNames.DIALOG_SERVICE],ViewJsonDialogCtrl}();exports.ViewJsonDialogCtrl=ViewJsonDialogCtrl},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DatasourceUpsertDialogCtrl=void 0,__webpack_require__(114);var common_constant_1=__webpack_require__(3),datasource_type_enum_1=__webpack_require__(57),http_verb_enum_1=__webpack_require__(131);__webpack_require__(41);var angular_constants_1=__webpack_require__(7);__webpack_require__(16),__webpack_require__(280);var dialog_service_1=__webpack_require__(13);__webpack_require__(209),__webpack_require__(152),__webpack_require__(434);var DatasourceUpsertDialogCtrl=function(){function DatasourceUpsertDialogCtrl(scope,dialogService,datasourceService,designerService){this.scope=scope,this.dialogService=dialogService,this.datasourceService=datasourceService,this.designerService=designerService,this.validForm=!1,this.datasourceTypeEnum=datasource_type_enum_1.DatasourceTypeEnum,this.dialog=scope.eirDialog;var parameter=this.dialog.parameter;parameter.isEdit?(this.buttonTitle="Save",this.datasource=parameter.datasource,this.validForm=!0,this.datasourceType=common_constant_1.availableDatasourceTypes[this.datasource.typedef].name):(this.buttonTitle="Create",this.datasource={typedef:null,id:"",displayName:"",version:1}),this.datasources=parameter.datasources}return DatasourceUpsertDialogCtrl.prototype.close=function(){this.dialog.close()},DatasourceUpsertDialogCtrl.prototype.saveable=function(){var _this=this;return this.dialog.parameter.isEdit&&(this.datasources=this.datasources.filter((function(datasource){return datasource.id!==_this.datasource.id}))),!this.hasNameConflict(this.datasources,this.datasource.displayName)},DatasourceUpsertDialogCtrl.prototype.hasNameConflict=function(datasources,displayName){return datasources.some((function(datasource){return datasource.displayName.toLowerCase()===displayName.toLowerCase()}))},DatasourceUpsertDialogCtrl.prototype.showErrorDialog=function(message){this.dialogService.showMessage({title:"Operation Failed",message:message,standardButtons:dialog_service_1.StandardDialogButtons.Ok,isError:!0})},DatasourceUpsertDialogCtrl.prototype.removeDisabledFields=function(){var datasource=this.datasource,method=datasource.method;return method!==http_verb_enum_1.HttpVerbEnum.GET&&method!==http_verb_enum_1.HttpVerbEnum.HEAD||delete datasource.bodyParameters,datasource.isOutputFile&&delete datasource.outputParameters,datasource},DatasourceUpsertDialogCtrl.prototype.upsertDatasource=function(){var newDatasource=this.datasource;this.datasource.typedef===datasource_type_enum_1.DatasourceTypeEnum.generic&&(newDatasource=this.removeDisabledFields()),this.saveable()&&this.dialog.close({button:dialog_service_1.DialogButtonType.Ok,value:newDatasource})},DatasourceUpsertDialogCtrl.add=function(m){m.controller("eirDatasourceUpsertDialogCtrl",DatasourceUpsertDialogCtrl)},DatasourceUpsertDialogCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,common_constant_1.InjectNames.DIALOG_SERVICE,common_constant_1.InjectNames.DATASOURCE_SERVICE,common_constant_1.InjectNames.DESIGNER_SERVICE],DatasourceUpsertDialogCtrl}();exports.DatasourceUpsertDialogCtrl=DatasourceUpsertDialogCtrl},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SwaggerSchemaExpanderComponent=void 0;var common_constant_1=__webpack_require__(3);__webpack_require__(23),__webpack_require__(202);var SwaggerSchemaExpanderComponent=function(){function SwaggerSchemaExpanderComponent(){this.depth=0,this.expanded=!1}return SwaggerSchemaExpanderComponent.prototype.getIndentationStyle=function(){return{"margin-left":this.depth*common_constant_1.Numbers.TWENTY+"px"}},SwaggerSchemaExpanderComponent.prototype.getExpandedStyle=function(){return{"margin-left":(this.expanded?this.depth*common_constant_1.Numbers.TWENTY:0)+"px"}},SwaggerSchemaExpanderComponent.prototype.toggleExpanded=function(){this.expanded=!this.expanded},SwaggerSchemaExpanderComponent.prototype.schemaIsObject=function(){return!!this.schema&&("object"===this.schema.type||void 0!==this.schema.properties)},SwaggerSchemaExpanderComponent.prototype.schemaIsArray=function(){return!!this.schema&&("array"===this.schema.type||void 0!==this.schema.items)},SwaggerSchemaExpanderComponent.prototype.schemaIsPrimitive=function(){if(this.schema){var isNumber="number"===this.schema.type,isBoolean="boolean"===this.schema.type,isString="string"===this.schema.type,isInteger="integer"===this.schema.type,isNull="null"===this.schema.type;return isNumber||isBoolean||isString||isInteger||isNull}return!1},SwaggerSchemaExpanderComponent.add=function(m){m.component("swaggerSchemaExpander",{template:__webpack_require__(987),controller:SwaggerSchemaExpanderComponent,bindings:{schemaName:"=",schema:"=",depth:"="}})},SwaggerSchemaExpanderComponent}();exports.SwaggerSchemaExpanderComponent=SwaggerSchemaExpanderComponent},function(module,exports){module.exports='<span ng-switch=$ctrl.schema.type ng-style=$ctrl.getIndentationStyle()> <span ng-if=$ctrl.schemaIsObject()> <span ng-click=$ctrl.toggleExpanded() style=cursor:pointer>{{$ctrl.schemaName}}: Object{</span> <span ng-show=$ctrl.expanded> <br/> <swagger-schema-expander ng-repeat="(schemaName, childSchema) in $ctrl.schema.properties" schema=childSchema schema-name=schemaName depth=$ctrl.depth+1></swagger-schema-expander> </span> <span ng-style=$ctrl.getExpandedStyle()>}</span> </span> <span ng-if=$ctrl.schemaIsArray()> <span ng-click=$ctrl.toggleExpanded() style=cursor:pointer>{{$ctrl.schemaName}}: Array[</span> <span ng-show=$ctrl.expanded> <br/> <swagger-schema-expander schema=$ctrl.schema.items depth=$ctrl.depth+1></swagger-schema-expander> </span> <span ng-style=$ctrl.getExpandedStyle()>]</span> </span> <span ng-if=$ctrl.schemaIsPrimitive()> {{$ctrl.schemaName}}: {{$ctrl.schema.type}} <span ng-show=$ctrl.schema.description> - {{$ctrl.schema.description}}</span> </span> <br/> </span>'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LocalIdoDataserviceParametersComponent=void 0,__webpack_require__(23);var dataservice_parameters_ctrl_1=__webpack_require__(989),LocalIdoDataserviceParametersComponent=function(){function LocalIdoDataserviceParametersComponent(){this.bindings={headTitle:"@",idoProperties:"<",dataserviceParameters:"=",wizardNextDisabled:"=",errorList:"=",setRequiredParameters:"<?",setPrimaryParameters:"<?",createParameterObject:"&"},this.controller=dataservice_parameters_ctrl_1.LocalIdoDataserviceParametersCtrl,this.controllerAs="ctrl",this.template=__webpack_require__(990)}return LocalIdoDataserviceParametersComponent.add=function(m){m.component("eirLocalIdoDataserviceParameters",new LocalIdoDataserviceParametersComponent)},LocalIdoDataserviceParametersComponent}();exports.LocalIdoDataserviceParametersComponent=LocalIdoDataserviceParametersComponent},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.LocalIdoDataserviceParametersCtrl=void 0;var angular_1=__importDefault(__webpack_require__(12)),angular_constants_1=__webpack_require__(7),helper_1=__webpack_require__(15),notifiable_component_1=__webpack_require__(151),custom_formatters_1=__webpack_require__(133),common_constant_1=__webpack_require__(3),sohoxi_constant_1=__webpack_require__(40),LocalIdoDataserviceParametersCtrl=function(_super){function LocalIdoDataserviceParametersCtrl($scope,$element,$timeout){var _this=_super.call(this)||this;return _this.$scope=$scope,_this.$element=$element,_this.$timeout=$timeout,_this.errorList=[],_this}return __extends(LocalIdoDataserviceParametersCtrl,_super),LocalIdoDataserviceParametersCtrl.prototype.$onInit=function(){this.initParameterDatagrid(),this.initDatagridEvent()},LocalIdoDataserviceParametersCtrl.prototype.initDatagridEvent=function(){var _this=this;this.$element.on("rendered",(function(event,element){_this.initDatagridSelectedEvent(element),_this.$timeout((function(){_this.datagridApi=element.data("datagrid"),_this.dataserviceParameters.length>0&&_this.setSelectedRows()}),common_constant_1.Numbers.HUNDRED)}))},LocalIdoDataserviceParametersCtrl.prototype.setSelectedRows=function(){var _this=this,rowsToSelect=[];this.datagridApi&&(this.dataserviceParameters.forEach((function(parameter){rowsToSelect=_this.addToSelect(rowsToSelect,parameter.key)})),this.datagridApi.selectRows(rowsToSelect))},LocalIdoDataserviceParametersCtrl.prototype.addToSelect=function(list,propertyName){return list.concat(this.datagridApi.findRowsByValue("propertyName",propertyName))},LocalIdoDataserviceParametersCtrl.prototype.initDatagridSelectedEvent=function(element){var _this=this;element.on("selected",(function(event,selectedDatagridItems){_this.$scope.$applyAsync((function(){_this.onSelectedEvent(selectedDatagridItems)}))}))},LocalIdoDataserviceParametersCtrl.prototype.onSelectedEvent=function(selectedDatagridItems){var newDataserviceParameters=this.getSelectedDataserviceParameters(selectedDatagridItems),addedDataserviceParameters=this.dataserviceParameters;newDataserviceParameters.forEach((function(newDataserviceParameter,index,array){var parameter=addedDataserviceParameters.find((function(addedOutputParameter){return addedOutputParameter.key===newDataserviceParameter.key}));parameter&&(array[index].alias=parameter.alias)})),this.dataserviceParameters=newDataserviceParameters},LocalIdoDataserviceParametersCtrl.prototype.isAliasUnique=function(alias,id){if(helper_1.Helper.isUndefinedEmpty(alias))return this.wizardNextDisabled=!1,!0;var checkAlias=this.dataserviceParameters.filter((function(parameter){return parameter.alias===alias}));return checkAlias.length>1?(this.wizardNextDisabled=!0,!1):1===checkAlias.length&&checkAlias[0].id===id?(this.wizardNextDisabled=!1,!0):1===checkAlias.length&&checkAlias[0].id!==id?(this.wizardNextDisabled=!0,!1):(this.wizardNextDisabled=!1,!0)},LocalIdoDataserviceParametersCtrl.prototype.getSelectedDataserviceParameters=function(selectedDatagridItems){var _this=this,dataserviceParameters=[];return selectedDatagridItems.forEach((function(item){dataserviceParameters.push(_this.createParameterObject({$item:item}))})),dataserviceParameters},LocalIdoDataserviceParametersCtrl.prototype.initParameterDatagrid=function(){var requiredFirst,_this=this,columns=[{id:"selectionCheckbox",sortable:!1,resizable:!1,width:50,formatter:Soho.Formatters.SelectionCheckbox,align:"center"},{id:"propertyName",name:"Property Name",field:"propertyName",sortable:!0,width:200,formatter:Soho.Formatters.Ellipsis},{id:"dataType",name:"Data Type",field:"dataType",width:200,sortable:!0},{id:"dataLength",name:"Length",field:"dataLength",sortable:!0,width:200}];this.setRequiredParameters&&(columns=columns.concat([{id:"isReadOnly",name:"Read Only",field:"isReadOnly",sortable:!0,width:"21%",formatter:custom_formatters_1.CustomFormatters.RequiredFormatter("isReadOnly")},{id:"isRequired",name:"Required",field:"isRequired",sortable:!0,width:"21%",formatter:custom_formatters_1.CustomFormatters.RequiredFormatter("isRequired")}])),this.setPrimaryParameters&&(columns=columns.concat([{id:"keySequence",name:"Primary Key",field:"keySequence",sortable:!0,width:"21%",formatter:custom_formatters_1.CustomFormatters.RequiredFormatter("keySequence",!0)}])),"Filter Properties"===this.headTitle&&(this.idoProperties=this.idoProperties.filter((function(idoProperty){return idoProperty.propertyName!==common_constant_1.IdoProperties.ITEM_ID}))),requiredFirst=this.setPrimaryParameters?angular_1.default.copy(this.idoProperties).sort((function(x,y){return x.keySequence>0?-1:y.keySequence>0?1:0})):helper_1.Helper.sortObjectByProperty(angular_1.default.copy(this.idoProperties),"isRequired",!0),this.datagridOptions={columns:columns,dataset:requiredFirst,indeterminate:!0,isList:!1,saveColumns:!1,enableTooltips:!0,selectable:!this.setPrimaryParameters&&sohoxi_constant_1.SelectableEnum.Multiple,rowHeight:"short",isRowDisabled:function(idx,item){return _this.setRequiredParameters&&item.isRequired||_this.setPrimaryParameters&&item.keySequence>0?item._selected=!0:item._selected=!1,item._selected}}},LocalIdoDataserviceParametersCtrl.prototype.getValidation=function($data){var result;return"isAliasUnique"===$data.validator?result=this.isAliasUnique($data.value,$data.id):"isFirstCharLetter"===$data.validator&&(result=!$data.value||helper_1.Helper.isFirstCharLetter($data.value)),result},LocalIdoDataserviceParametersCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,angular_constants_1.AngularConstants.ELEMENT,angular_constants_1.AngularConstants.TIMEOUT],LocalIdoDataserviceParametersCtrl}(notifiable_component_1.NotifiableComponent);exports.LocalIdoDataserviceParametersCtrl=LocalIdoDataserviceParametersCtrl},function(module,exports){module.exports='<div class="field local-ido-parameter-field"> <div id=localIdoProperties xi-datagrid=ctrl.datagridOptions> </div> </div> <hr class=hr-field> <div ng-show="ctrl.dataserviceParameters.length !== 0"> <div class=compound-field> <h3 class=fieldset-title>Included {{ ctrl.headTitle }} </h3></div> <div class="local-ido-parameter-field field"> <div class=compound-field> <div class=field-short> <label class="" for=parameterName>Name</label> </div> <div class=field-short> <label class="" for=parameterType>Type</label> </div> <div class=field-short> <label class="" for=input-field-component>Alias (Optional)</label> </div> </div> <div class=compound-field ng-repeat="item in ctrl.dataserviceParameters track by item.id"> <div class=field-short> <input name=parameterName ng-value=item.key readonly=readonly /> </div> <div class=field-short> <input name=parameterType class="input-xs override-soho-field-short-label-type" ng-value=item.dataType readonly=readonly /> </div> <div class=field-short> <eir-input-field-component id={{item.id}} field-value=item.alias field-name=parameterAlias validation="{\r\n\t\t\t\t\t\tvalidators: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype: \'custom\',\r\n\t\t\t\t\t\t\t\tcustom: {\r\n\t\t\t\t\t\t\t\t\tvalidator: \'isAliasUnique\',\r\n\t\t\t\t\t\t\t\t\terrorMessage: \'Alias has to be unique\'\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype: \'custom\',\r\n\t\t\t\t\t\t\t\tcustom: {\r\n\t\t\t\t\t\t\t\t\tvalidator: \'isFirstCharLetter\',\r\n\t\t\t\t\t\t\t\t\terrorMessage: \'First character needs to be a letter\'\r\n\t\t\t\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\terrorList: ctrl.errorList\r\n\t\t\t\t\t}" on-component-change=ctrl.notify($data) parent-announce=ctrl.parentAnnounce /> </div> </div> <hr class=hr-field> </div> </div> '},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LocalIdoDataserviceSummaryDatagridComponent=void 0;var dataservice_summary_datagrid_ctrl_1=__webpack_require__(992),LocalIdoDataserviceSummaryDatagridComponent=function(){function LocalIdoDataserviceSummaryDatagridComponent(){this.bindings={headTitle:"@",dataset:"<",datagridOptions:"<?"},this.controller=dataservice_summary_datagrid_ctrl_1.LocalIdoDataserviceSummaryDatagridCtrl,this.controllerAs="ctrl",this.template=__webpack_require__(993)}return LocalIdoDataserviceSummaryDatagridComponent.add=function(m){m.component("eirLocalIdoDataserviceSummaryDatagridComponent",new LocalIdoDataserviceSummaryDatagridComponent)},LocalIdoDataserviceSummaryDatagridComponent}();exports.LocalIdoDataserviceSummaryDatagridComponent=LocalIdoDataserviceSummaryDatagridComponent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LocalIdoDataserviceSummaryDatagridCtrl=void 0;var custom_formatters_1=__webpack_require__(133),LocalIdoDataserviceSummaryDatagridCtrl=function(){function LocalIdoDataserviceSummaryDatagridCtrl(){}return LocalIdoDataserviceSummaryDatagridCtrl.prototype.$onInit=function(){this.initDatagridOptions()},LocalIdoDataserviceSummaryDatagridCtrl.prototype.initDatagridOptions=function(){var columns=[{width:"30%",id:"key",name:"Name",field:"key",sortable:!1},{width:"30%",id:"parameterType",name:"Type",field:"parameterType",sortable:!1,formatter:custom_formatters_1.CustomFormatters.DataSourceParameterType()},{width:"30%",id:"alias",name:"Alias",field:"alias",sortable:!1}];this.datagridOptions={columns:columns,isList:!0,selectable:!1,dataset:this.dataset,rowHeight:"short"}},LocalIdoDataserviceSummaryDatagridCtrl}();exports.LocalIdoDataserviceSummaryDatagridCtrl=LocalIdoDataserviceSummaryDatagridCtrl},function(module,exports){module.exports="<div class=field> <span class=label>{{ ctrl.headTitle }}</span> <div xi-datagrid=ctrl.datagridOptions></div> </div>"},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.LocalIdoDataserviceWizardCtrl=void 0;var angular_1=__importDefault(__webpack_require__(12)),angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3),datasource_type_enum_1=__webpack_require__(57),parameter_type_enum_1=__webpack_require__(113),value_type_enum_1=__webpack_require__(26);__webpack_require__(41),__webpack_require__(201);var http_verb_enum_1=__webpack_require__(131);__webpack_require__(16);var test_dataservice_dialog_1=__webpack_require__(281);__webpack_require__(93);var wizard_ctrl_1=__webpack_require__(211),select_source_ctrl_1=__webpack_require__(437);__webpack_require__(439);var helper_1=__webpack_require__(15);__webpack_require__(13),__webpack_require__(80),__webpack_require__(167);var IdoOperations=function(){function IdoOperations(){}return IdoOperations.LOAD="Load Collection",IdoOperations.UPDATE="Update Row",IdoOperations.INSERT="Insert Row",IdoOperations.DELETE="Delete Row",IdoOperations}(),LocalIdoDataserviceWizardCtrl=function(_super){function LocalIdoDataserviceWizardCtrl($scope,$element,$templateCache,featureService,localIdoService,dialogService){var _this=_super.call(this,$scope,$element,$templateCache,featureService)||this;_this.localIdoService=localIdoService,_this.dialogService=dialogService,_this.operationList=[IdoOperations.LOAD,IdoOperations.UPDATE,IdoOperations.INSERT,IdoOperations.DELETE],_this.recordCapOptions=[{name:"Use Default",id:"0",limit:200},{name:"Retrieve All",id:"1",limit:-1},{name:"Use Specified Max",id:"2"}],_this.DEFAULT_ORDER="Default Order",_this.steps=[{id:"dataservice-wizard-operation.html",title:"Operation",userTip:"",template:__webpack_require__(995)},{id:"dataservice-wizard-parameters.html",title:"Parameters",userTip:"",template:__webpack_require__(996)},{id:"datasource-wizard-description.html",title:"Name &amp; Description",userTip:"",template:__webpack_require__(438)},{id:"dataservice-wizard-summary.html",title:"Summary",userTip:"",template:__webpack_require__(997)}],_this.initWizard(),_this.nextDisabled=!1;var eirDialog=$scope.eirDialog;return eirDialog.parameter.datasource?(_this.datasource=eirDialog.parameter.datasource,_this.initEditDataServiceDialog()):_this.idoCollection?(_this.selectedOperation=_this.operationList[0],_this.selectedRecordCapOption="0",_this.datasource={displayName:_this.idoCollection.collectionName,method:http_verb_enum_1.HttpVerbEnum.GET,resource:_this.idoCollection.collectionName,typedef:datasource_type_enum_1.DatasourceTypeEnum.IDO,endpoint:"",suite:select_source_ctrl_1.SourceEnum.LOCAL_IDO,version:2,outputParameters:[],inputParameters:[],orderBy:_this.DEFAULT_ORDER,recordCap:_this.recordCapOptions[0]},_this.loadIdoCollectionProperties()):console.info("Create from scratch"),_this}return __extends(LocalIdoDataserviceWizardCtrl,_super),Object.defineProperty(LocalIdoDataserviceWizardCtrl.prototype,"idoCollection",{get:function(){return this.$scope.eirDialog.parameter.operation},enumerable:!1,configurable:!0}),Object.defineProperty(LocalIdoDataserviceWizardCtrl.prototype,"LocalIdoOperation",{get:function(){switch(this.datasource.method){case http_verb_enum_1.HttpVerbEnum.GET:return this.operationList[0];case http_verb_enum_1.HttpVerbEnum.PUT:return this.operationList[1];case http_verb_enum_1.HttpVerbEnum.POST:return this.operationList[2];default:case http_verb_enum_1.HttpVerbEnum.DELETE:return this.operationList[3]}},enumerable:!1,configurable:!0}),LocalIdoDataserviceWizardCtrl.prototype.loadIdoCollectionProperties=function(){var _this=this;this.localIdoService.getIdoProperties(this.datasource.resource).then((function(properties){return _this.idoProperties=angular_1.default.copy(properties),properties})).then((function(properties){_this.idoPropertyOptions=properties.map((function(property){return property.propertyName})),_this.idoPropertyOptions.unshift(_this.DEFAULT_ORDER)})).then((function(){_this.addItemID()}))},LocalIdoDataserviceWizardCtrl.prototype.initEditDataServiceDialog=function(){this.loadIdoCollectionProperties();var recordCap=this.datasource.recordCap;this.selectedRecordCapOption=recordCap?recordCap.id:this.recordCapOptions[0].id,this.setIdoOperation()},LocalIdoDataserviceWizardCtrl.prototype.setIdoOperation=function(){switch(this.datasource.method){case http_verb_enum_1.HttpVerbEnum.GET:this.selectedOperation=this.operationList[0];break;case http_verb_enum_1.HttpVerbEnum.PUT:this.selectedOperation=this.operationList[1];break;case http_verb_enum_1.HttpVerbEnum.POST:this.selectedOperation=this.operationList[2];break;case http_verb_enum_1.HttpVerbEnum.DELETE:default:this.selectedOperation=this.operationList[3]}this.previousMethod=this.datasource.method},LocalIdoDataserviceWizardCtrl.prototype.addItemID=function(){var hasItemID=-1!==this.idoProperties.findIndex((function(property){return property.propertyName===common_constant_1.IdoProperties.ITEM_ID})),hasRowPointer=-1!==this.idoProperties.findIndex((function(property){return property.propertyName===common_constant_1.IdoProperties.ROW_POINTER}));this.datasource.method!==http_verb_enum_1.HttpVerbEnum.POST&&!hasItemID&&hasRowPointer?this.idoProperties.unshift({propertyName:common_constant_1.IdoProperties.ITEM_ID,propertyType:"string",columnName:common_constant_1.IdoProperties.ITEM_ID,isReadOnly:!0,isRequired:!0,dataType:"string",keySequence:99}):this.datasource.method===http_verb_enum_1.HttpVerbEnum.POST&&(this.idoProperties=this.idoProperties.filter((function(property){return property.propertyName!==common_constant_1.IdoProperties.ITEM_ID})))},LocalIdoDataserviceWizardCtrl.prototype.onChangeCurrentStep=function(){this.currentShownIdName&&this.onToggleParameterSetting(this.currentShownIdName),helper_1.Helper.isUndefined(this.previousMethod)||this.previousMethod===this.datasource.method||(this.datasource.inputParameters.length=0),this.previousMethod=this.datasource.method},LocalIdoDataserviceWizardCtrl.prototype.getFinishParameter=function(){var method=this.datasource.method;return method===http_verb_enum_1.HttpVerbEnum.PUT&&(this.datasource.outputParameters=this.datasource.inputParameters),method===http_verb_enum_1.HttpVerbEnum.PUT||method===http_verb_enum_1.HttpVerbEnum.POST?this.addRequiredParameters():method===http_verb_enum_1.HttpVerbEnum.DELETE&&this.addPrimaryParameters(),this.datasource},LocalIdoDataserviceWizardCtrl.prototype.addRequiredParameters=function(dataservice){var _this=this,localIdoDataservice=dataservice||this.datasource;this.idoProperties.forEach((function(property){if(property.isRequired){var datagridItem={data:property};localIdoDataservice.inputParameters.push(_this.createParameterObject(datagridItem))}}))},LocalIdoDataserviceWizardCtrl.prototype.addPrimaryParameters=function(dataservice){var _this=this,localIdoDataservice=dataservice||this.datasource;this.idoProperties.forEach((function(property){if(property.keySequence>0){var datagridItem={data:property};localIdoDataservice.inputParameters.push(_this.createParameterObject(datagridItem))}}))},LocalIdoDataserviceWizardCtrl.prototype.createParameterObject=function(item){var existingParameter=(this.datasource.method!==http_verb_enum_1.HttpVerbEnum.GET?this.datasource.inputParameters:this.datasource.outputParameters).find((function(param){return param.key===item.data.propertyName}));return{id:existingParameter?existingParameter.id:helper_1.Helper.generateUniqueId(),key:item.data.propertyName,valueType:this.getValueType(item.data.dataType),dataType:item.data.dataType,parameterType:parameter_type_enum_1.ParameterTypeEnum.QUERY,required:item.data.isRequired,alias:""}},LocalIdoDataserviceWizardCtrl.prototype.getValueType=function(datatype){switch(datatype){case"Date":return value_type_enum_1.ValueTypeEnum.DATE;case"String":case"GUID":return value_type_enum_1.ValueTypeEnum.STRING;case"Long Integer":case"Byte":default:return value_type_enum_1.ValueTypeEnum.NUMBER}},LocalIdoDataserviceWizardCtrl.prototype.onOperationChange=function(){switch(this.selectedOperation){case IdoOperations.LOAD:this.datasource.method=http_verb_enum_1.HttpVerbEnum.GET;break;case IdoOperations.INSERT:this.datasource.method=http_verb_enum_1.HttpVerbEnum.POST;break;case IdoOperations.UPDATE:this.datasource.method=http_verb_enum_1.HttpVerbEnum.PUT;break;case IdoOperations.DELETE:default:this.datasource.method=http_verb_enum_1.HttpVerbEnum.DELETE}this.addItemID()},LocalIdoDataserviceWizardCtrl.prototype.onRecordCapChange=function(){var optionId=parseInt(this.selectedRecordCapOption);this.datasource.recordCap=this.recordCapOptions[optionId]},LocalIdoDataserviceWizardCtrl.prototype.onToggleParameterSetting=function(idName){helper_1.Helper.isUndefinedOrNull(this.currentShownIdName)?(this.toggleParameterSettings(idName),this.currentShownIdName=idName):this.currentShownIdName===idName?(this.toggleParameterSettings(idName),this.currentShownIdName=void 0):this.currentShownIdName!==idName&&(this.toggleParameterSettings(this.currentShownIdName),this.toggleParameterSettings(idName),this.currentShownIdName=idName)},LocalIdoDataserviceWizardCtrl.prototype.toggleParameterSettings=function(idName){var eirLocalIdoDataserviceElement=this.$element.find("#"+idName+" > eir-local-ido-dataservice-parameters");(eirLocalIdoDataserviceElement=eirLocalIdoDataserviceElement.length?eirLocalIdoDataserviceElement:this.$element.find("#"+idName+" > #local-ido-settings")).slideToggle();var textElement=this.$element.find("#"+idName+" a"),text=textElement.text().trim();textElement.text("Show more"===text?"Show less":"Show more")},LocalIdoDataserviceWizardCtrl.prototype.openTestDataserviceDialog=function(){var preliminaryDataservice=angular_1.default.copy(this.datasource);this.selectedOperation!==IdoOperations.LOAD&&this.addRequiredParameters(preliminaryDataservice),preliminaryDataservice.isTestIDO=!0;var options={title:"Test Data Service",template:__webpack_require__(327),parameter:{dataservice:preliminaryDataservice,type:this.getTestDialogType()}};return this.dialogService.show(options)},LocalIdoDataserviceWizardCtrl.prototype.getTestDialogType=function(){switch(this.steps.indexOf(this.currentStep)){case 0:test_dataservice_dialog_1.TestDataserviceDialogType.UNFORMATTED;break;case 1:test_dataservice_dialog_1.TestDataserviceDialogType.FORMATTED;break;default:test_dataservice_dialog_1.TestDataserviceDialogType.UNFORMATTED}return test_dataservice_dialog_1.TestDataserviceDialogType.UNFORMATTED},LocalIdoDataserviceWizardCtrl.add=function(module){module.controller("eirLocalIdoDataserviceWizardCtrl",LocalIdoDataserviceWizardCtrl)},LocalIdoDataserviceWizardCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,angular_constants_1.AngularConstants.ELEMENT,angular_constants_1.AngularConstants.TEMPLATE_CACHE,common_constant_1.InjectNames.FEATURE_SWITCH_SERVICE,common_constant_1.InjectNames.LOCAL_IDO_SERVICE,common_constant_1.InjectNames.DIALOG_SERVICE],LocalIdoDataserviceWizardCtrl}(wizard_ctrl_1.WizardCtrl);exports.LocalIdoDataserviceWizardCtrl=LocalIdoDataserviceWizardCtrl},function(module,exports){module.exports='<div class=container> <div class=field> <label for=local-ido-operation class=fieldset-title> Choose the collection operation that you want to configure </label> <select id=local-ido-operation class=dropdown ng-model=wizardCtrl.selectedOperation ng-change=wizardCtrl.onOperationChange(option) ng-options="option for option in wizardCtrl.operationList" xi-drop-down="{ placeholder: \'\' }"> </select> </div> </div>'},function(module,exports){module.exports='<div class="container local-ido-dataservice-wizard-parameters"> <div ng-if="wizardCtrl.datasource.method === \'GET\'"> <div class="row row-divider" id=parameter-settings-one> <h2 class=fieldset-title ng-click="wizardCtrl.onToggleParameterSetting(\'parameter-settings-one\')">Output Properties</h2> <eir-local-ido-dataservice-parameters head-title="Output Properties" dataservice-parameters=wizardCtrl.datasource.outputParameters wizard-next-disabled=wizardCtrl.nextDisabled ido-properties=wizardCtrl.idoProperties error-list=wizardCtrl.ErrorList set-required-parameters=wizardCtrl.itemIdChecked create-parameter-object=wizardCtrl.createParameterObject($item)> </eir-local-ido-dataservice-parameters> <div class="field-short show-less-more" ng-click="wizardCtrl.onToggleParameterSetting(\'parameter-settings-one\')"> <a href=# onclick=return!1 class=hyperlink>Show more</a> </div> </div> <hr class=hr-field> </div> <div class="row row-divider" id=parameter-settings-two> <h2 class=fieldset-title ng-click="wizardCtrl.onToggleParameterSetting(\'parameter-settings-two\')">{{ wizardCtrl.datasource.method === "GET" ? "Filter Properties" : "Input Properties" }}</h2> <eir-local-ido-dataservice-parameters head-title="{{ wizardCtrl.datasource.method !== \'GET\' ? \'Input Properties\' : \'Filter Properties\' }}" dataservice-parameters=wizardCtrl.datasource.inputParameters wizard-next-disabled=wizardCtrl.nextDisabled ido-properties=wizardCtrl.idoProperties error-list=wizardCtrl.ErrorList set-required-parameters="wizardCtrl.datasource.method == \'PUT\' || wizardCtrl.datasource.method == \'POST\'" set-primary-parameters="wizardCtrl.datasource.method == \'DELETE\'" create-parameter-object=wizardCtrl.createParameterObject($item)> </eir-local-ido-dataservice-parameters> <div class=field-short ng-click="wizardCtrl.onToggleParameterSetting(\'parameter-settings-two\')"> <a href=# onclick=return!1 class=hyperlink>Show more</a> </div> </div> <hr class=hr-field> <div ng-if="wizardCtrl.datasource.method === \'GET\'"> <div class="row row-divider" id=parameter-settings-three> <h2 class=fieldset-title ng-click="wizardCtrl.onToggleParameterSetting(\'parameter-settings-three\')">IDO Settings</h2> <div id=local-ido-settings class=content> <div class=field> <label for=local-ido-orderby>Data Record Cap</label> <fieldset class=radio-group> <div ng-repeat="item in wizardCtrl.recordCapOptions track by item.id"> <input type=radio class=radio name=record-cap-option id={{item.id}} value={{item.id}} ng-model=wizardCtrl.selectedRecordCapOption ng-change=wizardCtrl.onRecordCapChange()> <label for={{item.id}} class=radio-label>{{ item.name }}</label> </div> </fieldset> </div> <div class=field> <eir-input-field-component label-name="Record Cap" field-value=wizardCtrl.datasource.recordCap.limit validation="{\r\n\t\t\t\t\t\t\tvalidators: [\r\n\t\t\t\t\t\t\t\t{ type: \'numeric\' },\r\n\t\t\t\t\t\t\t\t{ type: \'not-empty\' }\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\terrorList: wizardCtrl.ErrorList\r\n\t\t\t\t\t\t}" readonly="wizardCtrl.datasource.recordCap.id !== \'2\'"/> </div> <div class=field> <label for=local-ido-orderby>Default Order By</label> <select id=local-ido-operation class=dropdown ng-model=wizardCtrl.datasource.orderBy ng-options="option for option in wizardCtrl.idoPropertyOptions" xi-drop-down="{ placeholder: \'\' }"> </select> </div> </div> <div class=field-short ng-click="wizardCtrl.onToggleParameterSetting(\'parameter-settings-three\')"> <a href=# onclick=return!1 class=hyperlink>Show more</a> </div> </div> <hr class=hr-field> </div> <div class=field> <div class=field-button> <button class=btn-primary type=button ng-click=wizardCtrl.openTestDataserviceDialog() ng-disabled=wizardCtrl.nextDisabled xi-tooltip="\'Test Data Service\'"> <span>Test Data Service</span> </button> </div> </div> </div>'},function(module,exports){module.exports='<div class=container> <div class=row> <h2 class=fieldset-title>Local IDO Setup Summary</h2> <hr class=hr-field> </div> <div class=row> <div class=field> <span class=label>Name</span> <span class="data summary {{wizardCtrl.datasource.displayName.length > 0 ? \'\' : \'warning-field\' }}"> {{ wizardCtrl.datasource.displayName.length > 0 ? wizardCtrl.datasource.displayName : \'Empty\' }} </span> </div> <div class=field ng-hide="!wizardCtrl.datasource.description || wizardCtrl.datasource.description.length === 0 "> <span class=label>Description</span> <span class="data summary">{{ wizardCtrl.datasource.description }}</span> </div> </div> <div class=row> <div class=field> <span class=label>Operation</span> <span class="data summary">{{ wizardCtrl.LocalIdoOperation }}</span> </div> <eir-local-ido-dataservice-summary-datagrid-component ng-if=wizardCtrl.datasource.outputParameters.length head-title="Included Output Parameters" dataset=wizardCtrl.datasource.outputParameters> </eir-local-ido-dataservice-summary-datagrid-component> <eir-local-ido-dataservice-summary-datagrid-component ng-if=wizardCtrl.datasource.inputParameters.length head-title="Included Filter Parameters" dataset=wizardCtrl.datasource.inputParameters> </eir-local-ido-dataservice-summary-datagrid-component> </div> <div class=row> <div class=field ng-if=wizardCtrl.datasource.orderBy.length> <span class=label>Order By</span> <span class="data summary">{{ wizardCtrl.datasource.orderBy }}</span> </div> <div class=field ng-if=wizardCtrl.datasource.recordCap.length> <span class=label>Record Cap</span> <span class="data summary">{{ wizardCtrl.datasource.recordCap }}</span> </div> </div> </div> '},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.LocalIdoSearchCtrl=void 0;var common_constant_1=__webpack_require__(3);__webpack_require__(41);var angular_constants_1=__webpack_require__(7);__webpack_require__(51);var dialog_service_1=__webpack_require__(13);__webpack_require__(167);var base_search_ctrl_1=__webpack_require__(548);__webpack_require__(439);var LocalIdoSearchCtrl=function(_super){function LocalIdoSearchCtrl($scope,$element,$cacheFactory,dialogService,localIdoService){var _this=_super.call(this,$scope,$element,$cacheFactory,dialogService,localIdoService)||this;return _this.filterOptions=[],_this}return __extends(LocalIdoSearchCtrl,_super),LocalIdoSearchCtrl.prototype.setDropdownOptions=function(){var _this=this;this.metadataService.getIdoProjectList().then((function(response){_this.dropdownOptions=response,_this.dropdownOptions.unshift({serverName:"All",serverDesc:void 0,accessAs:void 0}),_this.$scope.selectedOption=_this.dropdownOptions[0]}))},LocalIdoSearchCtrl.prototype.getListItems=function(selectedOption,query){var projectName=void 0;return selectedOption&&selectedOption.serverName&&(projectName="All"!==selectedOption.serverName?selectedOption.serverName:void 0),this.metadataService.getIdoCollectionList(projectName,query,this.pageNo)},LocalIdoSearchCtrl.prototype.showOperationDetails=function(operation){var _this=this,openDialog=function(properties){var options={title:"IDO details",cssClass:"operation-details",template:__webpack_require__(999),buttons:[{text:"Close",click:function(event,modal){return modal.close}}],id:"dataservice-search-wizard",parameter:{operation:operation,properties:properties}};_this.$scope.eirDialog.hide(),_this.dialogService.show(options).then((function(){_this.$scope.eirDialog.show()}))},cachedOperationProperties=this.cacheObject.get(operation.collectionName);cachedOperationProperties?openDialog(cachedOperationProperties):(this.isBusy=!0,this.metadataService.getIdoProperties(operation.collectionName).then((function(properties){_this.cacheObject.put(operation.collectionName,properties),openDialog(properties)})).finally((function(){return _this.isBusy=!1})))},LocalIdoSearchCtrl.prototype.runCreateNewWizard=function(operation){var _this=this,openDialog=function(properties){var options={title:"Create Data Service",parameter:{operation:operation,properties:properties},template:"<eir-wizard ng-controller='eirLocalIdoDataserviceWizardCtrl as wizardCtrl'></eir-wizard>",cssClass:"wizard-dialog large",id:"datasource-wizard"};_this.$scope.eirDialog.hide(),_this.dialogService.show(options).then((function(result){result.button===dialog_service_1.DialogButtonType.Ok?_this.$scope.eirDialog.close(result):_this.$scope.eirDialog.show()}))},properties=this.cacheObject.get(operation.collectionName);properties?openDialog(properties):(this.isBusy=!0,this.metadataService.getIdoProperties(operation.collectionName).then((function(properties){_this.cacheObject.put(operation.collectionName,properties),openDialog(properties)})).catch((function(errorResponse){_this.showError(errorResponse)})).finally((function(){_this.isBusy=!1})))},LocalIdoSearchCtrl.prototype.showError=function(error){console.error(error)},LocalIdoSearchCtrl.add=function(module){module.controller("eirLocalIdoSearchCtrl",LocalIdoSearchCtrl)},LocalIdoSearchCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,angular_constants_1.AngularConstants.ELEMENT,angular_constants_1.AngularConstants.CACHE_FACTORY,common_constant_1.InjectNames.DIALOG_SERVICE,common_constant_1.InjectNames.LOCAL_IDO_SERVICE],LocalIdoSearchCtrl}(base_search_ctrl_1.BaseSearchCtrl);exports.LocalIdoSearchCtrl=LocalIdoSearchCtrl},function(module,exports){module.exports=' <div class=row ng-controller="eirLocalIdoOperationDetails as $ctrl"> <div class="columns operation-details"> <h1>{{$ctrl.operation.collectionName}}</h1> <p>{{$ctrl.operation.collectionDesc || \'This IDO has no detailed description\'}}</p> <h2 class=fieldset-title>Input</h2> <div class="row operation-details-grid"> <div xi-datagrid=$ctrl.parameterDatagridOptions></div> </div> </div> </div>'},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.CompositeTabComponent=exports.CompositeTabCtrl=void 0;var angular_constants_1=__webpack_require__(7),isNil_1=__importDefault(__webpack_require__(164)),common_constant_1=__webpack_require__(3),sohoxi_constant_1=__webpack_require__(40),dialog_service_1=__webpack_require__(13),CompositeTabCtrl=function(_super){function CompositeTabCtrl($scope,$element,$cacheFactory,repositoryService,dialogService,conflictResolutionService){var _this=_super.call(this,$scope,$element,$cacheFactory,repositoryService)||this;return _this.dialogService=dialogService,_this.conflictResolutionService=conflictResolutionService,_this.anySelectedDataItem=!1,_this.selectedDataItems=[],_this.datagridId="composite-grid",_this.importActionTitle="Import Composite Components",_this.CACHE_KEY="compositeComponents",_this}return __extends(CompositeTabCtrl,_super),Object.defineProperty(CompositeTabCtrl.prototype,"Dataset",{set:function(value){this.dataset=value,this.saveToCache(this.CACHE_KEY,value)},enumerable:!1,configurable:!0}),CompositeTabCtrl.prototype.initDatagridOptions=function(){var columns=[];this.dataset=[],columns.push({id:"selectionCheckbox",sortable:!1,resizable:!1,formatter:Soho.Formatters.SelectionCheckbox,align:"center"}),columns.push({id:"displayName",name:"Name",field:"manifest.displayName",sortable:!0,width:"350px",formatter:Soho.Formatters.Ellipsis}),columns.push({id:"author",name:"Author",field:"manifest.authorDisplayName",sortable:!0,width:"350px",formatter:Soho.Formatters.Ellipsis}),columns.push({id:"date",name:"Created",field:"manifest.creationDate",sortable:!0,formatter:Soho.Formatters.Date}),columns.push({id:"datasources",name:"Data Services",field:"datasources.length",sortable:!0,width:"150px",formatter:Soho.Formatters.Integer}),columns.push({id:"interactions",name:"Interactions",field:"interactions.length",width:"150px",sortable:!0,formatter:Soho.Formatters.Integer}),columns.push({id:"expressions",name:"Expressions",field:"expressions.length",width:"150px",sortable:!0,formatter:Soho.Formatters.Integer}),this.datagridOptions={columns:columns,dataset:[],selectable:sohoxi_constant_1.SelectableEnum.Multiple,paging:!0,pagesize:25,toolbar:{title:"Global Composite Components",results:!0,dateFilter:!1,keywordFilter:!0,advancedFilter:!0,actions:!0,views:!0,rowHeight:!0},enableTooltips:!0},this.loadCompositeComponents()},CompositeTabCtrl.prototype.loadCompositeComponents=function(){var _this=this,cachedDataset=this.getFromCache(this.CACHE_KEY);isNil_1.default(cachedDataset)?(this.loading=!0,this.repositoryService.loadCompositeComponents().then((function(compositeComponents){_this.Dataset=_this.datagridOptions.dataset=compositeComponents})).catch((function(errorResponse){_this.datagridOptions.dataset=[],_this.dialogService.showError("Load Composite Components",errorResponse.message)})).finally((function(){_this.loading=!1}))):(this.datagridOptions.dataset=cachedDataset,this.clearSelected())},CompositeTabCtrl.prototype.importComposites=function(compositeComponentsToImport){var _this=this;this.conflictResolutionService.resolve(compositeComponentsToImport,this.datagridOptions.dataset,"manifest.displayName","Composite component",common_constant_1.Config.MAX_COMPOSITES).then((function(conflictResolutionObject){var compositesToAdd=conflictResolutionObject.toAdd,idsToDelete=conflictResolutionObject.toRemove.map((function(compositeToDelete){return compositeToDelete.manifest.id}));idsToDelete.length>0?_this.deleteComposites(idsToDelete).then((function(){return _this.addComposites(compositesToAdd)})).catch((function(errorResponse){console.warn("[CompositeTabCtrl] Could not replace, unable to remove old CompositeComponents"),_this.loading=!1,_this.dialogService.showError(_this.importActionTitle,"Unable to replace old composites: <br >"+errorResponse.message)})):_this.addComposites(compositesToAdd)})).catch((function(){console.warn("[CompositeTabCtrl] Cancelled"),_this.loading=!1}))},CompositeTabCtrl.prototype.addComposites=function(composites){var _this=this;this.repositoryService.addCompositeComponents(composites).then((function(addedCompositeComponents){_this.conflictResolutionService.checkIfInvalidImportedItems("composite(s)",addedCompositeComponents).catch((function(errorDialogOptions){return _this.dialogService.showMessage(errorDialogOptions)}));for(var _i=0,addedCompositeComponents_1=addedCompositeComponents;_i<addedCompositeComponents_1.length;_i++){var composite=addedCompositeComponents_1[_i];composite&&_this.datagridOptions.dataset.unshift(composite)}_this.Dataset=_this.datagridOptions.dataset,_this.clearSelected()})).catch((function(errorResponse){_this.dialogService.showError(_this.importActionTitle,"Unable to import composite components due to: \n"+errorResponse.message)})).finally((function(){_this.loading=!1}))},CompositeTabCtrl.prototype.validate=function(compositeComponentsToValidate){return!0},CompositeTabCtrl.prototype.import=function(){var _this=this,options={title:this.importActionTitle,template:__webpack_require__(436)};this.dialogService.show(options).then((function(result){result.button===dialog_service_1.DialogButtonType.Ok&&(_this.loading=!0,_this.repositoryService.readJsonFile(result.value[0]).then((function(compositeComponentsToImport){_this.validate(compositeComponentsToImport)?_this.importComposites(compositeComponentsToImport):_this.dialogService.showError(_this.importActionTitle,"Failed to validate CompositeComponents")})).catch((function(errorResponse){console.warn("[CompositeTabCtrl] Could not read file"),_this.dialogService.showError(_this.importActionTitle,"Unable to read file due to: <br >"+errorResponse.message)})).finally((function(){_this.loading=!1})))}))},CompositeTabCtrl.prototype.delete=function(){var _this=this,displayNames=[],idsToDelete=this.selectedDataItems.map((function(composite){return displayNames.push(composite.manifest.displayName),composite.manifest.id})),options={title:"Delete Composite Components",message:"Are you sure you want to delete these "+displayNames.length+"Composite Components?<br > "+displayNames.join(", "),standardButtons:dialog_service_1.StandardDialogButtons.YesNo};this.dialogService.showMessage(options).then((function(result){result.button===dialog_service_1.DialogButtonType.Yes&&(_this.loading=!0,_this.deleteComposites(idsToDelete).catch((function(errorResponse){_this.dialogService.showError("Delete Composite Components","Unable to delete due to:<br >"+errorResponse.message)})).finally((function(){_this.loading=!1})))}))},CompositeTabCtrl.prototype.deleteComposites=function(ids){var _this=this;return this.repositoryService.deleteCompositeComponents(ids).then((function(){_this.Dataset=_this.datagridOptions.dataset=_this.datagridOptions.dataset.filter((function(composite){return!ids.some((function(deletedId){return deletedId===composite.manifest.id}))})),_this.clearSelected()}))},CompositeTabCtrl.prototype.export=function(){var ids=this.selectedDataItems.map((function(composite){return composite.manifest.id}));this.repositoryService.exportCompositeComponents(ids)},CompositeTabCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,angular_constants_1.AngularConstants.ELEMENT,angular_constants_1.AngularConstants.CACHE_FACTORY,common_constant_1.InjectNames.REPOSITORY_SERVICE,common_constant_1.InjectNames.DIALOG_SERVICE,common_constant_1.InjectNames.CONFLICT_RESOLUTION_SERVICE],CompositeTabCtrl}(__webpack_require__(435).RepositoryTab);exports.CompositeTabCtrl=CompositeTabCtrl;var CompositeTabComponent=function(){function CompositeTabComponent(){this.controller=CompositeTabCtrl,this.controllerAs="eirCompositeTabCtrl",this.template=__webpack_require__(1001)}return CompositeTabComponent.add=function(m){m.component("eirCompositeTab",new CompositeTabComponent)},CompositeTabComponent}();exports.CompositeTabComponent=CompositeTabComponent},function(module,exports){module.exports='<div class=row xi-busy=eirCompositeTabCtrl.loading> <div class="twelve columns"> <div class=toolbar role=toolbar id=toolbar-composite xi-toolbar=\'{"maxVisibleButtons": 4}\'> <div class=title></div> <div class=buttonset> <div class="searchfield-wrapper toolbar-searchfield-wrapper"> <label class=audible for=searchfield-composite>Keyword Search</label> <input id=searchfield-composite name=searchfield-composite class=searchfield data-options=\'{ "collapsible": true }\'/> </div> <button class=btn type=button ng-disabled=!eirCompositeTabCtrl.anySelectedDataItem ng-click=eirCompositeTabCtrl.delete() xi-tooltip="\'Delete Composite Component\'"> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-delete></use> </svg> <span>Delete</span> </button> <button class=btn type=button ng-click=eirCompositeTabCtrl.import() xi-tooltip="\'Import Composite Component\'"> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-import></use> </svg> <span>Import from File</span> </button> <button class=btn type=button ng-disabled=!eirCompositeTabCtrl.anySelectedDataItem ng-click=eirCompositeTabCtrl.export()> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-export></use> </svg> <span>Export to File</span> </button> </div> </div> <div id="{{ eirCompositeTabCtrl.datagridId }}" xi-datagrid=eirCompositeTabCtrl.datagridOptions></div> </div> </div>'},function(module,exports){module.exports="<div class=step-one> <div class=field> <eir-input-field-component label-name=Name field-value=wizardCtrl.collection.name validation=\"{\r\n\t\t\t\tvalidators: [\r\n\t\t\t\t\t{type: 'max-length', value: 128},\r\n\t\t\t\t\t{type: 'not-empty'},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype: 'custom',\r\n\t\t\t\t\t\tcustom: {\r\n\t\t\t\t\t\t\tvalidator: 'isValidName',\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype: 'custom',\r\n\t\t\t\t\t\tcustom: {\r\n\t\t\t\t\t\t\tvalidator: 'isUniqueName',\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\terrorList: wizardCtrl.ErrorList\r\n\t\t\t}\" on-component-change=wizardCtrl.notify($data) parent-announce=wizardCtrl.parentAnnounce /> </div> <div class=field> <eir-dropdown-field-component label-name=\"IDO Project\" field-value=wizardCtrl.collection.idoProject validation=\"{\r\n\t\t\t\tvalidators: [\r\n\t\t\t\t\t{type: 'not-empty'},\r\n\t\t\t\t],\r\n\t\t\t\terrorList: wizardCtrl.ErrorList\r\n\t\t\t}\" list-values=wizardCtrl.idoProjects> </eir-dropdown-field-component> </div> <div class=field> <eir-textarea-field-component label-name=Description field-value=wizardCtrl.collection.idoDescription validation=\"{\r\n\t\t\t\tvalidators: [\r\n\t\t\t\t\t{type: 'max-length', value: 2000}\r\n\t\t\t\t],\r\n\t\t\t\terrorList: wizardCtrl.ErrorList\r\n\t\t\t}\"/> </div> </div>"},function(module,exports){module.exports='<div class=step-two> <div class=row> <div class="six columns" ng-class="{ \'form-container\': wizardCtrl.selectedProperty }"> <div ng-if=wizardCtrl.selectedProperty> <eir-ido-property value=wizardCtrl.selectedProperty error-list=wizardCtrl.ErrorList show-help=wizardCtrl.openTypeHelp></eir-ido-property> </div> </div> <div class="six columns properties-container"> <div class="toolbar no-actions-button" id=toolbar-ido-properties role=toolbar xi-toolbar> <div class=title></div> <div class=buttonset> <button class=btn type=button ng-disabled=!wizardCtrl.isCurrentPropertyValid ng-click=wizardCtrl.add() xi-tooltip=wizardCtrl.addPropertyToolTip> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-add></use> </svg> </button> <button class=btn type=button ng-disabled=!wizardCtrl.selectedProperty ng-click=wizardCtrl.delete() xi-tooltip="\'Delete Property\'"> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-delete></use> </svg> </button> <button class=btn type=button xi-tooltip="\'Preview Properties\'" ng-click=wizardCtrl.preview()> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-update-preview></use> </svg> </button> </div> </div> <div class=field> <div class=listview id="{{ wizardCtrl.listviewId }}" xi-listview=wizardCtrl.listviewOptions></div> </div> </div> </div> </div> '},function(module,exports){module.exports='<div class=step-three> <div class=row> <div class=field-short> <eir-input-field-component label-name=Name field-value=wizardCtrl.collection.name readonly=true></eir-input-field-component> </div> <div class=field-short> <eir-input-field-component label-name="IDO Project" field-value=wizardCtrl.collection.idoProject readonly=true></eir-input-field-component> </div> <div class=field-short> <eir-textarea-field-component label-name=Description field-value=wizardCtrl.collection.idoDescription readonly=true /> </div> <div class=field-short> <ido-property-datagrid-component head-title=Properties dataset=wizardCtrl.collection.properties></ido-property-datagrid-component> </div> </div> </div> '},function(module,exports){module.exports='<div id=IdoPreviewDialog ng-controller="eirPreviewCtrl as ctrl"> <div class=row> <div class=field-short> <ido-property-datagrid-component head-title={{ctrl.headTitle}} dataset=ctrl.dataset include-default-properties=true></ido-property-datagrid-component> </div> </div> <div class=modal-buttonset> <button type=button class=btn-modal ng-click=ctrl.close()> Close </button> </div> </div>'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PreviewCtrl=void 0;var angular_constants_1=__webpack_require__(7);__webpack_require__(16),__webpack_require__(284);var PreviewCtrl=function(){function PreviewCtrl(scope){this.scope=scope,this.headTitle="Below is a preview of properties.\n\t\tKeep in note that it is including default properties which will be created together with this collection.",this.dataset=scope.eirDialog.parameter}return PreviewCtrl.prototype.close=function(){this.scope.eirDialog.close()},PreviewCtrl.add=function(m){m.controller("eirPreviewCtrl",PreviewCtrl)},PreviewCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE],PreviewCtrl}();exports.PreviewCtrl=PreviewCtrl},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.IdoPropertyComponent=exports.IdoPropertyCtrl=void 0,__webpack_require__(94),__webpack_require__(284);var common_constant_1=__webpack_require__(3),ido_wizard_ctrl_1=__webpack_require__(551),helper_1=__webpack_require__(15),IdoPropertyCtrl=function(){function IdoPropertyCtrl(){this.dataTypes=[common_constant_1.IdoDataType.boolean,common_constant_1.IdoDataType.date,common_constant_1.IdoDataType.decimal,common_constant_1.IdoDataType.file,common_constant_1.IdoDataType.integer,common_constant_1.IdoDataType.string],this.errorList=[]}return IdoPropertyCtrl.prototype.isValidPropertyName=function(value){return ido_wizard_ctrl_1.IdoValidator.isValidName(value)},IdoPropertyCtrl.prototype.isValidNumber=function(value){return 0!==value.indexOf("0")?{status:!0}:{status:!1,errorMessage:"Cannot start with 0"}},IdoPropertyCtrl.prototype.isValidPropertyLength=function(value){var parsedValue=parseInt(value);return parsedValue<=4e3||helper_1.Helper.isUndefinedEmpty(value)||isNaN(parsedValue)?{status:!0}:{status:!1,errorMessage:"Cannot be larger than 4000"}},IdoPropertyCtrl.prototype.onChangeDataType=function(){this.clearOptions(),this.value.decimalLength&&(this.tempDecimalLength=this.value.decimalLength),this.value.dataType===common_constant_1.IdoDataType.decimal&&this.tempDecimalLength&&(this.value.decimalLength=this.tempDecimalLength),this.value.dataType!==common_constant_1.IdoDataType.decimal&&delete this.value.decimalLength,this.value.dataType===common_constant_1.IdoDataType.file&&(this.value.propertyLength="-1",this.clearPropertyError("Property Length")),this.value.dataType===common_constant_1.IdoDataType.boolean&&(this.value.propertyLength="1"),this.setSqlDataType(this.value)},IdoPropertyCtrl.prototype.onPrimaryKeyChange=function(){this.value.primaryKey&&(this.value.required=!0)},IdoPropertyCtrl.prototype.clearOptions=function(){this.value.propertyLength="",this.value.primaryKey=!1,this.value.required=!1,this.value.readonly=!1,this.value.decimalLength=""},IdoPropertyCtrl.prototype.clearPropertyError=function(propertyName){for(var i=0;i<this.errorList.length;i++)this.errorList[i].field===propertyName&&this.errorList.splice(i,1)},IdoPropertyCtrl.prototype.setSqlDataType=function(value){switch(value.dataType){case common_constant_1.IdoDataType.file:value.sqlDataType="varbinary";break;case common_constant_1.IdoDataType.boolean:value.sqlDataType="tinyint";break;case common_constant_1.IdoDataType.date:value.sqlDataType="datetime";break;case common_constant_1.IdoDataType.decimal:value.sqlDataType="decimal";break;case common_constant_1.IdoDataType.integer:value.sqlDataType="int";break;case common_constant_1.IdoDataType.string:default:value.sqlDataType="nvarchar"}},IdoPropertyCtrl}();exports.IdoPropertyCtrl=IdoPropertyCtrl;var IdoPropertyComponent=function(){function IdoPropertyComponent(){this.controller=IdoPropertyCtrl,this.controllerAs="$ctrl",this.template=__webpack_require__(1008),this.bindings={value:"<",errorList:"=",showHelp:"<"}}return IdoPropertyComponent.add=function(m){m.component("eirIdoProperty",new IdoPropertyComponent)},IdoPropertyComponent}();exports.IdoPropertyComponent=IdoPropertyComponent},function(module,exports){module.exports="<div class=field> <eir-input-field-component id=\"{{ $ctrl.value.id }}\" label-name=Name field-value=$ctrl.value.name validation=\"{\r\n\t\t\tvalidators: [\r\n\t\t\t\t{type: 'max-length', value: 128},\r\n\t\t\t\t{type: 'not-empty'},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'custom',\r\n\t\t\t\t\tcustom: {\r\n\t\t\t\t\t\tvalidator: $ctrl.isValidPropertyName,\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\terrorList: $ctrl.errorList\r\n\t\t}\"/> </div> <div class=field> <eir-dropdown-field-component id=\"{{ $ctrl.value.id }}\" label-name=\"Data Type\" field-value=$ctrl.value.dataType validation=\"{\r\n\t\t\tvalidators: [\r\n\t\t\t\t{type: 'not-empty'},\r\n\t\t\t],\r\n\t\t\terrorList: $ctrl.errorList\r\n\t\t}\" list-values=$ctrl.dataTypes on-change=$ctrl.onChangeDataType()> </eir-dropdown-field-component> <button class=\"btn-icon show-type-help\" ng-click=$ctrl.showHelp() xi-tooltip=\"'Help'\"> <svg class=icon focusable=false> <use xlink:href=#icon-info></use> </svg> </button> </div> <div class=field> <eir-input-field-component id=\"{{ $ctrl.value.id }}\" label-name=\"Property Length\" field-value=$ctrl.value.propertyLength validation=\"{\r\n\t\t\tvalidators: [\r\n\t\t\t\t{type: 'numeric-no-negative'},\r\n\t\t\t\t{type: 'not-empty'},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'custom',\r\n\t\t\t\t\tcustom: {\r\n\t\t\t\t\t\tvalidator: $ctrl.isValidNumber,\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'custom',\r\n\t\t\t\t\tcustom: {\r\n\t\t\t\t\t\tvalidator: $ctrl.isValidPropertyLength,\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\terrorList: $ctrl.errorList\r\n\t\t}\" ng-class=\"{'disabled' : $ctrl.value.dataType === 'Date' || $ctrl.value.dataType === 'File' || $ctrl.value.dataType === 'Boolean'}\"/> </div> <div class=field> <eir-input-field-component id=\"{{ $ctrl.value.id }}\" ng-if=\"$ctrl.value.dataType === 'Decimal'\" label-name=\"Decimal Length\" field-value=$ctrl.value.decimalLength validation=\"{\r\n\t\t\tvalidators: [\r\n\t\t\t\t{type: 'numeric-no-negative'},\r\n\t\t\t\t{type: 'not-empty'},\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: 'custom',\r\n\t\t\t\t\tcustom: {\r\n\t\t\t\t\t\tvalidator: $ctrl.isValidNumber,\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\terrorList: $ctrl.errorList\r\n\t\t}\"/> </div> <div class=row> <span class=checkbox-group-label>Options:</span> <div class=field> <input type=checkbox class=checkbox id=primary-key ng-model=$ctrl.value.primaryKey ng-change=$ctrl.onPrimaryKeyChange() ng-disabled=\"$ctrl.value.dataType === 'File'\"/> <label for=primary-key class=checkbox-label>Primary Key</label> </div> <div class=field> <input type=checkbox class=checkbox id=required ng-model=$ctrl.value.required ng-disabled=$ctrl.value.primaryKey /> <label for=required class=checkbox-label>Required</label> </div> <div class=field> <input type=checkbox class=checkbox id=read-only ng-model=$ctrl.value.readonly /> <label for=read-only class=checkbox-label>Read Only</label> </div> </div>"},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.IdoPropertyDatagridComponent=exports.IdoPropertyDatagridCtrl=void 0;var common_constant_1=__webpack_require__(3),helper_1=__webpack_require__(15),base_datagrid_component_1=__webpack_require__(1010),custom_formatters_1=__webpack_require__(133),IdoPropertyDatagridCtrl=function(_super){function IdoPropertyDatagridCtrl($element){return _super.call(this,$element)||this}return __extends(IdoPropertyDatagridCtrl,_super),IdoPropertyDatagridCtrl.prototype.$onInit=function(){this.includeDefaultProperties&&this.setIdoDefaultProperties(),this.initDatagridOptions()},IdoPropertyDatagridCtrl.prototype.initDatagridOptions=function(){var columns=[{id:"name",name:"Name",field:"name",width:"25%",sortable:!0,resizable:!1,formatter:Soho.Formatters.Ellipsis},{id:"dataType",name:"Data Type",field:"dataType",width:"20%",sortable:!0,resizable:!1,formatter:Soho.Formatters.Ellipsis},{id:"propertyLength",name:"Length",field:"propertyLength",width:"15%",sortable:!0,resizable:!1,formatter:Soho.Formatters.Integer},{id:"primaryKey",name:"Primary Key",field:"primaryKey",width:"14%",sortable:!0,resizable:!1,formatter:custom_formatters_1.CustomFormatters.RequiredFormatter("primaryKey")},{id:"required",name:"Required",field:"required",width:"13%",sortable:!0,resizable:!1,formatter:custom_formatters_1.CustomFormatters.RequiredFormatter("required")},{id:"readonly",name:"Read Only",field:"readonly",width:"13%",sortable:!0,resizable:!1,formatter:custom_formatters_1.CustomFormatters.RequiredFormatter("readonly")}];this.datagridOptions={id:"idoPropertyDatagrid",columns:columns,dataset:helper_1.Helper.isUndefined(this.datasetToDisplay)?this.dataset:this.datasetToDisplay,isList:!0}},IdoPropertyDatagridCtrl.prototype.setIdoDefaultProperties=function(){var defaultIdoProperties=[{id:helper_1.Helper.generateUniqueId(),name:"CreateDate",dataType:"Date",required:!1,readonly:!0},{id:helper_1.Helper.generateUniqueId(),name:"CreatedBy",dataType:"String",propertyLength:"128",required:!1,readonly:!0},{id:helper_1.Helper.generateUniqueId(),name:"InWorkflow",dataType:"Byte",required:!1,readonly:!1},{id:helper_1.Helper.generateUniqueId(),name:"NoteExistsFlag",dataType:"Byte",required:!1,readonly:!1},{id:helper_1.Helper.generateUniqueId(),name:common_constant_1.IdoProperties.RECORD_DATE,dataType:"Date",required:!1,readonly:!0},{id:helper_1.Helper.generateUniqueId(),name:common_constant_1.IdoProperties.ROW_POINTER,dataType:"GUID",required:!1,readonly:!0},{id:helper_1.Helper.generateUniqueId(),name:"UpdatedBy",dataType:"String",propertyLength:"128",required:!1,readonly:!0}];this.datasetToDisplay=this.dataset.concat(defaultIdoProperties)},IdoPropertyDatagridCtrl}(base_datagrid_component_1.BaseDatagridCtrl);exports.IdoPropertyDatagridCtrl=IdoPropertyDatagridCtrl;var IdoPropertyDatagridComponent=function(_super){function IdoPropertyDatagridComponent(){var _this=_super.call(this)||this;return _this.controller=IdoPropertyDatagridCtrl,_this.bindings.includeDefaultProperties="<?",_this}return __extends(IdoPropertyDatagridComponent,_super),IdoPropertyDatagridComponent.add=function(m){m.component("idoPropertyDatagridComponent",new IdoPropertyDatagridComponent)},IdoPropertyDatagridComponent}(base_datagrid_component_1.BaseDatagridComponent);exports.IdoPropertyDatagridComponent=IdoPropertyDatagridComponent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseDatagridComponent=exports.BaseDatagridCtrl=void 0;var datagrid_directive_1=__webpack_require__(282),BaseDatagridCtrl=function(){function BaseDatagridCtrl($element){var _this=this;$element.on(datagrid_directive_1.DATAGRID_RENDERED,(function(event,result){_this.api=result.api}))}return BaseDatagridCtrl.prototype.$onInit=function(){this.initDatagridOptions()},BaseDatagridCtrl.prototype.$onChanges=function(onChangesObject){},BaseDatagridCtrl.prototype.getDatagridApi=function(){return this.api},BaseDatagridCtrl}();exports.BaseDatagridCtrl=BaseDatagridCtrl;var BaseDatagridComponent=function BaseDatagridComponent(){this.template=__webpack_require__(1011),this.bindings={dataset:"<",headTitle:"@?"}};exports.BaseDatagridComponent=BaseDatagridComponent},function(module,exports){module.exports="<div class=component-base> <span class=label>{{ $ctrl.headTitle }}</span> <div xi-datagrid=$ctrl.datagridOptions></div> </div>"},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__spreadArrays=this&&this.__spreadArrays||function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.IdoTabComponent=exports.IdoTabCtrl=void 0;var cloneDeep_1=__importDefault(__webpack_require__(333)),angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3),sohoxi_constant_1=__webpack_require__(40);__webpack_require__(77),__webpack_require__(51);var helper_1=__webpack_require__(15);__webpack_require__(1013);var dialog_service_1=__webpack_require__(13),custom_formatters_1=__webpack_require__(133);__webpack_require__(167),__webpack_require__(210);var repository_tab_ctrl_1=__webpack_require__(435);__webpack_require__(284);var repository_helper_1=__webpack_require__(328),IdoTabCtrl=function(_super){function IdoTabCtrl($scope,$element,$cacheFactory,repositoryService,dialogService){var _this=_super.call(this,$scope,$element,$cacheFactory,repositoryService)||this;return _this.dialogService=dialogService,_this.datagridId="ido-grid",_this.anySelectedDataItem=!1,_this.selectedDataItems=[],_this.CACHE_KEY="ido-collections",_this}return __extends(IdoTabCtrl,_super),Object.defineProperty(IdoTabCtrl.prototype,"Dataset",{set:function(value){this.dataset=value,this.saveToCache(this.CACHE_KEY,value)},enumerable:!1,configurable:!0}),IdoTabCtrl.prototype.$onInit=function(){_super.prototype.$onInit.call(this),this.toolbarOptions={rightAligned:!0,maxVisibleButtons:5}},IdoTabCtrl.prototype.initDatagridOptions=function(){var _this=this,locale=this.repositoryService.getLanguage();this.dataset=[];var columns=[{id:"selectionCheckbox",sortable:!1,resizable:!1,width:"50px",formatter:Soho.Formatters.SelectionCheckbox,align:"center"},{id:"collectionName",name:"Name",field:"collectionName",width:"450px",sortable:!0,formatter:Soho.Formatters.Ellipsis},{id:"createDate",name:"Created",field:"createDate",width:"50px",sortable:!0,formatter:custom_formatters_1.CustomFormatters.Date(locale)},{id:"collectionDesc",name:"Description",field:"collectionDesc",width:"450px",sortable:!0,formatter:Soho.Formatters.Ellipsis},{id:"serverName",name:"Project",field:"serverName",width:"150px",sortable:!0,formatter:Soho.Formatters.Ellipsis},{id:"action",name:"Action",field:"",width:"50px",align:"center",formatter:Soho.Formatters.Button,click:function(_,rowsSelected){var item=rowsSelected[0].item;_this.repositoryService.getIdoProperties(item.collectionName).then((function(properties){var collectionProperties=properties.map((function(item){return{name:helper_1.Helper.isUndefinedEmpty(item.columnName)?item.propertyName:item.columnName,dataType:repository_helper_1.RepositoryHelper.getAppbuilderDataType(item.dataType),propertyLength:item.dataLength,primaryKey:item.isRequired,required:item.isRequired,readonly:item.isReadOnly}}));_this.dialogService.show({title:"Preview IDO Properties",template:__webpack_require__(1014),parameter:collectionProperties,cssClass:"wizard-dialog large"})}))},text:"Show Table"}];this.datagridOptions={columns:columns,dataset:[],selectable:sohoxi_constant_1.SelectableEnum.Multiple,paging:!0,pagesize:25,toolbar:{title:"IDO Collections",results:!0,dateFilter:!1,keywordFilter:!0,advancedFilter:!0,actions:!0,views:!0,rowHeight:!0},enableTooltips:!0},this.loadIDOs()},IdoTabCtrl.prototype.loadIDOs=function(){var _this=this,cachedDataset=this.getFromCache(this.CACHE_KEY);helper_1.Helper.isUndefined(cachedDataset)?(this.loading=!0,this.repositoryService.getIDOs().then((function(idoCollections){_this.Dataset=_this.datagridOptions.dataset=idoCollections})).catch((function(errorResponse){_this.datagridOptions.dataset=[],_this.dialogService.showError("Load IDOs",errorResponse.message)})).finally((function(){_this.loading=!1}))):(this.datagridOptions.dataset=cachedDataset,this.clearSelected())},IdoTabCtrl.prototype.create=function(){var _this=this,options={title:"Table & IDO",template:'<eir-wizard ng-controller="eirIdoWizardCtrl as wizardCtrl"></eir-wizard>',cssClass:"wizard-dialog large",id:"ido-wizard"};this.dialogService.show(options).then((function(result){if(result.button===dialog_service_1.DialogButtonType.Ok){var collectionData=result.value,today=helper_1.Helper.getFormattedDate("yyyymmdd HH:mm:ss.fff");_this.Dataset=_this.datagridOptions.dataset=__spreadArrays([{collectionName:collectionData.name,collectionDesc:collectionData.idoDescription,serverName:collectionData.idoProject,createdBy:"sa",createDate:today}],_this.datagridOptions.dataset),_this.$scope.$applyAsync((function(){_this.datagridApi.updated()}))}}))},IdoTabCtrl.prototype.removeDeleted=function(idoNames){var newDataset=cloneDeep_1.default(this.dataset);idoNames.forEach((function(name){newDataset=newDataset.filter((function(ido){return ido.collectionName!==name}))})),this.Dataset=newDataset,this.datagridOptions.dataset=newDataset,this.clearSelected()},IdoTabCtrl.prototype.delete=function(){var _this=this,idoNames=this.selectedDataItems.map((function(ido){return ido.collectionName})),namesString=idoNames.join(", \n");this.dialogService.showYesNo("Warning","Are you sure that you want to delete the following IDOs with its associated SQL Tables? \n "+namesString,"warning-text").then((function(result){result.button===dialog_service_1.DialogButtonType.Yes&&_this.repositoryService.deleteIDOs(idoNames).then((function(success){success&&_this.removeDeleted(idoNames)})).catch((function(response){_this.dialogService.showError("Error","Failed to delete "+response.failedItems[0]+" \n"+response.message),response.successfulItems.length>0&&_this.removeDeleted(response.successfulItems)}))}))},IdoTabCtrl.prototype.import=function(){throw new Error("Method not implemented.")},IdoTabCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,angular_constants_1.AngularConstants.ELEMENT,angular_constants_1.AngularConstants.CACHE_FACTORY,common_constant_1.InjectNames.REPOSITORY_SERVICE,common_constant_1.InjectNames.DIALOG_SERVICE],IdoTabCtrl}(repository_tab_ctrl_1.RepositoryTab);exports.IdoTabCtrl=IdoTabCtrl;var IdoTabComponent=function(){function IdoTabComponent(){this.controller=IdoTabCtrl,this.controllerAs="ctrl",this.template=__webpack_require__(1015)}return IdoTabComponent.add=function(m){m.component("eirIdoTab",new IdoTabComponent)},IdoTabComponent}();exports.IdoTabComponent=IdoTabComponent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports){module.exports='<div id=IdoPreviewDialog ng-controller="eirPreviewCtrl as ctrl"> <div class=row> <div class=field-short> <ido-property-datagrid-component dataset=ctrl.dataset></ido-property-datagrid-component> </div> </div> <div class=modal-buttonset> <button type=button class=btn-modal ng-click=ctrl.close()> Close </button> </div> </div>'},function(module,exports){module.exports='<div class=row xi-busy=ctrl.loading> <div class="twelve columns"> <div id=toolbar-ido class=toolbar role=toolbar xi-toolbar=ctrl.toolbarOptions> <div class=title></div> <div class=buttonset> <div class="searchfield-wrapper toolbar-searchfield-wrapper"> <label class=audible for=toolbar-searchfield>Toolbar Searchfield</label> <input class=searchfield placeholder=keyword id=toolbar-searchfield name=toolbar-searchfield /> </div> <button class=btn type=button id=yolo ng-click=ctrl.create() xi-tooltip="\'Create Table & IDO\'"> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-magic-wand></use> </svg> <span>Create from Wizard</span> </button> <button class=btn type=button ng-click=ctrl.delete() ng-disabled=!ctrl.anySelectedDataItem xi-tooltip="\'Delete IDO & Table\'"> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-delete></use> </svg> <span>Delete</span> </button> <button class=btn type=button ng-if=false ng-click=ctrl.import() xi-tooltip="\'Import IDO Table\'"> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-import></use> </svg> <span>Import from File</span> </button> </div> </div> <div id="{{ ctrl.datagridId }}" xi-datagrid=ctrl.datagridOptions></div> </div> </div> '},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.AddNewColumnDialogCtrl=void 0;var angular_constants_1=__webpack_require__(7);__webpack_require__(16);var dialog_service_1=__webpack_require__(13);__webpack_require__(94);var AddNewColumnDialogCtrl=function(_super){function AddNewColumnDialogCtrl(scope){var _this=_super.call(this)||this;_this.columnName="",_this.columnNames=[],_this.errorList=[];var dialog=scope.eirDialog;return _this.dialog=dialog,_this.errorList=[],_this.columnNames=_this.dialog.parameter,_this.columnName="NewColumn"+(_this.columnNames.length+1),_this}return __extends(AddNewColumnDialogCtrl,_super),Object.defineProperty(AddNewColumnDialogCtrl.prototype,"isNameInvalid",{get:function(){return 0!==this.errorList.length},enumerable:!1,configurable:!0}),AddNewColumnDialogCtrl.prototype.saveForm=function(){var result={button:dialog_service_1.DialogButtonType.Ok,value:this.columnName};this.dialog.close(result)},AddNewColumnDialogCtrl.prototype.getValidation=function($data){return this.columnNames.find((function(item){return item===$data.value}))?{status:!1,errorMessage:"The column name '"+$data.value+"' is already in use."}:{status:!0}},AddNewColumnDialogCtrl.prototype.close=function(){this.dialog.close()},AddNewColumnDialogCtrl.add=function(m){m.controller("eirAddNewColumnDialogCtrl",AddNewColumnDialogCtrl)},AddNewColumnDialogCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE],AddNewColumnDialogCtrl}(__webpack_require__(151).NotifiableComponent);exports.AddNewColumnDialogCtrl=AddNewColumnDialogCtrl},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.InlineListDataserviceWizardCtrl=void 0;var angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3),sohoxi_constant_1=__webpack_require__(40),datasource_type_enum_1=__webpack_require__(57);__webpack_require__(204),__webpack_require__(41),__webpack_require__(273),__webpack_require__(77),__webpack_require__(16);var dialog_service_1=__webpack_require__(13),datagrid_directive_1=__webpack_require__(282),wizard_ctrl_1=__webpack_require__(211),select_source_ctrl_1=__webpack_require__(437);__webpack_require__(285);var helper_1=__webpack_require__(15);__webpack_require__(80),__webpack_require__(152);var InlineListDataserviceWizardCtrl=function(_super){function InlineListDataserviceWizardCtrl($scope,$element,$templateCache,featureService,dialogService,designerService){var _this=_super.call(this,$scope,$element,$templateCache,featureService)||this;_this.dialogService=dialogService,_this.designerService=designerService,_this.columns=[],_this.dataset=[],_this.steps=[{id:"inline-list-properties.html",title:"Properties",userTip:"",template:__webpack_require__(1018)},{id:"datasource-wizard-description.html",title:"Name &amp; Description",userTip:"",template:__webpack_require__(438)},{id:"inline-dataservice-wizard-summary.html",title:"Summary",userTip:"",template:__webpack_require__(1019)}],_this.initWizard(),_this.nextDisabled=!0,_this.backDisabled=!1;var eirDialog=$scope.eirDialog;return eirDialog.parameter&&(_this.datasource=eirDialog.parameter.datasource),_this}return __extends(InlineListDataserviceWizardCtrl,_super),InlineListDataserviceWizardCtrl.prototype.$onInit=function(){var _this=this;this.initDatagrid(),this.$element.on(datagrid_directive_1.DATAGRID_RENDERED,(function(_event,result){_this.gridApi=result.api,_this.initDatagridEvents()}))},InlineListDataserviceWizardCtrl.prototype.addRow=function(){this.dataset.push({id:helper_1.Helper.generateUniqueId()}),this.datagridOptions.dataset=this.dataset,this.gridApi.updated(this.datagridOptions),this.updateNextDisabled()},InlineListDataserviceWizardCtrl.prototype.deleteRow=function(){var _this=this;this.dataset=this.datagridOptions.dataset.filter((function(item){return item.id!==_this.selectedItem.id})),this.datagridOptions.dataset=this.dataset,this.gridApi.deSelectAllRows(),this.gridApi.syncSelectedRowsIdx(),this.gridApi.updated(this.datagridOptions),this.updateNextDisabled()},InlineListDataserviceWizardCtrl.prototype.addColumn=function(){var _this=this,columnNames=[];this.columns.forEach((function(column){columnNames.push(column.name)}));var options={title:"Add New Column",parameter:columnNames,template:__webpack_require__(1020)};this.dialogService.show(options).then((function(result){if(result.button===dialog_service_1.DialogButtonType.Ok){var newColumn={id:helper_1.Helper.generateUniqueId(),name:result.value,field:"",width:"100%",editor:Soho.Editors.Input};_this.columns.push(newColumn),_this.updateColumns()}}))},InlineListDataserviceWizardCtrl.prototype.deleteColumn=function(){var _this=this,options={title:"Delete Column",parameter:this.columns,template:__webpack_require__(1021)};this.dialogService.show(options).then((function(result){result.button===dialog_service_1.DialogButtonType.Ok&&(_this.columns=result.value,_this.updateColumns())}))},InlineListDataserviceWizardCtrl.prototype.back=function(){this.currentStep===this.steps[0]?this.$scope.eirDialog.close({button:dialog_service_1.DialogButtonType.Back}):_super.prototype.back.call(this)},InlineListDataserviceWizardCtrl.prototype.updateBackDisabled=function(){this.backDisabled=!1},InlineListDataserviceWizardCtrl.prototype.getFinishParameter=function(){var displayName=this.datasource.displayName,description=this.datasource.description,outputParams=[];return this.datagridOptions.columns.forEach((function(column){outputParams.push({id:column.id,key:column.name,field:column.field})})),__assign(__assign({},this.datasource),{typedef:datasource_type_enum_1.DatasourceTypeEnum.INLINE_LIST,suite:select_source_ctrl_1.SourceEnum.INLINE_LIST,dataset:this.datagridOptions.dataset,displayName:displayName,version:2,outputParameters:outputParams,description:description})},InlineListDataserviceWizardCtrl.prototype.onChangeCurrentStep=function(){this.currentStep===this.steps[1]&&(this.datasource||(this.datasource={displayName:"My Static Source"}))},InlineListDataserviceWizardCtrl.prototype.initDatagridEvents=function(){var _this=this;this.gridApi.element.on("selected",(function(){var selectedRow=_this.gridApi.selectedRows();_this.$scope.$evalAsync((function(){selectedRow.length>0?_this.selectedItem=selectedRow[0].data:_this.selectedItem=null}))})),this.gridApi.element.on("cellchange",(function(_event,args){_this.$scope.$evalAsync((function(){if(args.value!==args.oldValue){var selectedRow=_this.datagridOptions.dataset.find((function(row){return row.id===args.rowData.id})),selectedColumn=_this.columns.find((function(column){return column.id===args.column.id}));selectedRow[args.column.id]=args.value,selectedColumn.field=args.column.id,_this.gridApi.updated(_this.datagridOptions)}}))}))},InlineListDataserviceWizardCtrl.prototype.updateColumns=function(){if(this.columns.length>0)for(var newWidth=100/this.columns.length,i=0;i<this.columns.length;i++)this.columns[i].width=newWidth+"%";this.datagridOptions.columns=this.columns,this.gridApi.updateColumns(this.columns),this.updateNextDisabled()},InlineListDataserviceWizardCtrl.prototype.initDatagrid=function(){this.initOnEdit(),this.datagridOptions={id:"inline-list-id",columns:this.columns,dataset:this.dataset,isList:!1,editable:!0,saveColumns:!1,selectable:sohoxi_constant_1.SelectableEnum.Single,rowHeight:"short",frozenColumns:{left:[],right:[]}}},InlineListDataserviceWizardCtrl.prototype.initOnEdit=function(){var _this=this;if(this.datasource){var inlineDatasource_1=this.datasource;inlineDatasource_1.outputParameters.forEach((function(parameter){var width=100/inlineDatasource_1.outputParameters.length,newColumn={id:parameter.id,name:parameter.key,field:parameter.field,width:width+"%",editor:Soho.Editors.Input};_this.columns.push(newColumn)})),this.dataset=inlineDatasource_1.dataset,this.updateNextDisabled()}},InlineListDataserviceWizardCtrl.prototype.updateNextDisabled=function(){0===this.columns.length||0===this.dataset.length?this.nextDisabled=!0:this.nextDisabled=!1},InlineListDataserviceWizardCtrl.add=function(module){module.controller("eirInlineListDataserviceWizardCtrl",InlineListDataserviceWizardCtrl)},InlineListDataserviceWizardCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,angular_constants_1.AngularConstants.ELEMENT,angular_constants_1.AngularConstants.TEMPLATE_CACHE,common_constant_1.InjectNames.FEATURE_SWITCH_SERVICE,common_constant_1.InjectNames.DIALOG_SERVICE,common_constant_1.InjectNames.DESIGNER_SERVICE],InlineListDataserviceWizardCtrl}(wizard_ctrl_1.WizardCtrl);exports.InlineListDataserviceWizardCtrl=InlineListDataserviceWizardCtrl},function(module,exports){module.exports='<div class=dataservice-inline-list-wizard> <div class=container> <div class=grid-button-field> <div class=field> <div id=inlineListProperties xi-datagrid=wizardCtrl.datagridOptions> </div> </div> <div class=buttons> <button class=btn-secondary ng-click=wizardCtrl.addRow() ng-disabled="wizardCtrl.columns.length === 0">Add Row</button> <button class=btn-secondary ng-click=wizardCtrl.deleteRow() ng-disabled=!wizardCtrl.selectedItem>Delete Row</button> <button class=btn-secondary ng-click=wizardCtrl.addColumn()>Add Column</button> <button class=btn-secondary ng-click=wizardCtrl.deleteColumn() ng-disabled="wizardCtrl.columns.length === 0">Delete Column</button> </div> </div> </div> </div>'},function(module,exports){module.exports='<div class="container inline-list-summary"> <div class=row> <h2 class=fieldset-title>Static List Summary</h2> <hr class=hr-field> </div> <div class=row> <div class=field> <span class=label>Name</span> <span class="data summary {{wizardCtrl.datasource.displayName.length > 0 ? \'\' : \'warning-field\' }}"> {{ wizardCtrl.datasource.displayName.length > 0 ? wizardCtrl.datasource.displayName : \'Empty\' }} </span> </div> <div class=field ng-hide="!wizardCtrl.datasource.description || wizardCtrl.datasource.description.length === 0 "> <span class=label>Description</span> <span class="data summary">{{ wizardCtrl.datasource.description }}</span> </div> </div> <div class=row> <div class=field> <span class=label>Matrix</span> <eir-inline-list-dataservice-summary-datagrid-component head-title="Included Values" grid-options=wizardCtrl.datagridOptions> </eir-inline-list-dataservice-summary-datagrid-component> </div> </div> </div>'},function(module,exports){module.exports="<div class=add-column-dialog ng-controller=\"eirAddNewColumnDialogCtrl as ctrl\"> <div class=\"field form-name\"> <label>Column Name <span>*</span></label> <eir-input-field-component id=column-name field-value=ctrl.columnName field-name=columnName on-component-change=ctrl.notify($data) validation=\"{\r\n\t\t\t\tvalidators: [\r\n\t\t\t\t\t{type: 'not-empty'},\r\n\t\t\t\t\t{type: 'no-space'},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype: 'custom',\r\n\t\t\t\t\t\tcustom: {\r\n\t\t\t\t\t\t\tvalidator: 'isUniqueName',\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\terrorList: ctrl.errorList\r\n\t\t\t}\"/> </div> <div class=modal-buttonset> <button type=button class=btn-modal ng-click=ctrl.close()>Cancel</button> <button type=button class=\"btn-modal btn-modal-primary\" ng-click=ctrl.saveForm() ng-disabled=ctrl.isNameInvalid> Add </button> </div> </div>"},function(module,exports){module.exports='<div class=delete-column-dialog ng-controller="eirDeleteColumnDialogCtrl as ctrl"> <div class="field with-button"> <label for=delete-column-select> Select Column </label> <select id=delete-column-select class=dropdown ng-model=ctrl.selectedColumn ng-options="column.name for column in ctrl.columns" xi-drop-down> </select> <button class=btn-icon ng-click=ctrl.deleteColumn() ng-disabled="ctrl.columns.length == 1"> <svg class=icon focusable=false> <use xlink:href=#icon-delete></use> </svg> <span class=audible>Delete Column</span> </button> </div> <div class=modal-buttonset> <button type=button class=btn-modal ng-click=ctrl.close()>Close</button> </div> </div>'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DeleteColumnDialogCtrl=void 0;var angular_constants_1=__webpack_require__(7),dialog_service_1=__webpack_require__(13),DeleteColumnDialogCtrl=function(){function DeleteColumnDialogCtrl(scope){var dialog=scope.eirDialog;this.dialog=dialog,this.columns=dialog.parameter,this.selectedColumn=this.columns[0]}return DeleteColumnDialogCtrl.prototype.close=function(){var result={button:dialog_service_1.DialogButtonType.Ok,value:this.columns};this.dialog.close(result)},DeleteColumnDialogCtrl.prototype.deleteColumn=function(){var _this=this;this.columns=this.columns.filter((function(item){return item.id!==_this.selectedColumn.id})),this.selectedColumn=this.columns[0]},DeleteColumnDialogCtrl.add=function(m){m.controller("eirDeleteColumnDialogCtrl",DeleteColumnDialogCtrl)},DeleteColumnDialogCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE],DeleteColumnDialogCtrl}();exports.DeleteColumnDialogCtrl=DeleteColumnDialogCtrl},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.InlineListDataserviceSummaryDatagridComponent=void 0,__webpack_require__(23);var dataservice_wizard_summary_ctrl_1=__webpack_require__(1024),InlineListDataserviceSummaryDatagridComponent=function(){function InlineListDataserviceSummaryDatagridComponent(){this.bindings={headTitle:"@",gridOptions:"<",summaryDatagridOptions:"<?"},this.controller=dataservice_wizard_summary_ctrl_1.InlineListDataserviceSummaryDatagridCtrl,this.controllerAs="ctrl",this.template=__webpack_require__(1025)}return InlineListDataserviceSummaryDatagridComponent.add=function(m){m.component("eirInlineListDataserviceSummaryDatagridComponent",new InlineListDataserviceSummaryDatagridComponent)},InlineListDataserviceSummaryDatagridComponent}();exports.InlineListDataserviceSummaryDatagridComponent=InlineListDataserviceSummaryDatagridComponent},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.InlineListDataserviceSummaryDatagridCtrl=void 0;var InlineListDataserviceSummaryDatagridCtrl=function(){function InlineListDataserviceSummaryDatagridCtrl(){}return InlineListDataserviceSummaryDatagridCtrl.prototype.$onInit=function(){this.initDatagridOptions()},InlineListDataserviceSummaryDatagridCtrl.prototype.initDatagridOptions=function(){this.summaryDatagridOptions={columns:this.gridOptions.columns,isList:!0,selectable:!1,dataset:this.gridOptions.dataset,rowHeight:"short"}},InlineListDataserviceSummaryDatagridCtrl}();exports.InlineListDataserviceSummaryDatagridCtrl=InlineListDataserviceSummaryDatagridCtrl},function(module,exports){module.exports="<div class=field> <span class=label>{{ ctrl.headTitle }}</span> <div xi-datagrid=ctrl.summaryDatagridOptions></div> </div>"},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0});var angular_1=__importDefault(__webpack_require__(12)),module_1=__webpack_require__(536),app_launcher_component_1=__webpack_require__(1027),runtime_canvas_directive_1=__webpack_require__(1028),runtime_service_1=__webpack_require__(323);exports.runtimeModule=angular_1.default.module("runtimeModule",[module_1.componentsModule.name]),exports.runtimeModule.config(["$qProvider",function($qProvider){$qProvider.errorOnUnhandledRejections(!1)}]),app_launcher_component_1.AppLauncher.add(exports.runtimeModule),runtime_canvas_directive_1.RuntimeCanvasDirective.add(exports.runtimeModule),runtime_service_1.RuntimeService.add(exports.runtimeModule)},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.AppLauncher=void 0;var angular_1=__importDefault(__webpack_require__(12)),angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3);__webpack_require__(51),__webpack_require__(269);var backward_compatible_1=__webpack_require__(64),helper_1=__webpack_require__(15);__webpack_require__(13),__webpack_require__(323);var AppLauncher=function(){function AppLauncher($timeout,$q,runtimeService,dialogService){this.$timeout=$timeout,this.$q=$q,this.runtimeService=runtimeService,this.dialogService=dialogService,this.showMashup=!1}return AppLauncher.prototype.$onInit=function(){var _this=this;angular_1.default.element(window).bind("resize",this.windowResizeHandler.bind(this)),this.loadProject(this.projectId).then((function(project){_this.showMashup=!0,_this.initProjectUrlVariables(project)})).catch((function(error){console.error("[RuntimeDirective] Failed to load project with id: "+_this.projectId),_this.dialogService.showError("Load Project Error",error.message)}))},AppLauncher.prototype.$onDestroy=function(){angular_1.default.element(window).unbind("resize")},AppLauncher.prototype.initProjectUrlVariables=function(project){if(this.appType===common_constant_1.AppTypeEnum.APPHUB){var runtimeManifest=project.getManifest();backward_compatible_1.BackwardCompatible.tryUpdateUrlName(runtimeManifest);var myList=helper_1.Helper.getListByRegex("(SETVARVALUES((.*)))",runtimeManifest.urlName);this.runtimeService.setCurrentUrlValues(myList)}},AppLauncher.prototype.loadProject=function(id){var promise;switch(this.appType){case common_constant_1.AppTypeEnum.ADMIN_PREVIEW:promise=this.runtimeService.loadPublishedProjectNoConstraint(id,this.getCanvasWidth());break;case common_constant_1.AppTypeEnum.RUNTIME:case common_constant_1.AppTypeEnum.APPHUB:promise=this.runtimeService.loadPublishedProject(id,this.getCanvasWidth());break;case common_constant_1.AppTypeEnum.DESIGNER_PREVIEW:promise=this.runtimeService.loadRuntimeProject(id,this.getCanvasWidth());break;default:var deferredError=this.$q.defer();deferredError.reject({message:"Error",detail:"Invalid appType: "+this.appType}),promise=deferredError.promise}return promise},AppLauncher.prototype.windowResizeHandler=function(){var _this=this;this.windowResizeTimerPromise&&this.$timeout.cancel(this.windowResizeTimerPromise),this.windowResizeTimerPromise=this.$timeout((function(){_this.updateCurrentBoundary()}),common_constant_1.Numbers.FIFTY)},AppLauncher.prototype.updateCurrentBoundary=function(){this.runtimeService.updateCurrentBoundary(this.getCanvasWidth())},AppLauncher.prototype.getCanvasWidth=function(){return window.innerWidth},AppLauncher.add=function(m){m.component("eirAppLauncher",{template:"<eir-runtime-canvas ng-if='eirRuntimeCtrl.showMashup'></eir-runtime-canvas>",bindings:{appType:"@",projectId:"@"},controller:AppLauncher,controllerAs:"eirRuntimeCtrl"})},AppLauncher.$inject=[angular_constants_1.AngularConstants.TIMEOUT,angular_constants_1.AngularConstants.Q,common_constant_1.InjectNames.RUNTIME_SERVICE,common_constant_1.InjectNames.DIALOG_SERVICE],AppLauncher}();exports.AppLauncher=AppLauncher},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RuntimeCanvasDirective=void 0;var angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3);__webpack_require__(274),__webpack_require__(32),__webpack_require__(165),__webpack_require__(76);var debugger_1=__webpack_require__(112),helper_1=__webpack_require__(15),application_parent_1=__webpack_require__(207);__webpack_require__(28),__webpack_require__(323);var RuntimeCanvasCtrl=function(){function RuntimeCanvasCtrl($rootScope,$element,frameworkService,runtimeService){this.$rootScope=$rootScope,this.$element=$element,this.frameworkService=frameworkService,this.runtimeService=runtimeService;var project=runtimeService.getCurrentProject();this.loadApplication(project.rootComponent)}return RuntimeCanvasCtrl.prototype.onComponentReady=function(componentInstance){debugger_1.Debugger.log(this,"[RuntimeDirective] Root component ready"),this.parent.addChildInstance(componentInstance),this.runtimeService.setCurrentRootComponentInstance(componentInstance),this.runtimeService.runStartupInteractions(),componentInstance.newBoundaryEntered(this.runtimeService.getCurrentBoundary().id),this.frameworkService.triggerExpressions(),helper_1.Helper.appIsReadyForSelenium()},RuntimeCanvasCtrl.prototype.loadApplication=function(rootComponent){this.parent=new application_parent_1.ApplicationParent(application_parent_1.ApplicationParent.applicationParentDatabearer,application_parent_1.ApplicationParent.createSpoofedElement(this.$rootScope.$new()),null,this.frameworkService),this.context={},this.rootComponent=rootComponent},RuntimeCanvasCtrl.$inject=[angular_constants_1.AngularConstants.ROOT_SCOPE,angular_constants_1.AngularConstants.ELEMENT,common_constant_1.InjectNames.FRAMEWORK_SERVICE,common_constant_1.InjectNames.RUNTIME_SERVICE],RuntimeCanvasCtrl}(),RuntimeCanvasDirective=function(){function RuntimeCanvasDirective(){this.template=__webpack_require__(1029),this.controller=RuntimeCanvasCtrl,this.controllerAs="eirRuntimeCanvasCtrl"}return RuntimeCanvasDirective.add=function(m){m.directive("eirRuntimeCanvas",(function(){return new RuntimeCanvasDirective}))},RuntimeCanvasDirective}();exports.RuntimeCanvasDirective=RuntimeCanvasDirective},function(module,exports){module.exports='<eir-titlebar></eir-titlebar> <section class="page-container mashupRootContainer runtimeMode"> <eir-component-directive ng-if=eirRuntimeCanvasCtrl.rootComponent component=eirRuntimeCanvasCtrl.rootComponent context=eirRuntimeCanvasCtrl.context parent=eirRuntimeCanvasCtrl.parent component-ready=eirRuntimeCanvasCtrl.onComponentReady(componentInstance)></eir-component-directive> </section>'},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.ChartContentSettingsDirective=exports.ChartContentSettingsCtrl=void 0;var angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3);__webpack_require__(319),__webpack_require__(16);var dialog_service_1=__webpack_require__(13),chart_1=__webpack_require__(318);__webpack_require__(441),__webpack_require__(20);var component_settings_1=__webpack_require__(117),settings_base_1=__webpack_require__(59),chart_settings_1=__webpack_require__(440);__webpack_require__(555);var ChartContentSettingsCtrl=function(_super){function ChartContentSettingsCtrl($scope,editorService,dialogService){var _this=_super.call(this,$scope,editorService)||this;return _this.dialogService=dialogService,_this.onComponentChanged(editorService.getSelectedComponent()),_this}return __extends(ChartContentSettingsCtrl,_super),ChartContentSettingsCtrl.prototype.hasDatasource=function(){return void 0!==this.selectedComponent.datasource},ChartContentSettingsCtrl.prototype.onAddDialog=function(){this.openDialog(chart_settings_1.ChartDialogActionEnum.ADD)},ChartContentSettingsCtrl.prototype.onEditDialog=function(chartContent){this.openDialog(chart_settings_1.ChartDialogActionEnum.EDIT,chartContent)},ChartContentSettingsCtrl.prototype.openDialog=function(dialogAction,chartContent){var _this=this,emptyContent={name:"",categories:"",series:""};this.selectedComponent.getLocalContextMetaData().then((function(sourceFields){var dialogOptions={title:dialogAction.toString(),parameter:{content:{chartContent:chartContent||emptyContent,sourceFields:sourceFields},type:dialogAction},template:__webpack_require__(1045)};_this.dialogService.show(dialogOptions).then((function(dialogResult){dialogResult.button===dialog_service_1.DialogButtonType.Ok&&(_this.onDialogResult(dialogResult),_this.selectedComponent.updateChart(),_this.editorService.saveCanvas())}))}))},ChartContentSettingsCtrl.prototype.onDialogResult=function(dialogResult){if(dialogResult)switch(dialogResult.value.dialogAction){case chart_settings_1.ChartDialogActionEnum.ADD:this.add(dialogResult.value.content);break;case chart_settings_1.ChartDialogActionEnum.EDIT:break;default:console.error("Unknown option")}},ChartContentSettingsCtrl.prototype.add=function(content){this.selectedComponent.getDatabearer().datasets.push(content)},ChartContentSettingsCtrl.prototype.delete=function(content){var contents=this.selectedComponent.getDatabearer().datasets;if(contents){var index=contents.findIndex((function(dataset){return dataset.name===content.name}));-1!==index&&contents.splice(index,1)}this.selectedComponent.updateChart(),this.editorService.saveCanvas()},ChartContentSettingsCtrl.prototype.getDatasets=function(){return this.selectedComponent.getDatabearer().datasets},ChartContentSettingsCtrl.create=function(id){return component_settings_1.ComponentSettingsCtrl.create(id,chart_1.Chart)},ChartContentSettingsCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,common_constant_1.InjectNames.EDITOR_SERVICE,common_constant_1.InjectNames.DIALOG_SERVICE],ChartContentSettingsCtrl}(settings_base_1.SettingsBase);exports.ChartContentSettingsCtrl=ChartContentSettingsCtrl;var ChartContentSettingsDirective=function ChartContentSettingsDirective(){this.template=__webpack_require__(1046),this.scope=!0,this.controller=ChartContentSettingsCtrl,this.controllerAs="eirChartContentSettingsCtrl"};exports.ChartContentSettingsDirective=ChartContentSettingsDirective},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="../designer/images/createPage/01-thumb.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="../designer/images/createPage/010-thumb.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="../designer/images/createPage/011-thumb.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="../designer/images/createPage/012-thumb.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="../designer/images/createPage/013-thumb.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="../designer/images/createPage/03-thumb.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="../designer/images/createPage/04-thumb.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="../designer/images/createPage/05-thumb.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="../designer/images/createPage/06-thumb.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="../designer/images/createPage/07-thumb.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="../designer/images/createPage/08-thumb.png"},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_exports__.default="../designer/images/createPage/09-thumb.png"},,function(module,exports){module.exports='<div ng-controller="eirUrlVariableDialogCtrl as ctrl"> <div class="new variable"> <div class="field variable-name"> <eir-input-field-component field-value=ctrl.newVariable field-name=variableName label-name="New URL Variable" validation="{\r\n\t\t\t\t\tvalidators: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttype: \'custom\',\r\n\t\t\t\t\t\t\tcustom: {\r\n\t\t\t\t\t\t\t\tvalidator: \'validate\',\r\n\t\t\t\t\t\t\t\terrorMessage: \'Name has to be unique\'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{type: \'not-empty\'}\r\n\t\t\t\t\t],\r\n\t\t\t\t\terrorList: ctrl.ErrorList\r\n\t\t\t\t}" on-component-change=ctrl.notify($data) parent-announce=ctrl.sharedErrors /> </div> <div class="field variable-description"> <label>Description</label> <input type=text class=input-short ng-model=ctrl.newDescription /> </div> <button class="btn-icon new-variable" ng-click=ctrl.addVariable() ng-disabled="ctrl.hasError || ctrl.newVariable === \'\'" xi-tooltip="\'Add Variable\'"> <svg class=icon focusable=false> <use xlink:href=#icon-add></use> </svg> <span class=audible>Add</span> </button> </div> <div class=existing-variables> <label ng-if=ctrl.variables.length>Existing URL Variables</label> <div class=empty-message ng-if=!ctrl.variables.length> <label>This project has no URL variables</label> </div> <div class=variable ng-repeat="variable in ctrl.variables track by variable.id"> <div class="field variable-name"> <eir-input-field-component id={{variable.id}} field-value=variable.name field-name={{variable.id}} validation="{\r\n\t\t\t\t\t\tvalidators: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype: \'custom\',\r\n\t\t\t\t\t\t\t\tcustom: {\r\n\t\t\t\t\t\t\t\t\tvalidator: \'validate\',\r\n\t\t\t\t\t\t\t\t\terrorMessage: \'Name has to be unique\'\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{type: \'not-empty\'}\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\terrorList: ctrl.errorList,\r\n\t\t\t\t\t}" on-component-change=ctrl.notify($data) parent-announce=ctrl.parentAnnounce /> </div> <div class="field variable-description"> <input type=text class=field ng-model=variable.description /> </div> <button class=btn-icon ng-click=ctrl.removeVariable(variable) xi-tooltip="\'Remove Variable\'"> <svg class=icon focusable=false> <use xlink:href=#icon-delete></use> </svg> <span class=audible>Remove Variable</span> </button> </div> </div> <div class=modal-buttonset> <button type=button class=btn-modal ng-click=ctrl.close()>Cancel</button> <button type=button class="btn-modal btn-modal-primary" ng-click=ctrl.saveVariables() ng-disabled=ctrl.saveDisabled>Save</button> </div> </div> '},function(module,exports){module.exports='<div class=chart-dialog ng-controller="eirChartSettingsDialogCtrl as ctrl"> <div class=field> <label for=chartSerieName class=required>Name</label> <input id=chartSerieName type=text class=required ng-model=ctrl.content.chartContent.name /> </div> <div class=field> <div class=info-row> <label class=required>Categories</label> <svg class=icon focusable=false aria-hidden=true role=presentation xi-tooltip="\'Information to be presented\'"> <use xlink:href=#icon-info></use> </svg> </div> <select id=srckey class="dropdown dropdown-md" ng-model=ctrl.selectedCategory ng-disabled=!ctrl.content.sourceFields ng-options="sourceField as sourceField.visibleName for sourceField in ctrl.content.sourceFields" ng-change=ctrl.onCategoryChanged() xi-drop-down=ctrl.sourceFields></select> </div> <div class=field> <div class=info-row> <label class=required>Values</label> <svg class=icon focusable=false aria-hidden=true role=presentation xi-tooltip="\'Data to be displayed\'"> <use xlink:href=#icon-info></use> </svg> </div> <select id=srckey class="dropdown dropdown-md" ng-model=ctrl.selectedSeries ng-disabled=!ctrl.content.sourceFields ng-options="sourceField as sourceField.visibleName for sourceField in ctrl.content.sourceFields" ng-change=ctrl.onSeriesChanged() xi-drop-down=ctrl.sourceFields></select> </div> <div class="modal-buttonset chart-modal"> <button type=button class=btn-modal ng-click=ctrl.cancel()>Cancel</button> <button type=button class="btn-modal-primary no-validation" ng-click=ctrl.save() ng-disabled="!ctrl.content.chartContent.name || !ctrl.selectedSeries || !ctrl.selectedCategory"> Save </button> </div> </div> '},function(module,exports){module.exports='<div class=link-menu> <h2 class=content-title>Data Sets</h2> <ul class=content-list> <li ng-repeat="dataset in eirChartContentSettingsCtrl.getDatasets()"> {{dataset.name}} <button class=btn-menu xi-popupmenu> <svg class=icon aria-hidden=true focusable=false> <use xlink:href=#icon-more></use> </svg> <span class=audible>More Actions</span> </button> <ul class=popupmenu> <li ng-click=eirChartContentSettingsCtrl.onEditDialog(dataset)><a href=#>Properties</a></li> <li ng-click=eirChartContentSettingsCtrl.delete(dataset)><a>Delete</a></li> </ul> </li> </ul> <button type=button class=btn-tertiary xi-tooltip="\'Create new data set\'" ng-click=eirChartContentSettingsCtrl.onAddDialog() ng-disabled=!eirChartContentSettingsCtrl.hasDatasource()> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xmlns:xlink=http://www.w3.org/1999/xlink xlink:href=#icon-add-grid-record></use> </svg> <span>Add</span> </button> </div> '},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.ChartStyleSettingsDirective=exports.ChartStyleSettingsCtrl=void 0;var settings_base_1=__webpack_require__(59),angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3);__webpack_require__(20),__webpack_require__(441),__webpack_require__(115);var ChartStyleSettingsCtrl=function(_super){function ChartStyleSettingsCtrl($scope,editorService){var _this=_super.call(this,$scope,editorService)||this;return _this.$scope=$scope,_this.availableChartTypes=[{name:"Area",value:common_constant_1.ChartTypeEnum.Area},{name:"Bar",value:common_constant_1.ChartTypeEnum.Bar},{name:"Bar (Grouped)",value:common_constant_1.ChartTypeEnum.BarGrouped},{name:"Bar (Stacked)",value:common_constant_1.ChartTypeEnum.BarStacked},{name:"Column",value:common_constant_1.ChartTypeEnum.Column},{name:"Column (Grouped)",value:common_constant_1.ChartTypeEnum.ColumnGrouped},{name:"Column (Stacked)",value:common_constant_1.ChartTypeEnum.ColumnStacked},{name:"Donut",value:common_constant_1.ChartTypeEnum.Donut},{name:"Line",value:common_constant_1.ChartTypeEnum.Line},{name:"Pie",value:common_constant_1.ChartTypeEnum.Pie},{name:"Radar",value:common_constant_1.ChartTypeEnum.Radar}],_this.onComponentChanged(editorService.getSelectedComponent()),_this}return __extends(ChartStyleSettingsCtrl,_super),ChartStyleSettingsCtrl.prototype.onComponentChanged=function(newComponent){_super.prototype.onComponentChanged.call(this,newComponent),this.selectedComponent&&this.refresh()},ChartStyleSettingsCtrl.prototype.getAnimationEnabled=function(){return!this.hasNoAnimation()&&this.selectedComponent.getBoundarySetting(common_constant_1.SettingKeys.CHART_STARTUP_ANIMATION_ENABLE)},ChartStyleSettingsCtrl.prototype.hasNoAnimation=function(){return this.chartType===common_constant_1.ChartTypeEnum.Donut||this.chartType===common_constant_1.ChartTypeEnum.Pie||this.chartType===common_constant_1.ChartTypeEnum.Radar},ChartStyleSettingsCtrl.prototype.refresh=function(){this.chartType=this.selectedComponent.getBoundarySetting(common_constant_1.SettingKeys.CHART_TYPE),this.showLabel=this.selectedComponent.getBoundarySetting(common_constant_1.SettingKeys.SHOW_LABEL),this.legendDisplay=this.selectedComponent.getBoundarySetting(common_constant_1.SettingKeys.CHART_LEGEND_DISPLAY),this.startupAnimationEnable=this.getAnimationEnabled(),this.animationCheckboxDisabled=this.hasNoAnimation()},ChartStyleSettingsCtrl.prototype.onChangeValue=function(ref,newValue){var settingsMeta={ref:ref,boundarySetting:!0};_super.prototype.onChangeSetting.call(this,settingsMeta,newValue),this.refresh()},ChartStyleSettingsCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,common_constant_1.InjectNames.EDITOR_SERVICE],ChartStyleSettingsCtrl}(settings_base_1.SettingsBase);exports.ChartStyleSettingsCtrl=ChartStyleSettingsCtrl;var ChartStyleSettingsDirective=function ChartStyleSettingsDirective(){this.template=__webpack_require__(1048),this.scope=!0,this.controller=ChartStyleSettingsCtrl,this.controllerAs="eirChartStyleSettingsCtrl"};exports.ChartStyleSettingsDirective=ChartStyleSettingsDirective},function(module,exports){module.exports='<div class=setting-category> <div class="accordion last-one-setting" xi-control=accordion> <div class=accordion-header> <a class=title href=#> <span>Style</span> </a> </div> <div class=accordion-pane> <div class=accordion-content> <div class=row> <div class=field> <input type=checkbox class=checkbox name=show-header-option id=show-header-option ng-model=eirChartStyleSettingsCtrl.showLabel ng-change="eirChartStyleSettingsCtrl.onChangeValue(\'showLabel\', eirChartStyleSettingsCtrl.showLabel)"> <label for=show-header-option class=checkbox-label>Show Header</label> </div> <div class=field> <input type=checkbox class=checkbox name=show-legend-option id=show-legend-option ng-model=eirChartStyleSettingsCtrl.legendDisplay ng-change="eirChartStyleSettingsCtrl.onChangeValue(\'legendDisplay\', eirChartStyleSettingsCtrl.legendDisplay)"> <label for=show-legend-option class=checkbox-label>Show Legend</label> </div> <div class=field> <input type=checkbox class=checkbox name=show-animate-option id=show-animate-option ng-model=eirChartStyleSettingsCtrl.startupAnimationEnable ng-change="eirChartStyleSettingsCtrl.onChangeValue(\'startupAnimationEnable\', eirChartStyleSettingsCtrl.startupAnimationEnable)" ng-disabled=eirChartStyleSettingsCtrl.animationCheckboxDisabled> <label for=show-animate-option class=checkbox-label>Show Animation</label> </div> </div> <div class="field-short with-button"> <label>Chart Type</label> <select class="dropdown dropdown-md" ng-model=eirChartStyleSettingsCtrl.chartType ng-change="eirChartStyleSettingsCtrl.onChangeValue(\'chartType\', eirChartStyleSettingsCtrl.chartType)" ng-options="chartType.value as chartType.name for chartType in eirChartStyleSettingsCtrl.availableChartTypes" xi-drop-down> </select> </div> </div> </div> </div> </div>'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DatagridSettings=void 0;var common_constant_1=__webpack_require__(3);__webpack_require__(204);var datagrid_1=__webpack_require__(233);__webpack_require__(65);var component_settings_1=__webpack_require__(117),datagrid_content_settings_1=__webpack_require__(1050),DatagridSettings=function(){function DatagridSettings(){if(this.contentSettingsDirective=new datagrid_content_settings_1.DatagridContentSettingsDirective,DatagridSettings.instance)throw new Error("Error: Instantiation failed: Use DataGridSettings.getInstance() instead of new.")}return DatagridSettings.getInstance=function(){return DatagridSettings.instance},DatagridSettings.prototype.create=function(id){var newDatagrid=component_settings_1.ComponentSettingsCtrl.create(id,datagrid_1.Datagrid);newDatagrid.boundarySettings[common_constant_1.DEFAULT_BOUNDARY.id].rowHeight=common_constant_1.RowHeight.MEDIUM,newDatagrid.columns=[],newDatagrid.usePaging=!1;for(var width=(common_constant_1.Numbers.HUNDRED/3).toString()+"%",i=1;i<=3;i++){var newId=id+"Column"+i,newName="Column "+i;newDatagrid.columns.push({id:newId,name:newName,sortable:!0,resizable:!0,width:width,textOverflow:"ellipsis",editable:!1,summarize:!1,align:"left"})}return newDatagrid},DatagridSettings.instance=new DatagridSettings,DatagridSettings}();exports.DatagridSettings=DatagridSettings},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.DatagridContentSettingsDirective=exports.DatagridContentSettingsCtrl=void 0,__webpack_require__(204);var angular_constants_1=__webpack_require__(7),debugger_1=__webpack_require__(112),DatagridContentSettingsCtrl=function(_super){function DatagridContentSettingsCtrl(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.addTitle="Add Datagrid Column",_this.editTitle="Edit Datagrid Column",_this}return __extends(DatagridContentSettingsCtrl,_super),DatagridContentSettingsCtrl}(__webpack_require__(556).UpsertDatagridColumnContentSettings);exports.DatagridContentSettingsCtrl=DatagridContentSettingsCtrl;var DatagridContentSettingsDirective=function(){function DatagridContentSettingsDirective(){this.template=__webpack_require__(1053),this.scope=!0,this.controller=DatagridContentSettingsCtrl,this.controllerAs="eirDatagridContentSettingsCtrl"}return DatagridContentSettingsDirective.prototype.link=function(scope){var _this=this;scope.$on(angular_constants_1.AngularConstants.DESTROY,(function(){debugger_1.Debugger.log(_this,"Destroy"),scope.eirDatagridContentSettingsCtrl.unsubscribers.forEach((function(unsubscribe){unsubscribe()}))}))},DatagridContentSettingsDirective}();exports.DatagridContentSettingsDirective=DatagridContentSettingsDirective},function(module,exports){module.exports='<div id=autoAddColumnsDialog ng-controller="eirAutoAddColumnCtrl as ctrl"> <div class=row> <div class=field> <p>Which columns do you want to add from the data service metadata?</p> </div> <div class=field> <div id=metadata-grid class=datagrid-contained xi-datagrid=ctrl.datagridOptions> </div> </div> <div class=row> <div class=field> <input id=auto-formatter-checkbox type=checkbox class=checkbox ng-model=ctrl.autoFormatColumns> <label for=auto-formatter-checkbox>Auto Format Columns</label> </div> </div> </div> <div class=modal-buttonset> <button type=button class=btn-modal ng-click=ctrl.cancel()>Cancel</button> <button type=button class=btn-modal-primary ng-click=ctrl.ok()>Add Columns</button> </div> </div>'},function(module,exports){module.exports='<div id=upsert-column ng-controller="eirUpsertColumn as ctrl"> <div class=with-button> <label for=columnDisplayName class=required>Name</label> <input id=columnDisplayName type=text class=required ng-model=ctrl.column.name xi-autocomplete=ctrl.autocompleteOptions xi-lookup=ctrl.lookupOptions ng-model-options="{ debounce: 300 }"/> <button class=btn-icon xi-tooltip="\'Translations\'" ng-if=::ctrl.isFeatureTranslationEnabled() ng-click=ctrl.openTranslations()> <svg class="finderBtn icon" focusable=false> <use xlink:href=#icon-translate></use> </svg> <span class=audible>Translations</span> </button> </div> <div id=accordion-column-field-source class="accordion panel"> <div class=accordion-header> <a href=#><span>Source Field</span></a> </div> <div class=accordion-pane> <div class=accordion-content> <div class=field> <label>Value</label> <select id=upsert-column-dialog-source-field class=dropdown-md ng-model=ctrl.selectedSourceField ng-disabled=!ctrl.sourceFields ng-options="sourceField as sourceField.visibleName + (sourceField.currentValue ? \'(\'+ sourceField.currentValue +\')\' : \'\') for sourceField in ctrl.sourceFields" ng-change=ctrl.onFieldSelected() xi-drop-down> </select> </div> <div class=with-button ng-if="ctrl.selectedSourceField.type === \'{Static Value}\'"> <input id=staticColumnName type=text class=required ng-model=ctrl.selectedSourceField.currentValue ng-change=ctrl.onFieldSelected() ng-model-options="{ debounce: 200 }"/> <button class=btn-icon xi-tooltip="\'Translations\'" ng-if=::ctrl.isFeatureTranslationEnabled() ng-click=ctrl.openTranslations()> <svg class="finderBtn icon" focusable=false> <use xlink:href=#icon-translate></use> </svg> <span class=audible>Translations</span> </button> </div> </div> </div> </div> <div id=accordion-column-options class="accordion panel"> <div class=accordion-header> <a href=#><span>Options</span></a> </div> <div class=accordion-pane> <div class=accordion-content> <div class=field> <label>Align</label> <select id=upsert-column-dialog-column-align class=dropdown-md ng-model=ctrl.column.align ng-options="align.value as align.name for align in ctrl.availableAlignment" xi-drop-down> </select> </div> <div class=field ng-repeat="(option, value) in ::ctrl.getColumnOptions() track by $index"> <input type=checkbox class=checkbox id="checkbox{{ $index }}" ng-click=ctrl.onSelectColumnOption(option) ng-model=ctrl.column[option]> <label for="checkbox{{ $index }}" class="checkbox-label capitalize">{{ option }}</label> </div> </div> </div> </div> <div id=accordion-column-formatters class="accordion panel" ng-show=ctrl.isDataGrid> <div class=accordion-header> <a href=#><span>Formatter</span></a> </div> <div class=accordion-pane> <div class=accordion-content> <div class=field> <label>Type</label> <select id=upsert-column-dialog-column-formatter class=dropdown-md ng-model=ctrl.selectedFormatter ng-options="formatter as formatter.name for formatter in ctrl.columnFormatters" ng-change=ctrl.onSelectColumnFormatter() ng-disabled=ctrl.column.substitute xi-drop-down> </select> </div> <div class=field ng-if="ctrl.selectedFormatter.type === 1"> <div class=data-service-label> <label>Data Service</label> <svg class=icon focusable=false aria-hidden=true role=presentation xi-tooltip="\'Shows only data services with no input parameters.\'"> <use xlink:href=#icon-info></use> </svg> </div> <select id=upsert-column-dialog-column-list-source class=dropdown-md ng-model=ctrl.selectedListSource ng-options="dataservice as dataservice.displayName for dataservice in ctrl.availableDataservices track by dataservice.id" ng-change=ctrl.setSelectedListSource() xi-drop-down> </select> </div> <div class=field ng-if="ctrl.selectedFormatter.type === 1"> <label>Display Value</label> <select id=upsert-column-dialog-column-list-source class=dropdown-md ng-model=ctrl.selectedListOutput ng-options="parameter as parameter.key for parameter in ctrl.listSourceOutputParameters track by parameter.id" ng-change=ctrl.setSelectedListOutput() xi-drop-down> </select> </div> <div ng-if="ctrl.selectedFormatter.type === 2"> <div class=field> <label>Link Address</label> <input type=text ng-model=ctrl.column.hyperlinkOptions.value ng-model-options="{ debounce: 200 }"/> <button class=btn-icon ng-click=ctrl.openLinkDialog() xi-tooltip="\'Build Link\'"> <svg class=icon focusable=false> <use xlink:href=#icon-compose></use> </svg> </button> </div> <input type=checkbox class=checkbox id=checkboxDrillback ng-model=ctrl.column.hyperlinkOptions.isDrillback> <label for=checkboxDrillback class=checkbox-label>Use as Drillback</label> </div> </div> </div> </div> <div id=accordion-column-summary-row class="accordion panel" ng-show=ctrl.isDataGrid> <div class=accordion-header> <a href=#><span>Summary Row</span></a> </div> <div class=accordion-pane> <div class=accordion-content> <div class=field> <input type=checkbox class=checkbox id=checkbox-summarize ng-click=ctrl.toggleSummaryRow() ng-model=ctrl.column.summarize> <label for=checkbox-summarize class="checkbox-label capitalize">Enable</label> </div> <div class=field> <label for=columnSummaryText>Text</label> <input id=columnSummaryText type=text ng-model=ctrl.column.summaryText ng-model-options="{ debounce: 300 }" ng-disabled=!ctrl.column.summarize ng-trim=false /> </div> <div class=field> <label>Text Placement</label> <fieldset class=radio-group> <div ng-repeat="placement in ctrl.availableTextPlacement track by placement.value"> <input type=radio class=radio name=placement-option id={{placement.name}} value={{placement.value}} ng-model=ctrl.column.summaryTextPlacement ng-disabled=!ctrl.column.summarize> <label for={{placement.name}} class=radio-label>{{ placement.name }}</label> </div> </fieldset> </div> </div> </div> </div> <div id=accordion-column-substitute class="accordion panel" ng-show=ctrl.isDataGrid> <div class=accordion-header> <a href=#><span>Substitute Value</span></a> </div> <div class=accordion-pane> <div class=accordion-content> <div class=field> <input type=checkbox class=checkbox id=checkbox-substitute ng-click=ctrl.toggleSubstitution() ng-model=ctrl.column.substitute> <label for=checkbox-substitute class="checkbox-label capitalize">Enable</label> </div> <div class=field> <div class=data-service-label> <label>Data Service</label> <svg class=icon focusable=false aria-hidden=true role=presentation xi-tooltip="\'Shows only data services with no input parameters.\'"> <use xlink:href=#icon-info></use> </svg> </div> <select id=upsert-column-dialog-column-substitute-source class=dropdown-md ng-model=ctrl.selectedSubstituteSource ng-options="dataservice as dataservice.displayName for dataservice in ctrl.availableDataservices track by dataservice.id" ng-change=ctrl.setSelectedSubstitutionSource() ng-disabled=!ctrl.column.substitute xi-drop-down> </select> </div> <div class=field> <label>Source</label> <select id=upsert-column-dialog-column-substitute-from class=dropdown-md ng-model=ctrl.selectedFromSubstituteOutput ng-options="parameter as parameter.key for parameter in ctrl.substituteSourceOutputParameters track by parameter.id" ng-change=ctrl.updateSubstitute() ng-disabled=!ctrl.column.substitute xi-drop-down> </select> </div> <div class=field> <label>Display Value</label> <select id=upsert-column-dialog-column-substitute-to class=dropdown-md ng-model=ctrl.selectedToSubstituteOutput ng-options="parameter as parameter.key for parameter in ctrl.substituteSourceOutputParameters track by parameter.id" ng-change=ctrl.updateSubstitute() ng-disabled=!ctrl.column.substitute xi-drop-down> </select> </div> </div> </div> </div> <div class=modal-buttonset> <button type=button class=btn-modal ng-click=ctrl.cancel()>Cancel </button> <button type=button class="btn-modal-primary no-validation" ng-click=ctrl.save() ng-disabled=!ctrl.validForm()> Save </button> </div> </div>'},function(module,exports){module.exports='<div class=link-menu> <h2 class=content-title>Columns</h2> <ul class="arrange list content-list" data-arrange-handle=.handle xi-arrange=eirDatagridContentSettingsCtrl> <li ng-repeat="column in eirDatagridContentSettingsCtrl.Columns track by column.id"> <span class="handle draggable"> <svg class="icon icon-handle" focusable=false aria-hidden=true role=presentation> <use href=#icon-drag></use> </svg> </span> {{column.value ? column.value : eirDatagridContentSettingsCtrl.htmlDecode(column.name)}} <button class=btn-menu xi-popupmenu> <svg class=icon aria-hidden=true focusable=false> <use xlink:href=#icon-more></use> </svg> <span class=audible>More Actions</span> </button> <ul class=popupmenu> <li ng-click=eirDatagridContentSettingsCtrl.onEditColumn(column)> <a href=#>Properties</a> </li> <li ng-click=eirDatagridContentSettingsCtrl.deleteColumn(column)> <a>Delete</a> </li> </ul> </li> </ul> <button type=button class=btn-tertiary ng-click=eirDatagridContentSettingsCtrl.onAddColumn()> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xmlns:xlink=http://www.w3.org/1999/xlink xlink:href=#icon-add-grid-record></use> </svg> <span>Add Column</span> </button> </div> '},function(module,exports){module.exports=' <div class=link-menu> <h2 class=content-title>Flexbox Layout</h2> <div class=flexbox-layout-container ng-if="eirFlexboxContentSettingsCtrl.flexChildrenAmount === 0"> <button type=button class=btn-tertiary ng-click=eirFlexboxContentSettingsCtrl.addFirstRow()> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xmlns:xlink=http://www.w3.org/1999/xlink xlink:href=#icon-add-grid-row></use> </svg> <span>Split Into Rows</span> </button> <button type=button class=btn-tertiary ng-click=eirFlexboxContentSettingsCtrl.addFirstColumn()> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xmlns:xlink=http://www.w3.org/1999/xlink xlink:href=#icon-add-grid-record></use> </svg> <span>Split Into Columns</span> </button> </div> <div class=flexbox-layout-container ng-if="eirFlexboxContentSettingsCtrl.flexChildrenAmount > 0"> <div class=flex-count-container> <span class=flex-text> Number of {{eirFlexboxContentSettingsCtrl.currentOrientation === 1 ? "Columns" : "Rows"}} </span> <button class=box-icon ng-click=eirFlexboxContentSettingsCtrl.removeChild() ng-disabled="eirFlexboxContentSettingsCtrl.flexChildrenAmount < 1"> <svg focusable=false aria-hidden=true role=presentation> <use xmlns:xlink=http://www.w3.org/1999/xlink xlink:href=#icon-minus></use> </svg> </button> <div class="flex-count flex-text">{{eirFlexboxContentSettingsCtrl.flexChildrenAmount}}</div> <button class=box-icon ng-click=eirFlexboxContentSettingsCtrl.addChild() ng-disabled="eirFlexboxContentSettingsCtrl.flexChildrenAmount === 12"> <svg focusable=false aria-hidden=true role=presentation> <use xmlns:xlink=http://www.w3.org/1999/xlink xlink:href=#icon-add></use> </svg> </button> </div> </div> <div class="child-list flex-children" ng-if="eirFlexboxContentSettingsCtrl.flexChildrenAmount > 0"> <h2 class=content-title>{{eirFlexboxContentSettingsCtrl.currentOrientation === 1 ? "Columns" : "Rows"}}</h2> <div class="child-item visible-{{child.isVisible}}" ng-repeat="child in eirFlexboxContentSettingsCtrl.selectedComponent.children track by child.getId()" ng-mouseover="eirFlexboxContentSettingsCtrl.onMouseEnter(child, $event)" ng-mouseleave="eirFlexboxContentSettingsCtrl.onMouseLeave(child, $event)" ng-click="eirFlexboxContentSettingsCtrl.selectComponent(child, $event)"> <label xi-tooltip=::eirFlexboxContentSettingsCtrl.htmlEncode(child.databearer.displayName)>{{child.databearer.displayName}}</label> <svg class=icon ng-if=!child.isVisible xi-tooltip="\'Not Visible\'" focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-hidden></use> </svg> </div> </div> </div> <div class=child-list ng-if="eirFlexboxContentSettingsCtrl.selectedComponent.children.length > 0 && eirFlexboxContentSettingsCtrl.flexChildrenAmount === 0"> <div class=accordion xi-control=accordion> <div class=accordion-header> <a class=title href=#> <span>Components</span> </a> </div> <div class=accordion-pane> <div class=accordion-content> <div class="child-item visible-{{child.isVisible}}" ng-repeat="child in eirFlexboxContentSettingsCtrl.selectedComponent.children track by child.getId()" ng-mouseover="eirFlexboxContentSettingsCtrl.onMouseEnter(child, $event)" ng-mouseleave="eirFlexboxContentSettingsCtrl.onMouseLeave(child, $event)" ng-click="eirFlexboxContentSettingsCtrl.selectComponent(child, $event)"> <label xi-tooltip=::eirFlexboxContentSettingsCtrl.htmlEncode(child.databearer.displayName)>{{child.databearer.displayName}}</label> <svg class=icon ng-if=!child.isVisible xi-tooltip="\'Not Visible\'" focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-hidden></use> </svg> </div> </div> </div> </div> </div>'},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.ListStyleSettingsDirective=exports.ListStyleSettingsCtrl=void 0;var angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3);__webpack_require__(20);var settings_base_1=__webpack_require__(59),list_settings_1=__webpack_require__(558),ListStyleSettingsCtrl=function(_super){function ListStyleSettingsCtrl($scope,editorService){var _this=_super.call(this,$scope,editorService)||this;return _this.onComponentChanged(editorService.getSelectedComponent()),_this}return __extends(ListStyleSettingsCtrl,_super),Object.defineProperty(ListStyleSettingsCtrl.prototype,"availableTemplates",{get:function(){return list_settings_1.ListSettings.getInstance().availableTemplates},enumerable:!1,configurable:!0}),ListStyleSettingsCtrl.prototype.onBoundaryChanged=function(currentBoundary){this.updateTemplateComponent()},ListStyleSettingsCtrl.prototype.onComponentChanged=function(newComponent){_super.prototype.onComponentChanged.call(this,newComponent),this.selectedComponent&&this.updateTemplateComponent()},ListStyleSettingsCtrl.prototype.updateTemplateComponent=function(){for(var templateComponent=this.selectedComponent.getBoundarySetting(common_constant_1.SettingKeys.ITEM_TEMPLATE),availableTemplates=this.availableTemplates,i=0;i<availableTemplates.length;i++)if(templateComponent.id===availableTemplates[i].id){this.settingTemplate=availableTemplates[i];break}},ListStyleSettingsCtrl.prototype.onChangeTemplate=function(){var _this=this,template=list_settings_1.ListSettings.getInstance().getTemplate(this.settingTemplate.id,this.selectedComponent.getId());this.selectedComponent.setBoundarySetting(common_constant_1.SettingKeys.ITEM_TEMPLATE,template),this.selectedComponent.datasource?this.selectedComponent.datasource.getMetaData().then((function(metaData){_this.editorService.setDefaultBindings(template,metaData.outputFields)})).finally((function(){_this.editorService.saveCanvas()})):this.editorService.saveCanvas()},ListStyleSettingsCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,common_constant_1.InjectNames.EDITOR_SERVICE],ListStyleSettingsCtrl}(settings_base_1.SettingsBase);exports.ListStyleSettingsCtrl=ListStyleSettingsCtrl;var ListStyleSettingsDirective=function ListStyleSettingsDirective(){this.template=__webpack_require__(1056),this.scope=!0,this.controller=ListStyleSettingsCtrl,this.controllerAs="eirListStyleSettingsCtrl"};exports.ListStyleSettingsDirective=ListStyleSettingsDirective},function(module,exports){module.exports='<div class=setting-category> <div class="accordion last-one-setting" xi-control=accordion> <div class=accordion-header> <a class=title href=#> <span>Template</span> </a> </div> <div class=accordion-pane> <div class="accordion-content setting-content"> <div class=field-short> <label>Cell Template</label> <select id=DataListPanelSettingsSelected class="dropdown dropdown-md" ng-model=eirListStyleSettingsCtrl.settingTemplate ng-change=eirListStyleSettingsCtrl.onChangeTemplate() ng-options="template.displayName for template in eirListStyleSettingsCtrl.availableTemplates track by template.id" xi-drop-down></select> </div> </div> </div> </div> </div>'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LookupSettings=void 0;var common_constant_1=__webpack_require__(3);__webpack_require__(317),__webpack_require__(65);var component_settings_1=__webpack_require__(117),lookup_1=__webpack_require__(234),lookup_content_settings_1=__webpack_require__(1058),LookupSettings=function(){function LookupSettings(){if(this.contentSettingsDirective=new lookup_content_settings_1.LookupContentSettingsDirective,LookupSettings.instance)throw new Error("Error: Instantiation failed: Use LookupSettings.getInstance() instead of new.")}return LookupSettings.getInstance=function(){return LookupSettings.instance},LookupSettings.prototype.create=function(id){var lookupSettings=component_settings_1.ComponentSettingsCtrl.create(id,lookup_1.Lookup);return lookupSettings.boundarySettings[common_constant_1.DEFAULT_BOUNDARY.id].rowHeight=common_constant_1.RowHeight.MEDIUM,lookupSettings.columns=[],lookupSettings},LookupSettings.instance=new LookupSettings,LookupSettings}();exports.LookupSettings=LookupSettings},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.LookupContentSettingsDirective=exports.LookupContentSettingsCtrl=void 0;var angular_constants_1=__webpack_require__(7),debugger_1=__webpack_require__(112);__webpack_require__(13);var defines_1=__webpack_require__(78),lookup_1=__webpack_require__(234);__webpack_require__(71),__webpack_require__(20);var upsert_datagrid_columns_content_settings_1=__webpack_require__(556),common_constant_1=__webpack_require__(3),LookupContentSettingsCtrl=function(_super){function LookupContentSettingsCtrl($scope,editorService,dialogService,translationManagementService){var _this=_super.call(this,$scope,editorService,dialogService,translationManagementService)||this;_this.addTitle="Add Lookup Datagrid Column",_this.editTitle="Edit Lookup Datagrid Column";var dataservice=_this.selectedComponent.getDatasource();return dataservice&&dataservice.getMetaData().then((function(metadata){return _this.setLookupOutputOptions(metadata)})),_this}return __extends(LookupContentSettingsCtrl,_super),LookupContentSettingsCtrl.prototype.refreshMetaSettings=function(dataservice){var _this=this,newDeferred=this.editorService.getNewDeferred();if(dataservice){var result=dataservice.getMetaData().then((function(metadata){_this.setLookupOutputOptions(metadata),_this.addColumns(metadata.outputFields,!0)}));newDeferred.resolve(result)}else newDeferred.resolve(this.setLookupOutputOptions());return newDeferred.promise},LookupContentSettingsCtrl.prototype.refreshComponent=function(){_super.prototype.refreshComponent.call(this),this.updateLookupColumns()},LookupContentSettingsCtrl.prototype.setLookupOutputOptions=function(metadata){var lookupOutputSetting=defines_1.Defines.allComponents[this.selectedComponent.getTypedef()].class.SETTING_FIELDS.find((function(fieldSetting){return fieldSetting.title===lookup_1.Lookup.OUTPUT_SETTING_TITLE})).settings[0];lookupOutputSetting.dataset=metadata?metadata.outputFields.map((function(outputField){return{name:outputField.FLDS,value:outputField.FLNM}})):[],this.editorService.refreshSettingEvent.raise(lookupOutputSetting.ref);var lookup=this.selectedComponent.getDatabearer();!lookup.lookupOutputId&&lookupOutputSetting.dataset.length>0&&(lookup.lookupOutputId=lookupOutputSetting.dataset[0].value)},LookupContentSettingsCtrl.prototype.updateLookupColumns=function(){var databearer=this.selectedComponent.getDatabearer(),lookupApi=this.selectedComponent.getSohoXiApi();if(lookupApi){var settings=lookupApi.settings;settings.options.columns=databearer.columns,lookupApi.updated(settings)}},LookupContentSettingsCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,common_constant_1.InjectNames.EDITOR_SERVICE,common_constant_1.InjectNames.DIALOG_SERVICE,common_constant_1.InjectNames.TRANSLATION_MANAGEMENT_SERVICE],LookupContentSettingsCtrl}(upsert_datagrid_columns_content_settings_1.UpsertDatagridColumnContentSettings);exports.LookupContentSettingsCtrl=LookupContentSettingsCtrl;var LookupContentSettingsDirective=function(){function LookupContentSettingsDirective(){this.template=__webpack_require__(1059),this.scope=!0,this.controller=LookupContentSettingsCtrl,this.controllerAs="eirLookupContentSettingsCtrl"}return LookupContentSettingsDirective.prototype.link=function(scope){var _this=this;scope.$on(angular_constants_1.AngularConstants.DESTROY,(function(){debugger_1.Debugger.log(_this,"Destroy"),scope.eirLookupContentSettingsCtrl.unsubscribers.forEach((function(unsubscribe){unsubscribe()}))}))},LookupContentSettingsDirective}();exports.LookupContentSettingsDirective=LookupContentSettingsDirective},function(module,exports){module.exports='<div class=link-menu> <h2 class=content-title>Columns</h2> <ul class="arrange list content-list" data-arrange-handle=.handle xi-arrange=eirLookupContentSettingsCtrl> <li ng-repeat="column in eirLookupContentSettingsCtrl.Columns track by column.id"> <span class="handle draggable"> <svg class="icon icon-handle" focusable=false aria-hidden=true role=presentation> <use href=#icon-drag></use> </svg> </span> {{column.value ? column.value : eirLookupContentSettingsCtrl.htmlDecode(column.name)}} <button class=btn-menu xi-popupmenu> <svg class=icon aria-hidden=true focusable=false> <use xlink:href=#icon-more></use> </svg> <span class=audible>More Actions</span> </button> <ul class=popupmenu> <li ng-click=eirLookupContentSettingsCtrl.onEditColumn(column)> <a href=#>Properties</a> </li> <li ng-click=eirLookupContentSettingsCtrl.deleteColumn(column)> <a>Delete</a> </li> </ul> </li> </ul> <button type=button class=btn-tertiary ng-click=eirLookupContentSettingsCtrl.onAddColumn()> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xmlns:xlink=http://www.w3.org/1999/xlink xlink:href=#icon-add-grid-record></use> </svg> <span>Add Column</span> </button> </div> '},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.RadioButtonSettings=void 0;var angular_1=__importDefault(__webpack_require__(12));__webpack_require__(428),__webpack_require__(65);var component_settings_1=__webpack_require__(117),radiobutton_1=__webpack_require__(320),radiobutton_content_settings_1=__webpack_require__(1061),RadioButtonSettings=function(){function RadioButtonSettings(){if(this.contentSettingsDirective=new radiobutton_content_settings_1.RadioButtonContentSettingsDirective,RadioButtonSettings.instance)throw new Error("Error: Instantiation failed: Use RadioButtonSettings.getInstance() instead of new.")}return RadioButtonSettings.getInstance=function(){return RadioButtonSettings.instance},RadioButtonSettings.prototype.create=function(id){var newRadioButton=component_settings_1.ComponentSettingsCtrl.create(id,radiobutton_1.RadioButton),componentRadioButton={id:"radiobuttonId",name:"radiobuttonNames"};newRadioButton.componentRadioButtons=[];for(var i=1;i<=3;i++){var newId=id+"Button"+i;componentRadioButton.id=newId,componentRadioButton.name="Radio "+i,newRadioButton.componentRadioButtons.push(angular_1.default.copy(componentRadioButton))}return newRadioButton},RadioButtonSettings.instance=new RadioButtonSettings,RadioButtonSettings}();exports.RadioButtonSettings=RadioButtonSettings},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.RadioButtonContentSettingsDirective=exports.RadioButtonContentSettingsCtrl=void 0;var angular_1=__importDefault(__webpack_require__(12)),angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3);__webpack_require__(16),__webpack_require__(428);var dialog_service_1=__webpack_require__(13);__webpack_require__(71),__webpack_require__(444),__webpack_require__(20);var settings_base_1=__webpack_require__(59);__webpack_require__(559);var helper_1=__webpack_require__(69),helper_2=__webpack_require__(153),RadioButtonContentSettingsCtrl=function(_super){function RadioButtonContentSettingsCtrl($scope,editorService,dialogService,translationManagementService){var _this=_super.call(this,$scope,editorService)||this;return _this.dialogService=dialogService,_this.translationManagementService=translationManagementService,_this.onComponentChanged(editorService.getSelectedComponent()),_this}return __extends(RadioButtonContentSettingsCtrl,_super),RadioButtonContentSettingsCtrl.prototype.onComponentChanged=function(newComponent){_super.prototype.onComponentChanged.call(this,newComponent)},RadioButtonContentSettingsCtrl.prototype.getComponentRadioButton=function(){return this.selectedComponent.getDatabearer().componentRadioButtons},RadioButtonContentSettingsCtrl.prototype.onArrange=function(event){var componentRadioButtons=this.selectedComponent.getDatabearer().componentRadioButtons;helper_2.EditorHelper.moveByIndex(componentRadioButtons,event.startIndex,event.endIndex),this.save(!1)},RadioButtonContentSettingsCtrl.prototype.addRadioButton=function(){var databearer=this.selectedComponent.getDatabearer(),radiobuttonIds=databearer.componentRadioButtons.map((function(radioButton){return radioButton.id})),index=helper_1.ComponentsHelper.nextNumber(radiobuttonIds),newId=this.selectedComponent.getId()+"Button"+index,newName="Radio "+index;databearer.componentRadioButtons.push({id:newId,name:newName}),this.translationManagementService.createGeneralLanguageComponent(databearer.id,newId,newName),this.save()},RadioButtonContentSettingsCtrl.prototype.editRadioButton=function(radioButton){var _this=this;this.selectedComponent.getContextMetaData().then((function(sourceFields){var options={title:"Edit Radio",parameter:{component:_this.selectedComponent,radio:angular_1.default.copy(radioButton)},template:__webpack_require__(1062)};_this.dialogService.show(options).then((function(result){result&&result.button===dialog_service_1.DialogButtonType.Ok&&(_this.updateRadioButton(result.value),_this.selectedComponent.updateValuesWithTranslations(),_this.save())}))}))},RadioButtonContentSettingsCtrl.prototype.deleteRadioButton=function(deletedRadioButton){var databearer=this.selectedComponent.getDatabearer(),radioButtons=databearer.componentRadioButtons,index=radioButtons.indexOf(deletedRadioButton);radioButtons.splice(index,1),this.selectedComponent.selectedRadioButtonId===deletedRadioButton.id&&this.selectedComponent.setCurrentItem(radioButtons[0]),this.translationManagementService.removeTranslation(databearer.id,deletedRadioButton.id),this.save()},RadioButtonContentSettingsCtrl.prototype.disableDelete=function(){return 2===this.selectedComponent.getDatabearer().componentRadioButtons.length},RadioButtonContentSettingsCtrl.prototype.updateRadioButton=function(editedRadioButton){var selectedComponent=this.selectedComponent;this.selectedComponent.getDatabearer().componentRadioButtons.find((function(radiobutton){return editedRadioButton.id===radiobutton.id})).field=editedRadioButton.field,selectedComponent.selectedRadioButtonId===editedRadioButton.id&&(selectedComponent.currentItemValue=editedRadioButton.field,selectedComponent.currentItemName=editedRadioButton.name)},RadioButtonContentSettingsCtrl.prototype.save=function(saveTranslations){void 0===saveTranslations&&(saveTranslations=!0),this.editorService.saveCanvas(),saveTranslations&&this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.TRANSLATIONS)},RadioButtonContentSettingsCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,common_constant_1.InjectNames.EDITOR_SERVICE,common_constant_1.InjectNames.DIALOG_SERVICE,common_constant_1.InjectNames.TRANSLATION_MANAGEMENT_SERVICE],RadioButtonContentSettingsCtrl}(settings_base_1.SettingsBase);exports.RadioButtonContentSettingsCtrl=RadioButtonContentSettingsCtrl;var RadioButtonContentSettingsDirective=function RadioButtonContentSettingsDirective(){this.template=__webpack_require__(1063),this.scope=!0,this.controller=RadioButtonContentSettingsCtrl,this.controllerAs="eirRadioButtonContentSettingsCtrl"};exports.RadioButtonContentSettingsDirective=RadioButtonContentSettingsDirective},function(module,exports){module.exports='<div ng-controller="eirEditRadioButtonCtrl as ctrl"> <div class="field with-button"> <label for=duplicateName class=required>Name</label> <input id=duplicateName type=text class=required ng-model=ctrl.radioButton.name ng-change=ctrl.onChangeRadioButtonName() xi-autocomplete=ctrl.autocompleteOptions xi-lookup=ctrl.lookupOptions ng-model-options="{ updateOn: \'default\', debounce: {\'default\': 500, \'blur\': 0}}"/> <button class=btn-icon xi-tooltip="\'Translations\'" ng-if=::ctrl.isFeatureTranslationEnabled() ng-click=ctrl.openTranslations()> <svg class="finderBtn icon" focusable=false> <use xlink:href=#icon-translate></use> </svg> <span class=audible>Translations</span> </button> </div> <div class=field> <label for=radio-button-value>Value</label> <input id=radio-button-value class="dropdown dropdown-md" ng-model=ctrl.radioButton.field /> </div> <div class=modal-buttonset> <button type=button class=btn-modal ng-click=ctrl.cancel()> Cancel </button> <button type=button class="btn-modal-primary no-validation" ng-click=ctrl.save() ng-disabled=!ctrl.radioButton.name> Save </button> </div> </div>'},function(module,exports){module.exports='<div class=link-menu> <h2 class=content-title>Radio Buttons</h2> <ul class="arrange list content-list" data-arrange-handle=.handle xi-arrange=eirRadioButtonContentSettingsCtrl> <li ng-repeat="radio in eirRadioButtonContentSettingsCtrl.getComponentRadioButton() track by radio.id"> <span class="handle draggable"> <svg class="icon icon-handle" focusable=false aria-hidden=true role=presentation> <use href=#icon-drag></use> </svg> </span> {{radio.name}} <button class=btn-menu xi-popupmenu> <svg class=icon aria-hidden=true focusable=false> <use xlink:href=#icon-more></use> </svg> <span class=audible>More Actions</span> </button> <ul class=popupmenu> <li ng-click=eirRadioButtonContentSettingsCtrl.editRadioButton(radio)> <a href=#>Properties</a> </li> <li ng-click=eirRadioButtonContentSettingsCtrl.deleteRadioButton(radio) ng-class="{\'is-disabled\': eirRadioButtonContentSettingsCtrl.disableDelete()}"> <a>Delete</a> </li> </ul> </li> </ul> <button type=button class=btn-tertiary ng-click=eirRadioButtonContentSettingsCtrl.addRadioButton()> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xmlns:xlink=http://www.w3.org/1999/xlink xlink:href=#icon-add></use> </svg> <span>Add Radio Button</span> </button> </div> '},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TabsSettings=void 0,__webpack_require__(322);var tabs_1=__webpack_require__(277);__webpack_require__(447),__webpack_require__(65);var component_settings_1=__webpack_require__(117),tab_panel_settings_1=__webpack_require__(445),tabs_content_settings_1=__webpack_require__(1065),TabsSettings=function(){function TabsSettings(){if(this.contentSettingsDirective=new tabs_content_settings_1.TabsContentSettingsDirective,TabsSettings.instance)throw new Error("Error: Instantiation failed: Use TabsSettings.getInstance() instead of new.")}return TabsSettings.getInstance=function(){return TabsSettings.instance},TabsSettings.prototype.create=function(id){var newTabs=component_settings_1.ComponentSettingsCtrl.create(id,tabs_1.Tabs);newTabs.children=[],newTabs.componentTabs=[];for(var i=1;i<=4;i++){var newId=id+"Panel"+i,componentTab={id:newId,name:"Tab "+i};newTabs.componentTabs.push(componentTab),newTabs.children.push(tab_panel_settings_1.TabPanelSettings.getInstance().create(newId,i))}return newTabs},TabsSettings.instance=new TabsSettings,TabsSettings}();exports.TabsSettings=TabsSettings},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.TabsContentSettingsDirective=exports.TabsContentSettingsCtrl=void 0;var angular_1=__importDefault(__webpack_require__(12)),angular_constants_1=__webpack_require__(7),dialog_service_1=__webpack_require__(13);__webpack_require__(71),__webpack_require__(20);var settings_base_1=__webpack_require__(59),common_constant_1=__webpack_require__(3),TabsContentSettingsCtrl=function(_super){function TabsContentSettingsCtrl($scope,editorService,dialogService,translationManagementService){var _this=_super.call(this,$scope,editorService)||this;return _this.dialogService=dialogService,_this.translationManagementService=translationManagementService,_this.onComponentChanged(editorService.getSelectedComponent()),_this}return __extends(TabsContentSettingsCtrl,_super),TabsContentSettingsCtrl.prototype.onComponentChanged=function(newComponent){_super.prototype.onComponentChanged.call(this,newComponent)},TabsContentSettingsCtrl.prototype.onArrange=function(event){this.selectedComponent.updateTabPosition(event),this.save()},TabsContentSettingsCtrl.prototype.getComponentTabs=function(){return this.selectedComponent.getDatabearer().componentTabs},TabsContentSettingsCtrl.prototype.openTab=function(chosenTab){this.selectedComponent.switchFocusTab(chosenTab)},TabsContentSettingsCtrl.prototype.addTab=function(){var tabComponent=this.selectedComponent.addTab();this.translationManagementService.createGeneralLanguageComponent(this.selectedComponent.getId(),tabComponent.id,tabComponent.name),this.save()},TabsContentSettingsCtrl.prototype.updateTab=function(tab){var _this=this;this.selectedComponent.getContextMetaData().then((function(sourceFields){_this.openEditTabDialog(tab,sourceFields).then((function(result){if(result.button===dialog_service_1.DialogButtonType.Ok){var tabResult=result.value;_this.selectedComponent.updateTab(tab,tabResult),_this.selectedComponent.updateValuesWithTranslations()}result.button!==dialog_service_1.DialogButtonType.Cancel&&_this.save()}))}))},TabsContentSettingsCtrl.prototype.deleteTab=function(tab){this.selectedComponent.deleteTab(tab),this.save()},TabsContentSettingsCtrl.prototype.save=function(saveTranslations){void 0===saveTranslations&&(saveTranslations=!0),this.editorService.saveCanvas(),saveTranslations&&this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.TRANSLATIONS)},TabsContentSettingsCtrl.prototype.openEditTabDialog=function(tab,sourceFields){var options={title:"Edit Tab",parameter:{tab:angular_1.default.copy(tab),sourceFields:sourceFields,component:this.selectedComponent},template:__webpack_require__(1066)};return this.dialogService.show(options)},TabsContentSettingsCtrl.getInsertPoints=function(flexbox){return null},TabsContentSettingsCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,common_constant_1.InjectNames.EDITOR_SERVICE,common_constant_1.InjectNames.DIALOG_SERVICE,common_constant_1.InjectNames.TRANSLATION_MANAGEMENT_SERVICE],TabsContentSettingsCtrl}(settings_base_1.SettingsBase);exports.TabsContentSettingsCtrl=TabsContentSettingsCtrl;var TabsContentSettingsDirective=function TabsContentSettingsDirective(){this.template=__webpack_require__(1067),this.scope=!0,this.controller=TabsContentSettingsCtrl,this.controllerAs="eirTabsContentSettingsCtrl"};exports.TabsContentSettingsDirective=TabsContentSettingsDirective},function(module,exports){module.exports='<div ng-controller="eirEditTabCtrl as ctrl"> <div class="field with-button"> <label for=tabDisplayName class=required>Name</label> <input id=tabDisplayName type=text class=required ng-model=ctrl.tab.name ng-change=ctrl.onChangeTabName() xi-autocomplete=ctrl.autocompleteOptions xi-lookup=ctrl.lookupOptions ng-model-options="{ updateOn: \'default\', debounce: {\'default\': 500, \'blur\': 0}}"/> <button class=btn-icon xi-tooltip="\'Translations\'" ng-if=::ctrl.isFeatureTranslationEnabled() ng-click=ctrl.openTranslations()> <svg class="finderBtn icon" focusable=false> <use xlink:href=#icon-translate></use> </svg> <span class=audible>Translations</span> </button> </div> <div class=field> <label>Source Field</label> <select id=srckey class="dropdown dropdown-md" ng-model=ctrl.selectedSourceField ng-disabled=!ctrl.sourceFields ng-options="sourceField as sourceField.visibleName for sourceField in ctrl.sourceFields" ng-change=ctrl.onFieldSelected() xi-drop-down=ctrl.sourceFields></select> </div> <div class=modal-buttonset> <button type=button class=btn-modal ng-click=ctrl.cancel()>Cancel</button> <button type=button class="btn-modal-primary no-validation" ng-click=ctrl.save() ng-disabled=!ctrl.tab.name>Save</button> </div> </div>'},function(module,exports){module.exports='<div class=link-menu> <h2 class=content-title>Tabs</h2> <ul class="arrange list content-list" data-arrange-handle=.handle xi-arrange=eirTabsContentSettingsCtrl> <li ng-repeat="tab in eirTabsContentSettingsCtrl.getComponentTabs() track by tab.id" ng-click=eirTabsContentSettingsCtrl.openTab(tab)> <span class="handle draggable"> <svg class="icon icon-handle" focusable=false aria-hidden=true role=presentation> <use href=#icon-drag></use> </svg> </span> {{ tab.name }} <button class=btn-menu xi-popupmenu> <svg class=icon aria-hidden=true focusable=false> <use xlink:href=#icon-more></use> </svg> <span class=audible>More Actions</span> </button> <ul class=popupmenu> <li ng-click=eirTabsContentSettingsCtrl.updateTab(tab)><a href=#>Properties</a></li> <li ng-click=eirTabsContentSettingsCtrl.deleteTab(tab)><a>Delete</a></li> </ul> </li> </ul> <button type=button class=btn-tertiary ng-click=eirTabsContentSettingsCtrl.addTab()> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xmlns:xlink=http://www.w3.org/1999/xlink xlink:href=#icon-add-grid-record></use> </svg> <span>Add Tab</span> </button> </div> '},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.TextboxStyleSettingsDirective=exports.TextboxStyleSettingsCtrl=void 0;var angular_1=__importDefault(__webpack_require__(12)),angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3);__webpack_require__(92),__webpack_require__(529);var dialog_service_1=__webpack_require__(13);__webpack_require__(561),__webpack_require__(20);var settings_base_1=__webpack_require__(59),textbox_settings_1=__webpack_require__(560),TextboxStyleSettingsCtrl=function(_super){function TextboxStyleSettingsCtrl($scope,editorService,dialogService){var _this=_super.call(this,$scope,editorService)||this;return _this.dialogService=dialogService,_this.onComponentChanged(editorService.getSelectedComponent()),_this.initiationMaskProcess(),_this}return __extends(TextboxStyleSettingsCtrl,_super),Object.defineProperty(TextboxStyleSettingsCtrl.prototype,"availableMasks",{get:function(){return textbox_settings_1.TextboxSettings.getInstance().availableMasks},enumerable:!1,configurable:!0}),TextboxStyleSettingsCtrl.prototype.onComponentChanged=function(newComponent){_super.prototype.onComponentChanged.call(this,newComponent),this.selectedComponent&&this.initiationMaskProcess()},TextboxStyleSettingsCtrl.prototype.openMaskSettings=function(){var _this=this,options={title:"Masking Options",parameter:angular_1.default.copy(this.selectedComponent.getMask()),template:__webpack_require__(1069)};this.dialogService.show(options).then((function(result){result.button===dialog_service_1.DialogButtonType.Ok&&(_this.selectedComponent.updateMaskOptions(result.value),_this.editorService.saveCanvas())}))},TextboxStyleSettingsCtrl.prototype.onChangeProcess=function(){switch(this.settingMask.value){case common_constant_1.MaskProcess.NUMBER:this.mask={process:this.settingMask.value,allowNegative:!1,integerLimit:10,decimalLimit:0,allowThousandsSeparator:!1,prefix:""};break;case common_constant_1.MaskProcess.DATE_TIME:this.mask={process:this.settingMask.value,format:common_constant_1.DateFormat.FORMAT_1};break;case common_constant_1.MaskProcess.STRING:this.mask={process:this.settingMask.value,format:"****-****-****"};break;default:this.mask={process:this.settingMask.value}}this.selectedComponent.updateMaskOptions(this.mask),this.editorService.saveCanvas()},TextboxStyleSettingsCtrl.prototype.initiationMaskProcess=function(){for(var mask=this.selectedComponent.getMask(),availableMasks=this.availableMasks,i=0;i<availableMasks.length;i++)if(mask.process===availableMasks[i].value){this.settingMask=availableMasks[i];break}},TextboxStyleSettingsCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,common_constant_1.InjectNames.EDITOR_SERVICE,common_constant_1.InjectNames.DIALOG_SERVICE],TextboxStyleSettingsCtrl}(settings_base_1.SettingsBase);exports.TextboxStyleSettingsCtrl=TextboxStyleSettingsCtrl;var TextboxStyleSettingsDirective=function TextboxStyleSettingsDirective(){this.template=__webpack_require__(1070),this.scope=!0,this.controller=TextboxStyleSettingsCtrl,this.controllerAs="eirTextboxStyleSettingsCtrl"};exports.TextboxStyleSettingsDirective=TextboxStyleSettingsDirective},function(module,exports){module.exports="<div ng-controller=\"eirMaskSettingsDialogCtrl as ctrl\" class=mask-setting-dialog> <div ng-if=\"ctrl.maskSetting === 'number'\"> <div class=field> <input type=checkbox class=checkbox id=checkbox-negative ng-change=ctrl.onChangeMask() ng-model=ctrl.mask.allowNegative> <label for=checkbox-negative class=\"checkbox-label capitalize\">Allow Negative</label> </div> <div class=field> <input type=checkbox class=checkbox id=checkbox-separator ng-change=ctrl.onChangeMask() ng-model=ctrl.mask.allowThousandsSeparator> <label for=checkbox-separator class=\"checkbox-label capitalize\">Allow Thousands Separator</label> </div> <div class=field> <label>Integer Limit</label> <input type=number class=input-mm ng-model=ctrl.mask.integerLimit ng-change=ctrl.onChangeMask() ng-model-options=\"{ updateOn: 'default', debounce: {'default': 400, 'blur': 0}}\"/> </div> <div class=field> <label>Decimal Limit</label> <input type=number class=input-mm ng-model=ctrl.mask.decimalLimit ng-change=ctrl.onChangeMask() ng-model-options=\"{ updateOn: 'default', debounce: {'default': 400, 'blur': 0}}\"/> </div> <div class=field> <label>Prefix</label> <eir-input-field-component id=prefix field-value=ctrl.mask.prefix field-name=prefix on-component-change=ctrl.notify($data) validation=\"{\r\n\t\t\t\t\tvalidators: [\r\n\t\t\t\t\t\t{type: 'no-numeric'}\r\n\t\t\t\t\t],\r\n\t\t\t\t\terrorList: ctrl.errorList\r\n\t\t\t\t}\"/> </div> </div> <div ng-if=\"ctrl.maskSetting === 'date'\"> <div class=add-source ng-if=\"ctrl.maskSetting === 'date'\"> <label>Format</label> <select class=\"dropdown dropdown-md\" ng-model=ctrl.mask.format ng-options=\"format.value as format.name for format in ctrl.AVAILABLE_FORMATS\" xi-drop-down> </select> </div> <div class=\"field with-button\"> <label>Custom Format</label> <input type=text class=input-mm ng-model=ctrl.mask.format ng-change=ctrl.onChangeMask() ng-model-options=\"{ updateOn: 'default', debounce: {'default': 400, 'blur': 0}}\"/> <button class=btn-icon ng-click=ctrl.openMaskHelp() xi-tooltip=\"'Help'\"> <svg class=icon focusable=false> <use xlink:href=#icon-info></use> </svg> </button> </div> </div> <div ng-if=\"ctrl.maskSetting === 'string'\"> <div class=\"field with-button\"> <label>Pattern</label> <input type=text class=input-mm ng-model=ctrl.mask.format ng-change=ctrl.onChangeMask() ng-model-options=\"{ updateOn: 'default', debounce: {'default': 400, 'blur': 0}}\"/> <button class=btn-icon ng-click=ctrl.openMaskHelp() xi-tooltip=\"'Help'\"> <svg class=icon focusable=false> <use xlink:href=#icon-info></use> </svg> </button> </div> </div> <div class=modal-buttonset> <button type=button class=btn-modal ng-click=ctrl.close()>Cancel</button> <button type=\"button btn-primary\" class=btn-modal ng-click=ctrl.save() ng-disabled=ctrl.isPrefixInvalid>Save</button> </div> </div>"},function(module,exports){module.exports='<div class=setting-category> <div class="accordion last-one-setting" xi-control=accordion> <div class=accordion-header> <a class=title href=#> <span>Masking</span> </a> </div> <div class=accordion-pane> <div class=accordion-content> <div class="field-short with-button"> <label>Type</label> <select class="dropdown dropdown-md" ng-model=eirTextboxStyleSettingsCtrl.settingMask ng-change=eirTextboxStyleSettingsCtrl.onChangeProcess() ng-options="mask.name for mask in eirTextboxStyleSettingsCtrl.availableMasks track by mask.value" xi-drop-down> </select> <button class=btn-icon ng-disabled="eirTextboxStyleSettingsCtrl.settingMask.value === \'none\' || eirTextboxStyleSettingsCtrl.settingMask.value === \'password\'" ng-click=eirTextboxStyleSettingsCtrl.openMaskSettings() xi-tooltip="\'Mask Options\'"> <svg class=icon focusable=false> <use xlink:href=#icon-settings></use> </svg> </button> </div> </div> </div> </div> </div>'},function(module,exports){module.exports='<div class=manage-dialog ng-controller="eirManageCompositesCtrl as ctrl"> <div class="local-datagrid manage-datagrid"> <div class=toolbar role=toolbar> <div class=buttonset> <label class=audible for=searchfield-local-composite>Keyword Search</label> <input id=searchfield-local-composite name=searchfield-local-composite class=searchfield /> <button class=btn-tertiary type=button ng-click=ctrl.openGlobalRepository() xi-tooltip="\'Add From Repository\'"> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-new-document></use> </svg> <span>Add from Repository</span> </button> <button class=btn-tertiary type=button ng-disabled=!ctrl.itemSelected ng-click=ctrl.deleteItem() xi-tooltip="\'Delete\'"> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-delete></use> </svg> <span>Delete</span> </button> <button class=btn-tertiary type=button xi-tooltip="\'Import Composite Component\'" ng-click=ctrl.import()> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-import></use> </svg> <span>Import from File</span> </button> <button class=btn-tertiary type=button xi-tooltip="\'Export Composite Component\'" ng-disabled=!ctrl.itemSelected ng-click=ctrl.export()> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-import></use> </svg> <span>Export to File</span> </button> </div> </div> <div xi-datagrid=ctrl.datagridOptions id=local-grid class=datagrid-contained></div> </div> <div class=modal-buttonset> <button type=button class=btn-modal ng-click=ctrl.close()>Close</button> </div> </div>'},function(module,exports){module.exports='<div class=interaction-wizard ng-controller="eirInteractionSettingsCtrl as eirInteractionSettingsCtrl"> <div ng-controller="eirInteractionWizardCtrl as wizardCtrl" class="wizard-base wizard-page-{{wizardCtrl.currentTick}}"> <div class=wizard xi-control=wizard> <div class=wizard-header> <div class=bar> <div class=completed-range></div> <a class="tick current"><span class=label>1. Trigger Event</span></a> <a class=tick><span class=label>2. Action</span></a> <a class=tick><span class=label>3. Data Mapping</span></a> <a class=tick><span class=label>4. Summary</span></a> </div> </div> </div> <div class=wizard-content ng-repeat="step in ::wizardCtrl.steps" ng-if="wizardCtrl.currentTick === $index"> <div ng-include src=step.id></div> </div> <div class=modal-buttonset> <button type=button class=btn-modal ng-click=wizardCtrl.cancel()>Cancel</button> <button type=button class=btn-modal ng-click=wizardCtrl.back() ng-disabled="wizardCtrl.currentTick === 0">Back</button> <button type=button class=btn-modal-primary ng-click=wizardCtrl.next() ng-disabled=wizardCtrl.nextDisabled> {{wizardCtrl.currentTick === wizardCtrl.maxTick ? \'Finish\' : \'Next\'}} </button> </div> </div> </div>'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DashboardDirective=exports.DashboardCtrl=void 0;var app_state_1=__webpack_require__(236),angular_constants_1=__webpack_require__(7),defines_1=__webpack_require__(16);__webpack_require__(70);var dialog_service_1=__webpack_require__(13);__webpack_require__(152),__webpack_require__(168);var common_constant_1=__webpack_require__(3),sohoxi_constant_1=__webpack_require__(40),project_info_1=__webpack_require__(431);__webpack_require__(554);var DashboardCtrl=function(){function DashboardCtrl($scope,$element,$stateService,commonService,designerService,dialogService,projectService){var _this=this;this.$scope=$scope,this.$element=$element,this.$stateService=$stateService,this.commonService=commonService,this.designerService=designerService,this.dialogService=dialogService,this.projectService=projectService,this.errorList=[],this.state=common_constant_1.DashboardStates.LIST,this.viewState=common_constant_1.DashboardViewStates.TILE,this.searchString="",this.filterTypeOptions=[{name:"All Projects",value:void 0},{name:"Created by me",value:{manifest:{createdBy:common_constant_1.Config.USER.name}}}],this.sortPropertiesOptions=[{name:"Changed Date",value:"manifest.lastChangedTime"},{name:"Created Date",value:"manifest.createdTime"},{name:"Name",value:"manifest.displayName"}],this.filterEnum=common_constant_1.SortEnum,this.filterContainer=[],this.selectedProjects=[],this.designerService.setView(defines_1.ViewEnum.DASHBOARD),this.loadProjects().then((function(){_this.currentProject=commonService.getCurrentProject()})),this.commonService.onDuplicateProjectChangedEvent.on((function(){_this.loadProjects()}))}return Object.defineProperty(DashboardCtrl.prototype,"isLoading",{get:function(){return common_constant_1.Config.IS_FIRST_LOAD},enumerable:!1,configurable:!0}),DashboardCtrl.prototype.initDatagrid=function(){this.initGridOptions()},DashboardCtrl.prototype.finishedLoadingProjects=function(){this.commonService.$timeout((function(_){return common_constant_1.Config.IS_FIRST_LOAD=!1}),common_constant_1.Numbers.ONE_THOUSAND)},DashboardCtrl.prototype.loadProjects=function(){var _this=this;return this.dashboardLoading=!0,this.commonService.loadProjects().then((function(projectInfo){_this.dashboardLoading=!1,_this.projects=projectInfo.map((function(projectInfo){return new project_info_1.ProjectInfo(projectInfo)})),_this.datagridOptions.dataset=_this.projects,0===_this.projects.length&&_this.finishedLoadingProjects()})).catch((function(errorResponse){_this.dashboardLoading=!1,_this.dialogService.showError("List projects",errorResponse.message)}))},DashboardCtrl.prototype.initGridOptions=function(){var _this=this,columns=[];columns.push({id:"selectionCheckbox",sortable:!1,resizable:!1,width:50,formatter:Soho.Formatters.SelectionCheckbox,align:"center"}),columns.push({id:"displayName",name:"Name",field:"manifest.displayName",width:250,sortable:!0,textOverflow:sohoxi_constant_1.FormatterEnum.Ellipsis,formatter:Soho.Formatters.Expander}),columns.push({id:"createdBy",name:"Created By",field:"manifest.createdByDisplayName",width:150,sortable:!0,formatter:Soho.Formatters.Ellipsis}),columns.push({id:"createdTime",name:"Created",field:"manifest.createdTime",width:100,sortable:!0,formatter:Soho.Formatters.Date}),columns.push({id:"lastChangedBy",name:"Last Changed By",field:"manifest.lastChangedByDisplayName",width:150,sortable:!0,formatter:Soho.Formatters.Ellipsis}),columns.push({id:"lastChangedTime",name:"Last Changed",field:"manifest.lastChangedTime",width:100,sortable:!0,formatter:Soho.Formatters.Date}),columns.push({id:"open",name:"Action",width:50,formatter:Soho.Formatters.Button,icon:"launch",tooltip:"Open Project",resizable:!1,align:"center",click:function(_,rows){var project=rows[0].item;_this.$stateService.go(app_state_1.AppState.EDITOR.name,{id:project.manifest.id,reloadProject:!1})}}),this.datagridOptions={columns:columns,dataset:[],selectable:sohoxi_constant_1.SelectableEnum.Multiple,paging:!0,pagesize:10,expandableRow:!0,onExpandRow:function(data,response){setTimeout((function(){var manifest=data.item.manifest,rowTemplate='\n\t\t\t\t\t<div class="datagrid-cell-layout">\n\t\t\t\t\t\t<div class="img-container">\n\t\t\t\t\t\t\t<img src="'+(manifest.previewImg?manifest.previewImg:"designer/images/02-thumb.png")+'" alt="No image" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="datagrid-cell-layout">\n\t\t\t\t\t\t<p class="datagrid-row-heading">'+manifest.displayName+'</p>\n\t\t\t\t\t\t<p class="datagrid-row-micro-text">'+manifest.title+'</p>\n\t\t\t\t\t\t<span class="datagrid-wrapped-text">'+manifest.description+'</span>\n\t\t\t\t\t\t<p class="datagrid-row-micro-text">Version: '+manifest.version+'</p>\n\t\t\t\t\t\t<div class="tag-container tag-list">';data.item.tags.forEach((function(tag){var tagElement='<span class="tag">'+tag.name+"</span>";rowTemplate+=tagElement})),response(rowTemplate+="</div>")}))},toolbar:{title:"Projects",results:!0,dateFilter:!1,keywordFilter:!0,advancedFilter:!0,actions:!0,views:!0,rowHeight:!0},enableTooltips:!0},this.getGridElement().on("selected",(function(e,args){_this.$scope.$evalAsync((function(){args.length>0?_this.selectedProjects=args.map((function(rowObject){return rowObject.data})):_this.selectedProjects=[]}))}))},DashboardCtrl.prototype.exportProject=function(){var projectId=this.selectedProjects[0].manifest.id,displayName=this.selectedProjects[0].manifest.displayName;this.projectService.export(projectId,displayName)},DashboardCtrl.prototype.launchProject=function(){var projectId=this.selectedProjects[0].manifest.id;this.projectService.launchProject(projectId)},DashboardCtrl.prototype.duplicateProject=function(){var manifest=this.selectedProjects[0].manifest;this.projectService.duplicate(manifest)},DashboardCtrl.prototype.publishProject=function(){var projectId=this.selectedProjects[0].manifest.id,displayName=this.selectedProjects[0].manifest.displayName;this.projectService.publish(projectId,displayName)},DashboardCtrl.prototype.deleteProjects=function(){var _this=this,options={title:"Delete Project(s)",message:"Please confirm that you want to delete the selected project(s).",standardButtons:dialog_service_1.StandardDialogButtons.YesNo};this.dialogService.showMessage(options).then((function(result){if(result&&result.button===dialog_service_1.DialogButtonType.Yes){var projectIds_1=[];_this.selectedProjects.forEach((function(project){projectIds_1.push(project.manifest.id)})),_this.projectService.deleteByIds(projectIds_1).then((function(){_this.getSohoXiApi().unSelectAllRows(),_this.loadProjects()})).catch((function(errorResponse){var options={title:"Delete Project(s)",message:errorResponse.message,standardButtons:dialog_service_1.StandardDialogButtons.Ok,isError:!0};_this.dialogService.showMessage(options)}))}}))},DashboardCtrl.prototype.getSohoXiApi=function(){return this.getGridElement().data("datagrid")},DashboardCtrl.prototype.getGridElement=function(){return this.$element.find("#projects-grid")},DashboardCtrl.prototype.setView=function(view){this.viewState=view},DashboardCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,angular_constants_1.AngularConstants.ELEMENT,angular_constants_1.AngularConstants.STATE_SERVICE,common_constant_1.InjectNames.COMMON_SERVICE,common_constant_1.InjectNames.DESIGNER_SERVICE,common_constant_1.InjectNames.DIALOG_SERVICE,common_constant_1.InjectNames.PROJECT_SERVICE],DashboardCtrl}();exports.DashboardCtrl=DashboardCtrl;var DashboardDirective=function(){function DashboardDirective(){}return DashboardDirective.add=function(m){m.directive("eirDashboard",(function(){return{scope:!0,template:__webpack_require__(1074),controller:DashboardCtrl,controllerAs:"eirDashboardCtrl"}}))},DashboardDirective}();exports.DashboardDirective=DashboardDirective},function(module,exports){module.exports='<div class="angularAnimate-fade designer-splash gray" ng-if=eirDashboardCtrl.isLoading xi-busy=eirDashboardCtrl.isLoading busy-delay=500 transparent-overlay=true> </div> <header class=header> <eir-all-projects-toolbar search-string=eirDashboardCtrl.searchString on-load-projects=eirDashboardCtrl.loadProjects() state=eirDashboardCtrl.state is-project-changed=eirDashboardCtrl.isProjectChanged view-state=eirDashboardCtrl.viewState ng-show="eirDashboardCtrl.state === 0"> </eir-all-projects-toolbar> <eir-create-toolbar ng-show="eirDashboardCtrl.state === 1" new-project=eirDashboardCtrl.newProject state=eirDashboardCtrl.state error-list=eirDashboardCtrl.errorList> </eir-create-toolbar> </header> <div class="page-container scrollable"> <eir-create-project ng-if="eirDashboardCtrl.state === 1" class="row create" new-project=eirDashboardCtrl.newProject error-list=eirDashboardCtrl.errorList> </eir-create-project> </div> <div id=dashboard-tabs class="tab-container alternate" ng-if="eirDashboardCtrl.state === 0" xi-tabs> <ul class=tab-list role=tablist aria-multiselectable=false> <li class="tab is-selected" xi-tooltip="\'Tile View\'" ng-click=eirDashboardCtrl.setView(0)> <a href=#dashboard-card-tab class=hyperlink> <svg class=icon focusable=false aria-hidden=true> <use xlink:href=#icon-tile></use> </svg> <span class=audible>Tile View</span> </a> </li> <li class=tab xi-tooltip="\'Grid View\'" ng-click=eirDashboardCtrl.setView(1)> <a href=#dashboard-grid-tab class=hyperlink> <svg class=icon focusable=false aria-hidden=true> <use xlink:href=#icon-columns></use> </svg> <span class=audible>Grid View</span> </a> </li> </ul> </div> <div id=dashboard-card-tab ng-if="eirDashboardCtrl.state === 0"> <div class=list xi-busy=eirDashboardCtrl.dashboardLoading busy-delay=100> <eir-filter-toolbar-component ng-if=::eirDashboardCtrl.projects filter-type-options=eirDashboardCtrl.filterTypeOptions sort-properties-options=eirDashboardCtrl.sortPropertiesOptions filter-target=eirDashboardCtrl.projects local-prefix=builder-> </eir-filter-toolbar-component> <div class=project-container> <eir-project-card class=card ng-repeat="project in collection = (eirDashboardCtrl.searchString === \'\' ?\r\n\t\t\t\t\teirDashboardCtrl.currentPage : eirDashboardCtrl.projects)\r\n\t\t\t\t\t| filter: { manifest: { displayName: eirDashboardCtrl.searchString }} track by project.manifest.id" ng-class="::{\'selected\': eirDashboardCtrl.currentProject.getId() === project.manifest.id }" ng-mouseenter="project.manifest.showCardOverlay = true" ng-mouseleave="project.manifest.showCardOverlay = false" manifest=project.manifest tags=project.tags is-project-changed=eirDashboardCtrl.isProjectChanged on-load-projects=eirDashboardCtrl.loadProjects() ng-init="$last && eirDashboardCtrl.finishedLoadingProjects()"> </eir-project-card> </div> <eir-paginator ng-if=::eirDashboardCtrl.projects ng-hide="eirDashboardCtrl.searchString !== \'\'" paging-values=eirDashboardCtrl.projects current-page=eirDashboardCtrl.currentPage> </eir-paginator> </div> </div> <div id=dashboard-grid-tab class=row ng-if="eirDashboardCtrl.state === 0" ng-init=eirDashboardCtrl.initDatagrid()> <div class=list> <div class=toolbar role=toolbar> <div class=buttonset> <label class=audible for=searchfield-projects>Keyword Search</label> <input id=searchfield-local-datasource name=searchfield-projects class=searchfield data-options="{ collapsible: false }"/> <button class=btn-tertiary type=button ng-disabled="eirDashboardCtrl.selectedProjects.length === 0" ng-click=eirDashboardCtrl.deleteProjects() xi-tooltip="\'Delete\'"> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-delete></use> </svg> <span>Delete</span> </button> <button class=btn-actions type=button xi-tooltip="\'Add Data Service\'"> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-more></use> </svg> <span class=audible>More Actions</span> </button> <ul class="popupmenu is-padded"> <li class="{{eirDashboardCtrl.selectedProjects.length > 1 || eirDashboardCtrl.selectedProjects.length === 0 ? \'is-disabled\' : \'\'}}"> <a ng-click=eirDashboardCtrl.exportProject()>Export to File</a> </li> <li class="{{eirDashboardCtrl.selectedProjects.length > 1 || eirDashboardCtrl.selectedProjects.length === 0 ? \'is-disabled\' : \'\'}}"> <a ng-click=eirDashboardCtrl.publishProject()>Publish</a> </li> <li class="{{eirDashboardCtrl.selectedProjects.length > 1 || eirDashboardCtrl.selectedProjects.length === 0 ? \'is-disabled\' : \'\'}}"> <a ng-click=eirDashboardCtrl.duplicateProject()>Duplicate</a> </li> <li class="{{eirDashboardCtrl.selectedProjects.length > 1 || eirDashboardCtrl.selectedProjects.length === 0 ? \'is-disabled\' : \'\'}}"> <a ng-click=eirDashboardCtrl.launchProject()>Launch</a> </li> </ul> </div> </div> <div xi-datagrid=eirDashboardCtrl.datagridOptions id=projects-grid></div> </div> </div> <footer> <eir-licenses-button app-name="Infor App Builder"></eir-licenses-button> </footer>'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DuplicateProjectCtrl=void 0;var angular_constants_1=__webpack_require__(7);__webpack_require__(16);var dialog_service_1=__webpack_require__(13),DuplicateProjectCtrl=function(){function DuplicateProjectCtrl(scope){this.scope=scope;var dialog=scope.eirDialog;this.dialog=dialog,this.projectName=dialog.parameter}return DuplicateProjectCtrl.prototype.close=function(){this.dialog.close()},DuplicateProjectCtrl.prototype.duplicate=function(){var result={value:this.projectName,button:dialog_service_1.DialogButtonType.Ok};this.dialog.close(result)},DuplicateProjectCtrl.add=function(m){m.controller("eirDuplicateProjectCtrl",DuplicateProjectCtrl)},DuplicateProjectCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE],DuplicateProjectCtrl}();exports.DuplicateProjectCtrl=DuplicateProjectCtrl},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DisplayNameConflictCtrl=void 0;var angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3);__webpack_require__(16);var dialog_service_1=__webpack_require__(13);__webpack_require__(450);var DisplayNameConflictCtrl=function(){function DisplayNameConflictCtrl(scope){this.scope=scope,this.ReplaceEnum=common_constant_1.ReplaceEnum,this.dialog=scope.eirDialog;var parameter=this.dialog.parameter;this.newName=parameter.newDisplayName,this.oldName=parameter.oldDisplayName,this.message=parameter.message,this.option=common_constant_1.ReplaceEnum.DONOTHING}return DisplayNameConflictCtrl.prototype.close=function(){this.dialog.close()},DisplayNameConflictCtrl.prototype.import=function(){var result={value:this.newName,button:dialog_service_1.DialogButtonType.Ok};this.dialog.close(result)},DisplayNameConflictCtrl.add=function(m){m.controller("eirDisplayNameConflictCtrl",DisplayNameConflictCtrl)},DisplayNameConflictCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE],DisplayNameConflictCtrl}();exports.DisplayNameConflictCtrl=DisplayNameConflictCtrl},function(module,exports,__webpack_require__){"use strict";(function($){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.AllProjectsToolbarComponent=void 0;var angular_1=__importDefault(__webpack_require__(12)),user_control_es_1=__webpack_require__(148),common_constant_1=__webpack_require__(3);__webpack_require__(287),__webpack_require__(41),__webpack_require__(206),__webpack_require__(324),__webpack_require__(132);var angular_constants_1=__webpack_require__(7),debugger_1=__webpack_require__(112);__webpack_require__(51);var helper_1=__webpack_require__(15),dialog_service_1=__webpack_require__(13);__webpack_require__(450),__webpack_require__(70),__webpack_require__(325),__webpack_require__(168);var AllProjectsToolbarComponent=function(){function AllProjectsToolbarComponent($element,commonService,projectService,dialogService,conflictResolutionService){this.$element=$element,this.commonService=commonService,this.projectService=projectService,this.dialogService=dialogService,this.conflictResolutionService=conflictResolutionService,this.importTitle="Import Project",this.currentProject=commonService.getCurrentProject(),this.$element.data(common_constant_1.ElementDataKeys.allProjectsToolbar,this)}return Object.defineProperty(AllProjectsToolbarComponent.prototype,"isDeveloper",{get:function(){return debugger_1.Debugger.isEnabled()&&common_constant_1.Config.IS_DEV},enumerable:!1,configurable:!0}),AllProjectsToolbarComponent.prototype.setState=function(){angular_1.default.element("body").click(),this.state=common_constant_1.DashboardStates.CREATE},AllProjectsToolbarComponent.prototype.importProject=function(){var _this=this;user_control_es_1.WSForm.call({name:common_constant_1.ABFormScriptMethod.SHOW_OPEN_FILE_DIALOG,parameters:["ABProject.iap","Import Project","AppBuilder Project (*.iap)|*.iap"],onCompleted:function(response){return"-1"!==response?_this.importProjectFile(response):response}})},AllProjectsToolbarComponent.prototype.importProjectFile=function(filePath,replaceOption,newDisplayName){var _this=this;void 0===replaceOption&&(replaceOption=common_constant_1.ReplaceEnum.DONOTHING),void 0===newDisplayName&&(newDisplayName=null),this.projectService.importProject(filePath,replaceOption,newDisplayName).then((function(importedProject){_this.onLoadProjects(),_this.validateData(importedProject);_this.dialogService.showToast({title:"Imported",message:"Successfully imported project",position:"top right",progressBar:!0,timeout:3e3})})).catch((function(errorResponse){_this.handleImportError(errorResponse,filePath)}))},AllProjectsToolbarComponent.prototype.importIdConflict=function(conflictingManifest,filePath,errorResponse){var _this=this;this.commonService.loadProjects().then((function(projects){var importDisplayName=conflictingManifest.displayName,options={title:_this.importTitle,template:__webpack_require__(1078),parameter:{message:errorResponse.message,oldDisplayName:importDisplayName,newDisplayName:helper_1.Helper.getProposedNewDisplayName(importDisplayName+common_constant_1.ComponentConstants.COPY_SUFFIX,projects),newDisplayNameOverwrite:helper_1.Helper.getProposedNewDisplayName(importDisplayName,projects,conflictingManifest.id)}};_this.dialogService.show(options).then((function(result){if(result.button===dialog_service_1.DialogButtonType.Ok){var option=result.value.option,newDisplayName=result.value.newDisplayName;_this.importProjectFile(filePath,option,newDisplayName)}}))})).catch((function(error){_this.dialogService.showError("Did not load projects",error.message)}))},AllProjectsToolbarComponent.prototype.importDisplayNameConflict=function(conflictedManifest,filePath,errorResponse){var _this=this;this.commonService.loadProjects().then((function(projects){var options={title:_this.importTitle,template:__webpack_require__(1079),parameter:{message:errorResponse.message,oldDisplayName:conflictedManifest.displayName,newDisplayName:helper_1.Helper.getProposedNewDisplayName(conflictedManifest.displayName+common_constant_1.ComponentConstants.COPY_SUFFIX,projects)}};_this.dialogService.show(options).then((function(result){if(result.button===dialog_service_1.DialogButtonType.Ok){var newDisplayName=result.value;_this.importProjectFile(filePath,common_constant_1.ReplaceEnum.COPYNEW,newDisplayName)}}))})).catch((function(error){_this.dialogService.showError("Did not load projects",error.message)}))},AllProjectsToolbarComponent.prototype.onSearch=function(){"imperial march"===this.searchString.toLowerCase()&&(this.searchString="",$("eir-project-card").each((function(_index,element){var pixel=(Math.random()<common_constant_1.Numbers.HALF?-1:1)*Math.floor(Math.random()*common_constant_1.Numbers.ONE_THOUSAND)+"px";$(element).animate({left:pixel,top:pixel})})))},AllProjectsToolbarComponent.prototype.handleImportError=function(errorResponse,filePath){if(errorResponse.subcode===common_constant_1.Subcodes.PROJECT_ID_CONFLICT){var conflictedManifest=JSON.parse(errorResponse.detail);this.importIdConflict(conflictedManifest,filePath,errorResponse)}else if(errorResponse.subcode===common_constant_1.Subcodes.PROJECT_DISPLAYNAME_CONFLICT){conflictedManifest=JSON.parse(errorResponse.detail);this.importDisplayNameConflict(conflictedManifest,filePath,errorResponse)}else this.showImportProjectErrorMessage(errorResponse.message)},AllProjectsToolbarComponent.prototype.validateData=function(project){var _this=this;this.conflictResolutionService.checkIfInvalidImportedItems("data service(s)",project.datasources).catch((function(errorDialogOptions){return _this.dialogService.showMessage(errorDialogOptions)})),this.conflictResolutionService.checkIfInvalidImportedItems("composite(s)",project.compositeComponents).catch((function(errorDialogOptions){return _this.dialogService.showMessage(errorDialogOptions)}))},AllProjectsToolbarComponent.prototype.showImportProjectErrorMessage=function(reasonMessage){var message="Failed to import project: "+reasonMessage;this.dialogService.showError(this.importTitle,message)},AllProjectsToolbarComponent.add=function(m){m.component("eirAllProjectsToolbar",{bindings:{state:"=",onLoadProjects:"&",searchString:"=",isProjectChanged:"=",viewState:"<"},template:__webpack_require__(1080),controller:AllProjectsToolbarComponent,controllerAs:"ctrl"})},AllProjectsToolbarComponent.$inject=[angular_constants_1.AngularConstants.ELEMENT,common_constant_1.InjectNames.COMMON_SERVICE,common_constant_1.InjectNames.PROJECT_SERVICE,common_constant_1.InjectNames.DIALOG_SERVICE,common_constant_1.InjectNames.CONFLICT_RESOLUTION_SERVICE],AllProjectsToolbarComponent}();exports.AllProjectsToolbarComponent=AllProjectsToolbarComponent}).call(this,__webpack_require__(21))},function(module,exports){module.exports='<div ng-controller="eirIdConflictCtrl as ctrl"> <fieldset class=radio-group> <legend>{{::ctrl.message}}</legend> <input type=radio checked=checked class=radio name=import id=importReplace ng-value=ctrl.ReplaceEnum.OVERWRITE ng-model=ctrl.option /> <label for=importReplace class=radio-label>Import &amp; Replace</label> <br> <label class=extra-label>Replace the existing project with the project you are importing. New name will be <b>{{::ctrl.newDisplayNameOverwrite}}</b>. </label> <br> <input type=radio class=radio name=import id=importCopy ng-value=ctrl.ReplaceEnum.COPYNEW ng-model=ctrl.option /> <label for=importCopy class=radio-label>Import as a New Project</label> <br> <label class=extra-label>The new project will be named <b>{{::ctrl.newDisplayName}}</b>.</label> <br> </fieldset> <div class=modal-buttonset> <button type=button class=btn-modal ng-click=ctrl.close()>Cancel</button> <button type=button class=btn-modal-primary ng-click=ctrl.import()>Import</button> </div> </div>'},function(module,exports){module.exports='<div ng-controller="eirDisplayNameConflictCtrl as ctrl"> <fieldset class=radio-group> <legend>{{::ctrl.message}}</legend> <input type=radio class=radio name=import id=importNewDisplayName ng-value=ctrl.ReplaceEnum.DONOTHING ng-model=ctrl.option /> <label for=importNewDisplayName class=radio-label>Import with new name</label> <br> <label class=extra-label>The new project will be named <b>{{::ctrl.newName}}</b></label> <br> </fieldset> <div class=modal-buttonset> <button type=button class=btn-modal ng-click=ctrl.close()>Cancel</button> <button type=button class=btn-modal-primary ng-click=ctrl.import()>Import</button> </div> </div>'},function(module,exports){module.exports='<div class=toolbar role=toolbar xi-control=toolbar> <div class=title> <h1>Projects</h1> </div> <div class=buttonset> <div class="searchfield-wrapper toolbar-searchfield-wrapper" ng-hide="ctrl.viewState === 1"> <label class=audible for=regular-toolbar-searchfield>Toolbar Searchfield</label> <input class=searchfield placeholder=keyword id=regular-toolbar-searchfield name=regular-toolbar-searchfield ng-model=ctrl.searchString ng-change=ctrl.onSearch() ng-model-options="{ updateOn: \'default\', debounce: {\'default\': 800, \'blur\': 0}}"/> </div> <button type=button xi-tooltip="\'Create new Project\'" xi-button class=btn-primary ng-click=ctrl.setState();> <svg class=icon focusable=false aria-hidden=true> <use xlink:href=#icon-add></use> </svg> <span>New Project</span> </button> <button xi-tooltip="\'More...\'" class=btn-actions xi-popupmenu> <svg class=icon aria-hidden=true focusable=false> <use xlink:href=#icon-more></use> </svg> <span class=audible>More</span> </button> <ul class=popupmenu> <li ng-click=ctrl.importProject()> <a>Import Project</a> </li> <li class=separator></li> <li ui-sref=repository> <a>Repository</a> </li> <li ng-if=::ctrl.isDeveloper ui-sref=developer> <a>Developer Tools</a> </li> <li ng-if=::ctrl.isDeveloper ui-sref="ng2AppLauncher({ projectId: \'6cb726da-1309-499f-8714-b6b725e3a966\' })"> <a>Ng2 App Launcher</a> </li> </ul> </div> <div class=return-container> <span class=return-to-project ng-if=ctrl.currentProject ui-sref="editor({ id: ctrl.currentProject.getId(), reloadProject: true })"> Return to Current Project </span> </div> </div>'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProjectCardComponent=void 0;var common_constant_1=__webpack_require__(3);__webpack_require__(206),__webpack_require__(326);var defines_1=__webpack_require__(16);__webpack_require__(51);var dialog_service_1=__webpack_require__(13);__webpack_require__(168);var ProjectCardComponent=function(){function ProjectCardComponent(projectService,dialogService){this.projectService=projectService,this.dialogService=dialogService}return ProjectCardComponent.prototype.$onInit=function(){this.isProjectChanged=!1},ProjectCardComponent.prototype.openRuntime=function(){this.projectService.launchProject(this.manifest.id)},ProjectCardComponent.prototype.publishProject=function(){this.projectService.publish(this.manifest.id,this.manifest.displayName)},ProjectCardComponent.prototype.exportProject=function(){this.projectService.export(this.manifest.id,this.manifest.displayName)},ProjectCardComponent.prototype.duplicateProject=function(){this.projectService.duplicate(this.manifest)},ProjectCardComponent.prototype.deleteProject=function(){var _this=this,options={title:"Delete Project",message:"Please confirm that you want to delete this project.",standardButtons:dialog_service_1.StandardDialogButtons.YesNo};this.dialogService.showMessage(options).then((function(result){result&&result.button===dialog_service_1.DialogButtonType.Yes&&_this.projectService.deleteById(_this.manifest.id).then((function(){_this.onLoadProjects()})).catch((function(errorResponse){var options={title:"Delete Project",message:errorResponse.message,standardButtons:dialog_service_1.StandardDialogButtons.Ok,isError:!0};_this.dialogService.showMessage(options)}))}))},ProjectCardComponent.prototype.onStartEditProjectName=function(){this.editingManifest=this.manifest,this.editingManifestOldDisplayName=this.editingManifest.displayName},ProjectCardComponent.prototype.onDoneEditProjectName=function(){var _this=this,oldDisplayName=this.editingManifestOldDisplayName,newDisplayName=this.editingManifest.displayName;if(newDisplayName&&newDisplayName!==oldDisplayName)this.projectService.renameProject(this.editingManifest.id,newDisplayName).then((function(){_this.isProjectChanged=!0,_this.editingManifestOldDisplayName=null,_this.onLoadProjects()})).catch((function(errorResponse){_this.editingManifest.displayName=oldDisplayName;var message="\n\t\t\t\t\t\tFailed to change project name from "+oldDisplayName+" to "+newDisplayName+". Reason: "+errorResponse.message;_this.dialogService.showError("Operation Failed",message)}));else{if(!newDisplayName){this.editingManifest.displayName=oldDisplayName;this.dialogService.showError("Operation Failed","Project name can not be empty")}this.editingManifestOldDisplayName=null}},ProjectCardComponent.prototype.isProjectDisplayNameEditMode=function(){return!!this.editingManifestOldDisplayName},ProjectCardComponent.prototype.onKeyUpEvent=function(keyCode){keyCode===defines_1.KeyCodeEnum.ENTER?this.onDoneEditProjectName():keyCode===defines_1.KeyCodeEnum.ESCAPE&&this.onAbortEditProjectName()},ProjectCardComponent.prototype.onAbortEditProjectName=function(){this.editingManifest.displayName=this.editingManifestOldDisplayName,this.editingManifestOldDisplayName=null},ProjectCardComponent.add=function(m){m.component("eirProjectCard",{bindings:{manifest:"<",tags:"<",isProjectChanged:"=",onLoadProjects:"&"},template:__webpack_require__(1082),controller:ProjectCardComponent,controllerAs:"ctrl"})},ProjectCardComponent.$inject=[common_constant_1.InjectNames.PROJECT_SERVICE,common_constant_1.InjectNames.DIALOG_SERVICE],ProjectCardComponent}();exports.ProjectCardComponent=ProjectCardComponent},function(module,exports){module.exports='<div class=card-header> <h2 class=widget-title xi-tooltip="ctrl.manifest.displayName | eirHtmlEncode" ng-click=ctrl.onStartEditProjectName() ng-if=!ctrl.isProjectDisplayNameEditMode()> {{ ctrl.manifest.displayName }} </h2> <div ng-if=ctrl.isProjectDisplayNameEditMode()> <input class=editing-display-name-field ng-blur=ctrl.onDoneEditProjectName() ng-keyup=ctrl.onKeyUpEvent($event.keyCode) ng-model=ctrl.editingManifest.displayName type=text /> </div> </div> <div class=card-content> <div class=image-container> <img ng-src="{{::ctrl.manifest.previewImg ? ctrl.manifest.previewImg : \'designer/images/02-thumb.png\'}}" alt="No image"/> </div> <div class="description small-thin-text"> <div> <span>Created by</span> <span>{{::ctrl.manifest.createdByDisplayName}}</span> <span class=date>{{::ctrl.manifest.createdTime | date:\'yyyy-MM-dd HH:mm:ss\'}}</span> </div> <hr/> <div> <span>Changed by</span> <span>{{::ctrl.manifest.lastChangedByDisplayName}}</span> <span class=date>{{::ctrl.manifest.lastChangedTime | date:\'yyyy-MM-dd HH:mm:ss\'}}</span> </div> </div> <div class=card-overlay ng-if=ctrl.manifest.showCardOverlay ui-sref="editor({ id: ctrl.manifest.id, reloadProject: true })"> <div class=open-project> <label>Open Project</label> </div> <div class=project-description> <span>{{ ::ctrl.manifest.description }}</span> </div> <eir-project-tags tags=ctrl.tags></eir-project-tags> <div class=overlay-buttons ng-click=$event.stopPropagation()> <a xi-tooltip="\'Delete Project\'" ng-click="$event.stopPropagation(); ctrl.deleteProject();"> <svg class=icon focusable=false aria-hidden=true> <use xlink:href=#icon-delete></use> </svg> <span>Delete</span> </a> <a xi-tooltip="\'Duplicate Project\'" ng-click="$event.stopPropagation(); ctrl.duplicateProject();"> <svg class=icon focusable=false aria-hidden=true> <use xlink:href=#icon-copy></use> </svg> <span>Duplicate</span> </a> <a xi-tooltip="\'Export Project\'" ng-click="$event.stopPropagation(); ctrl.exportProject();"> <svg class=icon focusable=false aria-hidden=true> <use xlink:href=#icon-export></use> </svg> <span>Export</span> </a> <a xi-tooltip="\'Launch Project\'" ng-click="$event.stopPropagation(); ctrl.openRuntime();"> <svg class=icon focusable=false aria-hidden=true> <use xlink:href=#icon-rocket></use> </svg> <span>Launch</span> </a> <a xi-tooltip="\'Publish Project\'" ng-click="$event.stopPropagation(); ctrl.publishProject();"> <svg class=icon focusable=false aria-hidden=true> <use xlink:href=#icon-url></use> </svg> <span>Publish</span> </a> </div> </div> </div>'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CreateProjectComponent=void 0,__webpack_require__(3),__webpack_require__(94);var defines_1=__webpack_require__(552),CreateProjectComponent=function(){function CreateProjectComponent(){}return Object.defineProperty(CreateProjectComponent.prototype,"newProject",{get:function(){return this.newProjectBinding},set:function(value){this.newProjectBinding={projectName:"",projectDescription:"",templateNumber:void 0,tags:[]}},enumerable:!1,configurable:!0}),Object.defineProperty(CreateProjectComponent.prototype,"templates",{get:function(){return defines_1.PAGE_TEMPLATES},enumerable:!1,configurable:!0}),CreateProjectComponent.prototype.selectTemplate=function(template){this.newProjectBinding.templateNumber=template.idx},CreateProjectComponent.add=function(m){m.component("eirCreateProject",{bindings:{newProject:"=",errorList:"="},template:__webpack_require__(1084),controller:CreateProjectComponent,controllerAs:"ctrl"})},CreateProjectComponent}();exports.CreateProjectComponent=CreateProjectComponent},function(module,exports){module.exports='<form> <div class=layoutForm> <div class=field> <eir-input-field-component label-name="Project Name" field-value=ctrl.newProject.projectName validation="{\r\n\t\t\t\t\tvalidators: [\r\n\t\t\t\t\t\t{type: \'max-length\', value: 128},\r\n\t\t\t\t\t\t{type: \'not-empty\'}\r\n\t\t\t\t\t],\r\n\t\t\t\t\terrorList: ctrl.errorList\r\n\t\t\t\t}"/> </div> <div class=field> <eir-textarea-field-component label-name=Description field-value=ctrl.newProject.projectDescription validation="{\r\n\t\t\t\t\tvalidators: [\r\n\t\t\t\t\t\t{type: \'max-length\', value: 2000}\r\n\t\t\t\t\t],\r\n\t\t\t\t\terrorList: ctrl.errorList\r\n\t\t\t\t}"/> </div> <eir-tag-dropdown class=light project=ctrl.newProject selected-tags=[]></eir-tag-dropdown> </div> <div id=newProject-container> <div class=template-header> <div id=page-template-header> <h4>Page Templates</h4> </div> <div class=separator /> </div> <div class=template-container> <div ng-repeat="template in ::ctrl.templates | orderBy:\'idx\'" ng-class="{\'selected\': ctrl.newProject.templateNumber === template.idx}" class="tmplListItem layoutTemplate"> <input id=newProject-page-template-{{template.idx}} type=radio name=newProject-page-template ng-model=ctrl.newProject.templateNumber ng-value=template.idx /> <label for=newProject-page-template-{{template.idx}} ng-click=ctrl.selectTemplate(template)> <img ng-src={{::template.imgSrc}} alt="No image"/> </label> </div> </div> </div> </form>'},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.CreateToolbarComponent=void 0;var angular_1=__importDefault(__webpack_require__(12)),common_constant_1=__webpack_require__(3),orientation_enum_1=__webpack_require__(44);__webpack_require__(205),__webpack_require__(324),__webpack_require__(116),__webpack_require__(132);var designer_manifest_1=__webpack_require__(149),file_metadata_1=__webpack_require__(521),app_state_1=__webpack_require__(236),angular_constants_1=__webpack_require__(7);__webpack_require__(51),__webpack_require__(94);var helper_1=__webpack_require__(15);__webpack_require__(279),__webpack_require__(13);var flexbox_settings_1=__webpack_require__(332);__webpack_require__(20),__webpack_require__(168);var CreateToolbarComponent=function(){function CreateToolbarComponent($state,$timeout,editorService,projectService,dialogService){this.$state=$state,this.$timeout=$timeout,this.editorService=editorService,this.projectService=projectService,this.dialogService=dialogService,this.$timeout((function(){angular_1.default.element("#new-project-name-field").focus()}),1)}return Object.defineProperty(CreateToolbarComponent.prototype,"isDisabled",{get:function(){return 0!==this.errorList.length},enumerable:!1,configurable:!0}),CreateToolbarComponent.prototype.setState=function(){this.state=common_constant_1.DashboardStates.LIST},CreateToolbarComponent.prototype.createProject=function(){var _this=this;if(!this.newProject.projectName||!this.newProject.templateNumber)this.showCreateProjectErrorMessage("Please fill in a project name and choose a template");else{var newProjectDatabearer=this.prepareNewProject(this.newProject);this.projectService.createProject(newProjectDatabearer).then((function(mashup){_this.editorService.clearIdCounter(),_this.editorService.setCurrentBoundary(common_constant_1.DEFAULT_BOUNDARY),_this.$state.go(app_state_1.AppState.EDITOR.name,{id:mashup.manifest.id,reloadProject:!0})})).catch((function(errorResponse){_this.showCreateProjectErrorMessage(errorResponse.message)}))}},CreateToolbarComponent.prototype.prepareNewProject=function(newProjectDefinition){var manifest=new designer_manifest_1.DesignerManifest(this.newProject.projectName,this.newProject.projectDescription),rootComponent=this.getTemplate(this.newProject.templateNumber);manifest.fileMetaData[common_constant_1.ProjectFileKeys.ROOT_COMPONENT]=new file_metadata_1.FileMetaData(rootComponent.id,common_constant_1.MimeTypes.COMPONENT),manifest.mashupBoundaries=[common_constant_1.DEFAULT_BOUNDARY];var headerTranslations=[{locale:common_constant_1.LanguageConsts.DEFAULT.key,value:manifest.title}];return{manifest:manifest,rootComponent:rootComponent,translations:[{id:helper_1.Helper.generateUniqueId(),componentId:rootComponent.id,property:common_constant_1.SettingKeys.APPLICATION_HEADER,translations:headerTranslations}],tags:newProjectDefinition.tags}},CreateToolbarComponent.prototype.showCreateProjectErrorMessage=function(message){this.dialogService.showError("Create New Project",message)},CreateToolbarComponent.prototype.getTemplate=function(id){var newIDs,template,templateComponent=flexbox_settings_1.FlexboxSettings.getInstance().createWithoutPadding("AppPanel");switch(id){case common_constant_1.ProjectLayout.ONE:return templateComponent;case common_constant_1.ProjectLayout.TWO:return newIDs=this.generateIds("Flexbox",common_constant_1.Numbers.TWO),this.buildTemplate(templateComponent,newIDs,orientation_enum_1.OrientationEnum.HORIZONTAL);case common_constant_1.ProjectLayout.THREE:return newIDs=this.generateIds("Flexbox",common_constant_1.Numbers.THREE),this.buildTemplate(templateComponent,newIDs,orientation_enum_1.OrientationEnum.HORIZONTAL);case common_constant_1.ProjectLayout.FOUR:return newIDs=this.generateIds("Flexbox",common_constant_1.Numbers.TWO),(template=this.buildTemplate(templateComponent,newIDs,orientation_enum_1.OrientationEnum.HORIZONTAL)).children[0].boundarySettings[common_constant_1.DEFAULT_BOUNDARY.id].sizeType=common_constant_1.FlexSizeTypeEnum.PIXELS,template.children[0].boundarySettings[common_constant_1.DEFAULT_BOUNDARY.id].size=common_constant_1.Numbers.THREE_HUNDRED,template;case common_constant_1.ProjectLayout.FIVE:return newIDs=this.generateIds("Flexbox",common_constant_1.Numbers.FOUR),(template=this.buildTemplate(templateComponent,newIDs.slice(0,common_constant_1.Numbers.TWO),orientation_enum_1.OrientationEnum.HORIZONTAL)).children[0].boundarySettings[common_constant_1.DEFAULT_BOUNDARY.id].sizeType=common_constant_1.FlexSizeTypeEnum.PIXELS,template.children[0].boundarySettings[common_constant_1.DEFAULT_BOUNDARY.id].size=common_constant_1.Numbers.THREE_HUNDRED,this.buildTemplate(template.children[1],newIDs.slice(common_constant_1.Numbers.TWO,common_constant_1.Numbers.FOUR)),template;case common_constant_1.ProjectLayout.SIX:return newIDs=this.generateIds("Flexbox",common_constant_1.Numbers.TWO),template=this.buildTemplate(templateComponent,newIDs);case common_constant_1.ProjectLayout.SEVEN:return newIDs=this.generateIds("Flexbox",common_constant_1.Numbers.THREE),template=this.buildTemplate(templateComponent,newIDs);case common_constant_1.ProjectLayout.EIGHT:return newIDs=this.generateIds("Flexbox",common_constant_1.Numbers.SIX),template=this.buildTemplate(templateComponent,newIDs.slice(0,common_constant_1.Numbers.TWO)),this.buildTemplate(template.children[0],newIDs.slice(common_constant_1.Numbers.TWO,common_constant_1.Numbers.FOUR),orientation_enum_1.OrientationEnum.HORIZONTAL),this.buildTemplate(template.children[1],newIDs.slice(common_constant_1.Numbers.FOUR,common_constant_1.Numbers.SIX),orientation_enum_1.OrientationEnum.HORIZONTAL),template;case common_constant_1.ProjectLayout.NINE:return newIDs=this.generateIds("Flexbox",common_constant_1.Numbers.FOUR),template=this.buildTemplate(templateComponent,newIDs.slice(0,common_constant_1.Numbers.TWO)),this.buildTemplate(template.children[0],newIDs.slice(common_constant_1.Numbers.TWO,common_constant_1.Numbers.FOUR),orientation_enum_1.OrientationEnum.HORIZONTAL),template;case common_constant_1.ProjectLayout.TEN:return newIDs=this.generateIds("Flexbox",common_constant_1.Numbers.FOUR),template=this.buildTemplate(templateComponent,newIDs.slice(0,common_constant_1.Numbers.TWO)),this.buildTemplate(template.children[1],newIDs.slice(common_constant_1.Numbers.TWO,common_constant_1.Numbers.FOUR),orientation_enum_1.OrientationEnum.HORIZONTAL),template;case common_constant_1.ProjectLayout.ELEVEN:return newIDs=this.generateIds("Flexbox",common_constant_1.Numbers.THREE),(template=this.buildTemplate(templateComponent,newIDs)).children[1].boundarySettings[common_constant_1.DEFAULT_BOUNDARY.id].size=common_constant_1.Numbers.TWO,template.children[common_constant_1.Numbers.TWO].boundarySettings[common_constant_1.DEFAULT_BOUNDARY.id].size=common_constant_1.Numbers.TWO,template;case common_constant_1.ProjectLayout.TWELVE:return newIDs=this.generateIds("Flexbox",common_constant_1.Numbers.SEVEN),(template=this.buildTemplate(templateComponent,newIDs.slice(0,common_constant_1.Numbers.THREE))).children[1].boundarySettings[common_constant_1.DEFAULT_BOUNDARY.id].size=common_constant_1.Numbers.TWO,template.children[common_constant_1.Numbers.TWO].boundarySettings[common_constant_1.DEFAULT_BOUNDARY.id].size=common_constant_1.Numbers.TWO,this.buildTemplate(template.children[1],newIDs.slice(common_constant_1.Numbers.THREE,common_constant_1.Numbers.FIVE),orientation_enum_1.OrientationEnum.HORIZONTAL),this.buildTemplate(template.children[common_constant_1.Numbers.TWO],newIDs.slice(common_constant_1.Numbers.FIVE,common_constant_1.Numbers.SEVEN),orientation_enum_1.OrientationEnum.HORIZONTAL),template;case common_constant_1.ProjectLayout.THIRTEEN:return newIDs=this.generateIds("Flexbox",common_constant_1.Numbers.FOUR),(template=this.buildTemplate(templateComponent,newIDs.slice(0,common_constant_1.Numbers.TWO))).boundarySettings[common_constant_1.DEFAULT_BOUNDARY.id].orientation=orientation_enum_1.OrientationEnum.VERTICAL,template.children[1].boundarySettings[common_constant_1.DEFAULT_BOUNDARY.id].size=common_constant_1.Numbers.FOUR,this.buildTemplate(template.children[1],newIDs.slice(common_constant_1.Numbers.TWO,common_constant_1.Numbers.FOUR),orientation_enum_1.OrientationEnum.HORIZONTAL),template;default:console.warn("[DashboardCtrl] Invalid template chosen")}return null},CreateToolbarComponent.prototype.buildTemplate=function(template,numberOfCells,orientation){void 0===orientation&&(orientation=orientation_enum_1.OrientationEnum.VERTICAL);for(var cells=[],i=0;i<numberOfCells.length;i++)cells[i]=flexbox_settings_1.FlexboxSettings.getInstance().create(numberOfCells[i]),template.children.push(cells[i]);return template.boundarySettings[common_constant_1.DEFAULT_BOUNDARY.id].orientation=orientation,template},CreateToolbarComponent.prototype.generateIds=function(componentTypeName,numberOfIds){for(var newIDs=[],index=0;index<numberOfIds;index++)newIDs[index]=componentTypeName+index;return newIDs},CreateToolbarComponent.add=function(m){m.component("eirCreateToolbar",{bindings:{state:"=",newProject:"<",errorList:"<"},template:__webpack_require__(1086),controller:CreateToolbarComponent,controllerAs:"ctrl"})},CreateToolbarComponent.$inject=[angular_constants_1.AngularConstants.STATE_SERVICE,angular_constants_1.AngularConstants.TIMEOUT,common_constant_1.InjectNames.EDITOR_SERVICE,common_constant_1.InjectNames.PROJECT_SERVICE,common_constant_1.InjectNames.DIALOG_SERVICE],CreateToolbarComponent}();exports.CreateToolbarComponent=CreateToolbarComponent},function(module,exports){module.exports='<div class="toolbar has-title"> <div class=title> <h1><span>New Project</span></h1> </div> <div class=buttonset> <button xi-button class=btn type=button ng-click=ctrl.setState();> Cancel </button> <button ng-disabled=ctrl.isDisabled ng-click=ctrl.createProject(); xi-button class=btn type=button> Create </button> </div> </div>'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ComponentValueDirective=exports.ComponentValueController=void 0;var angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3);__webpack_require__(20);var ComponentValueController=function(){function ComponentValueController(scope,editorService){this.scope=scope,this.editorService=editorService,this.defaultValue="<Empty>"}return ComponentValueController.prototype.watchChange=function(){var _this=this;this.scope.$watch("content",(function(){var isRuntimeMode=_this.editorService.getCanvasMode();_this.setLabel(isRuntimeMode)})),this.scope.$watch((function(){return _this.editorService.getCanvasMode()}),(function(isRuntimeMode){_this.setLabel(isRuntimeMode)}))},ComponentValueController.prototype.setLabel=function(isRuntimeMode){var rawJson=JSON.stringify(this.scope.content);rawJson&&(isRuntimeMode!==common_constant_1.CanvasModeEnum.SELECTION&&isRuntimeMode!==common_constant_1.CanvasModeEnum.INSERT||!rawJson.match(/""/i)?isRuntimeMode===common_constant_1.CanvasModeEnum.RUNTIME&&(this.showLabelEmpty=!1):this.showLabelEmpty=!0)},ComponentValueController.$inject=[angular_constants_1.AngularConstants.SCOPE,common_constant_1.InjectNames.EDITOR_SERVICE],ComponentValueController}();exports.ComponentValueController=ComponentValueController;var ComponentValueDirective=function(){function ComponentValueDirective(){this.scope={content:"=content"},this.template="{{!content && vm.showLabelEmpty ? vm.defaultValue : content }}",this.controller=ComponentValueController,this.controllerAs="vm",this.link=function(scope,element,attribute,controller){controller.watchChange()}}return ComponentValueDirective.add=function(m){m.directive("eirComponentValue",(function(){return new ComponentValueDirective}))},ComponentValueDirective}();exports.ComponentValueDirective=ComponentValueDirective},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.CanvasDirective=exports.CanvasCtrl=void 0;var angular_1=__importDefault(__webpack_require__(12)),colors_constant_1=__webpack_require__(423),common_constant_1=__webpack_require__(3);__webpack_require__(274),__webpack_require__(32),__webpack_require__(205),__webpack_require__(23),__webpack_require__(116),__webpack_require__(132),__webpack_require__(130);var angular_constants_1=__webpack_require__(7),helper_1=__webpack_require__(15);__webpack_require__(165),__webpack_require__(76);var application_parent_1=__webpack_require__(207);__webpack_require__(28);var editor_application_parent_1=__webpack_require__(443),editor_layout_component_1=__webpack_require__(446);__webpack_require__(20),__webpack_require__(169),__webpack_require__(237);var CanvasCtrl=function(){function CanvasCtrl($compile,$element,$rootScope,$scope,$timeout,editorService,frameworkService,interactionManagementService,undoService){var _this=this;this.$compile=$compile,this.$element=$element,this.$rootScope=$rootScope,this.$scope=$scope,this.$timeout=$timeout,this.editorService=editorService,this.frameworkService=frameworkService,this.interactionManagementService=interactionManagementService,this.undoService=undoService,this.originalComponentDirective='\n\t\t<eir-component-directive\n\t\t\tng-if="eirCanvasCtrl.rootComponent"\n\t\t\tcomponent="eirCanvasCtrl.rootComponent"\n\t\t\tparent="eirCanvasCtrl.parent"\n\t\t\tcontext="eirCanvasCtrl.context"\n\t\t\tcomponent-ready="eirCanvasCtrl.onComponentReady(componentInstance)"\n\t\t></eir-component-directive>',this.canvasStyle={backgroundColor:colors_constant_1.colors.slate08},this.unsubscribers=[],this.mashupRootContainer=$element.find("."+common_constant_1.CSSClasses.mashupRootContainer),this.initUnsubscribers();var currentProject=this.editorService.getCurrentProject();this.openProject(currentProject),this.initCanvas(),$scope.$on(angular_constants_1.AngularConstants.DESTROY,(function(){angular_1.default.forEach(_this.unsubscribers,(function(unsubscribe){unsubscribe()}))}))}return CanvasCtrl.prototype.initCanvas=function(){this.editorService.setCanvasMode(common_constant_1.CanvasModeEnum.SELECTION),this.currentTheme=this.editorService.getCurrentCanvasTheme(),this.canvasStyle=this.getCanvasStyle(this.currentTheme)},CanvasCtrl.prototype.initUnsubscribers=function(){var _this=this,undoService=this.undoService,editorService=this.editorService;this.unsubscribers.push(undoService.undoActionEvent.on((function(undoAction){_this.updateCanvas(undoAction)}))),this.unsubscribers.push(editorService.canvasModeChangedEvent.on((function(newMode){_this.canvasMode=newMode}))),this.unsubscribers.push(editorService.currentCanvasThemeChangedEvent.on((function(theme){_this.currentTheme=theme,_this.canvasStyle=_this.getCanvasStyle(theme)})))},CanvasCtrl.prototype.getCanvasStyle=function(theme){var style={backgroundColor:colors_constant_1.colors.graphite01};switch(theme){case common_constant_1.ThemeEnum.LIGHT:style.backgroundColor=colors_constant_1.colors.graphite01;break;case common_constant_1.ThemeEnum.LIGHT_TRANSPARENT:style.backgroundColor=colors_constant_1.colors.graphite01,style.backgroundImage='url("designer/images/transparent-grid.png")';break;case common_constant_1.ThemeEnum.DARK:style.backgroundColor=colors_constant_1.colors.slate08;break;case common_constant_1.ThemeEnum.DARK_TRANSPARENT:style.backgroundColor=colors_constant_1.colors.slate08,style.backgroundImage='url("designer/images/transparent-grid-light.png")';break;case common_constant_1.ThemeEnum.HIGH_CONTRAST:style.backgroundColor=colors_constant_1.colors.graphite03;break;default:style.backgroundColor=colors_constant_1.colors.graphite01}return style},CanvasCtrl.prototype.openProject=function(project){this.parent=new editor_application_parent_1.EditorApplicationParent(application_parent_1.ApplicationParent.applicationParentDatabearer,application_parent_1.ApplicationParent.createSpoofedElement(this.$rootScope.$new()),null,this.frameworkService),this.context={},this.rootComponent=project.rootComponent,this.compileComponent(),this.undoService.clearActions(),this.undoService.pushUndoAction(project)},CanvasCtrl.prototype.onComponentReady=function(componentInstance){this.$timeout.cancel(this.renderComponentsTimeout),this.parent.addChildInstance(componentInstance),this.editorService.setCurrentRootComponentInstance(componentInstance),this.editorService.createLanguageComponentFromOldComponents(),this.interactionManagementService.runStartupInteractions(),componentInstance.newBoundaryEntered(this.editorService.getCurrentBoundary().id),this.frameworkService.triggerExpressions(),helper_1.Helper.appIsReadyForSelenium()},CanvasCtrl.prototype.updateCanvas=function(undoAction){var component=undoAction.stateRootComponent,interactions=undoAction.stateInteractions,translations=undoAction.stateTranslations,currentProject=this.editorService.getCurrentProject();currentProject.setRoot(component),this.rootComponent=component,this.editorService.syncTranslations(translations),currentProject.setInteractions(interactions),this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.CANVAS_COMPONENTS|common_constant_1.SaveFlagsEnum.TRANSLATIONS|common_constant_1.SaveFlagsEnum.INTERACTIONS),this.compileComponent(),this.editorService.deselectComponent()},CanvasCtrl.prototype.compileComponent=function(){var _this=this,newScope=this.$scope.$new();newScope.component=this.rootComponent,newScope.parent=this.parent,newScope.context=this.context;this.renderComponentsTimeout=this.$timeout((function(){if(_this.parent.children.length<1)throw new Error("[Canvas] Problem opening project")}),1e4);var template=editor_layout_component_1.EditorLayoutComponentCtrl.createTemplate(this.rootComponent.typedef);template.attr("component-ready","eirCanvasCtrl.onComponentReady(componentInstance)"),template.attr("component-destroyed","eirCanvasCtrl.onComponentDestroyed(componentInstance)"),this.$compile(template)(newScope,(function(clone){_this.mashupRootContainer.empty(),_this.mashupRootContainer.append(clone)}))},CanvasCtrl.prototype.onComponentDestroyed=function(component){},CanvasCtrl.$inject=[angular_constants_1.AngularConstants.COMPILE,angular_constants_1.AngularConstants.ELEMENT,angular_constants_1.AngularConstants.ROOT_SCOPE,angular_constants_1.AngularConstants.SCOPE,angular_constants_1.AngularConstants.TIMEOUT,common_constant_1.InjectNames.EDITOR_SERVICE,common_constant_1.InjectNames.FRAMEWORK_SERVICE,common_constant_1.InjectNames.INTERACTION_MANAGEMENT_SERVICE,common_constant_1.InjectNames.UNDO_SERVICE],CanvasCtrl}();exports.CanvasCtrl=CanvasCtrl;var CanvasDirective=function(){function CanvasDirective(){}return CanvasDirective.add=function(m){m.directive("eirCanvas",[function(){return{scope:{},template:__webpack_require__(1089),controller:CanvasCtrl,controllerAs:"eirCanvasCtrl"}}])},CanvasDirective}();exports.CanvasDirective=CanvasDirective},function(module,exports){module.exports='<eir-ruler class=noSelect></eir-ruler> <div id=insideRuler> <eir-titlebar></eir-titlebar> <div ng-style=eirCanvasCtrl.canvasStyle class="page-container mashupRootContainer" ng-class="{ runtimeMode: eirCanvasCtrl.canvasMode === 0, \r\n\t\tselectionMode: eirCanvasCtrl.canvasMode === 1, \r\n\t\tinsertMode: eirCanvasCtrl.canvasMode === 2,\r\n\t\tfinderMode: eirCanvasCtrl.canvasMode === 3}"> </div> <eir-resize-handler></eir-resize-handler> <eir-canvas-slider></eir-canvas-slider> </div> <eir-statusbar></eir-statusbar>'},function(module,exports,__webpack_require__){"use strict";(function($){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.CanvasSliderDirective=exports.CanvasSliderCtrl=void 0;var angular_1=__importDefault(__webpack_require__(12)),angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3),standard_boundaries_constant_1=__webpack_require__(312),dialog_service_1=__webpack_require__(13);__webpack_require__(330),__webpack_require__(20),__webpack_require__(562),__webpack_require__(1091);var CanvasSliderCtrl=function(){function CanvasSliderCtrl($scope,$element,editorService,dialogService,boundaryManagementService){var _this=this;this.$scope=$scope,this.$element=$element,this.editorService=editorService,this.dialogService=dialogService,this.boundaryManagementService=boundaryManagementService,this.unsubscribers=[],this.insideRulerElement=$element.parent(),this.initDraggable(),this.unsubscribers.push(boundaryManagementService.newBoundaryAddedEvent.on((function(boundary){_this.positionCanvasResizer(boundary)}))),this.unsubscribers.push(boundaryManagementService.boundaryMovedEvent.on((function(boundary){_this.positionCanvasResizer(boundary)}))),this.positionCanvasResizer(editorService.getCurrentBoundary()),$scope.$on(angular_constants_1.AngularConstants.DESTROY,(function(){angular_1.default.forEach(_this.unsubscribers,(function(unsubscribe){unsubscribe()}))}))}return CanvasSliderCtrl.prototype.initDraggable=function(){var _this=this,dragCanvasWidth=function(event,ui){if(ui.position.left>0){_this.insideRulerElement.width(ui.position.left+18),angular_1.default.element(window).trigger("resize")}else ui.position.left=0};this.$element.draggable({axis:"x",drag:dragCanvasWidth.bind(this),start:dragCanvasWidth.bind(this),containment:$("mashupCanvas"),scroll:!1,snap:$(".hBoundaryMarker")})},CanvasSliderCtrl.prototype.addBoundaryMarker=function(){var offsetX=angular_1.default.element("#insideRuler").width();this.boundaryManagementService.addNewBoundaryMarker(offsetX)},CanvasSliderCtrl.prototype.showStandardBoundariesDialog=function(){var _this=this,projectBoundaries=this.editorService.getCurrentProject().getBoundaries(),oldBoundaryIds=[],newBoundaryIds=[],addedboundaries=[],notAddedBoundaries=[],save=!1;standard_boundaries_constant_1.STANDARD_BOUNDARIES.forEach((function(standardBoundary){projectBoundaries.some((function(projectBoundary){return projectBoundary.id===standardBoundary.id&&projectBoundary.displayName===standardBoundary.displayName}))&&oldBoundaryIds.push(standardBoundary.id)}));var options={title:"Standard Boundaries",template:__webpack_require__(1099),parameter:{standardBoundaries:standard_boundaries_constant_1.STANDARD_BOUNDARIES,selectedStandardBoundaryIds:oldBoundaryIds}};this.dialogService.show(options).then((function(standardBoundariesDialogResult){standardBoundariesDialogResult.button===dialog_service_1.DialogButtonType.Ok&&(newBoundaryIds=standardBoundariesDialogResult.value,standard_boundaries_constant_1.STANDARD_BOUNDARIES.forEach((function(boundary){-1!==oldBoundaryIds.indexOf(boundary.id)&&-1===newBoundaryIds.indexOf(boundary.id)&&(_this.boundaryManagementService.removeProjectBoundary(boundary),save=!0)})))})).then((function(){standard_boundaries_constant_1.STANDARD_BOUNDARIES.forEach((function(boundary){-1===oldBoundaryIds.indexOf(boundary.id)&&-1!==newBoundaryIds.indexOf(boundary.id)&&(_this.editorService.getCurrentProject().getBoundaries().length<common_constant_1.ProjectLimit.MAX_BOUNDARIES?(_this.boundaryManagementService.addProjectBoundary(boundary),addedboundaries.push(boundary.displayName),save=!0):notAddedBoundaries.push(boundary.displayName))})),_this.onMaxBoundariesReached(notAddedBoundaries)})).finally((function(){save&&_this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.MANIFEST).then((function(){if(addedboundaries.length>0){var options_1={title:"New Boundary",message:"Successfully added the "+addedboundaries.toString(),position:"top right",progressBar:!0};_this.dialogService.showToast(options_1)}else _this.onMaxBoundariesReached(notAddedBoundaries)}))}))},CanvasSliderCtrl.prototype.onMaxBoundariesReached=function(boundaries){if(boundaries.length>0){var message="Unsuccessfully added "+boundaries.toString()+". Max boundaries are reached, try to delete one first.";this.dialogService.showError("Error",message)}},CanvasSliderCtrl.prototype.positionCanvasResizer=function(boundary){if(boundary===common_constant_1.DEFAULT_BOUNDARY)this.insideRulerElement.width(""),this.$element.css({left:"calc(100% - 18px)"});else{this.insideRulerElement.width(boundary.limitX),this.$element.css({left:boundary.limitX-18})}angular_1.default.element(window).trigger("resize")},CanvasSliderCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,angular_constants_1.AngularConstants.ELEMENT,common_constant_1.InjectNames.EDITOR_SERVICE,common_constant_1.InjectNames.DIALOG_SERVICE,common_constant_1.InjectNames.BOUNDARY_MANAGEMENT_SERVICE],CanvasSliderCtrl}();exports.CanvasSliderCtrl=CanvasSliderCtrl;var CanvasSliderDirective=function(){function CanvasSliderDirective(){}return CanvasSliderDirective.add=function(m){m.directive("eirCanvasSlider",(function(){return{scope:{},template:__webpack_require__(1100),controller:CanvasSliderCtrl,controllerAs:"eirCanvasSliderCtrl",replace:!0}}))},CanvasSliderDirective}();exports.CanvasSliderDirective=CanvasSliderDirective}).call(this,__webpack_require__(21))},,,,,,,,,function(module,exports){module.exports='<div ng-controller="eirStandardBoundariesCtrl as ctrl"> <div ng-repeat="standardBoundary in ::ctrl.standardBoundaries track by standardBoundary.id"> <div class=field-short> <input type=checkbox class=checkbox id=standardBoundariesDialog_{{standardBoundary.id}} ng-model=standardBoundary.selected> <label for=standardBoundariesDialog_{{standardBoundary.id}} class=checkbox-label>{{standardBoundary.displayName}}</label> <label class=checkbox-label style=float:right;margin-left:20px> {{standardBoundary.limitX}} px </label> </div> </div> <div class=modal-buttonset> <button type=button class=btn-modal-primary ng-click=ctrl.ok()>OK</button> </div> </div>'},function(module,exports){module.exports="<div id=canvasSlider data-html2canvas-ignore> <div id=boundaryAdder ng-click=eirCanvasSliderCtrl.addBoundaryMarker() xi-tooltip=\"{ content: 'Create new Boundary', placement: 'left' }\"></div> <div id=dragHandler></div> <div id=standardBoundaryAdder ng-click=eirCanvasSliderCtrl.showStandardBoundariesDialog() xi-tooltip=\"{ content: 'Add Standard Boundaries', placement: 'left' }\"></div> </div>"},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.UrlSourceFieldDirective=exports.UrlSourceFieldCtrl=void 0;var angular_1=__importDefault(__webpack_require__(12)),angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3);__webpack_require__(92),__webpack_require__(16),__webpack_require__(415),__webpack_require__(28),__webpack_require__(20);var UrlSourceFieldCtrl=function(){function UrlSourceFieldCtrl($scope,$element,editorService,frameworkService){var _this=this;this.$scope=$scope,this.$element=$element,this.editorService=editorService,this.frameworkService=frameworkService,this.availableSources=[],this.availableBindings=[],this.unsubscribers=[],this.source=$scope.source,this.index=$scope.index,this.availableSources=$scope.availableSources,this.getAvailableBindings(!0),this.currentSourceAlias=angular_1.default.copy(this.source.alias),this.setSourceName(),this.unsubscribers.push(editorService.hyperlinkAliasChangedEvent.on((function(alias){if(alias.index===_this.index){var aliasElement=_this.$element.find("#alias-id-"+_this.index);""===alias.new?aliasElement.addError({message:"Alias can not be empty."}):alias.old===_this.source.alias?aliasElement.addError({message:"Alias already exists."}):(_this.source.alias=_this.currentSourceAlias,aliasElement.removeError(),_this.$element.find(".icon-error").remove())}}))),$scope.$on(angular_constants_1.AngularConstants.DESTROY,(function(){angular_1.default.forEach(_this.unsubscribers,(function(unsubscribe){unsubscribe()}))}))}return UrlSourceFieldCtrl.prototype.onChangeAlias=function(){if(this.currentSourceAlias!==this.source.alias){var aliases={oldAlias:this.source.alias,newAlias:this.currentSourceAlias};this.$scope.changeSourceAlias(aliases)}},UrlSourceFieldCtrl.prototype.onBuildLink=function(){this.$scope.buildLink()},UrlSourceFieldCtrl.prototype.onRemoveSource=function(){this.$scope.removeSource(this.source)},UrlSourceFieldCtrl.prototype.getAvailableBindings=function(init){var _this=this;void 0===init&&(init=!1);var component=this.editorService.getComponentInstanceById(this.source.type);if(component)component.getBindingMetaData().then((function(availableBindings){_this.addSourceValue(availableBindings,init)}));else if(this.source.type===common_constant_1.BindingTypes.CONTEXT){var selectedComponent=this.editorService.getSelectedComponent();selectedComponent.getContextMetaData().then((function(availableBindings){_this.addSourceValue(availableBindings,init)})),this.frameworkService.registerContextBinding(selectedComponent,"linkvalue",this.source.value,"{$value}")}else this.onRemoveSource()},UrlSourceFieldCtrl.prototype.addSourceValue=function(availableBindings,init){void 0===init&&(init=!1),this.availableBindings=availableBindings,availableBindings.length>0&&(init&&""!==this.source.value||(this.source.value=availableBindings[0].sourceKey),this.onBuildLink())},UrlSourceFieldCtrl.prototype.setSourceName=function(){this.source.type===common_constant_1.BindingTypes.CONTEXT?this.componentName=common_constant_1.ValueObject.TARGET_CONTEXT:this.componentName=this.editorService.getComponentInstanceById(this.source.type).getDisplayName()},UrlSourceFieldCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,angular_constants_1.AngularConstants.ELEMENT,common_constant_1.InjectNames.EDITOR_SERVICE,common_constant_1.InjectNames.FRAMEWORK_SERVICE],UrlSourceFieldCtrl}();exports.UrlSourceFieldCtrl=UrlSourceFieldCtrl;var UrlSourceFieldDirective=function(){function UrlSourceFieldDirective(){this.template=__webpack_require__(1102),this.scope={source:"=",availableSources:"<",buildLink:"&",removeSource:"&",changeSourceAlias:"&",index:"<"},this.controller=UrlSourceFieldCtrl,this.controllerAs="eirUrlSourceFieldCtrl"}return UrlSourceFieldDirective.add=function(m){m.directive("eirUrlSourceField",(function(){return new UrlSourceFieldDirective}))},UrlSourceFieldDirective}();exports.UrlSourceFieldDirective=UrlSourceFieldDirective},function(module,exports){module.exports="<div class=source-item> <div class=field> <input type=text class=input-sm ng-model=eirUrlSourceFieldCtrl.componentName disabled=disabled /> </div> <div class=source-input> <select class=\"dropdown dropdown-sm\" ng-model=eirUrlSourceFieldCtrl.source.value ng-change=eirUrlSourceFieldCtrl.onBuildLink() ng-options=\"availBinding.sourceKey as availBinding.visibleName for availBinding in eirUrlSourceFieldCtrl.availableBindings\" xi-drop-down> </select> </div> <div class=field> <input type=text class=input-sm id=alias-id-{{eirUrlSourceFieldCtrl.index}} ng-model=eirUrlSourceFieldCtrl.currentSourceAlias ng-change=eirUrlSourceFieldCtrl.onChangeAlias() ng-model-options=\"{ updateOn: 'default', debounce: {'default': 400, 'blur': 0}}\"/> </div> <button class=btn-icon xi-tooltip=\"'Remove Source'\" ng-click=eirUrlSourceFieldCtrl.onRemoveSource()> <svg class=icon focusable=false> <use xlink:href=#icon-delete></use> </svg> <span class=audible>Remove Source</span> </button> </div>"},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.EditorDirective=exports.EditorCtrl=void 0;var angular_1=__importDefault(__webpack_require__(12)),app_state_1=__webpack_require__(236),angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3);__webpack_require__(206),__webpack_require__(553),__webpack_require__(65),__webpack_require__(13),__webpack_require__(20),__webpack_require__(237);var EditorCtrl=function(){function EditorCtrl($scope,$stateParams,$state,$timeout,editorService,undoService,dialogService){var _this=this;this.$timeout=$timeout,this.editorService=editorService,this.showEditor=!1,this.unsubscribers=[];var params=$stateParams;if(params&&params.id){var currentProject=editorService.getCurrentProject();!("true"===params.reloadProject)&&currentProject&&currentProject.manifest.id===params.id?(this.resetProjectState(currentProject),this.showEditor=!0):(currentProject&&editorService.removeCacheObject(currentProject.getId()),editorService.loadProject(params.id,this.getCanvasWidth()).then((function(designerMashup){undoService.clearActions(),editorService.sidebarChangedEvent.raise(!0),_this.showEditor=!0})).catch((function(e){console.error("[EditorCtrl] Failed to load project with ID "+params.id,e),dialogService.showError("Unable to load project","See console for details, you will be redirected to dashboard").then((function(){$state.go(app_state_1.AppState.HOME.name)})),editorService.unloadProject()})))}else console.warn("[EditorCtrl] No project ID was provided"),$state.go(app_state_1.AppState.HOME.name);editorService.setView();var sidebarView=editorService.getSidebarView();this.sidebarView=sidebarView.view,this.isSidebarVisible=sidebarView.isSidebarVisible,this.unsubscribers.push(editorService.sidebarViewChangedEvent.on((function(view){view&&(_this.sidebarView=view.view,_this.isSidebarVisible=view.isSidebarVisible)}))),angular_1.default.element(window).bind("resize",this.windowResizeHandler.bind(this)),$scope.$on(angular_constants_1.AngularConstants.DESTROY,(function(){angular_1.default.element(window).unbind("resize"),angular_1.default.forEach(_this.unsubscribers,(function(unsubscribe){unsubscribe()}))}))}return EditorCtrl.prototype.resetProjectState=function(project){this.editorService.deselectComponent();var defaultTheme=project.manifest.defaultTheme;this.editorService.setCanvasTheme(defaultTheme)},EditorCtrl.prototype.getCanvasWidth=function(){var canvasWidth,rootContainer=angular_1.default.element("."+common_constant_1.CSSClasses.mashupRootContainer);if(rootContainer.length)canvasWidth=rootContainer.width();else{canvasWidth=window.innerWidth-319}return canvasWidth},EditorCtrl.prototype.windowResizeHandler=function(){var _this=this;this.windowResizeTimerPromise&&this.$timeout.cancel(this.windowResizeTimerPromise),this.windowResizeTimerPromise=this.$timeout((function(){_this.updateCurrentBoundary()}),common_constant_1.Numbers.FIFTY)},EditorCtrl.prototype.updateCurrentBoundary=function(){this.editorService.updateCurrentBoundary(this.getCanvasWidth())},EditorCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,angular_constants_1.AngularConstants.STATE_PARAMS,angular_constants_1.AngularConstants.STATE_SERVICE,angular_constants_1.AngularConstants.TIMEOUT,common_constant_1.InjectNames.EDITOR_SERVICE,common_constant_1.InjectNames.UNDO_SERVICE,common_constant_1.InjectNames.DIALOG_SERVICE],EditorCtrl}();exports.EditorCtrl=EditorCtrl;var EditorDirective=function(){function EditorDirective(){}return EditorDirective.add=function(m){m.directive("eirEditor",(function(){return{template:__webpack_require__(1104),controller:EditorCtrl,controllerAs:"eirEditorCtrl"}}))},EditorDirective}();exports.EditorDirective=EditorDirective},function(module,exports){module.exports="<div class=chrome-canvas ng-if=eirEditorCtrl.showEditor> <eir-topbar></eir-topbar> <div class=canvas-content> <eir-new-component-tabs class=sidebar ng-if=\"eirEditorCtrl.isSidebarVisible && eirEditorCtrl.sidebarView.value === 'newcomponent'\"></eir-new-component-tabs> <eir-settings class=sidebar ng-if=\"eirEditorCtrl.isSidebarVisible && eirEditorCtrl.sidebarView.value === 'settings'\"></eir-settings> <eir-canvas id=mainCanvas></eir-canvas> </div> </div>"},function(module,exports,__webpack_require__){"use strict";(function($){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.NewComponentDirective=exports.NewComponentCtrl=void 0;var angular_1=__importDefault(__webpack_require__(12)),common_constant_1=__webpack_require__(3);__webpack_require__(32),__webpack_require__(23);var angular_constants_1=__webpack_require__(7);__webpack_require__(16);var helper_1=__webpack_require__(15),defines_1=__webpack_require__(78),helper_2=__webpack_require__(69);__webpack_require__(71);var component_settings_1=__webpack_require__(117);__webpack_require__(65);var helper_3=__webpack_require__(153);__webpack_require__(20),__webpack_require__(288);var NewComponentCtrl=function(){function NewComponentCtrl($scope,$timeout,editorService,insertComponentService,translationManagementService){var _this=this;this.editorService=editorService,this.insertComponentService=insertComponentService,this.translationManagementService=translationManagementService,this.unsubscribers=[],this.bodyElement=angular_1.default.element("body"),this.designerElement=angular_1.default.element("#designer"),this.components=defines_1.Defines.allComponents,this.unsubscribers.push(editorService.canvasModeChangedEvent.on((function(canvasMode){canvasMode!==common_constant_1.CanvasModeEnum.INSERT&&_this.selectedNewComponent&&_this.insertComponentService.cancelInserting()}))),$timeout((function(){$(".newComponent").on(common_constant_1.EventTypes.DRAGSTART,(function(event){_this.selectDrag(event)}))}));var bodyClickListener=this.cancel.bind(this);this.designerElement.on(common_constant_1.EventTypes.CLICK,bodyClickListener),$scope.$on(angular_constants_1.AngularConstants.DESTROY,(function(){_this.designerElement.off(common_constant_1.EventTypes.CLICK,bodyClickListener),_this.cancel(),_this.unsubscribers.forEach((function(unsubscriber){unsubscriber()}))}))}return NewComponentCtrl.prototype.cancel=function(){this.selectedNewComponent&&this.insertComponentService.cancelInserting()},NewComponentCtrl.prototype.selectDrag=function(event){var className=$(event.target).data("componentClass");(helper_1.Helper.isSafari()||helper_1.Helper.isEdge())&&$(".componentIconOverlay").css(common_constant_1.CssConstantKeys.CURSOR,"no-drop"),this.select(className)},NewComponentCtrl.prototype.selectClick=function(className){var insertComponent=this.insertComponentService.getInsertComponent();insertComponent&&insertComponent.typedef===className?(this.insertComponentService.cancelInserting(),this.resetToSelectionMode()):(this.bodyElement.css(common_constant_1.CssConstantKeys.CURSOR,common_constant_1.CssConstantValues.CURSOR_NODROP),this.select(className))},NewComponentCtrl.prototype.resetToSelectionMode=function(){this.editorService.setCanvasMode(common_constant_1.CanvasModeEnum.SELECTION),delete this.selectedNewComponent,this.bodyElement.css(common_constant_1.CssConstantKeys.CURSOR,common_constant_1.CssConstantValues.AUTO)},NewComponentCtrl.prototype.select=function(className){var newComponent,_this=this,newId=this.editorService.generateId(helper_2.ComponentsHelper.getComponentDisplayName(className)),componentSettingsClass=helper_3.EditorHelper.getComponentSettingsClass(className);if(componentSettingsClass)newComponent=componentSettingsClass.create(newId);else{var componentClass=defines_1.Defines.allComponents[className].class;newComponent=component_settings_1.ComponentSettingsCtrl.create(newId,componentClass)}this.selectedNewComponent=newComponent,this.insertComponentService.startInserting(newComponent,common_constant_1.InsertEventTypes.COPY).then((function(){_this.translationManagementService.createDefaultLanguageComponents(newComponent),_this.editorService.saveCanvas(),_this.resetToSelectionMode()})).catch((function(){_this.selectedNewComponent&&_this.selectedNewComponent.typedef===newComponent.typedef&&_this.resetToSelectionMode()}))},NewComponentCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,angular_constants_1.AngularConstants.TIMEOUT,common_constant_1.InjectNames.EDITOR_SERVICE,common_constant_1.InjectNames.INSERT_COMPONENT_SERVICE,common_constant_1.InjectNames.TRANSLATION_MANAGEMENT_SERVICE],NewComponentCtrl}();exports.NewComponentCtrl=NewComponentCtrl;var NewComponentDirective=function(){function NewComponentDirective(){}return NewComponentDirective.add=function(m){m.directive("eirNewComponent",(function(){return{scope:!0,template:__webpack_require__(1106),controller:NewComponentCtrl,controllerAs:"eirNewComponentCtrl"}}))},NewComponentDirective}();exports.NewComponentDirective=NewComponentDirective}).call(this,__webpack_require__(21))},function(module,exports){module.exports='<div class=components> <div class=componentIcon ng-repeat="(className, component) in eirNewComponentCtrl.components" ng-if=component.available ng-click=eirNewComponentCtrl.selectClick(className);$event.stopPropagation(); ng-class="{selected: eirNewComponentCtrl.selectedNewComponent.typedef === className}"> <label class=title>{{(component.displayName ? component.displayName : className)}}</label> <span class="image image-{{className}}"></span> <span class=extra-{{className}}></span> <div class="componentIconOverlay newComponent" draggable=true data-component-class={{className}}> </div> </div> </div> '},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.NewCompositeDirective=exports.NewCompositeCtrl=void 0;var angular_1=__importDefault(__webpack_require__(12)),angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3);__webpack_require__(287),__webpack_require__(41),__webpack_require__(278),__webpack_require__(203),__webpack_require__(23);var interaction_1=__webpack_require__(130),helper_1=__webpack_require__(15);__webpack_require__(20),__webpack_require__(288),__webpack_require__(169),__webpack_require__(71),__webpack_require__(448);var NewCompositeCtrl=function(){function NewCompositeCtrl($scope,editorService,insertComponentService,compositeComponentManagementService,interactionManagementService,translationManagementService){var _this=this;this.editorService=editorService,this.insertComponentService=insertComponentService,this.compositeComponentManagementService=compositeComponentManagementService,this.interactionManagementService=interactionManagementService,this.translationManagementService=translationManagementService,this.htmlEncode=helper_1.Helper.htmlEncode,this.unsubscribers=[],this.unsubscribers.push(editorService.compositeComponentsChangedEvent.on((function(compositeComponents){_this.updateCompositeComponents(compositeComponents)}))),this.unsubscribers.push(editorService.canvasModeChangedEvent.on((function(canvasMode){canvasMode!==common_constant_1.CanvasModeEnum.INSERT&&_this.selectedManifest&&(_this.insertComponentService.cancelInserting(),_this.selectedManifest=null)}))),this.editorService.selectedComponentChangedEvent.on((function(component){_this.selectedComponent=component})),this.selectedComponent=editorService.getSelectedComponent();var currentProject=this.editorService.getCurrentProject();this.updateCompositeComponents(currentProject.getCompositeComponents()),this.bodyClickListener=this.cancel.bind(this),angular_1.default.element("body").on("click",this.bodyClickListener),$scope.$on(angular_constants_1.AngularConstants.DESTROY,(function(){_this.unsubscribers.forEach((function(unsubscriber){unsubscriber()})),angular_1.default.element("body").off("click",_this.bodyClickListener),_this.cancel()}))}return NewCompositeCtrl.prototype.cancel=function(){this.selectedManifest&&this.insertComponentService.cancelInserting()},NewCompositeCtrl.prototype.manageCompositeComponents=function(){this.compositeComponentManagementService.manageCompositeComponents()},NewCompositeCtrl.prototype.updateCompositeComponents=function(compositeComponents){this.compositeComponents=compositeComponents,this.compositeComponentManifests=this.compositeComponents.map((function(compositeComponent){return compositeComponent.manifest}))},NewCompositeCtrl.prototype.createComposite=function(){this.compositeComponentManagementService.createNewViaWizard(this.selectedComponent.getDatabearer())},NewCompositeCtrl.prototype.deleteComposite=function(compositeId){this.compositeComponentManagementService.removeViaDialog(compositeId)},NewCompositeCtrl.prototype.selectDrag=function(id){this.select(id)},NewCompositeCtrl.prototype.selectClick=function(id){angular_1.default.element("body").css("cursor","no-drop"),this.selectedManifest&&this.selectedManifest.id===id?(this.insertComponentService.cancelInserting(),this.selectedManifest=null):this.select(id)},NewCompositeCtrl.prototype.getCompositeComponentById=function(id){return this.compositeComponents.find((function(composite){return composite.manifest.id===id}))},NewCompositeCtrl.prototype.redirectInteraction=function(interaction,oldToNewIdMap){interaction.sourceName=oldToNewIdMap[interaction.sourceName],interaction.targetName=oldToNewIdMap[interaction.targetName],interaction.parameters&&interaction.parameters.forEach((function(parameter){parameter.valueSource.sourceName=oldToNewIdMap[parameter.valueSource.sourceName]}))},NewCompositeCtrl.prototype.redirectExpression=function(expression,oldToNewIdMap){"<static>"!==expression.source&&"Application"!==expression.source&&(expression.source=oldToNewIdMap[expression.source]),"<static>"!==expression.target&&"Application"!==expression.target&&(expression.target=oldToNewIdMap[expression.target]),expression.usedBy=oldToNewIdMap[expression.usedBy]},NewCompositeCtrl.prototype.select=function(id){var _this=this,currentProject=this.editorService.getCurrentProject(),compositeComponent=this.getCompositeComponentById(id);this.selectedManifest=compositeComponent.manifest,this.compositeComponentManagementService.setCurrentValuesToCurrentLanguage(compositeComponent);var oldToNewIdMap={},newComponent=this.editorService.copy(compositeComponent.component,oldToNewIdMap),addedDatasources=[],addedInteractions=[];compositeComponent.datasources&&compositeComponent.datasources.forEach((function(datasource){currentProject.getDatasource(datasource.id)||(currentProject.addDatasource(datasource),addedDatasources.push(datasource))})),compositeComponent.interactions&&(angular_1.default.copy(compositeComponent.interactions).forEach((function(interactionCopy){_this.redirectInteraction(interactionCopy,oldToNewIdMap),interactionCopy.id=_this.interactionManagementService.generateInteractionId();var newInteraction=new interaction_1.Interaction(interactionCopy);currentProject.addInteraction(newInteraction),addedInteractions.push(newInteraction)})),this.interactionManagementService.projectInteractionsChanged.raise(currentProject.getInteractions())),this.insertComponentService.startInserting(newComponent,common_constant_1.InsertEventTypes.COPY).then((function(){compositeComponent.translations?_this.editorService.copyTranslationsToCurrentProject(compositeComponent.translations,oldToNewIdMap,newComponent):_this.editorService.forEachComponent(newComponent,(function(child){_this.translationManagementService.createDefaultLanguageComponents(child)})),compositeComponent.expressions&&angular_1.default.copy(compositeComponent.expressions).forEach((function(expressionCopy){_this.redirectExpression(expressionCopy,oldToNewIdMap),expressionCopy.id=helper_1.Helper.generateUniqueId(),expressionCopy.source&&expressionCopy.target&&currentProject.addExpression(expressionCopy)})),_this.editorService.saveCanvas(),_this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.DATASOURCES|common_constant_1.SaveFlagsEnum.INTERACTIONS|common_constant_1.SaveFlagsEnum.TRANSLATIONS|common_constant_1.SaveFlagsEnum.EXPRESSIONS)})).catch((function(){addedDatasources.forEach((function(datasource){currentProject.removeDatasource(datasource.id)})),addedInteractions.forEach((function(interaction){currentProject.removeInteraction(interaction)}))})).finally((function(){_this.selectedManifest&&_this.selectedManifest.id===id?(_this.selectedManifest=null,_this.editorService.setCanvasMode(common_constant_1.CanvasModeEnum.SELECTION),angular_1.default.element("body").css("cursor","auto")):_this.selectedManifest||(_this.editorService.setCanvasMode(common_constant_1.CanvasModeEnum.SELECTION),angular_1.default.element("body").css("cursor","auto"))}))},NewCompositeCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,common_constant_1.InjectNames.EDITOR_SERVICE,common_constant_1.InjectNames.INSERT_COMPONENT_SERVICE,common_constant_1.InjectNames.COMPOSITE_COMPONENT_MANAGEMENT_SERVICE,common_constant_1.InjectNames.INTERACTION_MANAGEMENT_SERVICE,common_constant_1.InjectNames.TRANSLATION_MANAGEMENT_SERVICE],NewCompositeCtrl}();exports.NewCompositeCtrl=NewCompositeCtrl;var NewCompositeDirective=function(){function NewCompositeDirective(){}return NewCompositeDirective.add=function(m){m.directive("eirNewComposite",(function(){return{scope:!0,template:__webpack_require__(1108),controller:NewCompositeCtrl,controllerAs:"eirNewCompositeCtrl"}}))},NewCompositeDirective}();exports.NewCompositeDirective=NewCompositeDirective},function(module,exports){module.exports='<div class=components> <div class=componentIcon xi-tooltip=::eirNewCompositeCtrl.htmlEncode(manifest.displayName) ng-repeat="manifest in eirNewCompositeCtrl.compositeComponentManifests" ng-dragstart="eirNewCompositeCtrl.selectDrag(manifest.id); $event.stopPropagation();" ng-click="eirNewCompositeCtrl.selectClick(manifest.id); $event.stopPropagation();" ng-mouseenter="showMenu=true" ng-mouseleave="showMenu=false" ng-class="{selected: eirNewCompositeCtrl.selectedManifest.id === manifest.id}"> <label class=title>{{manifest.displayName}}</label> <span class="image image-{{eirNewCompositeCtrl.compositeComponents[$index].component.typedef}}"></span> <span class=extra-{{eirNewCompositeCtrl.compositeComponents[$index].component.id}}></span> <div class=componentIconOverlay draggable=true> <div class=actions ng-if=showMenu> <button class="btn-actions composite-btn-menu" ng-click=eirNewCompositeCtrl.deleteComposite(manifest.id)> <svg class=icon focusable=false> <use xlink:href=#icon-delete></use> </svg> <span class=audible>Actions</span> </button> </div> </div> </div> <div id=below-components> <label class=no-components-label ng-show="eirNewCompositeCtrl.compositeComponentManifests.length === 0">No composite components on current project</label> <button class="btn-tertiary add-composite-btn" ng-disabled=!eirNewCompositeCtrl.selectedComponent ng-click=eirNewCompositeCtrl.createComposite()> <svg role=presentation aria-hidden=true focusable=false class=icon> <use xlink:href=#icon-add-comp /> </svg> <span>Create New</span> </button> </div> <div class=manage-link> <button class=hyperlink xi-tooltip="\'Manage Composite Components\'" ng-click=eirNewCompositeCtrl.manageCompositeComponents()> Manage Composite Components </button> </div> </div> '},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.NewComponentTabsDirective=exports.NewComponentTabsCtrl=void 0;var angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3);__webpack_require__(20);var NewComponentTabsCtrl=function(){function NewComponentTabsCtrl($scope,editorService){this.editorService=editorService}return NewComponentTabsCtrl.prototype.hideSidebar=function(){this.editorService.setSidebarVisibility(!1)},NewComponentTabsCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,common_constant_1.InjectNames.EDITOR_SERVICE],NewComponentTabsCtrl}();exports.NewComponentTabsCtrl=NewComponentTabsCtrl;var NewComponentTabsDirective=function(){function NewComponentTabsDirective(){}return NewComponentTabsDirective.add=function(m){m.directive("eirNewComponentTabs",(function(){return{template:__webpack_require__(1110),controller:NewComponentTabsCtrl,controllerAs:"eirNewComponentTabsCtrl"}}))},NewComponentTabsDirective}();exports.NewComponentTabsDirective=NewComponentTabsDirective},function(module,exports){module.exports='<div class=sidebar-header> <div class=headline> <h3>Components</h3> <div class="buttonContainer sidebar-options"> <button class=btn-icon ng-click=eirNewComponentTabsCtrl.hideSidebar() ng-disabled=eirNewComponentTabsCtrl.showOverlay xi-tooltip="\'Close\'"> <svg class=icon focusable=false> <use xlink:href=#icon-close></use> </svg> <span>Hide</span> </button> </div> </div> </div> <div class=sidebar-content> <div id=new-component-tabs class=tab-container xi-tabs> <ul class=tab-list> <li class=tab> <a href=#new-component-tabs-components>Basic</a> </li> <li class=tab> <a href=#new-component-tabs-composite>Composite</a> </li> </ul> <div id=new-component-tabs-components> <eir-new-component></eir-new-component> </div> <div id=new-component-tabs-composite> <eir-new-composite></eir-new-composite> </div> </div> </div>'},function(module,exports,__webpack_require__){"use strict";(function($){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.RulerDirective=exports.RulerCtrl=void 0;var angular_1=__importDefault(__webpack_require__(12)),angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3);__webpack_require__(132),__webpack_require__(16);var standard_boundaries_constant_1=__webpack_require__(312),dialog_service_1=__webpack_require__(13);__webpack_require__(330),__webpack_require__(20);var RulerCtrl=function(){function RulerCtrl($scope,$element,$timeout,dialogService,editorService,boundaryManagementService){var _this=this;this.$scope=$scope,this.$element=$element,this.$timeout=$timeout,this.dialogService=dialogService,this.editorService=editorService,this.boundaryManagementService=boundaryManagementService,this.unsubscribers=[],this.unsubscribers.push(editorService.currentBoundaryChangedEvent.on((function(boundary){_this.currentBoundary=boundary}))),this.currentBoundary=editorService.getCurrentBoundary(),this.unsubscribers.push(editorService.projectBoundariesChangedEvent.on((function(boundaries){_this.projectBoundaries=boundaries,_this.$timeout((function(){_this.initBoundaryDraggable()}),common_constant_1.Numbers.TEN)}))),this.onCurrentProjectChanged(editorService.getCurrentProject()),$timeout((function(){_this.initBoundaryDraggable()}),common_constant_1.Numbers.TWO_HUNDRED),$scope.$on(angular_constants_1.AngularConstants.DESTROY,(function(){angular_1.default.forEach(_this.unsubscribers,(function(unsubscribe){unsubscribe()}))})),this.convertOldStandardBoundariesToNormalBoundaries()}return RulerCtrl.prototype.convertOldStandardBoundariesToNormalBoundaries=function(){var _this=this;this.boundaryManagementService.getProjectBoundaries().forEach((function(projectBoundary){0!==projectBoundary.id.indexOf(standard_boundaries_constant_1.STANDARD_ID_PREFIX)||standard_boundaries_constant_1.STANDARD_BOUNDARIES.find((function(standardBoundary){return projectBoundary.displayName===standardBoundary.displayName}))||(projectBoundary.id=_this.boundaryManagementService.generateBoundaryId())}))},RulerCtrl.prototype.onCurrentProjectChanged=function(newProject){this.projectBoundaries=newProject.manifest.mashupBoundaries},RulerCtrl.prototype.boundaryClick=function(boundary,$event){var _this=this;this.isSingleClick=!0,this.$timeout((function(){_this.isSingleClick&&_this.selectBoundary(boundary,$event)}),common_constant_1.Numbers.TWO_HUNDRED)},RulerCtrl.prototype.boundaryDblClick=function(boundary){this.isSingleClick=!1,this.boundaryMarkerEditor(boundary)},RulerCtrl.prototype.selectBoundary=function(boundary,$event){$event&&$event.target&&!0===$($event.target).data("dragStop")?$($event.target).data("dragStop",!1):(boundary=boundary===this.editorService.getCurrentBoundary()?common_constant_1.DEFAULT_BOUNDARY:boundary,this.boundaryManagementService.goToCurrentBoundaryMarker(boundary),this.editorService.setCurrentBoundary(boundary))},RulerCtrl.prototype.toggleDefaultBoundary=function(){this.selectBoundary(common_constant_1.DEFAULT_BOUNDARY)},RulerCtrl.prototype.initBoundaryDraggable=function(){var _this=this;this.projectBoundaries.forEach((function(boundary){_this.boundaryManagementService.isBoundaryReadOnly(boundary)||_this.$element.find("#"+boundary.id).draggable({axis:"x",containment:"parent",drag:function(event,ui){event.stopPropagation();var boundaryId=ui.helper.attr("id"),boundary=_this.boundaryManagementService.getBoundary(boundaryId),offsetX=ui.position.left,oldOffsetX=boundary.limitX;offsetX=Math.round(offsetX/common_constant_1.Numbers.TEN)*common_constant_1.Numbers.TEN,boundary.limitX=offsetX,offsetX!==oldOffsetX&&_this.boundaryManagementService.boundaryMovedEvent.raise(boundary)},stop:function(event,ui){$(event.originalEvent.target).data("dragStop",!0),_this.$scope.$evalAsync(),_this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.MANIFEST)}})}))},RulerCtrl.prototype.boundaryMarkerEditor=function(boundary){var _this=this;if(!this.boundaryManagementService.isBoundaryReadOnly(boundary)){var options={title:"Edit Boundary Marker",template:__webpack_require__(1112),parameter:angular_1.default.copy(boundary)};this.dialogService.show(options).then((function(result){result&&result.button===dialog_service_1.DialogButtonType.Ok&&JSON.stringify(result.value)!==JSON.stringify(angular_1.default.copy(boundary))&&(_this.boundaryManagementService.updateBoundaryMarker(result.value),_this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.MANIFEST))}))}},RulerCtrl.prototype.setBoundaryMarker=function($event){var offsetX=$event.offsetX;offsetX=Math.round(offsetX/common_constant_1.Numbers.TEN)*common_constant_1.Numbers.TEN,$event.target.classList.contains("scaleNumber")&&(offsetX=Number($event.target.textContent)),this.boundaryManagementService.addNewBoundaryMarker(offsetX)},RulerCtrl.prototype.deleteBoundaryMarker=function(boundary){var _this=this,options={title:"Are you sure?",message:"All component settings for this boundary limit will also be removed from the project. Are you sure you want to continue?",standardButtons:dialog_service_1.StandardDialogButtons.YesNo};this.dialogService.showMessage(options).then((function(result){result.button===dialog_service_1.DialogButtonType.Yes&&(_this.boundaryManagementService.removeProjectBoundary(boundary),_this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.MANIFEST))}))},RulerCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,angular_constants_1.AngularConstants.ELEMENT,angular_constants_1.AngularConstants.TIMEOUT,common_constant_1.InjectNames.DIALOG_SERVICE,common_constant_1.InjectNames.EDITOR_SERVICE,common_constant_1.InjectNames.BOUNDARY_MANAGEMENT_SERVICE],RulerCtrl}();exports.RulerCtrl=RulerCtrl;var RulerDirective=function(){function RulerDirective(){}return RulerDirective.add=function(m){m.directive("eirRuler",(function(){return{scope:{},template:__webpack_require__(1113),controller:RulerCtrl,controllerAs:"eirRulerCtrl",link:function($scope,$element,$attrs){for(var maxLength=Math.max($(document).outerWidth(),$(document).outerHeight()),i=0;i<maxLength;i+=100)$("<div class='scaleNumber'></div>").appendTo($element.find("#rulerHorizontal")).css("left",i+2).text(i),$("<div class='scaleNumber'></div>").appendTo($element.find("#rulerVertical")).css("top",i+4).text(i)}}}))},RulerDirective}();exports.RulerDirective=RulerDirective}).call(this,__webpack_require__(21))},function(module,exports){module.exports='<div ng-controller="eirBoundaryEditorCtrl as ctrl"> <div class=field> <label for=boundaryName>Name</label> <input id=boundaryName type=text ng-model=ctrl.boundary.displayName /> </div> <div class=field> <label for=boundaryLimit>Boundary Limit</label> <input id=boundaryLimit type=text class=spinbox ng-model=ctrl.settingLimitX xi-spinbox/> </div> <div class=modal-buttonset> <button type=button class=btn-modal ng-click=ctrl.close()>Cancel</button> <button type=button ng-disabled="!(ctrl.settingLimitX > 0)" class=btn-modal-primary ng-click=ctrl.save()>Save</button> </div> </div>'},function(module,exports){module.exports='<div id=hRulerContainer> <div class=ruler-horizontal id=rulerHorizontal ng-dblclick="eirRulerCtrl.setBoundaryMarker($event); $event.stopPropagation();"> <div ng-repeat="boundary in eirRulerCtrl.projectBoundaries" ng-if="boundary.id != \'Default\'" id={{boundary.id}} ng-class="{ \'hBoundaryMarker selected\' : boundary.id == eirRulerCtrl.currentBoundary.id , \'hBoundaryMarker\' : boundary.id != eirRulerCtrl.currentBoundary.id }" ng-style="{\'left\':(boundary.limitX - 2)+\'px\'}" ng-click="eirRulerCtrl.boundaryClick(boundary, $event); $event.stopPropagation();" ng-dblclick="eirRulerCtrl.boundaryDblClick(boundary); $event.stopPropagation();"> <div class=boundaryName>{{boundary.displayName}}</div> <svg class=boundaryMarkerPin focusable=false> <polygon points="0,0.1 5,0.1 5,8.4 2.5,11.3 0,8.4 "/> </svg> <div class=right> <div class=boundaryNumber>{{boundary.limitX}}</div> <button class=boundaryCloseBtn ng-click="eirRulerCtrl.deleteBoundaryMarker(boundary); $event.stopPropagation();" xi-tooltip="\'Remove Boundary\'"> <svg class="icon smallIcon" focusable=false> <circle fill=#ffffff cx=6 cy=6 r=6 /> <g> <line fill=none stroke-width=1.5 stroke=#313236 x1=3.5 y1=3.5 x2=8.5 y2=8.5 /> <line fill=none stroke-width=1.5 stroke=#313236 x1=3.5 y1=8.5 x2=8.5 y2=3.5 /> </g> </svg> </button> </div> </div> <div class=defaultBoundaryToggle ng-click="eirRulerCtrl.toggleDefaultBoundary(); $event.stopPropagation()" ng-dblclick=$event.stopPropagation();> </div> </div> </div> <div id=vRulerContainer> <div class=ruler-vertical id=rulerVertical></div> </div> <div id=rulerFiller></div> '},function(module,exports,__webpack_require__){"use strict";(function($){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.SelectionBoxDirective=exports.SelectionBoxCtrl=void 0;var angular_1=__importDefault(__webpack_require__(12)),angular_constants_1=__webpack_require__(7);__webpack_require__(114);var common_constant_1=__webpack_require__(3),orientation_enum_1=__webpack_require__(44),defines_1=__webpack_require__(16);__webpack_require__(165);var flexbox_1=__webpack_require__(208),tab_panel_1=__webpack_require__(235);__webpack_require__(286),__webpack_require__(169),__webpack_require__(448),__webpack_require__(20),__webpack_require__(449);var SelectionBoxCtrl=function(){function SelectionBoxCtrl($scope,$element,editorService,compositeComponentManagementService,hotkeyService,interactionManagementService){var _this=this;this.$scope=$scope,this.$element=$element,this.editorService=editorService,this.compositeComponentManagementService=compositeComponentManagementService,this.hotkeyService=hotkeyService,this.interactionManagementService=interactionManagementService,this.isComponentNameEditMode=!1,this.unsubscribers=[],this.actionKeys={ORIENTATION:"orientation",INTERACTION:"interaction",COMPOSITE:"composite",DELETE:"delete"};var componentInstance=this.$scope.componentInstance;this.componentInstance=componentInstance,this.unsubscribers.push(this.editorService.currentFlexOrientationChangedEvent.on((function(value){_this.setOrientationIcon(value),_this.flexOrientation=value}))),this.unsubscribers.push(this.editorService.currentFlexIsParentChangedEvent.on((function(value){_this.updateOrientationMenuVisibility(value)}))),this.unsubscribers.push(this.editorService.selectedDatasourceChangedEvent.on((function(newDatasource){_this.setSelectionBoxOptions(_this.isLayoutComponentWithNoDataservice(newDatasource))})));var keyHandler=function(event){event.keyCode===defines_1.KeyCodeEnum.ESCAPE?(_this.isComponentNameEditMode=!1,_this.componentNameForm.$rollbackViewValue(),$("body").focus()):event.keyCode===defines_1.KeyCodeEnum.ENTER&&(_this.isComponentNameEditMode=!1,$("body").focus())};$element.on("keydown",keyHandler),this.setSelectionBoxOptions(this.isLayoutComponentWithNoDataservice()),this.flexOrientation=this.componentInstance.getBoundarySetting(common_constant_1.SettingKeys.ORIENTATION),this.setOrientationIcon(this.flexOrientation),$scope.$on(angular_constants_1.AngularConstants.DESTROY,(function(){$element.off("keydown",keyHandler),angular_1.default.forEach(_this.unsubscribers,(function(unsubscribe){unsubscribe()}))})),this.updateSize()}return SelectionBoxCtrl.prototype.isLayoutComponentWithNoDataservice=function(datasource){var component=this.editorService.getSelectedComponent(),newDatasource=datasource||component.getDatasource();return component.isLayoutComponent()&&!newDatasource},SelectionBoxCtrl.prototype.setSelectionBoxOptions=function(isLayoutComponentWithNoDataservice){var _this=this;this.contextActions=[{id:this.actionKeys.ORIENTATION,orientation:this.checkOrientationOnFlexbox(),name:"Change Orientation",actionMethod:function(){_this.changeOrientation()},submenu:!0,enable:this.isFlexboxWithFlexChildren()},{id:this.actionKeys.INTERACTION,icon:"action-interaction",name:"Create Interaction",actionMethod:function(){_this.interactionManagementService.startInteractionWizard(_this.componentInstance)},enable:!0,disabled:isLayoutComponentWithNoDataservice},{id:this.actionKeys.COMPOSITE,icon:"save",name:"Save as Composite Component",actionMethod:function(){_this.compositeComponentManagementService.createNewViaWizard(_this.componentInstance.getDatabearer())},enable:!0},{id:this.actionKeys.DELETE,name:"Delete",actionMethod:function(){_this.hotkeyService.deleteComponent()},enable:!0,disabled:this.getSelectionOptionDisabledStatus()}]},SelectionBoxCtrl.prototype.getSelectionOptionDisabledStatus=function(){var componentInstance=this.componentInstance;return"AppPanel"===componentInstance.getId()||componentInstance.getTypedef()===tab_panel_1.TabPanel.name||componentInstance.isGenerated},SelectionBoxCtrl.prototype.updateSize=function(){var newWidth=6*this.componentInstance.getDisplayName().length;this.$element.find(".selectionbox-wrapper").css("width",newWidth+33),this.$element.find(".selBoxComponentNameInput").css("width",newWidth)},SelectionBoxCtrl.prototype.checkPopupPosition=function(){var menuElement=this.$element.find(".icon-selectionbox"),popupElement=this.$element.find(".popupmenu-wrapper");menuElement.offset().left-common_constant_1.Numbers.HUNDRED<=angular_1.default.element("#insideRuler").width()||popupElement.addClass("edge")},SelectionBoxCtrl.prototype.updateOrientationMenuVisibility=function(showOrientationAction){this.getContextAction(this.actionKeys.ORIENTATION).enable=showOrientationAction},SelectionBoxCtrl.prototype.setOrientationIcon=function(orientation){var actionItem=this.getContextAction(this.actionKeys.ORIENTATION);actionItem.icon="action-orientation-"+orientation,actionItem.orientation=this.checkOrientationOnFlexbox()},SelectionBoxCtrl.prototype.checkOrientationOnFlexbox=function(){return this.componentInstance.getBoundarySetting(common_constant_1.SettingKeys.ORIENTATION)},SelectionBoxCtrl.prototype.getContextAction=function(id){for(var i=0;i<this.contextActions.length;i++){var actionItem=this.contextActions[i];if(actionItem.id===id)return actionItem}return console.warn("Context action '"+id+"' does not exist"),null},SelectionBoxCtrl.prototype.changeOrientation=function(){this.flexOrientation===orientation_enum_1.OrientationEnum.HORIZONTAL?this.flexOrientation=orientation_enum_1.OrientationEnum.VERTICAL:this.flexOrientation=orientation_enum_1.OrientationEnum.HORIZONTAL,this.componentInstance.setBoundarySetting(common_constant_1.SettingKeys.ORIENTATION,this.flexOrientation),this.getContextAction(this.actionKeys.ORIENTATION).orientation=this.checkOrientationOnFlexbox(),this.editorService.currentFlexOrientationChangedEvent.raise(this.flexOrientation),this.editorService.refreshSettingEvent.raise(common_constant_1.SettingKeys.ORIENTATION),this.editorService.saveCanvas()},SelectionBoxCtrl.prototype.isFlexboxWithFlexChildren=function(){return(this.componentInstance.getTypedef()===flexbox_1.Flexbox.name||this.componentInstance.getTypedef()===tab_panel_1.TabPanel.name)&&this.componentInstance.isFlexParent},SelectionBoxCtrl.prototype.onBlur=function(){this.updateSize(),this.isComponentNameEditMode=!1,this.editorService.saveCanvas()},SelectionBoxCtrl.prototype.onDoubleClick=function(event){this.isComponentNameEditMode=!0,setTimeout((function(){event.target.blur(),event.target.focus()}),1)},SelectionBoxCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,angular_constants_1.AngularConstants.ELEMENT,common_constant_1.InjectNames.EDITOR_SERVICE,common_constant_1.InjectNames.COMPOSITE_COMPONENT_MANAGEMENT_SERVICE,common_constant_1.InjectNames.HOTKEY_SERVICE,common_constant_1.InjectNames.INTERACTION_MANAGEMENT_SERVICE],SelectionBoxCtrl}();exports.SelectionBoxCtrl=SelectionBoxCtrl;var SelectionBoxDirective=function(){function SelectionBoxDirective(){}return SelectionBoxDirective.add=function(m){m.directive("eirSelectionBox",(function(){return{controller:SelectionBoxCtrl,controllerAs:"eirSelectionBoxCtrl",template:__webpack_require__(1115)}}))},SelectionBoxDirective}();exports.SelectionBoxDirective=SelectionBoxDirective}).call(this,__webpack_require__(21))},function(module,exports){module.exports='<form class=component-name-wrapper name=eirSelectionBoxCtrl.componentNameForm ng-click=$event.stopPropagation() ng-dblclick=$event.stopPropagation()> <div class=selectionbox-wrapper> <input class="selBoxComponentNameInput small-thin-text" type=text name=compName autocomplete=off ng-readonly=!eirSelectionBoxCtrl.isComponentNameEditMode ng-dblclick=eirSelectionBoxCtrl.onDoubleClick($event) ng-model=eirSelectionBoxCtrl.componentInstance.databearer.displayName ng-model-options="{ updateOn: \'blur\' }" ng-change=eirSelectionBoxCtrl.onBlur() /> </div> <div class=actions> <button type=button class="btn-actions btn-menu" ng-click=eirSelectionBoxCtrl.checkPopupPosition() xi-popupmenu> <svg class=icon-selectionbox focusable=false> <use xlink:href=#icon-more></use> </svg> <span class=audible>Actions</span> </button> <ul id=selection-box class="popupmenu selection-box-popup"> <li class="{{contextAction.submenu ? \'submenu\' : \'\'}} {{contextAction.disabled ? \'is-disabled\' : \'\'}}" ng-if=contextAction.enable ng-repeat="contextAction in eirSelectionBoxCtrl.contextActions"> <hr class=horizontal-ruler-menu ng-if="contextAction.id === \'delete\'"> <a class="{{contextAction.submenu ? \'disabled\' : \'\'}} {{contextAction.disabled ? \'is-disabled\' : \'\'}}" ng-click="contextAction.disabled || contextAction.actionMethod()"> <span>{{contextAction.name}}</span> <svg class="icon arrow icon-dropdown" focusable=false aria-hidden=true role=presentation ng-if=contextAction.submenu> <use xlink:href=#icon-dropdown></use> </svg> </a> <ul ng-if=contextAction.submenu class=popupmenu> <li> <a class="enable-option-{{contextAction.orientation === 2}}" ng-click=contextAction.actionMethod()>Horizontal</a> </li> <li> <a class="enable-option-{{contextAction.orientation === 1}}" ng-click=contextAction.actionMethod()>Vertical</a> </li> </ul> </li> </ul> </div> </form> <div class=arrow-down-outer> <div class=arrow-down-inner></div> </div>'},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.StatusbarDirective=void 0;var angular_1=__importDefault(__webpack_require__(12)),angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3);__webpack_require__(16),__webpack_require__(51),__webpack_require__(443),__webpack_require__(20),__webpack_require__(331);var StatusbarCtrl=function(){function StatusbarCtrl(scope,editorService,saveService){var _this=this;this.editorService=editorService,this.saveService=saveService,this.unsubscribers=[],this.unsubscribers.push(editorService.selectedComponentChangedEvent.on((function(component){_this.selectedComponent=component,_this.updateStatusbar(component)}))),this.unsubscribers.push(saveService.saveStateEvent.on((function(value){_this.updateSave(value)}))),scope.$on(angular_constants_1.AngularConstants.DESTROY,(function(){angular_1.default.forEach(_this.unsubscribers,(function(unsubscribe){unsubscribe()}))}))}return StatusbarCtrl.prototype.updateStatusbar=function(component){var components=[];if(component)if(this.isApplicationComponent(component))components.push(component);else for(;component;)components.unshift(component),component=component.parent;else components.push(this.getApplicationParent());this.components=components},StatusbarCtrl.prototype.getApplicationParent=function(){return this.applicationParent||(this.applicationParent=this.editorService.getApplicationParent()),this.applicationParent},StatusbarCtrl.prototype.isApplicationComponent=function(component){return component.getId()===this.getApplicationParent().getId()},StatusbarCtrl.prototype.updateSave=function(value){var outValue="";if("string"==typeof value){if(outValue=value,value===this.saveService.saveStates.saved){var currentTime=(new Date).toTimeString();outValue=value+(currentTime=currentTime.substring(0,8))}}else outValue=value.message;this.saveUpdate=outValue},StatusbarCtrl.prototype.selectComponent=function(component,event){var isApplication=this.isApplicationComponent(component),canvasMode=this.editorService.getCanvasMode();isApplication?canvasMode===common_constant_1.CanvasModeEnum.SELECTION?this.editorService.deselectComponent():canvasMode===common_constant_1.CanvasModeEnum.FINDER&&this.editorService.selectFinderComponent(component):component.onClick(event)},StatusbarCtrl.prototype.onMouseEnter=function(component,$event){this.isApplicationComponent(component)||component.onMouseOver($event)},StatusbarCtrl.prototype.onMouseLeave=function(component,$event){this.isApplicationComponent(component)||component.onMouseLeave($event)},StatusbarCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,common_constant_1.InjectNames.EDITOR_SERVICE,common_constant_1.InjectNames.SAVE_SERVICE],StatusbarCtrl}(),StatusbarDirective=function(){function StatusbarDirective(){}return StatusbarDirective.add=function(m){m.directive("eirStatusbar",(function(){return{controller:StatusbarCtrl,controllerAs:"eirStatusbarCtrl",template:__webpack_require__(1117)}}))},StatusbarDirective}();exports.StatusbarDirective=StatusbarDirective},function(module,exports){module.exports='<div ng-repeat="component in eirStatusbarCtrl.components" ng-click="eirStatusbarCtrl.selectComponent(component, $event)" ng-mouseover="eirStatusbarCtrl.onMouseEnter(component, $event)" ng-mouseleave="eirStatusbarCtrl.onMouseLeave(component, $event)"> <span>{{component.databearer.displayName}}</span> </div> <label class=save-status> {{eirStatusbarCtrl.saveUpdate}} </label>'},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.TopbarDirective=exports.TopbarCtrl=exports.OverlayStateEnum=void 0;var angular_1=__importDefault(__webpack_require__(12)),datagrid_1=__webpack_require__(233);__webpack_require__(71);var helper_1=__webpack_require__(544);__webpack_require__(168);var defines_1=__webpack_require__(65);__webpack_require__(20),__webpack_require__(449),__webpack_require__(288),__webpack_require__(331),__webpack_require__(237);var common_constant_1=__webpack_require__(3),angular_constants_1=__webpack_require__(7),debugger_1=__webpack_require__(112);__webpack_require__(149),__webpack_require__(70);var OverlayStateEnum,dialog_service_1=__webpack_require__(13);__webpack_require__(166),function(OverlayStateEnum){OverlayStateEnum.HIDDEN="HIDDEN",OverlayStateEnum.OVERLAY="OVERLAY",OverlayStateEnum.FINDER_OVERLAY="FINDER_OVERLAY"}(OverlayStateEnum=exports.OverlayStateEnum||(exports.OverlayStateEnum={}));var TopbarCtrl=function(){function TopbarCtrl($scope,$window,$state,hotKeyService,editorService,saveService,undoService,dialogService,insertComponentService,languageService,translationManagementService,projectService,commonService){this.$scope=$scope,this.$window=$window,this.$state=$state,this.hotKeyService=hotKeyService,this.editorService=editorService,this.saveService=saveService,this.undoService=undoService,this.dialogService=dialogService,this.insertComponentService=insertComponentService,this.languageService=languageService,this.translationManagementService=translationManagementService,this.projectService=projectService,this.commonService=commonService,this.isSidebarVisible=!0,this.overlayState=OverlayStateEnum.HIDDEN,this.overlayStateEnum=OverlayStateEnum;var sidebarView=editorService.getSidebarView();this.sidebarView=sidebarView.view,this.isSidebarVisible=sidebarView.isSidebarVisible,this.isRuntime=this.editorService.isRuntimeMode(),this.supportedLanguages=this.languageService.getSupportedLanguages(),this.currentLanguage=this.languageService.getLanguage(),this.initiateSubscribers($scope)}return Object.defineProperty(TopbarCtrl.prototype,"isDeveloper",{get:function(){return debugger_1.Debugger.isEnabled()&&common_constant_1.Config.IS_DEV},enumerable:!1,configurable:!0}),Object.defineProperty(TopbarCtrl.prototype,"isBaseBuilder",{get:function(){return common_constant_1.Config.IS_BASE_BUILDER},enumerable:!1,configurable:!0}),TopbarCtrl.prototype.openExpressions=function(){var options={title:"Project Expressions",parameter:{component:null,option:common_constant_1.ConditionType.ALL},template:__webpack_require__(442)};this.dialogService.show(options)},TopbarCtrl.prototype.openTranslations=function(){var _this=this;this.translationManagementService.openTranslations().then((function(result){var data=result.value;if(result.button===dialog_service_1.DialogButtonType.Ok&&data.savedComponentStrings.length>0){data.savedComponentStrings.forEach((function(value){var component=_this.editorService.getComponentInstanceById(value.component);component.forEachBindable((function(binding){binding.ref===value.reference&&(component.getBindableField(value.reference).value=value.newValue)}))}));var titlebarChanged=data.savedComponentStrings.find((function(translation){return translation.reference===common_constant_1.SettingKeys.APPLICATION_HEADER}));titlebarChanged&&_this.updateStringHeader(titlebarChanged.newValue);var selectedComponent_1=_this.editorService.getSelectedComponent();if(selectedComponent_1){var selectedIsChanged=data.savedComponentStrings.filter((function(translation){return translation.component===selectedComponent_1.getId()}));selectedIsChanged&&selectedIsChanged.forEach((function(updatedTranslation){_this.editorService.translationChangedEvent.raise(updatedTranslation)}))}_this.editorService.updateTranslatables(),_this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.TRANSLATIONS)}result.button!==dialog_service_1.DialogButtonType.Ok||angular_1.default.equals({},data.savedGlobalStrings)||_this.translationManagementService.saveGlobalTranslations(result.value.savedGlobalStrings).then((function(){_this.editorService.updateTranslatables()})),result.button!==dialog_service_1.DialogButtonType.Ok||angular_1.default.equals({},data.deletedGlobalStrings)||_this.translationManagementService.deleteGlobalTranslations(result.value.deletedGlobalStrings).then((function(){_this.editorService.updateTranslatables()}))}))},TopbarCtrl.prototype.updateStringHeader=function(newString){var manifest=this.editorService.getCurrentProject().getManifest();manifest.title=newString,this.editorService.setManifest(manifest),this.editorService.projectSettingsChangedEvent.raise(this.editorService.getCurrentProject().getManifest()),this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.MANIFEST)},TopbarCtrl.prototype.initiateSubscribers=function(scope){var _this=this,subscribers=[this.editorService.sidebarViewChangedEvent.on((function(view){view&&(_this.sidebarView=view.view,_this.isSidebarVisible=view.isSidebarVisible)})),this.editorService.selectedComponentChangedEvent.on((function(component){component&&_this.editorService.isMovable(component)?(_this.canCut=_this.editorService.canCut(component),_this.canCopy=_this.editorService.canCopy(component),_this.canDelete=component.canDelete()):(_this.canCut=!1,_this.canCopy=!1,_this.canDelete=!1)})),this.editorService.canvasModeChangedEvent.on((function(mode){mode===common_constant_1.CanvasModeEnum.RUNTIME?_this.isRuntime=!0:_this.isRuntime=!1,mode===common_constant_1.CanvasModeEnum.FINDER?(_this.overlayState=OverlayStateEnum.FINDER_OVERLAY,_this.finderOptions=_this.editorService.getFinderModeOptions()):mode===common_constant_1.CanvasModeEnum.WIZARD?_this.overlayState=OverlayStateEnum.OVERLAY:_this.overlayState=OverlayStateEnum.HIDDEN,scope.$applyAsync()})),this.insertComponentService.clipboardComponentChangedEvent.on((function(component){_this.hasClipboardComponent=!!component})),this.saveService.saveStateEvent.on((function(value){_this.updateSaveState(value)}))];scope.$on(angular_constants_1.AngularConstants.DESTROY,(function(){subscribers.forEach((function(unsubscribe){unsubscribe()}))}))},TopbarCtrl.prototype.saveBase=function(){var _this=this,options={title:"Define Stratus Base Template",template:__webpack_require__(1119)};this.dialogService.show(options).then((function(result){result.button===dialog_service_1.DialogButtonType.Ok&&(_this.editorService.getCurrentProject().getManifest().typeDef=common_constant_1.ProjectTypeEnum.BASE,_this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.QUESTIONS),_this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.MANIFEST))}))},TopbarCtrl.prototype.changeLanguage=function(language){var _this=this;language.key!==this.currentLanguage&&this.languageService.changeCurrentLanguage(language.key).then((function(){_this.currentLanguage=_this.languageService.getLanguage(),_this.languageService.loadSohoLocale(_this.currentLanguage).done((function(){_this.editorService.getAllComponents().forEach((function(component){switch(component.getTypedef()){case datagrid_1.Datagrid.name:component.updateValuesWithTranslations()}}))})),_this.languageService.loadGlobalStrings(_this.currentLanguage).then((function(){_this.editorService.updateTranslatables(),_this.updateStringHeader(_this.translationManagementService.getTranslatableHeaderString())}))}))},TopbarCtrl.prototype.toggleRuntimeMode=function(){var mode=common_constant_1.CanvasModeEnum.SELECTION;mode=this.editorService.getCanvasMode()===mode?common_constant_1.CanvasModeEnum.RUNTIME:common_constant_1.CanvasModeEnum.SELECTION,this.editorService.setCanvasMode(mode),this.isRuntime=this.editorService.isRuntimeMode()},TopbarCtrl.prototype.copyToForm=function(){var _this=this,options={title:"Copy To Mongoose Form",parameter:this.editorService.getCurrentProject().getManifest().displayName,template:__webpack_require__(1120)};this.dialogService.show(options).then((function(result){if(result.button===dialog_service_1.DialogButtonType.Ok){var projectId=_this.editorService.getCurrentProject().getId();_this.projectService.copyToForm(projectId,result.value)}}))},TopbarCtrl.prototype.refresh=function(){this.$state.reload()},TopbarCtrl.prototype.showProjectSettings=function(){var options={title:"Project Settings",parameter:this.editorService.getCurrentProject().getManifest(),style:"max-width: 350px;",template:__webpack_require__(1121)};this.dialogService.show(options)},TopbarCtrl.prototype.showKeyboardShortcuts=function(){var keydialog={title:"Keyboard Shortcuts",template:__webpack_require__(1122),buttons:[{text:"OK",value:"Cancel",isDefault:!1}]};this.dialogService.show(keydialog)},TopbarCtrl.prototype.saveProject=function(){var _this=this;this.saveError=null,this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.PROJECT).catch((function(errResponse){_this.saveError=errResponse.message}))},TopbarCtrl.prototype.cutComponent=function(){this.hotKeyService.cutComponent()},TopbarCtrl.prototype.copyComponent=function(){this.hotKeyService.copyComponent()},TopbarCtrl.prototype.pasteComponent=function(){this.hotKeyService.pasteComponent()},TopbarCtrl.prototype.deleteComponent=function(){this.hotKeyService.deleteComponent()},TopbarCtrl.prototype.screenshotCanvas=function(){this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.SCREENSHOT)},TopbarCtrl.prototype.displayClipboardName=function(){var displayName="";return this.insertComponentService.getClipboardComponent()&&(displayName=this.insertComponentService.getClipboardComponent().displayName),displayName},TopbarCtrl.prototype.typeDefClipboard=function(){var typedef="";return this.insertComponentService.getClipboardComponent()&&(typedef=this.insertComponentService.getClipboardComponent().typedef),typedef},TopbarCtrl.prototype.showClipboard=function(){return this.insertComponentService.getClipboardComponent()},TopbarCtrl.prototype.openNewComponent=function(){this.editorService.setSidebarView(defines_1.SidebarViewEnum.NEW_COMPONENT),this.showSidebar()},TopbarCtrl.prototype.openSettings=function(){this.editorService.setSidebarView(defines_1.SidebarViewEnum.SETTINGS),this.showSidebar()},TopbarCtrl.prototype.showSidebar=function(){this.editorService.setSidebarVisibility(!0)},TopbarCtrl.prototype.openRuntime=function(){helper_1.DesignerHelper.openRuntime(this.editorService.getCurrentProject().getId(),this.$window,this.editorService.getActiveUrlBindings(),this.editorService.getUrlMetaData())},TopbarCtrl.prototype.openHelp=function(){this.commonService.openHelp()},TopbarCtrl.prototype.openUrlSettings=function(){this.editorService.openURLDialog()},TopbarCtrl.prototype.undoAction=function(){this.hotKeyService.removeClipboardComponentByUndoStack(),this.undoService.undoAction()},TopbarCtrl.prototype.redoAction=function(){this.undoService.redoAction()},TopbarCtrl.prototype.isUndoActionAvailable=function(){return this.undoService.isUndoAvailable()},TopbarCtrl.prototype.isRedoActionAvailable=function(){return this.undoService.isRedoAvailable()},TopbarCtrl.prototype.updateSaveState=function(value){"string"==typeof value?(this.projectSaveState=value,this.saveError=null):(this.projectSaveState=this.saveService.saveStates.failed,this.saveError=value.message)},TopbarCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,angular_constants_1.AngularConstants.WINDOW,angular_constants_1.AngularConstants.STATE_SERVICE,common_constant_1.InjectNames.HOTKEY_SERVICE,common_constant_1.InjectNames.EDITOR_SERVICE,common_constant_1.InjectNames.SAVE_SERVICE,common_constant_1.InjectNames.UNDO_SERVICE,common_constant_1.InjectNames.DIALOG_SERVICE,common_constant_1.InjectNames.INSERT_COMPONENT_SERVICE,common_constant_1.InjectNames.LANGUAGE_SERVICE,common_constant_1.InjectNames.TRANSLATION_MANAGEMENT_SERVICE,common_constant_1.InjectNames.PROJECT_SERVICE,common_constant_1.InjectNames.COMMON_SERVICE],TopbarCtrl}();exports.TopbarCtrl=TopbarCtrl;var TopbarDirective=function(){function TopbarDirective(){}return TopbarDirective.add=function(m){m.directive("eirTopbar",(function(){return{template:__webpack_require__(1123),scope:!0,transclude:!0,controller:TopbarCtrl,controllerAs:"eirTopbarCtrl"}}))},TopbarDirective}();exports.TopbarDirective=TopbarDirective},function(module,exports){module.exports='<div ng-controller="eirBaseDialogController as ctrl"> <div class=base-template-dialog> <div class=toolbar role=toolbar> <div class=buttonset> <label class=audible for=searchfield-questions>Keyword Search</label> <input id=searchfield-questions name=searchfield-questions class=searchfield /> <button class=btn-tertiary type=button xi-tooltip="\'Add Question\'" ng-click=ctrl.addQuestion()> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-add></use> </svg> <span>Add</span> </button> <button class=btn-tertiary type=button xi-tooltip="\'Delete Question\'" ng-disabled=!ctrl.selectedQuestion ng-click=ctrl.deleteQuestion()> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-delete></use> </svg> <span>Delete</span> </button> </div> </div> <div id=datagrid-questions class=questions-grid xi-datagrid=ctrl.datagridOptions></div> </div> <div class=modal-buttonset> <button type=button class=btn-modal ng-click=ctrl.close()>Close</button> <button type=button class=btn-modal ng-click=ctrl.save()>Save</button> </div> </div>'},function(module,exports){module.exports='<div class=copy-form-dialog ng-controller="eirCopyFormDialogController as ctrl"> <div class="field form-name"> <label>New Form Name <span>*</span></label> <eir-input-field-component id=new-form-name field-value=ctrl.formName field-name=formName validation="{\r\n\t\t\t\t\tvalidators: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttype: \'not-empty\'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\terrorList: ctrl.errorList\r\n\t\t\t\t}"/> </div> <div class="text-emphasis field"> <svg class=icon aria-hidden=true focusable=false> <use xlink:href=#icon-alert></use> </svg> <span>Note: Some components, interactions and data services may require manual editing in Mongoose.</span> </div> <div class=modal-buttonset> <button type=button class=btn-modal ng-click=ctrl.close()>Cancel</button> <button type=button class="btn-modal btn-modal-primary" ng-click=ctrl.saveForm() ng-disabled=ctrl.isNameInvalid> Copy </button> </div> </div>'},function(module,exports){module.exports='<div ng-controller="eirProjectSettingsCtrl as ctrl"> <div class=field ng-if="ctrl.manifest.typeDef === 1"> <p>This project is a Stratus Template</p> </div> <div class=field> <eir-input-field-component label-name="Project Name" field-value=ctrl.manifest.displayName validation="{\r\n\t\t\t\tvalidators: [\r\n\t\t\t\t\t{type: \'max-length\', value: 128},\r\n\t\t\t\t\t{type: \'not-empty\'}\r\n\t\t\t\t],\r\n\t\t\t\terrorList: ctrl.errorList\r\n\t\t\t}"/> </div> <div class=field> <eir-input-field-component label-name="App Header Title" field-value=ctrl.manifest.title validation="{\r\n\t\t\t\tvalidators: [\r\n\t\t\t\t\t{type: \'max-length\', value: 128},\r\n\t\t\t\t\t{type: \'not-empty\'}\r\n\t\t\t\t],\r\n\t\t\t\terrorList: ctrl.errorList\r\n\t\t\t}"/> </div> <div class=field> <eir-textarea-field-component label-name=Description field-value=ctrl.manifest.description validation="{\r\n\t\t\t\tvalidators: [\r\n\t\t\t\t\t{type: \'max-length\', value: 2000}\r\n\t\t\t\t],\r\n\t\t\t\terrorList: ctrl.errorList\r\n\t\t\t}"/> </div> <div class=field> <eir-tag-dropdown on-save-tags=ctrl.saveTags($tags) project=ctrl.currentProject.manifest selected-tags=ctrl.currentProject.tags /> </div> <div class=field> <eir-input-field-component label-name=Version field-value=ctrl.manifest.version validation="{\r\n\t\t\t\tvalidators: [\r\n\t\t\t\t\t{type: \'max-length\', value: 128},\r\n\t\t\t\t\t{type: \'not-empty\'}\r\n\t\t\t\t],\r\n\t\t\t\terrorList: ctrl.errorList\r\n\t\t\t}"/> </div> <div class=field> <label for=defaultThemeDropdown>Default Theme</label> <select id=defaultThemeDropdown class=dropdown ng-model=ctrl.defaultTheme ng-options="v.name for (_key, v) in ctrl.themes" xi-drop-down> </select> </div> <div class=field> <input id=showTitleBarInput type=checkbox class=checkbox ng-model=ctrl.manifest.showTitleBar /> <label for=showTitleBarInput class=checkbox-label>Use titlebar</label> </div> <div class=field> <input id=showThemeSwitchInput type=checkbox class=checkbox ng-model=ctrl.manifest.themeSwitchEnabled /> <label for=showThemeSwitchInput class=checkbox-label>Enable theme switch</label> </div> <div class=modal-buttonset> <button type=button class=btn-modal ng-click=ctrl.close()>Cancel</button> <button type=button class=btn-modal-primary ng-click=ctrl.save() ng-disabled=ctrl.isManifestInvalid> Save</button> </div> </div> '},function(module,exports){module.exports="<div class=shortcutsModal> <div class=shortcutsWrapper> <label class=shortcut-label>Canvas Shortcuts</label> <div class=shortcutsModal-content> <ul> <li> <dl> <dt>Cut Selected</dt> <dd> <kbd>Ctrl</kbd> + <kbd>X</kbd> </dd> </dl> </li> <li> <dl> <dt>Copy Selected</dt> <dd> <kbd>Ctrl</kbd> + <kbd>C</kbd> </dd> </dl> </li> <li> <dl> <dt>Paste Selected</dt> <dd> <kbd>Ctrl</kbd> + <kbd>V</kbd> </dd> </dl> </li> <li> <dl> <dt>Delete Selected</dt> <dd> <kbd>Del</kbd> </dd> </dl> </li> </ul> </div> <div class=shortcutsModal-content> <ul> <li> <dl> <dt>Undo Change</dt> <dd> <kbd>Ctrl</kbd> + <kbd>Z</kbd> </dd> </dl> </li> <li> <dl> <dt>Redo Change</dt> <dd> <kbd>Ctrl</kbd> + <kbd>Y</kbd> </dd> </dl> </li> </ul> </div> <label class=shortcut-label>Project Shortcuts</label> <div class=shortcutsModal-content> <ul> <li> <dl> <dt>Save Project</dt> <dd> <kbd>Ctrl</kbd> + <kbd>S</kbd> </dd> </dl> </li> <li> <dl> <dt>Toggle Preview</dt> <dd> <kbd>Ctrl</kbd> + <kbd>&lt;</kbd> </dd> </dl> </li> </ul> </div> <div class=shortcutsModal-content> <ul> <li> <dl> <dt>Open Dropdown</dt> <dd> <kbd>Space</kbd> </dd> </dl> </li> <li> <dl> <dt>Close Dropdown</dt> <dd> <kbd>Esc</kbd> </dd> </dl> </li> </ul> </div> </div> </div>"},function(module,exports){module.exports='<header class="header design"> <div class=left> <div class=buttonContainer> <button class="btn-icon icon-left" ng-disabled="eirTopbarCtrl.overlayState != eirTopbarCtrl.overlayStateEnum.HIDDEN" ui-sref=home xi-tooltip="\'Return to Dashboard\'"> <svg class=icon focusable=false> <use xlink:href=#icon-warehouse></use> </svg> </button> <button id=elementTopbar class="btn-icon icon-left" ng-disabled="eirTopbarCtrl.overlayState != eirTopbarCtrl.overlayStateEnum.HIDDEN" ng-click=eirTopbarCtrl.openNewComponent() ng-class="{selected: eirTopbarCtrl.isSidebarVisible && eirTopbarCtrl.sidebarView.value === \'newcomponent\'}" xi-tooltip="\'Components\'"> <svg class=icon focusable=false> <use xlink:href=#icon-component></use> </svg> </button> <button id=settingsTopbar class="btn-icon icon-left" ng-disabled="eirTopbarCtrl.overlayState != eirTopbarCtrl.overlayStateEnum.HIDDEN" ng-click=eirTopbarCtrl.openSettings() ng-class="{selected: eirTopbarCtrl.isSidebarVisible && eirTopbarCtrl.sidebarView.value === \'settings\'}" xi-tooltip="\'Component Properties\'"> <svg class=icon focusable=false> <use xlink:href=#icon-settings></use> </svg> </button> </div> </div> <div class=middle> <div class=buttonContainer> <button class="btn-icon icon-middle" ng-disabled="!eirTopbarCtrl.isUndoActionAvailable() || eirTopbarCtrl.overlayState != eirTopbarCtrl.overlayStateEnum.HIDDEN" ng-click=eirTopbarCtrl.undoAction() xi-tooltip="\'Undo (Ctrl+Z)\'"> <svg class=icon focusable=false> <use xlink:href=#icon-undo></use> </svg> </button> <button class="btn-icon icon-middle" ng-disabled="!eirTopbarCtrl.isRedoActionAvailable() || eirTopbarCtrl.overlayState != eirTopbarCtrl.overlayStateEnum.HIDDEN" ng-click=eirTopbarCtrl.redoAction() xi-tooltip="\'Redo (Ctrl+Y)\'"> <svg class=icon focusable=false> <use xlink:href=#icon-redo></use> </svg> </button> <button class="btn-icon icon-middle" ng-disabled="!eirTopbarCtrl.canCut || eirTopbarCtrl.overlayState != eirTopbarCtrl.overlayStateEnum.HIDDEN" ng-click=eirTopbarCtrl.cutComponent() xi-tooltip="\'Cut (Ctrl+X)\'"> <svg class=icon focusable=false> <use xlink:href=#icon-cut></use> </svg> </button> <button class="btn-icon icon-middle" ng-disabled="!eirTopbarCtrl.canCopy || eirTopbarCtrl.overlayState != eirTopbarCtrl.overlayStateEnum.HIDDEN" ng-click=eirTopbarCtrl.copyComponent() xi-tooltip="\'Copy (Ctrl+C)\'"> <svg class=icon focusable=false> <use xlink:href=#icon-copy></use> </svg> </button> <button class="btn-icon icon-middle" ng-disabled="!eirTopbarCtrl.hasClipboardComponent || eirTopbarCtrl.overlayState != eirTopbarCtrl.overlayStateEnum.HIDDEN" ng-click=eirTopbarCtrl.pasteComponent();$event.stopPropagation(); xi-tooltip="\'Paste (Ctrl+V)\'"> <svg class=icon focusable=false> <use xlink:href=#icon-paste></use> </svg> </button> <button class="btn-icon icon-middle" ng-disabled="!eirTopbarCtrl.canDelete || eirTopbarCtrl.overlayState != eirTopbarCtrl.overlayStateEnum.HIDDEN" ng-click=eirTopbarCtrl.deleteComponent() xi-tooltip="\'Delete (Del)\'"> <svg class=icon focusable=false> <use xlink:href=#icon-delete></use> </svg> </button> </div> </div> <div class=right> <div class=buttonContainer> <button ng-class="{\'btn-tertiary no-caps toggled\': eirTopbarCtrl.isRuntime, \'btn-icon\' : !eirTopbarCtrl.isRuntime}" ng-disabled="eirTopbarCtrl.overlayState != eirTopbarCtrl.overlayStateEnum.HIDDEN" ng-click=eirTopbarCtrl.toggleRuntimeMode() xi-tooltip="\'Preview\'"> <svg class=icon focusable=false> <use xlink:href=#icon-update-preview></use> </svg> <span>{{eirTopbarCtrl.isRuntime ? \'Preview\' : \'\'}}</span> </button> <button class=btn-icon ng-disabled="eirTopbarCtrl.overlayState != eirTopbarCtrl.overlayStateEnum.HIDDEN" ng-click=eirTopbarCtrl.openRuntime() xi-tooltip="\'Launch\'"> <svg class=icon focusable=false> <use xlink:href=#icon-rocket></use> </svg> </button> <button class=btn-icon ng-disabled="eirTopbarCtrl.overlayState != eirTopbarCtrl.overlayStateEnum.HIDDEN" ng-click=eirTopbarCtrl.saveProject() xi-tooltip="eirTopbarCtrl.saveError ? eirTopbarCtrl.saveError : \'Save\'"> <svg class=icon focusable=false> <use xlink:href=#icon-save></use> </svg> <svg class="icon icon-confirm alert" focusable=false aria-hidden=true role=presentation ng-if="eirTopbarCtrl.projectSaveState === eirTopbarCtrl.saveService.saveStates.saved"> <use xlink:href=#icon-confirm></use> </svg> <svg class="icon icon-in-progress alert" focusable=false aria-hidden=true role=presentation ng-if="eirTopbarCtrl.projectSaveState === eirTopbarCtrl.saveService.saveStates.inProgress"> <use xlink:href=#icon-in-progress></use> </svg> <svg class="icon icon-error alert" focusable=false aria-hidden=true role=presentation ng-if="eirTopbarCtrl.projectSaveState === eirTopbarCtrl.saveService.saveStates.failed"> <use xlink:href=#icon-error></use> </svg> </button> <button class=btn-actions xi-tooltip="\'More...\'" xi-popupmenu ng-disabled="eirTopbarCtrl.overlayState != eirTopbarCtrl.overlayStateEnum.HIDDEN"> <svg class=icon aria-hidden=true focusable=false> <use xlink:href=#icon-more></use> </svg> <span class=audible>More</span> </button> <ul class=popupmenu> <li ng-click=eirTopbarCtrl.showProjectSettings()> <a>Project Settings</a> </li> <li ng-click=eirTopbarCtrl.screenshotCanvas()> <a>Create App Thumbnail</a> </li> <li ng-click=eirTopbarCtrl.copyToForm()> <a>Copy To Form</a> </li> <li class=separator></li> <li ui-sref=repository> <a>Repository</a> </li> <li ng-click=eirTopbarCtrl.showKeyboardShortcuts()> <a>Keyboard Shortcuts</a> </li> <li ng-click=eirTopbarCtrl.refresh()> <a>Refresh</a> </li> <li class=submenu> <a><span>Language</span> <svg class="icon arrow icon-dropdown" focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-dropdown></use> </svg> </a> <ul class="popupmenu is-padded is-selectable"> <li ng-repeat="language in eirTopbarCtrl.supportedLanguages" ng-click=eirTopbarCtrl.changeLanguage(language); class="{{eirTopbarCtrl.currentLanguage === language.key ? \'is-checked\' : \'\'}}"> <a>{{language.value}}</a> </li> </ul> </li> <li class=submenu> <a><span>Manage</span> <svg class="icon arrow icon-dropdown" focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-dropdown></use> </svg> </a> <ul class=popupmenu> <li ng-click=eirTopbarCtrl.openTranslations()> <a>Translations</a> </li> <li ng-click=eirTopbarCtrl.openUrlSettings()> <a>URL Variables</a> </li> <li ng-click=eirTopbarCtrl.openExpressions()> <a>Expressions</a> </li> </ul> </li> <li ng-if=::eirTopbarCtrl.isDeveloper ui-sref=developer> <a>Developers tools</a> </li> <li ng-if=::eirTopbarCtrl.isBaseBuilder> <a ng-click=eirTopbarCtrl.saveBase()>Save as Base</a> </li> <li> <a ng-click=eirTopbarCtrl.openHelp()> Help </a> </li> </ul> </div> </div> </header> <div class=header-overlay ng-if="eirTopbarCtrl.overlayState == eirTopbarCtrl.overlayStateEnum.OVERLAY"> </div> <div class="header-overlay finder-overlay" ng-if="eirTopbarCtrl.overlayState == eirTopbarCtrl.overlayStateEnum.FINDER_OVERLAY"> <span>{{eirTopbarCtrl.finderOptions.title}}</span> <button class=btn-teritary ng-if="eirTopbarCtrl.finderOptions.hideCancel === false" ng-click=eirTopbarCtrl.finderOptions.cancel()> Cancel </button> </div>'},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.CompositeComponentWizardCtrl=void 0;var angular_1=__importDefault(__webpack_require__(12)),angular_constants_1=__webpack_require__(7);__webpack_require__(16),__webpack_require__(80);var defines_1=__webpack_require__(78),flexbox_1=__webpack_require__(208);__webpack_require__(28),__webpack_require__(20);var wizard_ctrl_1=__webpack_require__(211),common_constant_1=__webpack_require__(3),binding_type_enum_1=__webpack_require__(30),CompositeComponentWizardCtrl=function(_super){function CompositeComponentWizardCtrl($scope,$element,$templateCache,editorService,frameworkService,featureService){var _this=_super.call(this,$scope,$element,$templateCache,featureService)||this;return _this.editorService=editorService,_this.frameworkService=frameworkService,_this.steps=[{id:"composite-component-wizard-name.html",title:"Name",userTip:"",template:__webpack_require__(1125)},{id:"composite-component-wizard-include.html",title:"Include",userTip:"Which parts do you want included?",template:__webpack_require__(1126)},{id:"composite-component-wizard-summary.html",title:"Summary",userTip:"Does this seem correct to you?",template:__webpack_require__(1127)}],_this.settingIncludeDatasources=!0,_this.settingIncludeInteractions=!0,_this.settingIncludeTranslations=!0,_this.settingIncludeExpressions=!0,_this.settingIncludeBoundaries=!0,_this.initWizard(),_this.onComponentSelected(_this.dialog.parameter),_this.settingIncludeTranslations=_this.isFeatureTranslationEnabled(),_this}return __extends(CompositeComponentWizardCtrl,_super),CompositeComponentWizardCtrl.prototype.onChangeCompositeName=function(){this.settingCompositeName?this.nextDisabled=!1:this.nextDisabled=!0},CompositeComponentWizardCtrl.prototype.onComponentSelected=function(component){this.selectedComponent=component,this.settingCompositeName=component.displayName,this.onChangeCompositeName()},CompositeComponentWizardCtrl.prototype.getDatasources=function(){var _this=this,datasourceIds={};return this.frameworkService.forEachComponent(this.selectedComponent,(function(component){component.datasource&&(datasourceIds[component.datasource]="")})),Object.keys(datasourceIds).map((function(datasourceId){return _this.frameworkService.getDatasource(datasourceId)}))},CompositeComponentWizardCtrl.prototype.getInteractions=function(){var _this=this,interactions=[];return this.editorService.getCurrentProject().getInteractionDatabearers().forEach((function(interaction){var newInteraction=angular_1.default.copy(interaction),source=_this.getComponentIdBySourceId(newInteraction.sourceName),target=_this.getComponentIdBySourceId(newInteraction.targetName);!source&&"Application"!==interaction.sourceName||!target&&"Application"!==interaction.targetName||-1===interactions.indexOf(newInteraction)&&interactions.push(newInteraction)})),interactions},CompositeComponentWizardCtrl.prototype.getTranslations=function(){var translations={},currentProject=this.editorService.getCurrentProject();return this.frameworkService.forEachComponent(this.selectedComponent,(function(component){if(component.typedef!==flexbox_1.Flexbox.name){var translation=currentProject.getTranslation(component.id);translation&&(translations[component.id]=translation)}})),angular_1.default.copy(translations)},CompositeComponentWizardCtrl.prototype.getExpressions=function(){var expressions=[],currentProject=this.editorService.getCurrentProject();return this.frameworkService.forEachComponent(this.selectedComponent,(function(component){if(component.typedef!==flexbox_1.Flexbox.name){var componentExpressions=currentProject.getExpressionsByComponentId(component.id);componentExpressions.length>0&&expressions.push.apply(expressions,componentExpressions)}})),angular_1.default.copy(expressions)},CompositeComponentWizardCtrl.prototype.discardOutOfReachBindings=function(){var binding,_this=this;this.frameworkService.forEachComponent(this.selectedComponent,(function(component){defines_1.Defines.allComponents[component.typedef].class.BINDABLE_FIELDS_2.forEach((function(field){(binding=component[field.ref])&&binding.Type===binding_type_enum_1.BindingTypeEnum.BINDING&&(_this.getComponentIdBySourceId(binding.sourceName)||(binding.sourceName=null,binding.sourceKey=null))}))}))},CompositeComponentWizardCtrl.prototype.getComponentIdBySourceId=function(valueName){var componentId;return this.frameworkService.forEachComponent(this.selectedComponent,(function(component){valueName===component.id&&(componentId=component.id)})),componentId},CompositeComponentWizardCtrl.prototype.onChangeCurrentStep=function(){this.currentStep===this.steps[this.steps.length-1]&&(this.compositeComponent=this.getFinishParameter())},CompositeComponentWizardCtrl.prototype.getFinishParameter=function(){var manifest={id:null,displayName:this.settingCompositeName,author:null,creationDate:null};this.discardOutOfReachBindings();var newCompositeComponent={manifest:manifest,component:this.selectedComponent};return this.settingIncludeDatasources&&(newCompositeComponent.datasources=this.getDatasources()),this.settingIncludeInteractions&&(newCompositeComponent.interactions=this.getInteractions()),this.settingIncludeTranslations&&(newCompositeComponent.translations=this.getTranslations()),this.settingIncludeExpressions&&(newCompositeComponent.expressions=this.getExpressions()),this.settingIncludeBoundaries||this.editorService.forEachComponent(newCompositeComponent.component,(function(component){var defaultBoundarySettings=component.boundarySettings[common_constant_1.DEFAULT_BOUNDARY.id];component.boundarySettings={},component.boundarySettings[common_constant_1.DEFAULT_BOUNDARY.id]=defaultBoundarySettings})),newCompositeComponent},CompositeComponentWizardCtrl.add=function(m){m.controller("eirCompositeComponentWizardCtrl",CompositeComponentWizardCtrl)},CompositeComponentWizardCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,angular_constants_1.AngularConstants.ELEMENT,angular_constants_1.AngularConstants.TEMPLATE_CACHE,common_constant_1.InjectNames.EDITOR_SERVICE,common_constant_1.InjectNames.FRAMEWORK_SERVICE,common_constant_1.InjectNames.FEATURE_SWITCH_SERVICE],CompositeComponentWizardCtrl}(wizard_ctrl_1.WizardCtrl);exports.CompositeComponentWizardCtrl=CompositeComponentWizardCtrl},function(module,exports){module.exports='<div class=field-short> <label>Name</label> <input type=text class=input-md ng-model=wizardCtrl.settingCompositeName ng-change=wizardCtrl.onChangeCompositeName() /> </div> <label>Selected Component</label> <div class=componentIcon> <label class=title>{{wizardCtrl.selectedComponent.displayName}}</label> <span class="image image-{{wizardCtrl.selectedComponent.typedef}}"></span> </div> '},function(module,exports){module.exports=' <div class="field-short include-wizard"> <input type=checkbox class=checkbox id=wiz-include-datasource ng-model=wizardCtrl.settingIncludeDatasources> <label for=wiz-include-datasource class=checkbox-label>Data Services</label> </div> <div class="field-short include-wizard"> <input type=checkbox class=checkbox id=wiz-include-interactions ng-model=wizardCtrl.settingIncludeInteractions> <label for=wiz-include-interactions class=checkbox-label>Interactions</label> </div> <div class="field-short include-wizard" ng-if=::wizardCtrl.isFeatureTranslationEnabled()> <input type=checkbox class=checkbox id=wiz-include-translations ng-model=wizardCtrl.settingIncludeTranslations> <label for=wiz-include-translations class=checkbox-label>Translations</label> </div> <div class="field-short include-wizard"> <input type=checkbox class=checkbox id=wiz-include-expressions ng-model=wizardCtrl.settingIncludeExpressions> <label for=wiz-include-expressions class=checkbox-label>Expressions</label> </div> <div class="field-short include-wizard"> <input type=checkbox class=checkbox id=wiz-include-boundaries ng-model=wizardCtrl.settingIncludeBoundaries> <label for=wiz-include-boundaries class=checkbox-label>Boundaries</label> </div>'},function(module,exports){module.exports='<fieldset> <div class=summary-legend> <span>Name</span> <button xi-tooltip="\'Edit Source\'" class=btn-tertiary type=button ng-click=wizardCtrl.selectWizardStepByIndex(0)> Edit </button> </div> <div class=summary-form> <div class=field> <span class=label>Name:</span> <span class=data>{{wizardCtrl.settingCompositeName}}</span> </div> </div> </fieldset> <fieldset> <div class=summary-legend> <span>Include</span> <button xi-tooltip="\'Edit Source\'" class=btn-tertiary type=button ng-click=wizardCtrl.selectWizardStepByIndex(1)> Edit </button> </div> <div class=summary-form> <div class=field ng-if=wizardCtrl.settingIncludeDatasources> <span class=label>Data Services:</span> <span class=data ng-repeat="datasource in ::wizardCtrl.compositeComponent.datasources">{{datasource.displayName}}</span> </div> </div> <div class=summary-form> <div class=field ng-if=wizardCtrl.settingIncludeInteractions> <span class=label>Interactions:</span> <span class=data ng-repeat="interactions in ::wizardCtrl.compositeComponent.interactions">{{interactions.sourceName}}.{{interactions.sourceTriggerName}}->{{interactions.targetName}}.{{interactions.targetActionName}}</span> </div> </div> <div class=summary-form> <div class=field ng-if="::wizardCtrl.isFeatureTranslationEnabled() && wizardCtrl.settingIncludeTranslations"> <span class=label>Translations: Included</span> </div> <div class=summary-form> <div class=field ng-if=::wizardCtrl.settingIncludeExpressions> <span class=label>Expressions: Included</span> </div> <div class=summary-form> <div class=field ng-if=::wizardCtrl.settingIncludeBoundaries> <span class=label>Boundaries: Included</span> </div> </div></div></div></fieldset> '},function(module,exports){module.exports='<div class=setting-category ng-repeat="settingCategory in eirGenericSettingsCtrl.relevantSettings"> <div class="eir-content-component-settings general-content-settings is-default"> <div class="accordion last-one-setting" xi-control=accordion> <div class=accordion-header> <a class=title href=#> <span>{{settingCategory.title}}</span> </a> </div> <div class=accordion-pane> <div class="accordion-content setting-content"> <div ng-switch=settingMeta.inputType ng-repeat="settingMeta in settingCategory.settings"> <eir-checkbox-setting ng-switch-when=checkbox setting-meta=settingMeta register="eirGenericSettingsCtrl.registerSetting(settingCtrl, settingRef)"></eir-checkbox-setting> <eir-switch-setting ng-switch-when=switch setting-meta=settingMeta register="eirGenericSettingsCtrl.registerSetting(settingCtrl, settingRef)"></eir-switch-setting> <eir-dropdown-setting ng-switch-when=dropdown|color-picker ng-switch-when-separator=| setting-meta=settingMeta register="eirGenericSettingsCtrl.registerSetting(settingCtrl, settingRef)"></eir-dropdown-setting> <eir-radiobutton-setting ng-switch-when=radiobutton setting-meta=settingMeta register="eirGenericSettingsCtrl.registerSetting(settingCtrl, settingRef)"></eir-radiobutton-setting> <eir-text-setting ng-switch-when=text setting-meta=settingMeta register="eirGenericSettingsCtrl.registerSetting(settingCtrl, settingRef)"></eir-text-setting> <eir-text-setting ng-switch-when=number setting-meta=settingMeta register="eirGenericSettingsCtrl.registerSetting(settingCtrl, settingRef)"></eir-text-setting> <eir-margin-setting ng-switch-when=margin setting-meta=settingMeta register="eirGenericSettingsCtrl.registerSetting(settingCtrl, settingRef)"></eir-margin-setting> <eir-border-setting ng-switch-when=border setting-meta=settingMeta register="eirGenericSettingsCtrl.registerSetting(settingCtrl, settingRef)"></eir-border-setting> <div ng-switch-default> <div ng-include=settingMeta.url></div> </div> </div> </div> </div> </div> </div> </div>'},function(module,exports){module.exports='<div class=manage-dialog ng-controller="eirManageDatasourcesCtrl as ctrl"> <div class="local-datagrid manage-datagrid"> <div class=toolbar role=toolbar> <div class=buttonset> <div class="searchfield-wrapper toolbar-searchfield-wrapper"> <label class=audible for=searchfield-local-datasource>Keyword Search</label> <input id=searchfield-local-datasource name=searchfield-local-datasource class=searchfield data-options="{ collapsible: true }"/> </div> <button class="btn btn-menu" type=button xi-tooltip="\'Add Data Service\'"> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-add></use> </svg> <span>Add Data Service</span> </button> <ul class="popupmenu is-padded"> <li> <a ng-click=ctrl.createLocalDatasource(true)> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-magic-wand></use> </svg> <span>Create from Wizard</span> </a> </li> <li class=separator></li> <li> <a ng-click=ctrl.openGlobalRepository()> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-add-from-repository></use> </svg> <span>Add from Repository</span> </a> </li> <li> <a ng-click=ctrl.import()> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-import></use> </svg> <span>Import from File</span> </a> </li> <li> <a ng-click=ctrl.openMapper()> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-compose></use> </svg> <span>Configure Data Service Manually</span> </a> </li> </ul> <button class=btn-tertiary type=button xi-tooltip="\'Edit Data Service\'" ng-disabled="ctrl.selectedItems.length !== 1" ng-click=ctrl.editDatasource()> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-edit></use> </svg> <span>Edit</span> </button> <button class=btn-tertiary type=button xi-tooltip="\'Delete\'" ng-disabled=!ctrl.itemSelected ng-click=ctrl.deleteItem()> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-delete></use> </svg> <span>Delete</span> </button> <button class=btn-tertiary type=button xi-tooltip="\'Export Data Service\'" ng-disabled=!ctrl.itemSelected ng-click=ctrl.export()> <svg class=icon focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-export></use> </svg> <span>Export</span> </button> </div> </div> <div xi-datagrid=ctrl.datagridOptions id=local-grid class=datagrid-contained></div> </div> <div class=modal-buttonset> <button type=button class=btn-modal ng-click=ctrl.close()> Close </button> </div> </div>'},function(module,exports){module.exports='<div class=sidebar-header> <div class=headline> <h3>Properties</h3> <div class="buttonContainer sidebar-options"> <button class=btn-icon xi-tooltip="\'Close\'" ng-click=eirSettingsCtrl.hideSidebar() ng-disabled=eirSettingsCtrl.showOverlay> <svg class=icon focusable=false> <use xlink:href=#icon-close></use> </svg> <span>Hide</span> </button> </div> </div> <h4>{{eirSettingsCtrl.selectedComponentClassName}}</h4> <div ng-show=eirSettingsCtrl.selectedComponent class="data-source-bar settingstopic"> <div class="component-name field-short"> <label for=displayNameSetting>Component Name</label> <input id=displayNameSetting class=input-md type=text ng-model=eirSettingsCtrl.selectedComponent.databearer.displayName ng-change=eirSettingsCtrl.onChangeDisplayName() ng-disabled=eirSettingsCtrl.showOverlay ng-model-options="{ updateOn: \'default\', debounce: {\'default\': 500, \'blur\': 0}}"/> </div> <div class=field-short> <div class=datasource-labels> <label for=datasourceSetting>Data Service</label> <label class="hyperlink datasource-link" ng-click=eirSettingsCtrl.manageDatasources()>Manage Data Services</label> </div> <select id=datasourceSetting class=dropdown-md ng-disabled=eirSettingsCtrl.showOverlay ng-model=eirSettingsCtrl.settingDatasource ng-change="eirSettingsCtrl.onChangeDatasource(\'{{eirSettingsCtrl.settingDatasource.id}}\')" ng-options="datasource.displayName for datasource in eirSettingsCtrl.availableDatasources track by datasource.id" xi-drop-down=eirSettingsCtrl.dropdownSettings> </select> </div> </div> </div> <div class=sidebar-content> <div id=settings-tabs class=tab-container ng-if=eirSettingsCtrl.selectedComponent xi-tabs> <ul class=tab-list> <li class=tab ng-class="{\'is-disabled\': eirSettingsCtrl.showOverlay }" ng-click="eirSettingsCtrl.changeSidebarTab(\'content\')"> <a href=#settings-tabs-content>Content</a> </li> <li class=tab ng-class="{\'is-disabled\': eirSettingsCtrl.showOverlay }"> <a href=#settings-tabs-interactions>Interactions</a> </li> <li class="tab is-selected" ng-class="{\'is-disabled\': eirSettingsCtrl.showOverlay }" ng-click="eirSettingsCtrl.changeSidebarTab(\'style\')"> <a href=#settings-tabs-style>Style</a> </li> </ul> <div id=settings-tabs-content class=scrollable> <eir-content-settings-switch></eir-content-settings-switch> </div> <div id=settings-tabs-interactions class=scrollable> <eir-interaction-settings></eir-interaction-settings> </div> <div id=settings-tabs-style class=scrollable> <div class=boundary-info> <svg class="icon screen" focusable=false aria-hidden=true role=presentation> <use xlink:href=#icon-screen></use> </svg> <p class=selectedBoundaryLabel> Style settings affects {{eirSettingsCtrl.currentBoundary.limitX ? eirSettingsCtrl.currentBoundary.limitX + \' px\' : \'default\' }} screen width and smaller </p> </div> <eir-style-settings-switch></eir-style-settings-switch> </div> </div> </div> <div class=sidebar-message ng-if=!(eirSettingsCtrl.selectedComponent)> <h4>No Component Selected</h4> </div> <div class=sidebar-overlay ng-if=eirSettingsCtrl.showOverlay> </div> '},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.BorderSettingsDirective=void 0;var angular_1=__importDefault(__webpack_require__(12)),angular_constants_1=__webpack_require__(7);__webpack_require__(20);var settings_base_1=__webpack_require__(59),common_constant_1=__webpack_require__(3),BorderSettingsCtrl=function(_super){function BorderSettingsCtrl($scope,editorService){var _this=_super.call(this,$scope,editorService)||this;return _this.$scope=$scope,_this.onComponentChanged(_this.selectedComponent),_this}return __extends(BorderSettingsCtrl,_super),BorderSettingsCtrl.prototype.refresh=function(){this.settingTitle="Border";var border=angular_1.default.copy(this.readSettingValue(this.$scope.settingMeta));border&&(this.border=border,this.borderType=border.top===border.right&&border.right===border.bottom&&border.bottom===border.left?common_constant_1.BorderType.ALL:common_constant_1.BorderType.INDIVIDUAL,this.borderAllValue=border.top||0)},BorderSettingsCtrl.prototype.onComponentChanged=function(newComponent){newComponent&&(this.selectedComponent=newComponent,this.refresh())},BorderSettingsCtrl.prototype.onBoundaryChanged=function(newBoundary){_super.prototype.onBoundaryChanged.call(this,newBoundary),this.refresh()},BorderSettingsCtrl.prototype.onChangeBorderType=function(type){this.borderType=type,this.onChangeBorder()},BorderSettingsCtrl.prototype.onChangeBorder=function(){this.checkForNull(),this.borderType===common_constant_1.BorderType.ALL&&this.setBorderValues(),this.onChangeSetting(this.$scope.settingMeta,this.border)},BorderSettingsCtrl.prototype.checkForNull=function(){for(var key in this.border)null===this.border[key]&&(this.border[key]=0)},BorderSettingsCtrl.prototype.setBorderValues=function(){var value=this.borderAllValue||0;this.border.top=value,this.border.right=value,this.border.bottom=value,this.border.left=value},BorderSettingsCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,common_constant_1.InjectNames.EDITOR_SERVICE],BorderSettingsCtrl}(settings_base_1.SettingsBase),BorderSettingsDirective=function(){function BorderSettingsDirective(){this.template=__webpack_require__(1132),this.scope={settingMeta:"=",register:"&"},this.controller=BorderSettingsCtrl,this.controllerAs="eirBorderSettingsCtrl"}return BorderSettingsDirective.add=function(m){m.directive("eirBorderSetting",(function(){return new BorderSettingsDirective}))},BorderSettingsDirective}();exports.BorderSettingsDirective=BorderSettingsDirective},function(module,exports){module.exports="<div class=content> <fieldset class=radio-group> <div class=field> <input type=radio class=radio name=border id=borderAll ng-value=1 ng-model=eirBorderSettingsCtrl.borderType ng-change=eirBorderSettingsCtrl.onChangeBorderType(1) /> <label for=borderAll class=radio-label>All Sides</label> </div> <div class=field> <input type=radio class=radio name=border id=borderIndividual ng-value=2 ng-model=eirBorderSettingsCtrl.borderType ng-change=eirBorderSettingsCtrl.onChangeBorderType(2) /> <label for=borderIndividual class=radio-label>Individual</label> </div> </fieldset> <div class=field-short ng-if=\"eirBorderSettingsCtrl.borderType === 1\"> <label>{{eirBorderSettingsCtrl.settingTitle}}</label> <input class=input-md type=number ng-model=eirBorderSettingsCtrl.borderAllValue ng-change=eirBorderSettingsCtrl.onChangeBorder() ng-model-options=\"{ updateOn: 'default', debounce: {'default': 500, 'blur': 0}}\"/> </div> <div class=individual-settings> <div class=field-short ng-if=\"eirBorderSettingsCtrl.borderType === 2\"> <label>{{eirBorderSettingsCtrl.settingTitle}} Top</label> <input class=input-md type=number ng-model=eirBorderSettingsCtrl.border.top ng-change=eirBorderSettingsCtrl.onChangeBorder() ng-model-options=\"{ updateOn: 'default', debounce: {'default': 500, 'blur': 0}}\"/> </div> <div class=field-short ng-if=\"eirBorderSettingsCtrl.borderType === 2\"> <label>{{eirBorderSettingsCtrl.settingTitle}} Right</label> <input class=input-md type=number ng-model=eirBorderSettingsCtrl.border.right ng-change=eirBorderSettingsCtrl.onChangeBorder() ng-model-options=\"{ updateOn: 'default', debounce: {'default': 500, 'blur': 0}}\"/> </div> <div class=field-short ng-if=\"eirBorderSettingsCtrl.borderType === 2\"> <label>{{eirBorderSettingsCtrl.settingTitle}} Bottom</label> <input class=input-md type=number ng-model=eirBorderSettingsCtrl.border.bottom ng-change=eirBorderSettingsCtrl.onChangeBorder() ng-model-options=\"{ updateOn: 'default', debounce: {'default': 500, 'blur': 0}}\"/> </div> <div class=field-short ng-if=\"eirBorderSettingsCtrl.borderType === 2\"> <label>{{eirBorderSettingsCtrl.settingTitle}} Left</label> <input class=input-md type=number ng-model=eirBorderSettingsCtrl.border.left ng-change=eirBorderSettingsCtrl.onChangeBorder() ng-model-options=\"{ updateOn: 'default', debounce: {'default': 500, 'blur': 0}}\"/> </div> </div> </div> "},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.CheckboxSettingsDirective=void 0;var common_constant_1=__webpack_require__(3);__webpack_require__(105);var angular_constants_1=__webpack_require__(7);__webpack_require__(20),__webpack_require__(238);var CheckboxSettingsCtrl=function(_super){function CheckboxSettingsCtrl($scope,editorService){var _this=_super.call(this,$scope,editorService)||this;return _this.$scope=$scope,$scope.register({settingCtrl:_this,settingRef:$scope.settingMeta.ref}),_this.tooltip=$scope.settingMeta.tooltip,_this.button=$scope.settingMeta.button,_this.settingsRef=$scope.settingMeta.ref,_this.onComponentChanged(_this.editorService.getSelectedComponent()),_this}return __extends(CheckboxSettingsCtrl,_super),CheckboxSettingsCtrl.prototype.refresh=function(){this.isChecked=this.readSettingValue(this.$scope.settingMeta)},CheckboxSettingsCtrl.prototype.onComponentChanged=function(newComponent){this.selectedComponent=newComponent,this.selectedComponent&&this.refresh()},CheckboxSettingsCtrl.prototype.onBoundaryChanged=function(newBoundary){_super.prototype.onBoundaryChanged.call(this,newBoundary),this.refresh()},CheckboxSettingsCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,common_constant_1.InjectNames.EDITOR_SERVICE],CheckboxSettingsCtrl}(__webpack_require__(59).SettingsBase),CheckboxSettingsDirective=function(){function CheckboxSettingsDirective(){this.template=__webpack_require__(1134),this.scope={settingMeta:"=",register:"&"},this.controller=CheckboxSettingsCtrl,this.controllerAs="eirCheckboxSettingsCtrl"}return CheckboxSettingsDirective.add=function(m){m.directive("eirCheckboxSetting",(function(){return new CheckboxSettingsDirective}))},CheckboxSettingsDirective}();exports.CheckboxSettingsDirective=CheckboxSettingsDirective},function(module,exports){module.exports="<div class=\"{{eirCheckboxSettingsCtrl.button ? 'field with-button' : 'field'}}\"> <input class=checkbox type=checkbox id=toolbox-{{settingMeta.ref}} ng-model=eirCheckboxSettingsCtrl.isChecked ng-change=\"eirCheckboxSettingsCtrl.onChangeSetting(settingMeta, eirCheckboxSettingsCtrl.isChecked)\"/> <label class=checkbox-label for=toolbox-{{settingMeta.ref}} xi-tooltip=eirCheckboxSettingsCtrl.tooltip>{{settingMeta.title}}</label> <button class=btn-icon ng-if=eirCheckboxSettingsCtrl.button ng-click=eirCheckboxSettingsCtrl.onIconClick() xi-tooltip=\"'{{eirCheckboxSettingsCtrl.button.tooltip}}'\"> <svg class=icon focusable=false> <use xlink:href={{eirCheckboxSettingsCtrl.button.icon}}></use> </svg> </button> </div> "},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.DropdownSettingsDirective=void 0;var angular_1=__importDefault(__webpack_require__(12)),angular_constants_1=__webpack_require__(7),helper_1=__webpack_require__(15);__webpack_require__(20);var settings_base_1=__webpack_require__(59),common_constant_1=__webpack_require__(3),DropdownSettingsCtrl=function(_super){function DropdownSettingsCtrl($scope,editorService){var _this=_super.call(this,$scope,editorService)||this;return _this.$scope=$scope,$scope.register({settingCtrl:_this,settingRef:$scope.settingMeta.ref}),_this.isColorPicker=$scope.settingMeta.inputType===common_constant_1.SettingInputKeys.COLOR_PICKER,_this.button=$scope.settingMeta.button,_this.tooltip=$scope.settingMeta.tooltip,_this.settingsRef=$scope.settingMeta.ref,_this.onComponentChanged(editorService.getSelectedComponent()),_this.isColorPicker&&_this.initColorpicker(),_this}return __extends(DropdownSettingsCtrl,_super),DropdownSettingsCtrl.prototype.initColorpicker=function(){var _this=this;setTimeout((function(){angular_1.default.element("#colorpickerLabel"+_this.settingsRef).on("change",(function(){_this.onChangeSetting(_this.$scope.settingMeta,_this.settingValue)}))}))},DropdownSettingsCtrl.prototype.refresh=function(){var _a,settingMeta=this.$scope.settingMeta,value=this.readSettingValue(settingMeta);helper_1.Helper.isUndefinedOrNull(value)&&(value=settingMeta.defaultValue,helper_1.Helper.isUndefined(value)&&(null===(_a=settingMeta.dataset)||void 0===_a?void 0:_a.length)>0&&(value=settingMeta.dataset[0].value)),this.settingValue=value},DropdownSettingsCtrl.prototype.onComponentChanged=function(newComponent){this.selectedComponent=newComponent,this.selectedComponent&&this.refresh()},DropdownSettingsCtrl.prototype.onBoundaryChanged=function(newBoundary){_super.prototype.onBoundaryChanged.call(this,newBoundary),this.refresh()},DropdownSettingsCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,common_constant_1.InjectNames.EDITOR_SERVICE],DropdownSettingsCtrl}(settings_base_1.SettingsBase),DropdownSettingsDirective=function(){function DropdownSettingsDirective(){this.template=__webpack_require__(1136),this.scope={settingMeta:"=",register:"&"},this.controller=DropdownSettingsCtrl,this.controllerAs="eirDropdownSettingsCtrl"}return DropdownSettingsDirective.add=function(m){m.directive("eirDropdownSetting",(function(){return new DropdownSettingsDirective}))},DropdownSettingsDirective}();exports.DropdownSettingsDirective=DropdownSettingsDirective},function(module,exports){module.exports='<div class="field-short {{eirDropdownSettingsCtrl.button ? \'with-button\' : \'\'}}"> <div class=label-tooltip-field> <label ng-if=settingMeta.title>{{settingMeta.title}}</label> <svg ng-if=eirDropdownSettingsCtrl.tooltip class=icon focusable=false aria-hidden=true role=presentation xi-tooltip="\'{{eirDropdownSettingsCtrl.tooltip}}\'"> <use xlink:href=#icon-info></use> </svg> </div> <select ng-if=!eirDropdownSettingsCtrl.isColorPicker id=dropdownLabel{{settingMeta.ref}} class="dropdown dropdown-md" ng-model=eirDropdownSettingsCtrl.settingValue ng-change="eirDropdownSettingsCtrl.onChangeSetting(settingMeta, eirDropdownSettingsCtrl.settingValue)" ng-options="item.value as item.name for item in settingMeta.dataset" xi-drop-down=settingMeta.dataset> </select> <input class="colorpicker colorpicker-input-lg" id=colorpickerLabel{{settingMeta.ref}} ng-if=eirDropdownSettingsCtrl.isColorPicker xi-color-picker ng-model=eirDropdownSettingsCtrl.settingValue> <button class=btn-icon ng-if=eirDropdownSettingsCtrl.button ng-click=eirDropdownSettingsCtrl.onIconClick() xi-tooltip="\'{{eirDropdownSettingsCtrl.button.tooltip}}\'"> <svg class=icon focusable=false> <use xlink:href={{eirDropdownSettingsCtrl.button.icon}}></use> </svg> </button> </div>'},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.MarginSettingsDirective=void 0;var angular_1=__importDefault(__webpack_require__(12)),common_constant_1=__webpack_require__(3);__webpack_require__(32),__webpack_require__(105);var angular_constants_1=__webpack_require__(7);__webpack_require__(20),__webpack_require__(238);var MarginSettingsCtrl=function(_super){function MarginSettingsCtrl($scope,editorService){var _this=_super.call(this,$scope,editorService)||this;return _this.$scope=$scope,_this.onComponentChanged(_this.selectedComponent),_this}return __extends(MarginSettingsCtrl,_super),MarginSettingsCtrl.prototype.refresh=function(){this.settingTitle=this.selectedComponent.isLayoutComponent()?"Padding":"Margin";var margin=angular_1.default.copy(this.readSettingValue(this.$scope.settingMeta));this.margin=margin,this.marginType=margin.top===margin.right&&margin.right===margin.bottom&&margin.bottom===margin.left?common_constant_1.MarginType.ALL:common_constant_1.MarginType.INDIVIDUAL,this.marginAllValue=margin.top||0},MarginSettingsCtrl.prototype.onComponentChanged=function(newComponent){newComponent&&(this.selectedComponent=newComponent,this.refresh())},MarginSettingsCtrl.prototype.onBoundaryChanged=function(newBoundary){_super.prototype.onBoundaryChanged.call(this,newBoundary),this.refresh()},MarginSettingsCtrl.prototype.onChangeMarginType=function(type){this.marginType=type,this.onChangeMargin()},MarginSettingsCtrl.prototype.onChangeMargin=function(){this.checkForNull(),this.marginType===common_constant_1.MarginType.ALL&&this.setMarginValues(),this.onChangeSetting(this.$scope.settingMeta,this.margin)},MarginSettingsCtrl.prototype.checkForNull=function(){for(var key in this.margin)null===this.margin[key]&&(this.margin[key]=0)},MarginSettingsCtrl.prototype.setMarginValues=function(){var value=this.marginAllValue||0;this.margin.top=value,this.margin.right=value,this.margin.bottom=value,this.margin.left=value},MarginSettingsCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,common_constant_1.InjectNames.EDITOR_SERVICE],MarginSettingsCtrl}(__webpack_require__(59).SettingsBase),MarginSettingsDirective=function(){function MarginSettingsDirective(){this.template=__webpack_require__(1138),this.scope={settingMeta:"=",register:"&"},this.controller=MarginSettingsCtrl,this.controllerAs="eirMarginSettingsCtrl"}return MarginSettingsDirective.add=function(m){m.directive("eirMarginSetting",(function(){return new MarginSettingsDirective}))},MarginSettingsDirective}();exports.MarginSettingsDirective=MarginSettingsDirective},function(module,exports){module.exports="<div class=content> <fieldset class=radio-group> <div class=field> <input type=radio class=radio name=margin id=marginAll ng-value=1 ng-model=eirMarginSettingsCtrl.marginType ng-change=eirMarginSettingsCtrl.onChangeMarginType(1) /> <label for=marginAll class=radio-label>All Sides</label> </div> <div class=field> <input type=radio class=radio name=margin id=marginIndividual ng-value=2 ng-model=eirMarginSettingsCtrl.marginType ng-change=eirMarginSettingsCtrl.onChangeMarginType(2) /> <label for=marginIndividual class=radio-label>Individual</label> </div> </fieldset> <div class=field-short ng-if=\"eirMarginSettingsCtrl.marginType === 1\"> <label>{{eirMarginSettingsCtrl.settingTitle}}</label> <input class=input-md type=number ng-model=eirMarginSettingsCtrl.marginAllValue ng-change=eirMarginSettingsCtrl.onChangeMargin() ng-model-options=\"{ updateOn: 'default', debounce: {'default': 500, 'blur': 0}}\"/> </div> <div class=individual-settings> <div class=field-short ng-if=\"eirMarginSettingsCtrl.marginType === 2\"> <label>{{eirMarginSettingsCtrl.settingTitle}} Top</label> <input class=input-md type=number ng-model=eirMarginSettingsCtrl.margin.top ng-change=eirMarginSettingsCtrl.onChangeMargin() ng-model-options=\"{ updateOn: 'default', debounce: {'default': 500, 'blur': 0}}\"/> </div> <div class=field-short ng-if=\"eirMarginSettingsCtrl.marginType === 2\"> <label>{{eirMarginSettingsCtrl.settingTitle}} Right</label> <input class=input-md type=number ng-model=eirMarginSettingsCtrl.margin.right ng-change=eirMarginSettingsCtrl.onChangeMargin() ng-model-options=\"{ updateOn: 'default', debounce: {'default': 500, 'blur': 0}}\"/> </div> <div class=field-short ng-if=\"eirMarginSettingsCtrl.marginType === 2\"> <label>{{eirMarginSettingsCtrl.settingTitle}} Bottom</label> <input class=input-md type=number ng-model=eirMarginSettingsCtrl.margin.bottom ng-change=eirMarginSettingsCtrl.onChangeMargin() ng-model-options=\"{ updateOn: 'default', debounce: {'default': 500, 'blur': 0}}\"/> </div> <div class=field-short ng-if=\"eirMarginSettingsCtrl.marginType === 2\"> <label>{{eirMarginSettingsCtrl.settingTitle}} Left</label> <input class=input-md type=number ng-model=eirMarginSettingsCtrl.margin.left ng-change=eirMarginSettingsCtrl.onChangeMargin() ng-model-options=\"{ updateOn: 'default', debounce: {'default': 500, 'blur': 0}}\"/> </div> </div> </div> "},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.RadiobuttonSettingsDirective=void 0;var angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3);__webpack_require__(105),__webpack_require__(20),__webpack_require__(238);var RadiobuttonSettingsCtrl=function(_super){function RadiobuttonSettingsCtrl($scope,editorService){var _this=_super.call(this,$scope,editorService)||this;return _this.$scope=$scope,$scope.register({settingCtrl:_this,settingRef:$scope.settingMeta.ref}),_this.onComponentChanged(editorService.getSelectedComponent()),_this}return __extends(RadiobuttonSettingsCtrl,_super),RadiobuttonSettingsCtrl.prototype.refresh=function(){this.radioSetting=this.readSettingValue(this.$scope.settingMeta)},RadiobuttonSettingsCtrl.prototype.onComponentChanged=function(newComponent){this.selectedComponent=newComponent,this.selectedComponent&&this.refresh()},RadiobuttonSettingsCtrl.prototype.onBoundaryChanged=function(newBoundary){_super.prototype.onBoundaryChanged.call(this,newBoundary),this.refresh()},RadiobuttonSettingsCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,common_constant_1.InjectNames.EDITOR_SERVICE],RadiobuttonSettingsCtrl}(__webpack_require__(59).SettingsBase),RadiobuttonSettingsDirective=function(){function RadiobuttonSettingsDirective(){this.template=__webpack_require__(1140),this.scope={settingMeta:"=",register:"&"},this.controller=RadiobuttonSettingsCtrl,this.controllerAs="eirRadiobuttonSettingsCtrl"}return RadiobuttonSettingsDirective.add=function(m){m.directive("eirRadiobuttonSetting",(function(){return new RadiobuttonSettingsDirective}))},RadiobuttonSettingsDirective}();exports.RadiobuttonSettingsDirective=RadiobuttonSettingsDirective},function(module,exports){module.exports='<fieldset class=radio-group> <div class=field ng-repeat="item in settingMeta.dataset track by item.value"> <input type=radio class=radio id=radiosetting-{{::settingMeta.ref}}-{{::item.value}} ng-value=item.value ng-model=eirRadiobuttonSettingsCtrl.radioSetting name=radiosetting-{{::settingMeta.ref}} ng-change="eirRadiobuttonSettingsCtrl.onChangeSetting(settingMeta, eirRadiobuttonSettingsCtrl.radioSetting)"/> <label for=radiosetting-{{::settingMeta.ref}}-{{::item.value}} class=radio-label>{{item.name}}</label> </div> </fieldset>'},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.SwitchSettingsDirective=void 0;var angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3);__webpack_require__(105),__webpack_require__(20),__webpack_require__(238);var SwitchSettingsCtrl=function(_super){function SwitchSettingsCtrl($scope,editorService){var _this=_super.call(this,$scope,editorService)||this;return _this.$scope=$scope,$scope.register({settingCtrl:_this,settingRef:$scope.settingMeta.ref}),_this.button=$scope.settingMeta.button,_this.settingsRef=$scope.settingMeta.ref,_this.onComponentChanged(editorService.getSelectedComponent()),_this}return __extends(SwitchSettingsCtrl,_super),SwitchSettingsCtrl.prototype.refresh=function(){this.isSwitched=this.readSettingValue(this.$scope.settingMeta)},SwitchSettingsCtrl.prototype.onComponentChanged=function(newComponent){this.selectedComponent=newComponent,this.selectedComponent&&this.refresh()},SwitchSettingsCtrl.prototype.onBoundaryChanged=function(newBoundary){_super.prototype.onBoundaryChanged.call(this,newBoundary),this.refresh()},SwitchSettingsCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,common_constant_1.InjectNames.EDITOR_SERVICE],SwitchSettingsCtrl}(__webpack_require__(59).SettingsBase),SwitchSettingsDirective=function(){function SwitchSettingsDirective(){this.template=__webpack_require__(1142),this.scope={settingMeta:"=",register:"&"},this.controller=SwitchSettingsCtrl,this.controllerAs="eirSwitchSettingsCtrl"}return SwitchSettingsDirective.add=function(m){m.directive("eirSwitchSetting",(function(){return new SwitchSettingsDirective}))},SwitchSettingsDirective}();exports.SwitchSettingsDirective=SwitchSettingsDirective},function(module,exports){module.exports="<div class=\"switch {{eirCheckboxSettingsCtrl.button ? 'with-button' : ''}}\"> <input class=switch type=checkbox id=toolbox-{{settingMeta.ref}} ng-model=eirSwitchSettingsCtrl.isSwitched ng-change=\"eirSwitchSettingsCtrl.onChangeSetting(settingMeta, eirSwitchSettingsCtrl.isSwitched)\"/> <label class=checkbox-label for=toolbox-{{settingMeta.ref}}>{{settingMeta.title}}</label> <button class=btn-icon ng-if=eirSwitchSettingsCtrl.button ng-click=eirSwitchSettingsCtrl.onIconClick() xi-tooltip=\"'{{eirSwitchSettingsCtrl.button.tooltip}}'\"> <svg class=icon focusable=false> <use xlink:href={{eirSwitchSettingsCtrl.button.icon}}></use> </svg> </button> </div>"},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.TextSettingsDirective=exports.TextSettingsCtrl=void 0;var common_constant_1=__webpack_require__(3);__webpack_require__(105);var angular_constants_1=__webpack_require__(7);__webpack_require__(20),__webpack_require__(238);var TextSettingsCtrl=function(_super){function TextSettingsCtrl($scope,editorService){var _this=_super.call(this,$scope,editorService)||this;return _this.$scope=$scope,$scope.register({settingCtrl:_this,settingRef:$scope.settingMeta.ref}),_this.inputType=$scope.settingMeta.inputType,_this.button=$scope.settingMeta.button,_this.settingsRef=$scope.settingMeta.ref,_this.onComponentChanged(editorService.getSelectedComponent()),_this}return __extends(TextSettingsCtrl,_super),TextSettingsCtrl.prototype.refresh=function(){this.textSetting=this.readSettingValue(this.$scope.settingMeta)},TextSettingsCtrl.prototype.onComponentChanged=function(newComponent){this.selectedComponent=newComponent,this.selectedComponent&&this.refresh()},TextSettingsCtrl.prototype.onBoundaryChanged=function(newBoundary){_super.prototype.onBoundaryChanged.call(this,newBoundary),this.refresh()},TextSettingsCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,common_constant_1.InjectNames.EDITOR_SERVICE],TextSettingsCtrl}(__webpack_require__(59).SettingsBase);exports.TextSettingsCtrl=TextSettingsCtrl;var TextSettingsDirective=function(){function TextSettingsDirective(){this.template=__webpack_require__(1144),this.scope={settingMeta:"=",register:"&"},this.controller=TextSettingsCtrl,this.controllerAs="eirTextSettingsCtrl"}return TextSettingsDirective.add=function(m){m.directive("eirTextSetting",(function(){return new TextSettingsDirective}))},TextSettingsDirective}();exports.TextSettingsDirective=TextSettingsDirective},function(module,exports){module.exports="<div class=\"field-short {{eirTextSettingsCtrl.button ? 'with-button' : ''}}\"> <label>{{settingMeta.title}}</label> <input type={{eirTextSettingsCtrl.inputType}} class=input-md ng-model=eirTextSettingsCtrl.textSetting ng-change=\"eirTextSettingsCtrl.onChangeSetting(settingMeta, eirTextSettingsCtrl.textSetting)\" ng-model-options=\"{ updateOn: 'default', debounce: {'default': 500, 'blur': 0}}\"/> <button class=btn-icon ng-if=eirTextSettingsCtrl.button ng-click=eirTextSettingsCtrl.onIconClick() xi-tooltip=\"'{{eirTextSettingsCtrl.button.tooltip}}'\"> <svg class=icon focusable=false> <use xlink:href={{eirTextSettingsCtrl.button.icon}}></use> </svg> </button> </div>"},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.AttributeSettingsDirective=exports.AttributeSettingsCtrl=void 0;var angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3);__webpack_require__(42),__webpack_require__(13);var defines_1=__webpack_require__(78),defines_2=__webpack_require__(65);__webpack_require__(20);var AttributeSettingsCtrl=function(_super){function AttributeSettingsCtrl($scope,$timeout,editorService,dialogService){var _this=_super.call(this,$scope,editorService)||this;return _this.$scope=$scope,_this.$timeout=$timeout,_this.dialogService=dialogService,_this.onComponentChanged(editorService.getSelectedComponent()),_this}return __extends(AttributeSettingsCtrl,_super),AttributeSettingsCtrl.prototype.onComponentChanged=function(newComponent){var _this=this;this.selectedComponent=newComponent,this.bindableFieldDefinitions=[],this.$timeout((function(){if(_this.selectedComponent){var availableSources_1=[defines_2.SourceComponent.STATIC_VALUE_OBJECT,defines_2.SourceComponent.TARGET_CONTEXT_OBJECT,defines_2.SourceComponent.URL_VALUE_OBJECT];_this.editorService.getAllBindableComponents().forEach((function(component){availableSources_1.push({id:component.getId(),name:component.getDisplayName(),isComponent:!0})})),_this.availableSources=availableSources_1;var bindableFieldDefinitions=defines_1.Defines.allComponents[_this.selectedComponent.getTypedef()].class.BINDABLE_FIELDS_2;_this.bindableFieldDefinitions=bindableFieldDefinitions.filter((function(bField){return bField.write}))}}))},AttributeSettingsCtrl.prototype.save=function(saveTranslations){this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.CANVAS_COMPONENTS),saveTranslations&&(this.editorService.getAllTranslatableComponents().forEach((function(component){component.initializeBindings()})),this.editorService.projectSettingsChangedEvent.raise(this.editorService.getCurrentProject().getManifest()),this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.TRANSLATIONS))},AttributeSettingsCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,angular_constants_1.AngularConstants.TIMEOUT,common_constant_1.InjectNames.EDITOR_SERVICE,common_constant_1.InjectNames.DIALOG_SERVICE],AttributeSettingsCtrl}(__webpack_require__(59).SettingsBase);exports.AttributeSettingsCtrl=AttributeSettingsCtrl;var AttributeSettingsDirective=function(){function AttributeSettingsDirective(){}return AttributeSettingsDirective.add=function(m){m.directive("eirAttributeSettings",(function(){return{template:__webpack_require__(1146),scope:{},controller:AttributeSettingsCtrl,controllerAs:"eirAttributeSettingsCtrl"}}))},AttributeSettingsDirective}();exports.AttributeSettingsDirective=AttributeSettingsDirective},function(module,exports){module.exports='<div class=settingstopic ng-if=eirAttributeSettingsCtrl.selectedComponent ng-repeat="bindableFieldDefinition in eirAttributeSettingsCtrl.bindableFieldDefinitions track by bindableFieldDefinition.ref" ng-show="{{bindableFieldDefinition.condition ? \'eirGenericSettingsCtrl.selectedComponent.\'+bindableFieldDefinition.condition : true}}"> <eir-valuesource-settings target-component=eirAttributeSettingsCtrl.selectedComponent target-field-metadata=bindableFieldDefinition value-source-object=eirAttributeSettingsCtrl.selectedComponent.getBindableField(bindableFieldDefinition.ref) available-sources=eirAttributeSettingsCtrl.availableSources expandable-setting=true on-save=eirAttributeSettingsCtrl.save($saveTranslations)> </eir-valuesource-settings> </div>'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var defines_1=__webpack_require__(65),helper_1=__webpack_require__(153),SettingsSwitchers=function(){function SettingsSwitchers(){}return SettingsSwitchers.addComponentSettingsSwitches=function(m){var contentSettingsTemplate="<div>";contentSettingsTemplate+="<div ng-switch on='eirSettingsCtrl.selectedComponent.getTypedef()'>";var styleSettingsTemplate="<div>";styleSettingsTemplate+="<div ng-switch on='eirSettingsCtrl.selectedComponent.getTypedef()'>";var _loop_1=function(componentName){var settingsClass=helper_1.EditorHelper.getComponentSettingsClass(componentName);if(settingsClass.contentSettingsDirective){var contentSettingDirectiveName="contentsetting"+componentName.toLowerCase();m.directive(contentSettingDirectiveName,(function(){return settingsClass.contentSettingsDirective})),contentSettingsTemplate+="<"+contentSettingDirectiveName+" ng-switch-when="+componentName+"></"+contentSettingDirectiveName+">"}if(settingsClass.styleSettingsDirective){var styleSettingDirectiveName="stylesetting"+componentName.toLowerCase();m.directive(styleSettingDirectiveName,(function(){return settingsClass.styleSettingsDirective})),styleSettingsTemplate+="<"+styleSettingDirectiveName+" ng-switch-when="+componentName+"></"+styleSettingDirectiveName+">"}};for(var componentName in defines_1.Defines.allSettingsComponents)_loop_1(componentName);contentSettingsTemplate+="</div>"+this.commonContentSettingsTemplate+"</div>",styleSettingsTemplate+="</div>"+this.commonStyleSettingsTemplate+"</div>",this.contentSettingsTemplate=contentSettingsTemplate,this.styleSettingsTemplate=styleSettingsTemplate},SettingsSwitchers.addComponentSettings=function(m){var _this=this;this.addComponentSettingsSwitches(m),m.directive("eirStyleSettingsSwitch",[function(){return{restrict:"E",replace:!0,scope:!0,template:_this.styleSettingsTemplate,link:function($scope,$element){$element.on("updated",(function(e){e.stopPropagation()}))}}}]),m.directive("eirContentSettingsSwitch",[function(){return{restrict:"E",replace:!0,scope:!0,template:_this.contentSettingsTemplate,link:function($scope,$element){$element.on("updated",(function(e){e.stopPropagation()}))}}}])},SettingsSwitchers.commonStyleSettingsTemplate="<eir-generic-settings settings-tab=\"'style'\"></eir-generic-settings>",SettingsSwitchers.commonContentSettingsTemplate="<eir-attribute-settings></eir-attribute-settings><eir-generic-settings settings-tab=\"'content'\"></eir-generic-settings>",SettingsSwitchers}();exports.SettingsSwitchers=SettingsSwitchers},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ValuesourceSettingsDirective=exports.ValuesourceSettingsCtrl=void 0;var angular_1=__importDefault(__webpack_require__(12)),lodash_1=__webpack_require__(1149),angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3),binding_type_enum_1=__webpack_require__(30),value_type_enum_1=__webpack_require__(26);__webpack_require__(42),__webpack_require__(116),__webpack_require__(16);var helper_1=__webpack_require__(15);__webpack_require__(68),__webpack_require__(429),__webpack_require__(280);var dialog_service_1=__webpack_require__(13);__webpack_require__(80);var feature_switch_ctrl_1=__webpack_require__(134),datagrid_1=__webpack_require__(233),dropdown_1=__webpack_require__(419),list_1=__webpack_require__(276);__webpack_require__(71);var defines_1=__webpack_require__(65);__webpack_require__(329),__webpack_require__(20),__webpack_require__(169),__webpack_require__(565);var ValuesourceSettingsCtrl=function(_super){function ValuesourceSettingsCtrl($scope,$element,$timeout,editorService,bindingManagementService,interactionManagementService,dialogService,translationManagementService,featureService){var _this=_super.call(this,featureService)||this;return _this.$scope=$scope,_this.$element=$element,_this.$timeout=$timeout,_this.editorService=editorService,_this.bindingManagementService=bindingManagementService,_this.interactionManagementService=interactionManagementService,_this.dialogService=dialogService,_this.translationManagementService=translationManagementService,_this.htmlEncode=helper_1.Helper.htmlEncode,_this.ValueTypeEnum=value_type_enum_1.ValueTypeEnum,_this.BindingTypeEnum=binding_type_enum_1.BindingTypeEnum,_this.isFinderActive=!1,_this.availableSourceFields=[],_this.filteredValue={name:"",tooltip:""},_this.unsubscribers=[],_this.createBindings=!(!1===$scope.createBindings),_this.expandableSetting=!helper_1.Helper.isUndefinedOrNull($scope.expandableSetting),_this.availableSources=$scope.availableSources,_this.targetComponent=$scope.targetComponent,_this.onSave=$scope.onSave,_this.isLocalized=_this.$scope.targetFieldMetadata.valueType===value_type_enum_1.ValueTypeEnum.LOCALIZED_STRING,_this.selectedComponent=_this.targetComponent,_this.onComponentChanged(editorService.getSelectedComponent()),_this.unsubscribers.push(editorService.selectedDatasourceChangedEvent.on((function(){_this.createBindings&&(_this.$scope.valueSourceObject=_this.selectedComponent.getBindableField(_this.$scope.targetFieldMetadata.ref)),_this.onComponentChanged(editorService.getSelectedComponent())})),editorService.urlVariableChangedEvent.on((function(){_this.onComponentChanged(editorService.getSelectedComponent()),_this.onSourceChanged()})),editorService.translationChangedEvent.on((function(componentTranslation){_this.selectedComponent.getId()===componentTranslation.component&&_this.$scope.targetFieldMetadata.ref===componentTranslation.reference&&(_this.settingStaticValue=componentTranslation.newValue,_this.onStaticValueChanged())}))),$scope.$on(angular_constants_1.AngularConstants.DESTROY,(function(){angular_1.default.forEach(_this.unsubscribers,(function(unsubscribe){unsubscribe()}))})),_this.lookupOptions=_this.translationManagementService.getLookupOptions(),_this.autocompleteOptions=_this.translationManagementService.getAutoOptions(),_this}return __extends(ValuesourceSettingsCtrl,_super),ValuesourceSettingsCtrl.prototype.$onInit=function(){var _this=this;this.$timeout((function(){_this.initInputElement()}))},ValuesourceSettingsCtrl.prototype.initInputElement=function(){var _this=this,inputElement=this.$element.find("input#staticvalue"+this.$scope.targetFieldMetadata.ref);inputElement.on("selected",(function(){_this.settingStaticValue="{"+inputElement.val()+"}",_this.onStaticValueChanged()}))},ValuesourceSettingsCtrl.prototype.save=function(){this.onSave({$saveTranslations:this.isLocalized})},ValuesourceSettingsCtrl.prototype.resetSources=function(){this.settingSource=defines_1.SourceComponent.STATIC_VALUE_OBJECT,this.settingSourceField=null;var valueSourceObject=this.$scope.valueSourceObject;valueSourceObject.sourceKey&&this.unregisterPossibleBindings(),valueSourceObject.Type=binding_type_enum_1.BindingTypeEnum.STATIC_VALUE,valueSourceObject.value=""},ValuesourceSettingsCtrl.prototype.getExampleData=function(currentValue){return currentValue.length>30?currentValue.substr(0,30)+"...":currentValue},ValuesourceSettingsCtrl.prototype.getTypedef=function(){return this.selectedComponent.getTypedef()},ValuesourceSettingsCtrl.prototype.openTranslations=function(){var _this=this,propertyName=this.$scope.targetFieldMetadata.ref;this.translationManagementService.openTranslations(this.selectedComponent,propertyName).then((function(result){var okButton=result.button===dialog_service_1.DialogButtonType.Ok,data=result.value,selectedChanged=data.savedComponentStrings.filter((function(translation){return translation.component===_this.selectedComponent.getId()}));okButton&&selectedChanged&&(selectedChanged.forEach((function(updatedTranslation){updatedTranslation.reference===_this.$scope.targetFieldMetadata.ref&&(_this.settingStaticValue=updatedTranslation.newValue,_this.onStaticValueChanged())})),_this.editorService.addUndoStack(_this.editorService.getCurrentProject())),okButton&&(data.savedComponentStrings.length>0&&data.savedComponentStrings.forEach((function(value){var component=_this.editorService.getComponentInstanceById(value.component);component.forEachBindable((function(binding){binding.ref===value.reference&&(component.getBindableField(value.reference).value=value.newValue)}))})),_this.editorService.updateTranslatables()),okButton&&!angular_1.default.equals({},data.savedGlobalStrings)&&_this.translationManagementService.saveGlobalTranslations(data.savedGlobalStrings).then((function(){_this.editorService.updateTranslatables()})),okButton&&!angular_1.default.equals({},data.deletedGlobalStrings)&&_this.translationManagementService.deleteGlobalTranslations(result.value.deletedGlobalStrings).then((function(){_this.editorService.updateTranslatables()})),okButton&&_this.save()}))},ValuesourceSettingsCtrl.prototype.useFinder=function(componentToSet){var _this=this;this.isFinderActive=!0,this.editorService.startFinderMode({title:"Select Component"}).then((function(component){var typedef=component.getTypedef();if((component.isLayoutComponent()||typedef===dropdown_1.Dropdown.name||typedef===list_1.List.name||typedef===datagrid_1.Datagrid.name)&&lodash_1.isNil(component.getDatasource())){var message="The selected "+typedef.toLowerCase()+" component is empty and does not have any data to bind from.\nPlease select another component or attach a data service to the selected component.";_this.dialogService.showError("Error",message)}else"parameterSource"===componentToSet&&(_this.settingSource=_this.createSettingSource(component),_this.onSourceChanged())})).finally((function(){_this.isFinderActive=!1}))},ValuesourceSettingsCtrl.prototype.onComponentChanged=function(newComponent){var valueSourceObject=this.$scope.valueSourceObject,targetContextComponent=this.targetComponent?this.targetComponent:this.selectedComponent,targetFieldMetadata=this.$scope.targetFieldMetadata;if(targetContextComponent&&(valueSourceObject&&targetFieldMetadata&&targetFieldMetadata.valueType!==value_type_enum_1.ValueTypeEnum.BOOLEAN||!targetFieldMetadata)){var bindingType=valueSourceObject.Type;this.setSettingSource(bindingType,targetContextComponent)}},ValuesourceSettingsCtrl.prototype.setSettingSource=function(bindingType,component){var _this=this,bindingValueValid=function(value){return!!(value&&value.indexOf(common_constant_1.SubstitutionTags.VALUE)>-1)},valueSourceObject=this.$scope.valueSourceObject;switch(bindingType){case binding_type_enum_1.BindingTypeEnum.STATIC_VALUE:this.settingSource=defines_1.SourceComponent.STATIC_VALUE_OBJECT,this.settingSourceField=null,this.settingStaticValue=valueSourceObject.value;break;case binding_type_enum_1.BindingTypeEnum.BINDING:bindingValueValid(valueSourceObject.value)||(valueSourceObject.value=common_constant_1.SubstitutionTags.VALUE);var sourceComponentInstance=this.editorService.getComponentInstanceById(valueSourceObject.sourceName);sourceComponentInstance?(this.settingSource=this.createSettingSource(sourceComponentInstance),sourceComponentInstance.getBindingMetaData().then((function(availableBindings){_this.setAvailableBindings(availableBindings),_this.setSelectedBinding(valueSourceObject.sourceKey),_this.updateBinding(valueSourceObject.sourceKey,valueSourceObject.value),_this.updatePreviewValue()}))):this.resetSources();break;case binding_type_enum_1.BindingTypeEnum.CONTEXT_BINDING:bindingValueValid(valueSourceObject.value)||(valueSourceObject.value=common_constant_1.SubstitutionTags.VALUE),this.settingSource=defines_1.SourceComponent.TARGET_CONTEXT_OBJECT,component.getContextMetaData().then((function(availableBindings){_this.setAvailableBindings(availableBindings),_this.setSelectedBinding(valueSourceObject.sourceKey),_this.updateBinding(valueSourceObject.sourceKey,valueSourceObject.value),_this.updatePreviewValue()}));break;case binding_type_enum_1.BindingTypeEnum.URL_BINDING:this.settingSource=defines_1.SourceComponent.URL_VALUE_OBJECT;var availableBindings=this.editorService.getUrlMetaData();this.setAvailableBindings(availableBindings),this.setSelectedBinding(valueSourceObject.sourceKey),this.updatePreviewValue(),this.settingStaticValue=valueSourceObject.value;break;default:console.warn("[ValuesourceSettingsDirective] Unknown binding type",valueSourceObject.Type),angular_1.default.element("#srckey"+this.$scope.targetFieldMetadata.ref).data("dropdown").updated(),angular_1.default.element("#srcctrl"+this.$scope.targetFieldMetadata.ref).data("dropdown").updated()}},ValuesourceSettingsCtrl.prototype.setAvailableBindings=function(availableBindings){this.availableSourceFields=availableBindings},ValuesourceSettingsCtrl.prototype.createSettingSource=function(componentInstance){return{id:componentInstance.getId(),name:componentInstance.getDisplayName(),isComponent:!0}},ValuesourceSettingsCtrl.prototype.setSelectedBinding=function(sourceKey){sourceKey&&(this.settingSourceField=this.availableSourceFields.find((function(sourceField){return sourceField.sourceKey.toLowerCase()===sourceKey.toLowerCase()})),this.settingSourceField||(this.settingSourceField=this.availableSourceFields[0]))},ValuesourceSettingsCtrl.prototype.onSourceChanged=function(){var _this=this,valueSourceObject=this.$scope.valueSourceObject,settingSource=this.settingSource;if(this.unregisterPossibleBindings(),this.availableSourceFields=[],this.settingSourceField=null,valueSourceObject.value="",settingSource.isComponent){valueSourceObject.Type=binding_type_enum_1.BindingTypeEnum.BINDING;var componentInstance=this.editorService.getComponentInstanceById(settingSource.id);this.setAvailableBindingsByComponentMetaData(componentInstance)}else switch(valueSourceObject.sourceName=null,valueSourceObject.sourceKey=null,settingSource.id){case defines_1.SourceComponent.STATIC_VALUE_OBJECT.id:valueSourceObject.Type=binding_type_enum_1.BindingTypeEnum.STATIC_VALUE,this.onStaticValueChanged();break;case defines_1.SourceComponent.URL_VALUE_OBJECT.id:valueSourceObject.Type=binding_type_enum_1.BindingTypeEnum.URL_BINDING;var availableBindings=this.editorService.getUrlMetaData();this.availableSourceFields=availableBindings,this.settingSourceField=availableBindings[0],this.settingSourceField?(this.onSourceFieldChanged(),this.updateCurrentSource()):this.settingStaticValue="";break;default:valueSourceObject.Type=binding_type_enum_1.BindingTypeEnum.CONTEXT_BINDING,(this.targetComponent?this.targetComponent:this.selectedComponent).getContextMetaData().then((function(availableBindings){_this.availableSourceFields=availableBindings,_this.settingSourceField=availableBindings[0],_this.onSourceFieldChanged()}))}},ValuesourceSettingsCtrl.prototype.onUrlValueChanged=function(){var valueSourceObject=this.$scope.valueSourceObject;if(this.settingStaticValue!==valueSourceObject.value){var urlVariables=this.editorService.getUrlMetaData(),myUrlVariable=urlVariables.find((function(urlVariable){return urlVariable.sourceKey===valueSourceObject.sourceKey}));myUrlVariable.currentValue=this.settingStaticValue,this.editorService.setUrlMetaData(urlVariables),valueSourceObject.value=this.settingStaticValue,this.updateBindingValues(),this.interactionManagementService.updateAndSaveParameters(myUrlVariable.sourceKey,this.settingStaticValue),this.editorService.initializeUrlBindings(myUrlVariable.currentValue,myUrlVariable.sourceKey),this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.CANVAS_COMPONENTS)}},ValuesourceSettingsCtrl.prototype.openUrlDialog=function(){this.editorService.openURLDialog()},ValuesourceSettingsCtrl.prototype.setAvailableBindingsByComponentMetaData=function(component){var _this=this;component.getBindingMetaData().then((function(availableBindings){availableBindings.length?(_this.availableSourceFields=availableBindings,_this.settingSourceField=availableBindings[0],_this.onSourceFieldChanged()):_this.resetSources()}))},ValuesourceSettingsCtrl.prototype.updateCurrentSource=function(){var valueSourceObject=this.$scope.valueSourceObject;valueSourceObject.sourceName=this.settingSource.id,valueSourceObject.sourceKey=this.settingSourceField.sourceKey},ValuesourceSettingsCtrl.prototype.unregisterPossibleBindings=function(){this.bindingManagementService.unregisterBinding(this.selectedComponent,this.$scope.targetFieldMetadata.ref,this.$scope.valueSourceObject),this.bindingManagementService.unregisterContextBinding(this.selectedComponent,this.$scope.valueSourceObject.sourceKey,this.$scope.targetFieldMetadata.ref),this.$scope.valueSourceObject.sourceKey=null},ValuesourceSettingsCtrl.prototype.onSourceFieldChanged=function(){var newSourceField=this.settingSourceField,valueSourceObject=this.$scope.valueSourceObject,oldSourceKey=this.$scope.valueSourceObject.sourceKey,targetKey=this.$scope.targetFieldMetadata.ref;if(oldSourceKey&&this.createBindings&&this.unregisterPossibleBindings(),newSourceField){var isContextBinding=valueSourceObject.Type===binding_type_enum_1.BindingTypeEnum.CONTEXT_BINDING,isBinding=valueSourceObject.Type===binding_type_enum_1.BindingTypeEnum.BINDING,isUrlBinding=valueSourceObject.Type===binding_type_enum_1.BindingTypeEnum.URL_BINDING;if(isContextBinding||isBinding){""===valueSourceObject.value&&(valueSourceObject.value=common_constant_1.SubstitutionTags.VALUE);var generatingParent=this.selectedComponent.getGeneratingParent();if(generatingParent.getTypedef()===list_1.List.name)generatingParent.refresh();this.updateBinding(targetKey,valueSourceObject.value)}isUrlBinding&&(newSourceField.currentValue?this.settingStaticValue=newSourceField.currentValue:this.settingStaticValue="",this.updateCurrentSource(),this.onUrlValueChanged()),isContextBinding&&(valueSourceObject.visibleName=newSourceField.visibleName.replace("("+newSourceField.sourceKeyShort+")","")),this.save()}},ValuesourceSettingsCtrl.prototype.updateBinding=function(targetKey,value){this.updateCurrentSource(),this.updateBindingValues(),!this.selectedComponent.isGenerated&&this.selectedComponent.isTranslatableComponent()&&this.setTranslation(this.selectedComponent.getId(),targetKey,value)},ValuesourceSettingsCtrl.prototype.onStaticValueChanged=function(){this.$scope.valueSourceObject.value=this.settingStaticValue;this.$scope.targetFieldMetadata.ref;if("string"==typeof this.settingStaticValue){var exists=!0,trimmedValue=this.settingStaticValue.match(common_constant_1.RegexStrings.GLOBALSTRING);trimmedValue&&trimmedValue[1]&&trimmedValue[0]!==common_constant_1.SubstitutionTags.VALUE&&(exists=this.checkGlobalValue(trimmedValue[1])),!exists&&trimmedValue||this.updateSave()}else this.updateSave()},ValuesourceSettingsCtrl.prototype.checkGlobalValue=function(value){var _this=this,exists=!0;return this.translationManagementService.getGlobalString(value)||(exists=!1,angular_1.default.element("#autocomplete-list").hide(),this.createNewString(value).then((function(result){result.button===dialog_service_1.DialogButtonType.Ok&&(_this.updateSave(),_this.editorService.updateTranslatables())}))),exists},ValuesourceSettingsCtrl.prototype.updateSave=function(){this.updateBindingValues(),this.save()},ValuesourceSettingsCtrl.prototype.createNewString=function(value){var _this=this;return this.translationManagementService.openNewStringDialog(value).then((function(result){return result.button===dialog_service_1.DialogButtonType.Ok&&(_this.settingStaticValue="{"+result.value.Name+"}",_this.translationManagementService.addGlobalString(result.value)),result}))},ValuesourceSettingsCtrl.prototype.updatePreviewValue=function(){var valueSourceObject=this.$scope.valueSourceObject,value=valueSourceObject.value,isContextBinding=valueSourceObject.Type===binding_type_enum_1.BindingTypeEnum.CONTEXT_BINDING,isBinding=valueSourceObject.Type===binding_type_enum_1.BindingTypeEnum.BINDING;(isContextBinding||isBinding)&&(value&&value!==common_constant_1.SubstitutionTags.VALUE?(this.filteredValue.name=helper_1.Helper.joinWithDefauldEmptyString(valueSourceObject.value.split(common_constant_1.SubstitutionTags.VALUE),this.settingSourceField.currentValue),this.filteredValue.tooltip=helper_1.Helper.htmlEncode(this.filteredValue.name)):this.filteredValue={name:"",tooltip:""})},ValuesourceSettingsCtrl.prototype.updateBindingValues=function(){var valueSourceObject=this.$scope.valueSourceObject,metadata=this.$scope.targetFieldMetadata,selectedComponent=this.selectedComponent;if(this.updatePreviewValue(),this.createBindings)if(selectedComponent.isGenerated){var generatingParent=selectedComponent.getGeneratingParent();if(generatingParent.getTypedef()===list_1.List.name){var parentListComponent=generatingParent;this.editorService.forEachComponent(parentListComponent.currentTemplate,(function(subComponent){subComponent.id===selectedComponent.getId()&&(subComponent[metadata.ref]=valueSourceObject)}))}}else{switch(valueSourceObject.Type){case binding_type_enum_1.BindingTypeEnum.BINDING:metadata.valueType===value_type_enum_1.ValueTypeEnum.LOCALIZED_STRING&&this.setTranslation(selectedComponent.getId(),metadata.ref,valueSourceObject.value),this.bindingManagementService.registerBinding(selectedComponent,metadata.ref,valueSourceObject);break;case binding_type_enum_1.BindingTypeEnum.CONTEXT_BINDING:metadata.valueType===value_type_enum_1.ValueTypeEnum.LOCALIZED_STRING&&this.setTranslation(selectedComponent.getId(),metadata.ref,valueSourceObject.value),this.bindingManagementService.registerContextBinding(selectedComponent,metadata.ref,valueSourceObject);break;case binding_type_enum_1.BindingTypeEnum.URL_BINDING:selectedComponent.setBindableValue(metadata.ref,this.editorService.getUrlValue(valueSourceObject.sourceKey));break;case binding_type_enum_1.BindingTypeEnum.STATIC_VALUE:default:metadata.valueType===value_type_enum_1.ValueTypeEnum.LOCALIZED_STRING&&this.setTranslation(selectedComponent.getId(),metadata.ref,this.settingStaticValue),selectedComponent.setBindableValue(metadata.ref,this.settingStaticValue)}this.editorService.addUndoStack(this.editorService.getCurrentProject())}},ValuesourceSettingsCtrl.prototype.setTranslation=function(componentId,reference,value){var newValue={locale:this.translationManagementService.getSelectedLocale(),value:value};this.translationManagementService.setTranslatableStringByProperty(componentId,reference,newValue)},ValuesourceSettingsCtrl.prototype.editBinding=function(){var _this=this,valueSourceObject=this.$scope.valueSourceObject,dialogOptions={template:__webpack_require__(1151),title:"Edit binding",cssClass:"edit-binding-dialog",parameter:{bindingString:valueSourceObject.value,valueType:this.$scope.targetFieldMetadata.valueType,property:this.$scope.targetFieldMetadata.ref}};this.dialogService.show(dialogOptions).then((function(result){var buttonOK=result.button===dialog_service_1.DialogButtonType.Ok,isValueChanged=valueSourceObject.value!==result.value;buttonOK&&isValueChanged&&(valueSourceObject.value=result.value,_this.updateBindingValues(),_this.save())}))},ValuesourceSettingsCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,angular_constants_1.AngularConstants.ELEMENT,angular_constants_1.AngularConstants.TIMEOUT,common_constant_1.InjectNames.EDITOR_SERVICE,common_constant_1.InjectNames.BINDING_MANAGEMENT_SERVICE,common_constant_1.InjectNames.INTERACTION_MANAGEMENT_SERVICE,common_constant_1.InjectNames.DIALOG_SERVICE,common_constant_1.InjectNames.TRANSLATION_MANAGEMENT_SERVICE,common_constant_1.InjectNames.FEATURE_SWITCH_SERVICE],ValuesourceSettingsCtrl}(feature_switch_ctrl_1.FeatureSwitchCtrl);exports.ValuesourceSettingsCtrl=ValuesourceSettingsCtrl;var ValuesourceSettingsDirective=function(){function ValuesourceSettingsDirective(){}return ValuesourceSettingsDirective.add=function(m){m.directive("eirValuesourceSettings",(function(){return{template:__webpack_require__(1152),scope:{targetComponent:"=?",targetFieldMetadata:"=",valueSourceObject:"=",availableSources:"=",createBindings:"=?",expandableSetting:"<?",onSave:"&"},controller:ValuesourceSettingsCtrl,controllerAs:"eirValuesourceSettingsCtrl"}}))},ValuesourceSettingsDirective}();exports.ValuesourceSettingsDirective=ValuesourceSettingsDirective},,,function(module,exports){module.exports='<div ng-controller="eirEditBindingCtrl as $ctrl"> <div class=with-button> <label for=binding-string></label> <input id=binding-string type=text class="{{$ctrl.isLocalized ? \'lookup\' : \'no-lookup\'}}" ng-model=$ctrl.bindingString ng-change=$ctrl.onChangeBindingString() xi-lookup=$ctrl.lookupOptions /> <button class=btn-icon xi-tooltip="\'Translations\'" ng-if="::$ctrl.isFeatureTranslationEnabled() && $ctrl.isLocalized" ng-click=$ctrl.openTranslations()> <svg class="finderBtn icon" focusable=false> <use xlink:href=#icon-translate></use> </svg> <span class=audible>Translations</span> </button> </div> <label ng-show=$ctrl.invalidString>You need to include substitution tag: "{{$ctrl.substitutionTag}}"</label> <div class=modal-buttonset> <button type=button class=btn-modal ng-click=$ctrl.close()>Cancel</button> <button type=button class="btn-modal btn-modal-primary" ng-disabled=$ctrl.invalidString ng-click=$ctrl.save()>Save</button> </div> </div>'},function(module,exports){module.exports=' <div ng-if="::(expandableSetting !== true)"> <div class=metadata-setting ng-show="targetFieldMetadata.valueType !== eirValuesourceSettingsCtrl.ValueTypeEnum.BOOLEAN"> <p class=metadata-heading>{{targetFieldMetadata ? targetFieldMetadata.name : \'None\'}}</p> <div class="field-short with-button"> <label for=srcctrl{{targetFieldMetadata.ref}}>Source</label> <select id=srcctrl{{targetFieldMetadata.ref}} class="dropdown dropdown-sm" ng-model=eirValuesourceSettingsCtrl.settingSource ng-change=eirValuesourceSettingsCtrl.onSourceChanged() ng-disabled=eirValuesourceSettingsCtrl.isFinderActive ng-options="availableSource as availableSource.name for availableSource in availableSources track by availableSource.id" xi-drop-down=eirValuesourceSettingsCtrl.dropdownSettings> </select> <button class=btn-icon xi-tooltip="\'Find Component\'" ng-click="eirValuesourceSettingsCtrl.useFinder(\'parameterSource\')" ng-disabled=eirValuesourceSettingsCtrl.isFinderActive> <svg class="finderBtn icon" focusable=false> <use xlink:href=#icon-map-pin></use> </svg> <span class=audible>Find Component</span> </button> </div> <div class="field-short with-button" ng-show="valueSourceObject.Type !== eirValuesourceSettingsCtrl.BindingTypeEnum.STATIC_VALUE"> <label for=srckey{{targetFieldMetadata.ref}}>Data Field</label> <select id=srckey{{targetFieldMetadata.ref}} class="dropdown dropdown-sm" ng-model=eirValuesourceSettingsCtrl.settingSourceField ng-disabled=eirValuesourceSettingsCtrl.isFinderActive ng-change=eirValuesourceSettingsCtrl.onSourceFieldChanged() ng-options="availBinding as availBinding.visibleName + (availBinding.currentValue ? \'(\'+ eirValuesourceSettingsCtrl.getExampleData(availBinding.currentValue) +\') \' : \'\') for availBinding in eirValuesourceSettingsCtrl.availableSourceFields" xi-drop-down=eirValuesourceSettingsCtrl.dropdownSettings> </select> <button class=btn-icon xi-tooltip="\'Open Url Management Dialog\'" ng-show="valueSourceObject.Type === eirValuesourceSettingsCtrl.BindingTypeEnum.URL_BINDING" ng-click=eirValuesourceSettingsCtrl.openUrlDialog()> <svg class="finderBtn icon" focusable=false> <use xlink:href=#icon-link></use> </svg> <span class=audible>Url Management Dialog</span> </button> <button class=btn-icon xi-tooltip="\'Edit binding\'" ng-hide="valueSourceObject.Type === eirValuesourceSettingsCtrl.BindingTypeEnum.URL_BINDING" ng-click=eirValuesourceSettingsCtrl.editBinding() ng-disabled=eirValuesourceSettingsCtrl.isFinderActive> <svg class="finderBtn icon" focusable=false> <use xlink:href=#icon-edit></use> </svg> <span class=audible>Edit Binding</span> </button> <label class=value-preview xi-tooltip=eirValuesourceSettingsCtrl.filteredValue.tooltip ng-show=eirValuesourceSettingsCtrl.filteredValue.name>{{eirValuesourceSettingsCtrl.filteredValue.name}}</label> </div> <div class=field-short ng-show="valueSourceObject.Type === eirValuesourceSettingsCtrl.BindingTypeEnum.STATIC_VALUE" ng-class="{ \'with-button\': eirValuesourceSettingsCtrl.isFeatureTranslationEnabled() && eirValuesourceSettingsCtrl.isLocalized }"> <label for=staticvalue{{targetFieldMetadata.ref}}>Display Value</label> <input type=text id=staticvalue{{targetFieldMetadata.ref}} class="input-sm {{eirValuesourceSettingsCtrl.isLocalized ? \'lookup\' : \'no-lookup\'}}" ng-disabled="(eirValuesourceSettingsCtrl.getTypedef() === \'Dropdown\' && targetFieldMetadata.ref === \'displayValue\') || eirValuesourceSettingsCtrl.isFinderActive" ng-model=eirValuesourceSettingsCtrl.settingStaticValue ng-change=eirValuesourceSettingsCtrl.onStaticValueChanged() xi-autocomplete=eirValuesourceSettingsCtrl.autocompleteOptions xi-lookup=eirValuesourceSettingsCtrl.lookupOptions ng-model-options="{ updateOn: \'default\', debounce: {\'default\': 500, \'blur\': 0}}"/> <button class=btn-icon xi-tooltip="\'Translations\'" ng-if="::eirValuesourceSettingsCtrl.isFeatureTranslationEnabled() && eirValuesourceSettingsCtrl.isLocalized" ng-click=eirValuesourceSettingsCtrl.openTranslations()> <svg class=icon focusable=false> <use xlink:href=#translate-icon></use> </svg> <span class=audible>Translations</span> </button> </div> <div class="field-short with-button" ng-show="valueSourceObject.Type === eirValuesourceSettingsCtrl.BindingTypeEnum.URL_BINDING"> <div class=url-value-label> <label for=urlvalue{{targetFieldMetadata.ref}}>URL Value</label> <svg class=icon focusable=false aria-hidden=true role=presentation xi-tooltip="\'This is a temporary value for testing purposes only\'"> <use xlink:href=#icon-info></use> </svg> </div> <input type=text id=urlvalue{{targetFieldMetadata.ref}} class=input-md ng-model=eirValuesourceSettingsCtrl.settingStaticValue ng-change=eirValuesourceSettingsCtrl.onUrlValueChanged() ng-disabled=!valueSourceObject.sourceKey ng-model-options="{ updateOn: \'default\', debounce: {\'default\': 500, \'blur\': 0}}"/> </div> </div> </div> <div class=accordion ng-if="::(expandableSetting === true)" xi-control=accordion> <div class=accordion-header> <a class=title href=#> <span>{{targetFieldMetadata ? targetFieldMetadata.name : \'None\'}}</span> </a> </div> <div class=accordion-pane> <div class=accordion-content ng-show="targetFieldMetadata.valueType !== eirValuesourceSettingsCtrl.ValueTypeEnum.BOOLEAN"> <div class="field-short with-button"> <label for=srcctrl{{targetFieldMetadata.ref}}>Source</label> <select id=srcctrl{{targetFieldMetadata.ref}} class="dropdown dropdown-sm" ng-model=eirValuesourceSettingsCtrl.settingSource ng-change=eirValuesourceSettingsCtrl.onSourceChanged() ng-disabled=eirValuesourceSettingsCtrl.isFinderActive ng-options="availableSource as availableSource.name for availableSource in availableSources track by availableSource.id" xi-drop-down=eirValuesourceSettingsCtrl.dropdownSettings> </select> <button class=btn-icon xi-tooltip="\'Find Component\'" ng-click="eirValuesourceSettingsCtrl.useFinder(\'parameterSource\')" ng-disabled=eirValuesourceSettingsCtrl.isFinderActive> <svg class="finderBtn icon" focusable=false> <use xlink:href=#icon-map-pin></use> </svg> <span class=audible>Find Component</span> </button> </div> <div class="field-short with-button" ng-show="valueSourceObject.Type !== eirValuesourceSettingsCtrl.BindingTypeEnum.STATIC_VALUE"> <label for=srckey{{targetFieldMetadata.ref}}>Data Field</label> <select id=srckey{{targetFieldMetadata.ref}} class="dropdown dropdown-sm" ng-model=eirValuesourceSettingsCtrl.settingSourceField ng-disabled=eirValuesourceSettingsCtrl.isFinderActive ng-change=eirValuesourceSettingsCtrl.onSourceFieldChanged() ng-options="availBinding as availBinding.visibleName + (availBinding.currentValue ? \'(\'+ eirValuesourceSettingsCtrl.getExampleData(availBinding.currentValue) +\') \' : \'\') for availBinding in eirValuesourceSettingsCtrl.availableSourceFields" xi-drop-down=eirValuesourceSettingsCtrl.dropdownSettings> </select> <button class=btn-icon xi-tooltip="\'Open Url Management Dialog\'" ng-show="valueSourceObject.Type === eirValuesourceSettingsCtrl.BindingTypeEnum.URL_BINDING" ng-click=eirValuesourceSettingsCtrl.openUrlDialog()> <svg class="finderBtn icon" focusable=false> <use xlink:href=#icon-link></use> </svg> <span class=audible>Url Management Dialog</span> </button> <button class=btn-icon xi-tooltip="\'Edit binding\'" ng-hide="valueSourceObject.Type === eirValuesourceSettingsCtrl.BindingTypeEnum.URL_BINDING" ng-click=eirValuesourceSettingsCtrl.editBinding() ng-disabled=eirValuesourceSettingsCtrl.isFinderActive> <svg class="finderBtn icon" focusable=false> <use xlink:href=#icon-edit></use> </svg> <span class=audible>Edit Binding</span> </button> <label class=value-preview xi-tooltip=eirValuesourceSettingsCtrl.filteredValue.tooltip ng-show=eirValuesourceSettingsCtrl.filteredValue.name>{{eirValuesourceSettingsCtrl.filteredValue.name}}</label> </div> <div class=field-short ng-if="valueSourceObject.Type === eirValuesourceSettingsCtrl.BindingTypeEnum.STATIC_VALUE" ng-class="{ \'with-button\': eirValuesourceSettingsCtrl.isFeatureTranslationEnabled() && eirValuesourceSettingsCtrl.isLocalized }"> <label for=staticvalue{{targetFieldMetadata.ref}}>Display Value</label> <input type=text id=staticvalue{{targetFieldMetadata.ref}} class="input-sm {{eirValuesourceSettingsCtrl.isLocalized ? \'lookup\' : \'no-lookup\'}}" ng-disabled="(eirValuesourceSettingsCtrl.getTypedef() === \'Dropdown\' && targetFieldMetadata.ref === \'displayValue\') || eirValuesourceSettingsCtrl.isFinderActive" ng-model=eirValuesourceSettingsCtrl.settingStaticValue ng-change=eirValuesourceSettingsCtrl.onStaticValueChanged() xi-autocomplete=eirValuesourceSettingsCtrl.autocompleteOptions xi-lookup=eirValuesourceSettingsCtrl.lookupOptions ng-model-options="{ updateOn: \'default\', debounce: {\'default\': 500, \'blur\': 0}}"/> <button class=btn-icon xi-tooltip="\'Translations\'" ng-if="::eirValuesourceSettingsCtrl.isFeatureTranslationEnabled() && eirValuesourceSettingsCtrl.isLocalized" ng-click=eirValuesourceSettingsCtrl.openTranslations()> <svg class=icon focusable=false> <use xlink:href=#icon-translate></use> </svg> <span class=audible>Translations</span> </button> </div> <div class="field-short with-button" ng-if="valueSourceObject.Type === eirValuesourceSettingsCtrl.BindingTypeEnum.URL_BINDING"> <div class=url-value-label> <label for=urlvalue{{targetFieldMetadata.ref}}>URL Value</label> <svg class=icon focusable=false aria-hidden=true role=presentation xi-tooltip="\'This is a temporary value for testing purposes only\'"> <use xlink:href=#icon-info></use> </svg> </div> <input type=text id=urlvalue{{targetFieldMetadata.ref}} class=input-md ng-model=eirValuesourceSettingsCtrl.settingStaticValue ng-change=eirValuesourceSettingsCtrl.onUrlValueChanged() ng-disabled=!valueSourceObject.sourceKey ng-model-options="{ updateOn: \'default\', debounce: {\'default\': 500, \'blur\': 0}}"/> </div> </div> <div class=accordion-content ng-if="targetFieldMetadata.valueType === eirValuesourceSettingsCtrl.ValueTypeEnum.BOOLEAN"> <input type=checkbox class=checkbox id={{targetFieldMetadata.name}} ng-model=eirValuesourceSettingsCtrl.settingStaticValue ng-change=eirValuesourceSettingsCtrl.onStaticValueChanged()> <label for={{targetFieldMetadata.name}} class=checkbox-label>{{targetFieldMetadata.name}}</label> </div> </div> </div> '},function(module,exports,__webpack_require__){},function(module,exports){module.exports='<div class=interaction-container> <div class=interaction-list xi-listview ng-if="eirInteractionSettingsCtrl.relevantInteractions.length > 0"> <ul> <li class=interaction-list-item xi-tooltip=interaction.displayName ng-click=eirInteractionSettingsCtrl.selectInteraction(interaction) ng-repeat="interaction in eirInteractionSettingsCtrl.relevantInteractions track by interaction.databearer.id"> <span>{{interaction.triggerString}}</span> <div> <svg class=icon focusable=false> <use xlink:href=#icon-caret-right></use> </svg> </div> <span>{{interaction.targetString}}</span> </li> </ul> </div> <div class=add-interaction-link ng-if="eirInteractionSettingsCtrl.relevantInteractions.length < 1"> <button class="hyperlink gray-hyperlink" ng-click=eirInteractionSettingsCtrl.createNewInteraction()>Create Interaction</button> </div> <div class=buttonContainer ng-if="eirInteractionSettingsCtrl.relevantInteractions.length > 0"> <svg class=icon focusable=false aria-hidden=true role=presentation id=multicall-tooltip xi-tooltip="\'To enable multiple calls, separate each value with a %% suffix\'" ng-show=eirInteractionSettingsCtrl.selectedInteraction> <use xlink:href=#icon-info></use> </svg> <button class=btn-icon xi-tooltip="\'Create new Interaction\'" ng-click=eirInteractionSettingsCtrl.createNewInteraction() ng-disabled=eirInteractionSettingsCtrl.isFinderActive> <svg class=icon focusable=false> <use xlink:href=#icon-add></use> </svg> <span>Create</span> </button> <button class=btn-icon xi-tooltip="\'Run selected Interaction\'" ng-click=eirInteractionSettingsCtrl.manualRunSelected() ng-show=eirInteractionSettingsCtrl.selectedInteraction ng-disabled=eirInteractionSettingsCtrl.isFinderActive> <svg class=icon focusable=false> <use xlink:href=#icon-next-page></use> </svg> <span>Run</span> </button> <button class=btn-icon xi-tooltip="\'Delete selected Interaction\'" ng-click=eirInteractionSettingsCtrl.removeSelectedInteraction() ng-show=eirInteractionSettingsCtrl.selectedInteraction ng-disabled=eirInteractionSettingsCtrl.isFinderActive> <svg class=icon focusable=false> <use xlink:href=#icon-delete></use> </svg> <span>Remove</span> </button> </div> </div> <div class="settingstopic edit-topic" ng-show="eirInteractionSettingsCtrl.selectedInteraction && !eirInteractionSettingsCtrl.isWizard"> <div class=settingstopic> <div class=settings-title> <label>Trigger Event</label> </div> <div class=settings-content> <div class="field-short with-button"> <label>Component</label> <select id=interactionSourceSelect class="dropdown dropdown-sm" ng-model=eirInteractionSettingsCtrl.settingSourceComponent ng-change=eirInteractionSettingsCtrl.onChangeSourceComponent() ng-options="component as component.displayName + (component.id === eirInteractionSettingsCtrl.selectedComponent.databearer.id ? \' (This Component)\' : \'\') for component in eirInteractionSettingsCtrl.availableSources" ng-disabled=eirInteractionSettingsCtrl.isFinderActive xi-drop-down> </select> <button class=btn-icon xi-tooltip="\'Find Component\'" ng-click="eirInteractionSettingsCtrl.useFinder(\'source\')" ng-disabled=eirInteractionSettingsCtrl.isFinderActive> <svg class="finderBtn icon" focusable=false> <use xlink:href=#icon-map-pin></use> </svg> <span class=audible>Find Component</span> </button> </div> <div class=field-short> <label for=interactionSourceTriggerSelect>Event</label> <select id=interactionSourceTriggerSelect class="dropdown dropdown-md" ng-model=eirInteractionSettingsCtrl.settingSourceTrigger ng-change=eirInteractionSettingsCtrl.onChangeSourceTrigger() ng-disabled=eirInteractionSettingsCtrl.isFinderActive ng-options="trigger as trigger.name for trigger in eirInteractionSettingsCtrl.availableSourceTriggers" xi-drop-down> </select> </div> </div> </div> <div class=settingstopic> <div class=settings-title> <label>Target Action</label> </div> <div class=settings-content> <div class="field-short with-button"> <label>Component</label> <select id=interactionTargetSelect class="dropdown dropdown-sm" ng-disabled=eirInteractionSettingsCtrl.isFinderActive ng-model=eirInteractionSettingsCtrl.settingTargetComponent ng-change=eirInteractionSettingsCtrl.onChangeTargetComponent() ng-options="component as component.displayName + (component.id === eirInteractionSettingsCtrl.selectedComponent.databearer.id ? \' (This Component)\' : \'\') for component in eirInteractionSettingsCtrl.availableTargets" xi-drop-down> </select> <button class=btn-icon xi-tooltip="\'Find Component\'" ng-click="eirInteractionSettingsCtrl.useFinder(\'target\')" ng-disabled=eirInteractionSettingsCtrl.isFinderActive> <svg class="finderBtn icon" focusable=false> <use xlink:href=#icon-map-pin></use> </svg> <span class=audible>Find Component</span> </button> </div> <div class=field-short> <label for=eventTargetActionSelect>Action</label> <select id=eventTargetActionSelect class="dropdown dropdown-md" ng-disabled="eirInteractionSettingsCtrl.isFinderActive || !eirInteractionSettingsCtrl.hasAvailableTargetActions" ng-model=eirInteractionSettingsCtrl.settingTargetAction ng-change=eirInteractionSettingsCtrl.onChangeTargetAction() ng-options="action.name for action in eirInteractionSettingsCtrl.availableTargetActions" xi-drop-down> </select> </div> </div> </div> <div class=settingstopic> <div class=settings-title> <label>Data Mapping</label> </div> <div class=data-mapping-content> <eir-parameter-handler ng-if=!eirInteractionSettingsCtrl.isWizard interaction=eirInteractionSettingsCtrl.selectedInteraction interaction-changed-event=eirInteractionSettingsCtrl.interactionChangedEvent target-action-changed-event=eirInteractionSettingsCtrl.targetActionChangedEvent source-trigger-changed-event=eirInteractionSettingsCtrl.sourceTriggerChangedEvent> </eir-parameter-handler> </div> </div> </div> '},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.InteractionWizardCtrl=exports.WizardStates=exports.WizardTick=void 0;var angular_1=__importDefault(__webpack_require__(12)),angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3),binding_type_enum_1=__webpack_require__(30);__webpack_require__(92),__webpack_require__(32),__webpack_require__(130),__webpack_require__(409);var defines_1=__webpack_require__(16);__webpack_require__(68),__webpack_require__(13);var WizardTick,WizardStates,defines_2=__webpack_require__(65);__webpack_require__(20),__webpack_require__(169),__webpack_require__(211),function(WizardTick){WizardTick[WizardTick.TRIGGER_EVENT=0]="TRIGGER_EVENT",WizardTick[WizardTick.ACTION=1]="ACTION",WizardTick[WizardTick.DATA_MAPPING=2]="DATA_MAPPING",WizardTick[WizardTick.SUMMARY=3]="SUMMARY"}(WizardTick=exports.WizardTick||(exports.WizardTick={})),function(WizardStates){WizardStates[WizardStates.SOURCE_COMPONENT=0]="SOURCE_COMPONENT",WizardStates[WizardStates.TARGET_COMPONENT=1]="TARGET_COMPONENT",WizardStates[WizardStates.SUMMARY=2]="SUMMARY",WizardStates[WizardStates.CLOSE_WIZARD=3]="CLOSE_WIZARD"}(WizardStates=exports.WizardStates||(exports.WizardStates={}));var InteractionWizardCtrl=function(){function InteractionWizardCtrl($scope,$timeout,$element,$templateCache,$q,editorService,interactionManagementService){var _this=this;this.$scope=$scope,this.$timeout=$timeout,this.$element=$element,this.$templateCache=$templateCache,this.$q=$q,this.editorService=editorService,this.interactionManagementService=interactionManagementService,this.steps=[{id:"interaction-wizard-source.html",title:"",userTip:"",template:__webpack_require__(1156)},{id:"interaction-wizard-target.html",title:"",userTip:"",template:__webpack_require__(1157)},{id:"interaction-wizard-datamapping.html",title:"",userTip:"",template:__webpack_require__(1158)},{id:"interaction-wizard-summary.html",title:"",userTip:"",template:__webpack_require__(1159)}],this.maxTick=3,this.nextDisabled=!0,this.unsubscribers=[],this.initTemplates(),this.initializeUnsubscribers();var dialog=$scope.eirDialog;this.dialog=dialog,dialog.parameter&&($scope.component=dialog.parameter,this.component=$scope.component,this.settingSourceComponent=this.editorService.getSelectedComponent().getDatabearer(),this.settingTargetComponent=this.editorService.getApplicationParent().getDatabearer(),this.selectedInteraction=this.interactionManagementService.createNew(dialog.parameter),angular_1.default.element("#"+this.component.getId()).addClass("inWizard"),this.editorService.newWizardInteractionEvent.raise(this.selectedInteraction),this.editorService.isWizardChangedEvent.raise(!0));var dialogElement=$element.parents(".draggable-dialog");dialogElement.draggable({distance:10,start:function(){dialogElement.css("transition","none"),dialogElement.css("transform","none")}}),dialog.closing=function(dialogEvent){_this.editorService.selectedInteractionChangedEvent.raise(null),_this.editorService.setFinderComponent(),_this.exitWizard(),dialogElement.fadeOut();return dialogEvent&&dialogEvent.dialog.getPromise().then((function(results){return results.value===defines_1.KeyCodeEnum.ESCAPE&&_this.cancel(),results}))},this.wizardElement=$element.find(".wizard");var self=this;this.wizardElement.on("activated",(function(event,element){var selectedTick=self.wizardElement.data("wizard").ticks.index(element);self.gotoWizardTick(selectedTick)})),this.wizardElement.on("afteractivate",(function(event,element){$scope.$apply()})),this.currentTick=0,$timeout((function(){_this.gotoWizardTick(_this.currentTick)}),common_constant_1.Numbers.TEN),$scope.$on(angular_constants_1.AngularConstants.DESTROY,(function(){angular_1.default.forEach(_this.unsubscribers,(function(unsubscribe){unsubscribe()}))}))}return Object.defineProperty(InteractionWizardCtrl.prototype,"isSummaryPage",{get:function(){return this.currentTick===this.maxTick},enumerable:!1,configurable:!0}),InteractionWizardCtrl.prototype.initTemplates=function(){var _this=this;this.steps.forEach((function(step){_this.$templateCache.get(step.id)||_this.$templateCache.put(step.id,step.template)}))},InteractionWizardCtrl.prototype.initializeUnsubscribers=function(){var _this=this;this.unsubscribers.push(this.editorService.wizardCloseEvent.on((function(){_this.cancel()}))),this.unsubscribers.push(this.editorService.triggerSourceComponentChangedEvent.on((function(component){_this.settingSourceComponent=component.getDatabearer()}))),this.unsubscribers.push(this.editorService.targetActionComponentChangedEvent.on((function(component){_this.settingTargetComponent=component.getDatabearer()}))),this.unsubscribers.push(this.editorService.setSourceTriggerEvent.on((function(sourceTrigger){_this.settingSourceTrigger=sourceTrigger,_this.updateDisabled()}))),this.unsubscribers.push(this.editorService.setTargetActionEvent.on((function(targetAction){_this.settingTargetAction=targetAction,_this.updateDisabled()}))),this.unsubscribers.push(this.editorService.wizardTickChangedEvent.on((function(tick){_this.gotoWizardTick(tick)})))},InteractionWizardCtrl.prototype.selectWizardStep=function(stepNumber){this.setWizardTick(stepNumber),this.gotoWizardTick(stepNumber)},InteractionWizardCtrl.prototype.gotoWizardTick=function(tickNumber){switch(this.userTip="",tickNumber){case WizardTick.TRIGGER_EVENT:this.editorService.setCanvasMode(common_constant_1.CanvasModeEnum.SELECTION),this.userTip="Please select the event that will trigger the action. If you want to change component\n\t\t\t\t\tsimply click on a component on the canvas. You can also choose to select an application event by clicking  ",this.editorService.wizardSetFinderModeEvent.raise("source"),this.checkWizardStates(tickNumber);break;case WizardTick.ACTION:this.editorService.setCanvasMode(common_constant_1.CanvasModeEnum.SELECTION),this.editorService.wizardSetFinderModeEvent.raise("target"),this.userTip="Please select a target component and action. If you want to change component simply click on a\n\t\t\t\t\tcomponent on the canvas or select the ",this.checkWizardStates(tickNumber);break;case WizardTick.DATA_MAPPING:this.editorService.setCanvasMode(common_constant_1.CanvasModeEnum.WIZARD),this.userTip="Configure the data field mapping by selecting target action data field,\n\t\t\t\t\tand the source component and field.",this.checkWizardStates(tickNumber);break;default:this.refreshDataMappingSummaryItems()}this.currentTick=tickNumber},InteractionWizardCtrl.prototype.cancel=function(){this.interactionManagementService.removeInteraction(this.selectedInteraction),this.checkWizardStates(WizardStates.CLOSE_WIZARD),this.dialog.close()},InteractionWizardCtrl.prototype.next=function(){this.isSummaryPage?this.dialog.close():this.selectWizardStep(this.currentTick+1)},InteractionWizardCtrl.prototype.back=function(){this.selectWizardStep(this.currentTick-1)},InteractionWizardCtrl.prototype.setWizardTick=function(tickNumber){tickNumber!==this.currentTick&&this.wizardElement.data("wizard").select(tickNumber)},InteractionWizardCtrl.prototype.updateDisabled=function(){switch(this.currentTick){case WizardTick.TRIGGER_EVENT:this.nextDisabled=!this.selectedInteraction.sourceName;break;case WizardTick.ACTION:this.nextDisabled=!this.selectedInteraction.targetName;break;case WizardTick.DATA_MAPPING:this.nextDisabled=!this.selectedInteraction.sourceName||!this.selectedInteraction.targetName;break;default:this.nextDisabled=!1}},InteractionWizardCtrl.prototype.checkWizardStates=function(state){switch(state){case WizardStates.CLOSE_WIZARD:this.editorService.setWizardFocusComponent(common_constant_1.WizardFocusEnum.UNFOCUSED,this.settingTargetComponent,common_constant_1.SettingTypes.TARGET),this.editorService.setWizardFocusComponent(common_constant_1.WizardFocusEnum.UNFOCUSED,this.settingSourceComponent,common_constant_1.SettingTypes.SOURCE),angular_1.default.element("#"+this.component.getId()).removeClass("inWizard");break;case WizardStates.SOURCE_COMPONENT:this.editorService.setWizardFocusComponent(common_constant_1.WizardFocusEnum.UNFOCUSED,this.settingTargetComponent,common_constant_1.SettingTypes.TARGET),this.editorService.setWizardFocusComponent(common_constant_1.WizardFocusEnum.FOCUSED,this.settingSourceComponent,common_constant_1.SettingTypes.SOURCE);break;case WizardStates.TARGET_COMPONENT:this.settingSourceComponent.id!==this.settingTargetComponent.id&&(this.editorService.setWizardFocusComponent(common_constant_1.WizardFocusEnum.RESTING,this.settingSourceComponent,common_constant_1.SettingTypes.SOURCE),this.editorService.setWizardFocusComponent(common_constant_1.WizardFocusEnum.FOCUSED,this.settingTargetComponent,common_constant_1.SettingTypes.TARGET));break;default:this.settingSourceComponent.id!==this.settingTargetComponent.id&&(this.editorService.setWizardFocusComponent(common_constant_1.WizardFocusEnum.RESTING,this.settingTargetComponent,common_constant_1.SettingTypes.TARGET),this.editorService.setWizardFocusComponent(common_constant_1.WizardFocusEnum.RESTING,this.settingSourceComponent,common_constant_1.SettingTypes.SOURCE))}this.updateDisabled()},InteractionWizardCtrl.prototype.exitWizard=function(){this.checkWizardStates(WizardStates.CLOSE_WIZARD),this.editorService.isWizardChangedEvent.raise(!1),this.editorService.setFinderActivity(!1),this.editorService.setCanvasMode(common_constant_1.CanvasModeEnum.SELECTION),this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.INTERACTIONS)},InteractionWizardCtrl.prototype.refreshDataMappingSummaryItems=function(){var _this=this;return this.makeDataMappingSummaryItems().then((function(summaryItems){_this.dataMappingSummaryItems=summaryItems})).catch((function(err){_this.dataMappingSummaryItems=[],console.warn("[InteractionWizardCtrl] Failed to make setting parameters:",err)}))},InteractionWizardCtrl.prototype.makeDataMappingSummaryItems=function(){var _this=this,promisedSummaryItems=this.selectedInteraction.getParameters().map((function(parameter){return _this.makeDataMappingSummaryItem(parameter)}));return this.$q.all(promisedSummaryItems)},InteractionWizardCtrl.prototype.makeDataMappingSummaryItem=function(parameter){switch(parameter.valueSource.Type){case binding_type_enum_1.BindingTypeEnum.STATIC_VALUE:return this.makeStaticDataMappingSummaryItem(parameter);case binding_type_enum_1.BindingTypeEnum.BINDING:return this.makeComponentBindingDataMappingSummaryItem(parameter);case binding_type_enum_1.BindingTypeEnum.CONTEXT_BINDING:return this.makeContextBindingDataMappingSummaryItem(parameter);default:return this.$q.reject("Unknown parameter type: "+parameter.valueSource.Type)}},InteractionWizardCtrl.prototype.makeStaticDataMappingSummaryItem=function(parameter){return this.$q.resolve({targetField:parameter.targetField.Meta.name,sourceContext:defines_2.SourceComponent.STATIC_VALUE_OBJECT.name,sourceField:parameter.valueSource.value,isMandatory:parameter.targetField.isMandatory})},InteractionWizardCtrl.prototype.makeComponentBindingDataMappingSummaryItem=function(parameter){var componentId=parameter.valueSource.sourceName,component=this.editorService.getComponentInstanceById(componentId);return component.getBindingMetaData().then((function(bindings){var visibleName=bindings.find((function(binding){return binding.sourceKey===parameter.valueSource.sourceKey})).visibleName;return{targetField:parameter.targetField.Meta.name,sourceContext:component.getDisplayName(),sourceField:visibleName,isMandatory:parameter.targetField.isMandatory}}))},InteractionWizardCtrl.prototype.makeContextBindingDataMappingSummaryItem=function(parameter){var targetComponentId=this.selectedInteraction.targetName;return this.editorService.getComponentInstanceById(targetComponentId).getContextMetaData().then((function(bindings){var visibleName=bindings.find((function(binding){return binding.sourceKey===parameter.valueSource.sourceKey})).visibleName;return{targetField:parameter.targetField.Meta.name,sourceContext:defines_2.SourceComponent.TARGET_CONTEXT_OBJECT.name,sourceField:visibleName,isMandatory:parameter.targetField.isMandatory}}))},InteractionWizardCtrl.add=function(m){m.controller("eirInteractionWizardCtrl",InteractionWizardCtrl)},InteractionWizardCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,angular_constants_1.AngularConstants.TIMEOUT,angular_constants_1.AngularConstants.ELEMENT,angular_constants_1.AngularConstants.TEMPLATE_CACHE,angular_constants_1.AngularConstants.Q,common_constant_1.InjectNames.EDITOR_SERVICE,common_constant_1.InjectNames.INTERACTION_MANAGEMENT_SERVICE],InteractionWizardCtrl}();exports.InteractionWizardCtrl=InteractionWizardCtrl},function(module,exports){module.exports='<div class=padded-content> <p class="user-tip label"> {{wizardCtrl.userTip}} <a class=hyperlink ng-click=eirInteractionSettingsCtrl.selectSourceApplication()>here</a></p> <div ng-if=!eirInteractionSettingsCtrl.selectedInteraction.sourceName> <p class=grey-text>Source not selected</p> </div> <div class=interaction-step ng-if=eirInteractionSettingsCtrl.selectedInteraction.sourceName> <label>Component</label> <label class=component-name-label>{{eirInteractionSettingsCtrl.settingSourceComponent.displayName}}</label> <div class=field-short> <label for=wiz-interactionSourceTriggerSelect>Event</label> <select id=wiz-interactionSourceTriggerSelect class="dropdown dropdown-md" ng-model=eirInteractionSettingsCtrl.settingSourceTrigger ng-change=eirInteractionSettingsCtrl.onChangeSourceTrigger() ng-options="trigger as trigger.name for trigger in eirInteractionSettingsCtrl.availableSourceTriggers" xi-drop-down=eirInteractionSettingsCtrl.dropdownSettingsWide> </select> </div> </div> </div>'},function(module,exports){module.exports='<div class=padded-content> <p class="user-tip label"> {{wizardCtrl.userTip}}<a class=hyperlink ng-click=eirInteractionSettingsCtrl.setSourceAsTarget()> source as target.</a></p> <div ng-if=!eirInteractionSettingsCtrl.selectedInteraction.targetName> <p class=grey-text>Target not selected</p> </div> <div class=interaction-step ng-if=eirInteractionSettingsCtrl.selectedInteraction.targetName> <label>Component</label> <label class=component-name-label>{{eirInteractionSettingsCtrl.settingTargetComponent.displayName}}</label> <div class=field-short> <label for=wiz-interactionTargetActionSelect>Action</label> <select id=wiz-interactionTargetActionSelect class="dropdown dropdown-md" ng-model=eirInteractionSettingsCtrl.settingTargetAction ng-change=eirInteractionSettingsCtrl.onChangeTargetAction() ng-options="action as action.name for action in eirInteractionSettingsCtrl.availableTargetActions" ng-disabled=!eirInteractionSettingsCtrl.hasAvailableTargetActions xi-drop-down=eirInteractionSettingsCtrl.dropdownSettingsWide> </select> </div> </div> </div> '},function(module,exports){module.exports='<div class=padded-content> <p class="user-tip label">{{wizardCtrl.userTip}}</p> </div> <div class=parameter-wrapper> <eir-parameter-handler interaction=eirInteractionSettingsCtrl.selectedInteraction interaction-changed-event=eirInteractionSettingsCtrl.interactionChangedEvent target-action-changed-event=eirInteractionSettingsCtrl.targetActionChangedEvent source-trigger-changed-event=eirInteractionSettingsCtrl.sourceTriggerChangedEvent> </eir-parameter-handler> </div>'},function(module,exports){module.exports="<div class=summary-wrapper> <fieldset> <div class=summary-header> <h4>Trigger Event Properties</h4> <button xi-tooltip=\"'Edit Source'\" class=btn-tertiary type=button ng-click=wizardCtrl.selectWizardStep(0)> EDIT </button> </div> <div class=summary-form> <div class=field> <label class=label>Component</label> <span class=data>{{eirInteractionSettingsCtrl.settingSourceComponent.displayName}}</span> </div> <div class=field> <label class=label>Event</label> <span class=data>{{eirInteractionSettingsCtrl.settingSourceTrigger.name}}</span> </div> </div> </fieldset> <fieldset> <div class=summary-header> <h4>Action Properties</h4> <button xi-tooltip=\"'Edit Target'\" class=btn-tertiary type=button ng-click=wizardCtrl.selectWizardStep(1)> EDIT </button> </div> <div class=summary-form> <div class=field> <label class=label>Component</label> <span class=data>{{eirInteractionSettingsCtrl.settingTargetComponent.displayName}}</span> </div> <div class=field> <label class=label>Action</label> <span class=data>{{eirInteractionSettingsCtrl.settingTargetAction.name}}</span> </div> </div> </fieldset> <fieldset> <div class=summary-header> <h4>Data Mapping</h4> <button xi-tooltip=\"'Edit Data Mapping'\" class=btn-tertiary type=button ng-click=wizardCtrl.selectWizardStep(2)> EDIT </button> </div> <div class=parameter-wrapper> <div class=parameter-summary ng-repeat=\"item in ::wizardCtrl.dataMappingSummaryItems | orderBy:['-isMandatory','targetField']\"> <div class=field> <label class=label>Action Data Field <p>{{item.targetField}}</p> </label></div> <hr> <div class=field> <label class=label>Source <p>{{item.sourceContext}}</p> </label></div> <div class=field> <label class=label>Data Field <p>{{item.sourceField}}</p> </label></div> </div> </div> </fieldset> </div> "},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ParameterHandlerDirective=exports.ParameterCtrl=void 0;var common_constant_1=__webpack_require__(3),binding_type_enum_1=__webpack_require__(30);__webpack_require__(203),__webpack_require__(414),__webpack_require__(130);var interaction_parameter_1=__webpack_require__(409),angular_constants_1=__webpack_require__(7);__webpack_require__(68),__webpack_require__(85),__webpack_require__(28);var defines_1=__webpack_require__(65);__webpack_require__(20);var ParameterCtrl=function(){function ParameterCtrl($scope,editorService,frameworkService){var _this=this;this.$scope=$scope,this.editorService=editorService,this.frameworkService=frameworkService,this.isAddAvailable=!0,this.metadataLoading=!1,this.unsubscribers=[],this.interactionChangedEvent=$scope.interactionChangedEvent,this.targetActionChangedEvent=$scope.targetActionChangedEvent,this.sourceTriggerChangedEvent=$scope.sourceTriggerChangedEvent,this.unsubscribers.push(this.sourceTriggerChangedEvent.on((function(){_this.onInteractionTargetActionChanged(_this.interaction.targetActionName)}))),this.unsubscribers.push(this.targetActionChangedEvent.on((function(){_this.onInteractionTargetActionChanged(_this.interaction.targetActionName)}))),this.unsubscribers.push(this.interactionChangedEvent.on(this.onNewInteractionSelected.bind(this))),this.onNewInteractionSelected($scope.interaction),$scope.$on(angular_constants_1.AngularConstants.DESTROY,(function(){_this.unsubscribers.forEach((function(unsubscriber){unsubscriber()}))}))}return ParameterCtrl.prototype.getUnusedParameters=function(){var _this=this;return this.availableTargetFields.filter((function(availableTargetField){return!_this.interaction.getParameters().some((function(parameter){return parameter.targetKey===availableTargetField.targetKey}))}))},ParameterCtrl.prototype.updateView=function(){var _this=this;this.isAddAvailable=this.getUnusedParameters().length>0,this.interactionParameters=[],this.$scope.$applyAsync((function(){_this.interactionParameters=_this.interaction.getParameters()}))},ParameterCtrl.prototype.save=function(){this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.INTERACTIONS)},ParameterCtrl.prototype.onNewInteractionSelected=function(newInteraction){if(this.interaction=newInteraction,newInteraction){var availableSources_1=[defines_1.SourceComponent.STATIC_VALUE_OBJECT,defines_1.SourceComponent.TARGET_CONTEXT_OBJECT,defines_1.SourceComponent.URL_VALUE_OBJECT];this.editorService.getAllBindableComponents().forEach((function(component){availableSources_1.push({id:component.getId(),name:component.getDisplayName(),isComponent:!0})})),this.availableSources=availableSources_1,this.onInteractionTargetActionChanged(newInteraction.targetActionName)}},ParameterCtrl.prototype.onInteractionTargetActionChanged=function(newTargetAction){var _this=this;this.availableTargetFields=[];var targetComponent=this.editorService.getComponentInstanceById(this.interaction.targetName);this.targetComponent=targetComponent,this.updateView(),targetComponent?(this.metadataLoading=!0,targetComponent.getParameterMetadata(this.interaction.targetActionName).then((function(availableTargetFields){_this.availableTargetFields=availableTargetFields,availableTargetFields.forEach((function(targetField){var foundParameter=_this.interaction.getParameter(targetField.targetKey);foundParameter?foundParameter.targetField=targetField:targetField.isMandatory&&_this.createParameter(targetField)}))})).catch((function(){_this.userNote="No metadata available"})).finally((function(){_this.updateView(),_this.metadataLoading=!1}))):(console.warn("[ParameterCtrl] No targetComponent"),this.userNote="No target component set")},ParameterCtrl.prototype.onChangeTargetField=function(parameter){parameter.targetField&&(parameter.targetKey=parameter.targetField.targetKey)},ParameterCtrl.prototype.checkForMandatoryParameter=function(){for(var parametersList=this.getUnusedParameters(),newTarget=parametersList[0],i=0;i<parametersList.length;i++)if(parametersList[i].isMandatory){newTarget=parametersList[i];break}return newTarget},ParameterCtrl.prototype.createParameter=function(newTarget){var _this=this;newTarget||(newTarget=this.checkForMandatoryParameter());var newParameter={targetKey:newTarget.targetKey},sourceComponentInAvailableSources=this.availableSources.some((function(availableSource){return availableSource.id===_this.interaction.sourceName}));newParameter.valueSource=sourceComponentInAvailableSources?{Type:binding_type_enum_1.BindingTypeEnum.BINDING,sourceName:this.interaction.sourceName,sourceKey:this.interaction.sourceTriggerName===common_constant_1.InteractionTriggerEnum.CURRENT_ITEM_CHANGED?"currentItem."+newTarget.targetKey:newTarget.targetKey}:{Type:binding_type_enum_1.BindingTypeEnum.STATIC_VALUE};var newParameterInstance=new interaction_parameter_1.InteractionParameter(newParameter);newParameterInstance.targetField=newTarget,this.interaction.addParameter(newParameterInstance),this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.INTERACTIONS),this.updateView()},ParameterCtrl.prototype.removeParameter=function(index){this.interaction.removeParameter(index),this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.INTERACTIONS),this.editorService.setCanvasMode(common_constant_1.CanvasModeEnum.SELECTION),this.updateView()},ParameterCtrl.prototype.removeAllParameters=function(){this.interaction.removeAllParameters()},ParameterCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,common_constant_1.InjectNames.EDITOR_SERVICE,common_constant_1.InjectNames.FRAMEWORK_SERVICE],ParameterCtrl}();exports.ParameterCtrl=ParameterCtrl;var ParameterHandlerDirective=function(){function ParameterHandlerDirective(){}return ParameterHandlerDirective.add=function(m){m.directive("eirParameterHandler",(function(){return{template:__webpack_require__(1161),scope:{interaction:"=",interactionChangedEvent:"=",targetActionChangedEvent:"=",sourceTriggerChangedEvent:"="},controller:ParameterCtrl,controllerAs:"eirParameterCtrl"}}))},ParameterHandlerDirective}();exports.ParameterHandlerDirective=ParameterHandlerDirective},function(module,exports){module.exports='<div class=parameter-item ng-repeat="parameter in eirParameterCtrl.interactionParameters track by $index"> <div class=field-short> <button ng-if=!parameter.targetField.isMandatory class=delete-icon ng-click=eirParameterCtrl.removeParameter($index)> <svg class=icon focusable=false> <use xlink:href=#icon-close></use> </svg> <span class=audible>Delete</span> </button> <label for=newTargetFieldSelect{{$index}}>Action Data Field</label> <select id=newTargetFieldSelect{{$index}} class="dropdown dropdown-md" ng-disabled=parameter.targetField.isMandatory ng-model=parameter.targetField ng-change=eirParameterCtrl.onChangeTargetField(parameter) ng-options="field.visibleName for field in eirParameterCtrl.availableTargetFields | eirExcludeFrom:eirParameterCtrl.interactionParameters:\'targetKey\':parameter.targetField track by field.targetKey" xi-drop-down=eirParameterCtrl.interactionParameters> </select> </div> <hr/> <eir-valuesource-settings target-component=eirParameterCtrl.targetComponent target-field-metadata=parameter.targetField.Meta value-source-object=parameter.valueSource available-sources=eirParameterCtrl.availableSources create-bindings=false on-save=eirParameterCtrl.save()> </eir-valuesource-settings> </div> <button class="btn-primary parameter-btn" ng-click=eirParameterCtrl.createParameter() ng-disabled=!eirParameterCtrl.isAddAvailable xi-button type=button> <svg class=icon focusable=false aria-hidden=true> <use xlink:href=#icon-add></use> </svg> <span>ADDITIONAL DATA MAPPING</span> </button> '},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DeveloperToolComponent=void 0,__webpack_require__(23);var developer_tool_ctrl_1=__webpack_require__(1163),DeveloperToolComponent=function(){function DeveloperToolComponent(){this.bindings={},this.controller=developer_tool_ctrl_1.DeveloperToolCtrl,this.controllerAs="ctrl",this.template=__webpack_require__(1164)}return DeveloperToolComponent.add=function(m){m.component("eirDeveloperTool",new DeveloperToolComponent)},DeveloperToolComponent}();exports.DeveloperToolComponent=DeveloperToolComponent},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.DeveloperToolCtrl=void 0;var isNil_1=__importDefault(__webpack_require__(164)),isUndefined_1=__importDefault(__webpack_require__(84)),app_state_1=__webpack_require__(236),common_constant_1=__webpack_require__(3),angular_constants_1=__webpack_require__(7),debugger_1=__webpack_require__(112),defines_1=__webpack_require__(16);__webpack_require__(70),__webpack_require__(13),__webpack_require__(210),__webpack_require__(152),__webpack_require__(168);var DeveloperToolCtrl=function(){function DeveloperToolCtrl($q,$element,$state,commonService,dialogService,projectService,repositoryService,designerService){this.$q=$q,this.$element=$element,this.$state=$state,this.commonService=commonService,this.dialogService=dialogService,this.projectService=projectService,this.repositoryService=repositoryService,this.designerService=designerService}return Object.defineProperty(DeveloperToolCtrl.prototype,"isDeveloper",{get:function(){return debugger_1.Debugger.isEnabled()&&common_constant_1.Config.IS_DEV},enumerable:!1,configurable:!0}),Object.defineProperty(DeveloperToolCtrl.prototype,"mgConfigName",{get:function(){return common_constant_1.Config.MG_CONFIG_NAME},set:function(value){common_constant_1.Config.MG_CONFIG_NAME=value},enumerable:!1,configurable:!0}),Object.defineProperty(DeveloperToolCtrl.prototype,"ionApiToken",{get:function(){return localStorage.getItem(common_constant_1.DeveloperConstants.ION_TOKEN)},set:function(value){this.commonService.httpService.executePut("/settings/token",{path:"token",data:value}).then((function(response){return localStorage.setItem(common_constant_1.DeveloperConstants.ION_TOKEN,response)}))},enumerable:!1,configurable:!0}),DeveloperToolCtrl.prototype.$onInit=function(){var _this=this;if(this.setCanNavigateBack(),this.isDeveloper){var value=localStorage.getItem(common_constant_1.DeveloperConstants.ION_PROXY);this.isIonProxyActive=!isNil_1.default(value)&&"true"===value,value=localStorage.getItem(common_constant_1.DeveloperConstants.LAUNCH_WITH_ANGULAR),this.isLaunchWithAngular=!isNil_1.default(value)&&"true"===value}else localStorage.removeItem(common_constant_1.DeveloperConstants.ION_PROXY),localStorage.removeItem(common_constant_1.DeveloperConstants.LAUNCH_WITH_ANGULAR),this.$state.go(app_state_1.AppState.HOME.name);var filterAcceptanceTestItems=function(list){return list.filter((function(item){return 0===item.name.indexOf("ACCTEST")})).map((function(item){return item.id}))};this.commonService.loadProjects().then((function(projects){return projects.map((function(project){return{id:project.manifest.id,name:project.manifest.displayName}}))})).then(filterAcceptanceTestItems).then((function(result){return _this.acceptanceTestProjectIdList=result})),this.repositoryService.getDatasources().then((function(dataservices){return dataservices.map((function(dataservice){return{id:dataservice.id,name:dataservice.displayName}}))})).then(filterAcceptanceTestItems).then((function(result){return _this.acceptanceTestDataserviceIdList=result})),this.progressApi=this.$element.find("#progress-bar").progress().data("progress"),this.loadCurrentProjectDatabearer()},DeveloperToolCtrl.prototype.loadCurrentProjectDatabearer=function(){var _a,_this=this,projectId=null===(_a=this.commonService.getCurrentProject())||void 0===_a?void 0:_a.getId();isUndefined_1.default(projectId)?this.currentProject="No project loaded":this.commonService.loadProject(projectId).then((function(project){return _this.currentProject=JSON.stringify(project)}))},DeveloperToolCtrl.resolve=function(){debugger_1.Debugger.initialize()},DeveloperToolCtrl.prototype.deleteAllAcceptanceTestProjects=function(){var _this=this,amount=this.acceptanceTestProjectIdList.length,promises=[];this.isProcessing=!0,this.acceptanceTestProjectIdList.forEach((function(projectId,index){promises.push(_this.projectService.deleteById(projectId).then((function(){return _this.dialogService.showToast({title:"Deleted",message:"Deleted "+projectId+", still "+(amount-index-1)+" of "+amount+" to process"})})).then((function(){var processed=100-100/(amount/(amount-index-1));_this.progressApi.update(processed.toString())})))})),this.$q.all(promises).then((function(){return _this.dialogService.showToast({title:"Result",message:"All acceptance test projects deleted"})})).finally((function(){_this.acceptanceTestProjectIdList.length=0,_this.isProcessing=!1}))},DeveloperToolCtrl.prototype.deleteAllAcceptanceTestDataservices=function(){var _this=this;this.repositoryService.deleteDatasources(this.acceptanceTestDataserviceIdList).finally((function(){return _this.acceptanceTestDataserviceIdList.length=0}))},DeveloperToolCtrl.prototype.onEnableIonProxy=function(value){this.isIonProxyActive=value,value?localStorage.setItem(common_constant_1.DeveloperConstants.ION_PROXY,"true"):localStorage.removeItem(common_constant_1.DeveloperConstants.ION_PROXY)},DeveloperToolCtrl.prototype.onLaunchAppWithAngular=function(value){this.isLaunchWithAngular=value,value?localStorage.setItem(common_constant_1.DeveloperConstants.LAUNCH_WITH_ANGULAR,"true"):localStorage.removeItem(common_constant_1.DeveloperConstants.LAUNCH_WITH_ANGULAR)},DeveloperToolCtrl.prototype.navigateBack=function(){this.canNavigateBack&&(this.fromEditor?this.$state.go(app_state_1.AppState.EDITOR.name,{id:this.designerService.getCurrentProject().getId(),reloadProject:!1}):this.$state.go(app_state_1.AppState.HOME.name))},DeveloperToolCtrl.prototype.setCanNavigateBack=function(){var currentView=this.designerService.getView();this.canNavigateBack=currentView===defines_1.ViewEnum.DASHBOARD||currentView===defines_1.ViewEnum.EDITOR,this.canNavigateBack&&(this.fromEditor=currentView===defines_1.ViewEnum.EDITOR)},DeveloperToolCtrl.$inject=[angular_constants_1.AngularConstants.Q,angular_constants_1.AngularConstants.ELEMENT,angular_constants_1.AngularConstants.STATE_SERVICE,common_constant_1.InjectNames.COMMON_SERVICE,common_constant_1.InjectNames.DIALOG_SERVICE,common_constant_1.InjectNames.PROJECT_SERVICE,common_constant_1.InjectNames.REPOSITORY_SERVICE,common_constant_1.InjectNames.DESIGNER_SERVICE],DeveloperToolCtrl}();exports.DeveloperToolCtrl=DeveloperToolCtrl},function(module,exports){module.exports='<div class=container ng-show=::ctrl.isDeveloper> <div class=page-container> <header class="header is-personalizable"> <div class=toolbar> <div class=title> <button class="btn-icon application-menu-trigger" type=button ng-if=ctrl.canNavigateBack ng-click=ctrl.navigateBack()> <span class="icon app-header go-back"> <span class=one></span> <span class=two></span> <span class=three></span> </span> </button> <h1><span>Developer Tools</span></h1> </div> </div> </header> <div class="page-container scrollable" id=maincontent role=main> <div class="row top-padding"> <div class="twelve columns"> <div class=row> <div class=field> <button class=btn-primary ng-click=ctrl.deleteAllAcceptanceTestProjects() ng-disabled="ctrl.acceptanceTestProjectIdList.length === 0"> Delete all acceptance test projects </button> <br/><br/> <button class=btn-primary ng-click=ctrl.deleteAllAcceptanceTestDataservices() ng-disabled="ctrl.acceptanceTestDataserviceIdList.length === 0"> Delete all acceptance test data services </button> </div> <div class=field> <div class=switch> <input type=checkbox id=ion-proxy name=ion-proxy class=switch ng-checked=ctrl.isIonProxyActive ng-click=ctrl.onEnableIonProxy(!ctrl.isIonProxyActive) /> <label for=ion-proxy>Enable ION Proxy</label> </div> </div> <div class=field> <div class=switch> <input type=checkbox id=launch-with-angular name=launch-with-angular class=switch ng-checked=ctrl.isLaunchWithAngular ng-click=ctrl.onLaunchAppWithAngular(!ctrl.isLaunchWithAngular) /> <label for=launch-with-angular>Launch App with Angular</label> </div> </div> <div class=field> <label for=mg-config-name>Mongoose Config</label> <input type=text id=mgName-config-name name=mg-config-name ng-model=ctrl.mgConfigName> </div> <div class=field> <label for=ion-api-token>ION API Token</label> <input type=text id=ion-api-token name=ion-api-token ng-model=ctrl.ionApiToken> </div> <div class=field> <label for=current-loaded-project>Current Loaded Project</label> <textarea class=textarea id=current-loaded-project name=current-loaded-project ng-model=ctrl.currentProject></textarea> </div> <div class=field ng-show=ctrl.isProcessing> <label id=pr-label1>Percent complete</label> <div class=progress> <div class=progress-bar id=progress-bar data-value=0 aria-labelledby=pr-label1></div> </div> </div> </div> </div> </div> </div> </div> </div> '},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.EditorButtonCtrl=void 0;var common_constant_1=__webpack_require__(3),button_1=__webpack_require__(523),editor_component_1=__webpack_require__(58);__webpack_require__(115);var size_type_enum_1=__webpack_require__(29);__webpack_require__(13);var EditorButtonCtrl=function(_super){function EditorButtonCtrl(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(EditorButtonCtrl,_super),EditorButtonCtrl.prototype.setSetting=function(settingMeta,newSettingValue){var saveSetting=!0;if(settingMeta.ref===common_constant_1.SettingKeys.STYLE)if(newSettingValue===common_constant_1.ButtonStyle.FILL)if(saveSetting=1===this.component.parent.children.length)this.setSize(size_type_enum_1.SizeTypeEnum.PERCENT);else{this.component.parent.getTypedef();var options={title:"Warning",cssClass:"warning-text",message:"The Button cannot fill due to too many components in the "+this.component.parent.getTypedef()};this.dialogService.showMessage(options)}else this.setSize(size_type_enum_1.SizeTypeEnum.AUTO);saveSetting&&_super.prototype.setSetting.call(this,settingMeta,newSettingValue)},EditorButtonCtrl.prototype.setSize=function(sizeType){this.setBoundarySetting(common_constant_1.SettingKeys.WIDTH,{sizeType:sizeType}),this.setBoundarySetting(common_constant_1.SettingKeys.HEIGHT,{sizeType:sizeType})},EditorButtonCtrl.add=function(m){m.controller(common_constant_1.ComponentClassNames.EDITOR_COMPONENT_PREFIX+button_1.Button.name,EditorButtonCtrl)},EditorButtonCtrl}(editor_component_1.EditorComponentCtrl);exports.EditorButtonCtrl=EditorButtonCtrl},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.EditorCheckboxCtrl=void 0;var common_constant_1=__webpack_require__(3),checkbox_1=__webpack_require__(524),EditorCheckboxCtrl=function(_super){function EditorCheckboxCtrl(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(EditorCheckboxCtrl,_super),EditorCheckboxCtrl.add=function(m){m.controller(common_constant_1.ComponentClassNames.EDITOR_COMPONENT_PREFIX+checkbox_1.Checkbox.name,EditorCheckboxCtrl)},EditorCheckboxCtrl}(__webpack_require__(58).EditorComponentCtrl);exports.EditorCheckboxCtrl=EditorCheckboxCtrl},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.EditorDatagridCtrl=void 0;var common_constant_1=__webpack_require__(3),EditorDatagridCtrl=function(_super){function EditorDatagridCtrl(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(EditorDatagridCtrl,_super),EditorDatagridCtrl.prototype.clearData=function(){_super.prototype.clearData.call(this),this.component.clear()},EditorDatagridCtrl.prototype.getMetaData=function(fieldRef,onSuccess){var datasource=this.component.getDatasource();if(fieldRef!==common_constant_1.SettingKeys.SELECTED_ITEM&&fieldRef!==common_constant_1.SettingKeys.DIRTY_ITEMS||!datasource){if(fieldRef===common_constant_1.SettingKeys.SUMMARY_OUTPUT){var outputFields_1=[];(component=this.component).summaryOutput&&(Object.entries(component.summaryOutput).forEach((function(_a){var key=_a[0];outputFields_1.push({FLNM:key,FLDS:key,MAND:"0"})})),onSuccess(outputFields_1))}else if(fieldRef===common_constant_1.SettingKeys.ROW_COUNT_OUTPUT){var component,rowCount_1=[];(component=this.component).rowCountOutput&&(Object.entries(component.rowCountOutput).forEach((function(_a){var key=_a[0];rowCount_1.push({FLNM:key,FLDS:"",MAND:"0"})})),onSuccess(rowCount_1))}}else datasource.getMetaData().then((function(metaData){onSuccess(metaData.outputFields)}))},EditorDatagridCtrl.prototype.setDatasource=function(newDatasource){var _this=this;return _super.prototype.setDatasource.call(this,newDatasource).then((function(){_this.component.updateColumns()}))},EditorDatagridCtrl.prototype.refreshMetaSettings=function(){this.component.updateValuesWithTranslations()},EditorDatagridCtrl.add=function(m){m.controller(common_constant_1.ComponentClassNames.EDITOR_COMPONENT_PREFIX+common_constant_1.ComponentNames.Datagrid,EditorDatagridCtrl)},EditorDatagridCtrl}(__webpack_require__(58).EditorComponentCtrl);exports.EditorDatagridCtrl=EditorDatagridCtrl},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.EditorDatepickerCtrl=void 0;var common_constant_1=__webpack_require__(3);__webpack_require__(115),__webpack_require__(526),__webpack_require__(527);var datepicker_1=__webpack_require__(525),EditorDatepickerCtrl=function(_super){function EditorDatepickerCtrl(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(EditorDatepickerCtrl,_super),EditorDatepickerCtrl.add=function(m){m.controller(common_constant_1.ComponentClassNames.EDITOR_COMPONENT_PREFIX+datepicker_1.Datepicker.name,EditorDatepickerCtrl)},EditorDatepickerCtrl.prototype.setSetting=function(settingMeta,newSettingValue){var _this=this;switch(_super.prototype.setSetting.call(this,settingMeta,newSettingValue),settingMeta.ref){case common_constant_1.SettingKeys.DATE_FORMAT_SHOW:this.refresh();this.$timeout((function(){_this.component.datePickerApi.setValue(_this.component.dateValue)}),10);break;case common_constant_1.SettingKeys.DATE_FORMAT_BINDING:this.component.setDateValue(this.component.dateValue);break;case common_constant_1.SettingKeys.DATE_FORMAT_INPUT:var unparsedDateValue=this.editorService.readValueSource(this.component.getDatabearer().dateValue,this.component.getContext());this.component.setBindableValue(common_constant_1.SettingKeys.DATE_VALUE,unparsedDateValue);break;case common_constant_1.SettingKeys.DATE_TODAY:this.component.updateDatepickerValue();break;case common_constant_1.SettingKeys.IS_READONLY:this.component.updateDatepickerReadonlyValue()}},EditorDatepickerCtrl.prototype.refresh=function(){var inputElement=this.component.datePickerApi.element;inputElement.attr("placeholder",""),inputElement.attr("data-validate",""),this.component.setDatepickerOptions()},EditorDatepickerCtrl}(__webpack_require__(58).EditorComponentCtrl);exports.EditorDatepickerCtrl=EditorDatepickerCtrl},function(module,exports,__webpack_require__){"use strict";(function($){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.EditorDropdownCtrl=void 0;var common_constant_1=__webpack_require__(3),binding_type_enum_1=__webpack_require__(30),value_type_enum_1=__webpack_require__(26);__webpack_require__(1170),__webpack_require__(42),__webpack_require__(232),__webpack_require__(414);var helper_1=__webpack_require__(15);__webpack_require__(419);var EditorDropdownCtrl=function(_super){function EditorDropdownCtrl(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(EditorDropdownCtrl,_super),EditorDropdownCtrl.add=function(m){m.controller("editor-Dropdown",EditorDropdownCtrl)},EditorDropdownCtrl.prototype.getParameterMetadata=function(action){var component=this.component,datasource=this.component.datasource;return action===common_constant_1.InteractionActionEnum.SET_CURRENT_ITEM&&datasource?datasource.getMetaData().then((function(dataserviceMetadata){return dataserviceMetadata.outputFields.map((function(outputField){var currentValue;return component.currentItem&&(currentValue=helper_1.Helper.trimIfPossible(component.currentItem[outputField.FLNM])),{visibleName:outputField.FLDS+(void 0!==currentValue?"("+currentValue+")":""),targetKey:outputField.FLNM,isMandatory:!1,Meta:{name:outputField.FLDS,ref:outputField.FLNM,valueType:value_type_enum_1.ValueTypeEnum.STRING,write:!0,read:!0}}}))})):_super.prototype.getParameterMetadata.call(this,action)},EditorDropdownCtrl.prototype.getMetaData=function(fieldRef,onSuccess){var datasource=this.component.getDatasource();fieldRef===common_constant_1.SettingKeys.CURRENT_ITEM&&datasource&&datasource.getMetaData().then((function(metaData){onSuccess(metaData.outputFields)}))},EditorDropdownCtrl.prototype.setDatasource=function(newDatasource){var _this=this,promise=_super.prototype.setDatasource.call(this,newDatasource);return newDatasource&&newDatasource.getMetaData().then((function(metaData){var component=_this.component,availableOutput=$.extend([],metaData.outputFields,!0).reverse(),newValueSource={Type:binding_type_enum_1.BindingTypeEnum.CONTEXT_BINDING,sourceKey:availableOutput.pop().FLNM};_this.bindingManagementService.registerContextBinding(component,common_constant_1.SettingKeys.DISPLAY_VALUE,newValueSource),component.getDatabearer().displayValue=newValueSource,component.displayValue=newValueSource,component.loadInteraction(_this.interactionManagementService.createNewOnTheFly(common_constant_1.InteractionActionEnum.LIST))})),promise},EditorDropdownCtrl.prototype.clearData=function(){_super.prototype.clearData.call(this);var component=this.component,dropdownDatabearer=component.getDatabearer(),sourceKey=dropdownDatabearer.displayValue.sourceKey;this.bindingManagementService.unregisterContextBinding(component,sourceKey,common_constant_1.SettingKeys.DISPLAY_VALUE);var newvalueSource={Type:binding_type_enum_1.BindingTypeEnum.STATIC_VALUE,value:""};dropdownDatabearer.displayValue=newvalueSource,component.displayValue=newvalueSource},EditorDropdownCtrl}(__webpack_require__(58).EditorComponentCtrl);exports.EditorDropdownCtrl=EditorDropdownCtrl}).call(this,__webpack_require__(21))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(520),__webpack_require__(32)},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.EditorHyperlinkCtrl=void 0;var common_constant_1=__webpack_require__(3),binding_type_enum_1=__webpack_require__(30),hyperlink_1=__webpack_require__(420),editor_component_1=__webpack_require__(58),dialog_service_1=__webpack_require__(13),EditorHyperlinkCtrl=function(_super){function EditorHyperlinkCtrl(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(EditorHyperlinkCtrl,_super),EditorHyperlinkCtrl.add=function(m){m.controller(common_constant_1.ComponentClassNames.EDITOR_COMPONENT_PREFIX+hyperlink_1.Hyperlink.name,EditorHyperlinkCtrl)},EditorHyperlinkCtrl.prototype.openDialog=function(settingKey){var _this=this;_super.prototype.openDialog.call(this,settingKey);var deferred=this.editorService.getNewDeferred();if(settingKey===common_constant_1.SettingKeys.LINK_VALUE){var options={title:"Hyperlink - Build link",parameter:{link:this.component.link,sources:this.component.sources,component:this.component},template:__webpack_require__(567)};this.dialogService.show(options).then((function(result){result.button===dialog_service_1.DialogButtonType.Ok&&(_this.component.link=result.value.link,_this.component.sources=result.value.sources,_this.component.setProperty(common_constant_1.SettingKeys.LINK_VALUE,result.value.link),_this.component.setProperty("sources",result.value.sources),_this.component.renderURL(),_this.registerSourceBindings(),deferred.resolve())}))}return deferred.promise},EditorHyperlinkCtrl.prototype.setSetting=function(settingMeta,newSettingValue){_super.prototype.setSetting.call(this,settingMeta,newSettingValue),settingMeta.ref===common_constant_1.SettingKeys.LINK_VALUE&&this.component.renderURL()},EditorHyperlinkCtrl.prototype.registerSourceBindings=function(){var _this=this;this.component.sources.forEach((function(source){var valueSourceObject={Type:binding_type_enum_1.BindingTypeEnum.BINDING,sourceKey:source.value,sourceName:source.type};_this.bindingManagementService.registerBinding(_this.component,source.alias,valueSourceObject)}))},EditorHyperlinkCtrl}(editor_component_1.EditorComponentCtrl);exports.EditorHyperlinkCtrl=EditorHyperlinkCtrl},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.EditorImageCtrl=void 0;var common_constant_1=__webpack_require__(3),binding_type_enum_1=__webpack_require__(30),image_1=__webpack_require__(421),EditorImageCtrl=function(_super){function EditorImageCtrl(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(EditorImageCtrl,_super),EditorImageCtrl.add=function(m){m.controller(common_constant_1.ComponentClassNames.EDITOR_COMPONENT_PREFIX+image_1.Image.name,EditorImageCtrl)},EditorImageCtrl.prototype.setDatasource=function(newDatasource){var promise=_super.prototype.setDatasource.call(this,newDatasource);if(newDatasource){var newValueSource={Type:binding_type_enum_1.BindingTypeEnum.CONTEXT_BINDING,sourceKey:common_constant_1.ContextKeys.DETAIL_RESULT};this.bindingManagementService.registerContextBinding(this.component,common_constant_1.SettingKeys.SOURCE,newValueSource),this.component.getDatabearer().source=newValueSource}return promise},EditorImageCtrl.prototype.clearData=function(){_super.prototype.clearData.call(this),this.bindingManagementService.unregisterContextBinding(this.component,common_constant_1.ContextKeys.DETAIL_RESULT),this.component.getDatabearer().source={Type:binding_type_enum_1.BindingTypeEnum.STATIC_VALUE,value:""}},EditorImageCtrl}(__webpack_require__(58).EditorComponentCtrl);exports.EditorImageCtrl=EditorImageCtrl},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.EditorLabelCtrl=void 0;var common_constant_1=__webpack_require__(3);__webpack_require__(1174);var label_1=__webpack_require__(422),EditorLabelCtrl=function(_super){function EditorLabelCtrl(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(EditorLabelCtrl,_super),EditorLabelCtrl.add=function(m){m.controller(common_constant_1.ComponentClassNames.EDITOR_COMPONENT_PREFIX+label_1.Label.name,EditorLabelCtrl)},EditorLabelCtrl}(__webpack_require__(58).EditorComponentCtrl);exports.EditorLabelCtrl=EditorLabelCtrl},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(32),__webpack_require__(42)},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.EditorListCtrl=void 0;var common_constant_1=__webpack_require__(3);__webpack_require__(44);var list_1=__webpack_require__(276),EditorListCtrl=function(_super){function EditorListCtrl(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(EditorListCtrl,_super),EditorListCtrl.add=function(m){m.controller(common_constant_1.ComponentClassNames.EDITOR_COMPONENT_PREFIX+list_1.List.name,EditorListCtrl)},EditorListCtrl.prototype.getMetaData=function(fieldRef,onSuccess){var datasource=this.component.getDatasource();fieldRef===common_constant_1.SettingKeys.CURRENT_ITEM&&datasource&&datasource.getMetaData().then((function(metaData){onSuccess(metaData.outputFields)}))},EditorListCtrl.prototype.setDatasource=function(newDatasource){var _this=this,promise=_super.prototype.setDatasource.call(this,newDatasource);return newDatasource&&newDatasource.getMetaData().then((function(metaData){_this.component.forEachItemTemplate((function(templateComponent){_this.editorService.setDefaultBindings(templateComponent,metaData.outputFields)})),_this.component.loadInteraction(_this.interactionManagementService.createNewOnTheFly(common_constant_1.InteractionActionEnum.LIST))})),promise},EditorListCtrl.prototype.setSetting=function(settingMeta,newSettingValue){switch(_super.prototype.setSetting.call(this,settingMeta,newSettingValue),settingMeta.ref){case common_constant_1.SettingKeys.SEARCH:this.component.clearSearch()}},EditorListCtrl.prototype.clearData=function(){_super.prototype.clearData.call(this),this.component.refresh()},EditorListCtrl}(__webpack_require__(58).EditorComponentCtrl);exports.EditorListCtrl=EditorListCtrl},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.EditorLookupCtrl=void 0;var common_constant_1=__webpack_require__(3);__webpack_require__(317);var lookup_1=__webpack_require__(234),EditorLookupCtrl=function(_super){function EditorLookupCtrl(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(EditorLookupCtrl,_super),EditorLookupCtrl.prototype.getMetaData=function(fieldRef,onSuccess){var datasource=this.component.getDatasource();fieldRef===common_constant_1.SettingKeys.SELECTED_ITEM&&datasource&&datasource.getMetaData().then((function(metaData){onSuccess(metaData.outputFields)}))},EditorLookupCtrl.prototype.setDatasource=function(newDatasource){var promise=_super.prototype.setDatasource.call(this,newDatasource);return this.component.getDatabearer().lookupOutputId=void 0,promise},EditorLookupCtrl.add=function(m){m.controller(common_constant_1.ComponentClassNames.EDITOR_COMPONENT_PREFIX+lookup_1.Lookup.name,EditorLookupCtrl)},EditorLookupCtrl}(__webpack_require__(58).EditorComponentCtrl);exports.EditorLookupCtrl=EditorLookupCtrl},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.EditorTabPanelCtrl=void 0;var common_constant_1=__webpack_require__(3),tab_panel_1=__webpack_require__(235),EditorTabPanelCtrl=function(_super){function EditorTabPanelCtrl(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(EditorTabPanelCtrl,_super),EditorTabPanelCtrl.add=function(m){m.controller(common_constant_1.ComponentClassNames.EDITOR_COMPONENT_PREFIX+tab_panel_1.TabPanel.name,EditorTabPanelCtrl)},EditorTabPanelCtrl}(__webpack_require__(286).EditorFlexboxCtrl);exports.EditorTabPanelCtrl=EditorTabPanelCtrl},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.EditorTextAreaCtrl=void 0;var common_constant_1=__webpack_require__(3);__webpack_require__(115);var textarea_1=__webpack_require__(528),editor_component_1=__webpack_require__(58);__webpack_require__(286);var EditorTextAreaCtrl=function(_super){function EditorTextAreaCtrl(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(EditorTextAreaCtrl,_super),EditorTextAreaCtrl.add=function(m){m.controller(common_constant_1.ComponentClassNames.EDITOR_COMPONENT_PREFIX+textarea_1.TextArea.name,EditorTextAreaCtrl)},EditorTextAreaCtrl.prototype.setSetting=function(settingMeta,newSettingValue){switch(_super.prototype.setSetting.call(this,settingMeta,newSettingValue),settingMeta.ref){case common_constant_1.SettingKeys.MAX_LENGTH:this.component.updateMaxLength()}},EditorTextAreaCtrl}(editor_component_1.EditorComponentCtrl);exports.EditorTextAreaCtrl=EditorTextAreaCtrl},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.EditorTimepickerCtrl=void 0;var common_constant_1=__webpack_require__(3),timepicker_1=__webpack_require__(531),EditorTimepickerCtrl=function(_super){function EditorTimepickerCtrl(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(EditorTimepickerCtrl,_super),EditorTimepickerCtrl.add=function(m){m.controller(common_constant_1.ComponentClassNames.EDITOR_COMPONENT_PREFIX+timepicker_1.Timepicker.name,EditorTimepickerCtrl)},EditorTimepickerCtrl.prototype.setSetting=function(settingMeta,newSettingValue){switch(_super.prototype.setSetting.call(this,settingMeta,newSettingValue),settingMeta.ref){case common_constant_1.SettingKeys.IS_READONLY:case common_constant_1.SettingKeys.TIME_FORMAT:case common_constant_1.SettingKeys.ENABLE_SECONDS:this.component.refreshTimepicker()}},EditorTimepickerCtrl}(__webpack_require__(58).EditorComponentCtrl);exports.EditorTimepickerCtrl=EditorTimepickerCtrl},function(module,exports,__webpack_require__){"use strict";(function($){var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.CustomComponentCtrl=void 0;var angular_1=__importDefault(__webpack_require__(12)),angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3),value_type_enum_1=__webpack_require__(26);__webpack_require__(519),__webpack_require__(42),__webpack_require__(432),__webpack_require__(20),__webpack_require__(564);var CustomComponentCtrl=function(){function CustomComponentCtrl($scope,$templateCache,$compile,$element,$timeout,editorService){var _this=this;this.$scope=$scope,this.$templateCache=$templateCache,this.$compile=$compile,this.$element=$element,this.$timeout=$timeout,this.editorService=editorService,this.idCounter=0,$scope.newCustom=function(){_this.newCustom()},$scope.editCustom=function(customComponentId){_this.editCustom(customComponentId)},$scope.deleteCustom=function(customComponentId){_this.deleteCustom(customComponentId)},$scope.updateUI=function(){_this.updateDialogUi()},$scope.getCustomComponents=function(){return _this.editorService.getCurrentProject().getCustomComponentDefinitions()},$scope.newBindable=function(){var bindableField={name:"",ref:"",valueType:value_type_enum_1.ValueTypeEnum.STRING,write:!0,read:!0};$scope.customComponent.bindableFields||($scope.customComponent.bindableFields=[]),$scope.customComponent.bindableFields.push(bindableField)},$scope.splitCSV=function(value){return value?value.split(","):null}}return CustomComponentCtrl.prototype.newCustom=function(){var customComponents=this.editorService.getCurrentProject().getCustomComponentDefinitions(),generatedId=this.generateId("custom_component",Object.keys(customComponents)),customComponent={id:generatedId,displayName:generatedId,htmlTemplate:"<span>TJENA</span>",init:'console.info("[CustomComponentCtrl] ID: " + this.Id);',bindableFields:[]};this.editorService.getCurrentProject().addCustomComponentDefinition(customComponent),this.editCustom(customComponent.id)},CustomComponentCtrl.prototype.editCustom=function(customComponentId){var template=this.$templateCache.get("designer/editor/component-settings/custom/new-custom-dialog.html");if(template)if(this.$scope.customComponent=this.editorService.getCurrentProject().getCustomComponentDefinitions()[customComponentId],this.$scope.customComponent){this.$scope.customComponent.sourceTriggers||(this.$scope.customComponent.sourceTriggers=[]),this.$scope.customComponent.targetActions||(this.$scope.customComponent.targetActions=[]);var settings={title:"Edit Custom Component",content:this.$compile(template)(this.$scope),buttons:[{text:"OK",click:function(event,modal){modal.close()}},{text:"Cancel",isDefault:!0,click:function(event,modal){modal.close()}}]};angular_1.default.element("body").modal(settings),angular_1.default.element("customComponentDialog").find(".tab-panel").bind("updated",(function(e){e.stopPropagation()})),this.updateDialogUi()}else console.warn("[CustomComponentCtrl] Invalid custom component ID");else console.error("[CustomComponentCtrl] TEMPLATE error")},CustomComponentCtrl.prototype.deleteCustom=function(customComponentId){if(this.$scope.customComponent=this.editorService.getCurrentProject().getCustomComponentDefinitions()[customComponentId],this.$scope.customComponent){var settings={title:"Confirm delete",content:"Really delete Custom component: "+this.$scope.customComponent.displayName,buttons:[{text:"Delete",click:function(event,modal){console.warn("[CustomComponentCtrl] TODO implement delete custom component"),modal.close()}},{text:"Cancel",isDefault:!0,click:function(event,modal){modal.close()}}]};$("body").modal(settings),this.updateDialogUi()}else console.error("[CustomComponentCtrl] TEMPLATE error")},CustomComponentCtrl.prototype.generateId=function(key,scDefsIds){var newId=key+this.idCounter++;for(var i in scDefsIds)if(scDefsIds[i]===newId)return this.generateId(key,scDefsIds);return newId},CustomComponentCtrl.prototype.updateDialogUi=function(){this.$timeout((function(){$("customComponentDialog").find("select").trigger("updated")}),1)},CustomComponentCtrl.add=function(m){m.controller("eirCustomComponentCtrl",CustomComponentCtrl)},CustomComponentCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,angular_constants_1.AngularConstants.TEMPLATE_CACHE,angular_constants_1.AngularConstants.COMPILE,angular_constants_1.AngularConstants.ELEMENT,angular_constants_1.AngularConstants.TIMEOUT,common_constant_1.InjectNames.EDITOR_SERVICE],CustomComponentCtrl}();exports.CustomComponentCtrl=CustomComponentCtrl}).call(this,__webpack_require__(21))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BuildLinkCtrl=void 0;var angular_constants_1=__webpack_require__(7);__webpack_require__(329),__webpack_require__(20);var common_constant_1=__webpack_require__(3),binding_type_enum_1=__webpack_require__(30),dialog_service_1=__webpack_require__(13),BuildLinkCtrl=function(){function BuildLinkCtrl(scope,editorService,bindingManagementService){this.editorService=editorService,this.bindingManagementService=bindingManagementService,this.availableSources=[];var dialog=scope.eirDialog;this.dialog=dialog,this.link=dialog.parameter.link,this.sources=dialog.parameter.sources,this.component=dialog.parameter.component,this.buildLink(),this.availableSources=this.getAvailableSources()}return BuildLinkCtrl.prototype.updateAlias=function(oldAlias,newAlias,index){var link=this.link,oldSourceAlias="{"+oldAlias+"}",oldAliasExists=-1!==link.indexOf(oldSourceAlias);if(newAlias)if(oldAliasExists){var newSourceAlias="{"+newAlias+"}";-1!==link.indexOf(newSourceAlias)?this.editorService.hyperlinkAliasChangedEvent.raise({old:oldAlias,index:index}):(link=link.replace(oldSourceAlias,newSourceAlias),this.editorService.hyperlinkAliasChangedEvent.raise({index:index})),this.link=link}else this.editorService.hyperlinkAliasChangedEvent.raise({index:index});else this.editorService.hyperlinkAliasChangedEvent.raise({new:newAlias,index:index})},BuildLinkCtrl.prototype.buildLink=function(){var component=this.component;this.myLink=component.buildLink(this.link,this.sources)},BuildLinkCtrl.prototype.addSource=function(){var sources=this.sources,newSourceName="source1";if(sources.length>0){var newNumber=parseInt(sources[sources.length-1].alias.replace("source",""))+1;newNumber&&(newSourceName="source"+newNumber)}sources.push({alias:newSourceName,value:"",type:this.newTypeValue}),this.link=this.link+"{"+newSourceName+"}",this.availableSources=this.getAvailableSources()},BuildLinkCtrl.prototype.removeSource=function(source){var indexToRemove=this.sources.findIndex((function(item){return item.alias===source.alias}));this.sources.splice(indexToRemove,1),this.link=this.link.replace("{"+source.alias+"}",""),this.buildLink(),this.availableSources=this.getAvailableSources(),this.unregisterBinding(source)},BuildLinkCtrl.prototype.save=function(){var result={button:dialog_service_1.DialogButtonType.Ok,value:{link:this.link,sources:this.sources}};this.dialog.close(result)},BuildLinkCtrl.prototype.close=function(){this.dialog.close()},BuildLinkCtrl.prototype.unregisterBinding=function(source){if(source.type===common_constant_1.BindingTypes.CONTEXT)this.bindingManagementService.unregisterContextBinding(this.component,source.value,"linkvalue");else{var valueSourceObject={Type:binding_type_enum_1.BindingTypeEnum.BINDING,sourceKey:source.value,sourceName:source.type};this.bindingManagementService.unregisterBinding(this.component,source.alias,valueSourceObject)}},BuildLinkCtrl.prototype.getAvailableSources=function(){var _this=this,availableSources=[{value:common_constant_1.BindingTypes.CONTEXT,name:common_constant_1.ValueObject.TARGET_CONTEXT}];return this.editorService.getAllBindableComponents().forEach((function(component){_this.sources.find((function(source){return source.type===component.getId()}))||availableSources.push({value:component.getId(),name:component.getDisplayName()})})),availableSources.length>0?this.newTypeValue=availableSources[0].value:this.newTypeValue=null,availableSources},BuildLinkCtrl.add=function(m){m.controller("eirBuildLinkCtrl",BuildLinkCtrl)},BuildLinkCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,common_constant_1.InjectNames.EDITOR_SERVICE,common_constant_1.InjectNames.BINDING_MANAGEMENT_SERVICE],BuildLinkCtrl}();exports.BuildLinkCtrl=BuildLinkCtrl},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AutoAddColumnCtrl=void 0;var angular_constants_1=__webpack_require__(7),sohoxi_constant_1=__webpack_require__(40);__webpack_require__(232),__webpack_require__(77),__webpack_require__(16);var dialog_service_1=__webpack_require__(13);__webpack_require__(93);var AutoAddColumnCtrl=function(){function AutoAddColumnCtrl(scope,element){this.scope=scope,this.element=element,this.autoFormatColumns=!1;var dialog=this.scope.eirDialog;this.dialog=dialog,this.metadata=dialog.parameter,this.datagridOptions=this.initDatagridOptions(),this.initSelectEvent()}return AutoAddColumnCtrl.prototype.cancel=function(){this.dialog.close()},AutoAddColumnCtrl.prototype.ok=function(){var result={button:dialog_service_1.DialogButtonType.Ok,value:{selectedColumns:this.selectedFields,autoFormatColumns:this.autoFormatColumns}};this.dialog.close(result)},AutoAddColumnCtrl.prototype.initDatagridOptions=function(){return{columns:[{id:"selectionCheckbox",sortable:!1,resizable:!1,formatter:Soho.Formatters.SelectionCheckbox,align:"center"},{id:"flnm",name:"Name",field:"FLNM",resizable:!0,sortable:!0,width:"50%",formatter:Soho.Formatters.Ellipsis},{id:"flds",name:"Description",field:"FLDS",resizable:!0,sortable:!0,width:"50%",formatter:Soho.Formatters.Ellipsis}],dataset:this.metadata,rowHeight:"short",selectable:sohoxi_constant_1.SelectableEnum.Multiple}},AutoAddColumnCtrl.prototype.initSelectEvent=function(){var _this=this;this.element.find("#metadata-grid").on("selected",(function(event,rowItems){rowItems.length>0?_this.selectedFields=rowItems.map((function(rowObject){return rowObject.data})):_this.selectedFields=[]}))},AutoAddColumnCtrl.add=function(m){m.controller("eirAutoAddColumnCtrl",AutoAddColumnCtrl)},AutoAddColumnCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,angular_constants_1.AngularConstants.ELEMENT],AutoAddColumnCtrl}();exports.AutoAddColumnCtrl=AutoAddColumnCtrl},function(module,exports,__webpack_require__){"use strict";(function($){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.UpsertColumnCtrl=void 0;var angular_1=__importDefault(__webpack_require__(12)),angular_constants_1=__webpack_require__(7),helper_1=__webpack_require__(15),dialog_service_1=__webpack_require__(13);__webpack_require__(80);var feature_switch_ctrl_1=__webpack_require__(134),datagrid_helper_1=__webpack_require__(93),datagrid_1=__webpack_require__(233);__webpack_require__(71),__webpack_require__(20);var common_constant_1=__webpack_require__(3),sohoxi_constant_1=__webpack_require__(40),UpsertColumnCtrl=function(_super){function UpsertColumnCtrl($scope,$element,translationManagementService,editorService,featureSwitchService,dialogService){var _this=_super.call(this,featureSwitchService)||this;_this.$scope=$scope,_this.translationManagementService=translationManagementService,_this.editorService=editorService,_this.dialogService=dialogService,_this.availableTextPlacement=[{name:"Before",value:common_constant_1.SummaryTextPlacement.BEFORE},{name:"After",value:common_constant_1.SummaryTextPlacement.AFTER}],_this.availableAlignment=[{name:"Left",value:common_constant_1.TextAlignment.LEFT},{name:"Right",value:common_constant_1.TextAlignment.RIGHT},{name:"Center",value:common_constant_1.TextAlignment.CENTER}],_this.columnFormatters=[{name:"None",value:"none",type:common_constant_1.ColumnFormatterType.BASIC},{name:"Checkbox",value:sohoxi_constant_1.FormatterEnum.Checkbox,type:common_constant_1.ColumnFormatterType.BASIC},{name:"Date Picker",value:sohoxi_constant_1.FormatterEnum.Date,type:common_constant_1.ColumnFormatterType.BASIC},{name:"Date/Time Picker",value:sohoxi_constant_1.FormatterEnum.Datetime,type:common_constant_1.ColumnFormatterType.BASIC},{name:"Decimal",value:sohoxi_constant_1.FormatterEnum.Decimal,type:common_constant_1.ColumnFormatterType.BASIC},{name:"Hyperlink",value:sohoxi_constant_1.FormatterEnum.Hyperlink,type:common_constant_1.ColumnFormatterType.HYPERLINK},{name:"Integer",value:sohoxi_constant_1.FormatterEnum.Integer,type:common_constant_1.ColumnFormatterType.BASIC},{name:"Text Area",value:sohoxi_constant_1.FormatterEnum.Textarea,type:common_constant_1.ColumnFormatterType.BASIC},{name:"Time Picker",value:sohoxi_constant_1.FormatterEnum.Time,type:common_constant_1.ColumnFormatterType.BASIC},{name:"Button",value:sohoxi_constant_1.FormatterEnum.Button,type:common_constant_1.ColumnFormatterType.BASIC},{name:"Dropdown",value:sohoxi_constant_1.FormatterEnum.Dropdown,type:common_constant_1.ColumnFormatterType.LIST},{name:"Auto-complete",value:sohoxi_constant_1.FormatterEnum.Autocomplete,type:common_constant_1.ColumnFormatterType.LIST},{name:"Lookup",value:sohoxi_constant_1.FormatterEnum.Lookup,type:common_constant_1.ColumnFormatterType.LIST},{name:"Absolute Value",value:sohoxi_constant_1.FormatterEnum.AbsoluteValue,type:common_constant_1.ColumnFormatterType.BASIC}],_this.accordionApiList={"accordion-column-field-source":void 0,"accordion-column-options":void 0,"accordion-column-formatters":void 0,"accordion-column-summary-row":void 0,"accordion-column-substitute":void 0};var dialog=$scope.eirDialog;_this.dialog=dialog;var parameter=dialog.parameter;return _this.setAvailableDataservices(),_this.initSourceFields(parameter),_this.isAdd=parameter.isAdd,_this.setColumn(parameter.column),_this.setSelectedSourceField(_this.column.field),_this.initSelectedListSource(),_this.initSelectedSubstitutionSource(),_this.component=parameter.component,_this.isDataGrid=parameter.component.getTypedef()===datagrid_1.Datagrid.name,_this.column.name=_this.column.value?_this.column.value:helper_1.Helper.htmlDecode(_this.column.name),_this.lookupOptions=_this.translationManagementService.getLookupOptions(),_this.autocompleteOptions=_this.translationManagementService.getAutoOptions(),_this.initAccordionElements($element),_this}return __extends(UpsertColumnCtrl,_super),UpsertColumnCtrl.prototype.initSelectedSubstitutionSource=function(){var _this=this;if(this.column.substituteOptions){if(this.column.substituteOptions.source){var selectedSource=this.availableDataservices.find((function(dataservice){return dataservice.id===_this.column.substituteOptions.source}));if(selectedSource){if(this.selectedSubstituteSource=selectedSource,this.substituteSourceOutputParameters=selectedSource.outputParameters,this.column.substituteOptions.from){var selectedParameter=this.selectedSubstituteSource.outputParameters.find((function(parameter){return parameter.id===_this.column.substituteOptions.from}));this.selectedFromSubstituteOutput=selectedParameter}if(this.column.substituteOptions.to){selectedParameter=this.selectedSubstituteSource.outputParameters.find((function(parameter){return parameter.id===_this.column.substituteOptions.to}));this.selectedToSubstituteOutput=selectedParameter}}}}else this.selectedSubstituteSource=this.availableDataservices[0],this.setSelectedSubstitutionSource()},UpsertColumnCtrl.prototype.initSourceFields=function(parameter){var _a;this.sourceFields=[{visibleName:"Static Value",sourceKey:common_constant_1.ValueObject.STATIC_VALUE,sourceKeyShort:common_constant_1.ValueObject.STATIC_VALUE,type:common_constant_1.ValueObject.STATIC_VALUE,currentValue:parameter.column.text}],(_a=this.sourceFields).push.apply(_a,parameter.sourceFields)},UpsertColumnCtrl.prototype.setColumn=function(column){var _this=this;this.column=column,helper_1.Helper.isUndefinedOrNull(this.column.editable)&&(this.column.editable=!1),helper_1.Helper.isUndefinedOrNull(this.column.summaryTextPlacement)&&(this.column.summaryTextPlacement=common_constant_1.SummaryTextPlacement.AFTER),helper_1.Helper.isUndefinedOrNull(this.column.align)&&(this.column.align=common_constant_1.TextAlignment.LEFT);var selectedFormatter=this.columnFormatters.find((function(formatter){return formatter.value===_this.column.formatterName}));this.selectedFormatter=selectedFormatter||this.columnFormatters[0]},UpsertColumnCtrl.prototype.setSelectedSourceField=function(field){var result=this.sourceFields.find((function(sourceField){return sourceField.sourceKeyShort===field}));result?this.selectedSourceField=result:1===this.sourceFields.length?(this.selectedSourceField=this.sourceFields[0],this.column.field=this.sourceFields[0].sourceKeyShort):this.sourceFields.length>1&&(this.selectedSourceField=this.sourceFields[1],this.column.name=this.sourceFields[1].visibleName,this.column.field=this.sourceFields[1].sourceKeyShort)},UpsertColumnCtrl.prototype.initSelectedListSource=function(){var _this=this;if(this.column.listOptions&&this.column.listOptions.sourceId){var selectedSource=this.availableDataservices.find((function(dataservice){return dataservice.id===_this.column.listOptions.sourceId}));if(selectedSource&&(this.selectedListSource=selectedSource,this.listSourceOutputParameters=selectedSource.outputParameters,this.column.listOptions.parameterId)){var selectedParameter=this.selectedListSource.outputParameters.find((function(parameter){return parameter.id===_this.column.listOptions.parameterId}));this.selectedListOutput=selectedParameter}}},UpsertColumnCtrl.prototype.setSelectedSubstitutionSource=function(){this.selectedSubstituteSource&&(this.substituteSourceOutputParameters=this.selectedSubstituteSource.outputParameters,this.selectedFromSubstituteOutput=this.substituteSourceOutputParameters[0],this.selectedToSubstituteOutput=this.substituteSourceOutputParameters[0],this.updateSubstitute())},UpsertColumnCtrl.prototype.updateSubstitute=function(){this.column.substituteOptions={source:this.selectedSubstituteSource.id,from:this.selectedFromSubstituteOutput.id,to:this.selectedToSubstituteOutput.id}},UpsertColumnCtrl.prototype.toggleSubstitution=function(){this.column.substitute?this.column.formatterName!==sohoxi_constant_1.FormatterEnum.Dropdown&&(this.column.options=null):(this.selectedFormatter=this.columnFormatters[0],this.onSelectColumnFormatter(),this.column.substitute=!0,this.setSelectedSubstitutionSource())},UpsertColumnCtrl.prototype.setAvailableDataservices=function(){var dataservices=this.editorService.getCurrentProject().getDatasourceDatabearers();this.availableDataservices=dataservices.filter((function(dataservice){return!dataservice.inputParameters||!dataservice.inputParameters.find((function(inputParameter){return inputParameter.required}))}))},UpsertColumnCtrl.prototype.setSelectedListOutput=function(){this.selectedListOutput=this.selectedListOutput?this.selectedListOutput:this.listSourceOutputParameters[0],this.column.listOptions={sourceId:this.selectedListSource.id,parameterId:this.selectedListOutput.id},this.component.loadOptions(this.column)},UpsertColumnCtrl.prototype.setSelectedListSource=function(){this.selectedListSource&&(this.listSourceOutputParameters=this.selectedListSource.outputParameters,this.column.listOptions={sourceId:this.selectedListSource.id,parameterId:""})},UpsertColumnCtrl.prototype.openLinkDialog=function(){var _this=this,options={title:"Hyperlink - Build link",parameter:{link:this.column.hyperlinkOptions.value,sources:this.column.hyperlinkOptions.sources,component:this.component},template:__webpack_require__(567)};this.dialogService.show(options).then((function(result){result.button===dialog_service_1.DialogButtonType.Ok&&(_this.column.hyperlinkOptions.value=result.value.link,_this.column.hyperlinkOptions.sources=result.value.sources)}))},UpsertColumnCtrl.prototype.openTranslations=function(){var _this=this;this.translationManagementService.openTranslations(this.component,this.column.id).then((function(result){if(result.button===dialog_service_1.DialogButtonType.Ok){var changes=result.value;if(changes.savedComponentStrings.length>0){var selectedChanged=changes.savedComponentStrings.find((function(translation){return translation.component===_this.component.getId()&&translation.reference===_this.column.id}));selectedChanged&&(_this.column.name=selectedChanged.newValue),_this.editorService.updateTranslatables()}}result.button!==dialog_service_1.DialogButtonType.Ok||angular_1.default.equals({},result.value.savedGlobalStrings)||_this.translationManagementService.saveGlobalTranslations(result.value.savedGlobalStrings).then((function(){_this.editorService.updateTranslatables()})),result.button!==dialog_service_1.DialogButtonType.Ok||angular_1.default.equals({},result.value.deletedGlobalStrings)||_this.translationManagementService.deleteGlobalTranslations(result.value.deletedGlobalStrings).then((function(){_this.editorService.updateTranslatables()}))}))},UpsertColumnCtrl.prototype.cleanColumn=function(column){delete column.formatter,delete column.formatterName,delete column.readonly},UpsertColumnCtrl.prototype.toggleSummaryRow=function(){datagrid_helper_1.DatagridHelper.ToggleSummarizeOnColumn(this.column)},UpsertColumnCtrl.prototype.onSelectColumnFormatter=function(){var formatter=this.selectedFormatter,column=this.column;if(this.cleanColumn(column),"none"!==formatter.value){column.formatterName=Object.keys(sohoxi_constant_1.FormatterEnum).find((function(item){return item.toLowerCase()===formatter.value})).toLowerCase();var locale=this.translationManagementService.getCurrentLanguage();datagrid_helper_1.DatagridHelper.setColumnSettings(column,locale)}if(formatter.type===common_constant_1.ColumnFormatterType.LIST?(this.selectedListSource=this.availableDataservices[0],this.setSelectedListSource(),this.setSelectedListOutput()):(this.selectedListOutput=null,this.selectedListSource=null,this.column.listOptions&&(this.column.listOptions.parameterId=null,this.column.listOptions.sourceId=null)),formatter.type===common_constant_1.ColumnFormatterType.HYPERLINK){var sources=[];this.column.field&&this.column.field!==common_constant_1.ValueObject.STATIC_VALUE&&sources.push({alias:"link",value:this.column.field,type:"<target>"}),this.column.hyperlinkOptions={value:sources.length>0?"{link}":"https://",isDrillback:!1,sources:sources}}else this.column.hyperlinkOptions&&(this.column.hyperlinkOptions.value=null,this.column.hyperlinkOptions.isDrillback=!1,this.column.hyperlinkOptions.sources=[])},UpsertColumnCtrl.prototype.onSelectColumnOption=function(option){switch(option.toLowerCase()){case sohoxi_constant_1.ColumnOptionEnum.Editable:var locale=this.translationManagementService.getSelectedLocale();datagrid_helper_1.DatagridHelper.setEditableOnColumn(this.column,locale);break;case sohoxi_constant_1.ColumnOptionEnum.Resizable:case sohoxi_constant_1.ColumnOptionEnum.Sortable:}},UpsertColumnCtrl.prototype.getColumnOptions=function(){var _this=this,result={};return angular_1.default.forEach(this.column,(function(value,key){(function(option){switch(option){case sohoxi_constant_1.ColumnOptionEnum.Editable:case sohoxi_constant_1.ColumnOptionEnum.Resizable:case sohoxi_constant_1.ColumnOptionEnum.Sortable:return!0;default:return!1}})(key)&&(_this.isDataGrid||key!==sohoxi_constant_1.ColumnOptionEnum.Editable)&&(result[key]=value)})),helper_1.Helper.sortObjectKeys(result)},UpsertColumnCtrl.prototype.onFieldSelected=function(){var selectedSourceField=this.selectedSourceField;selectedSourceField.type===common_constant_1.ValueObject.STATIC_VALUE?this.column.text=selectedSourceField.currentValue:(this.column.text=null,this.column.name=selectedSourceField?selectedSourceField.visibleName.replace("("+selectedSourceField.sourceKeyShort+")",""):""),this.column.field=selectedSourceField?selectedSourceField.sourceKeyShort:null},UpsertColumnCtrl.prototype.cancel=function(){this.dialog.close()},UpsertColumnCtrl.prototype.save=function(){delete this.column.value;var result={value:this.column,button:dialog_service_1.DialogButtonType.Ok};this.dialog.close(result),this.component.initializeBindings()},UpsertColumnCtrl.prototype.validForm=function(){return!helper_1.Helper.isUndefinedEmpty(this.column.name)},UpsertColumnCtrl.prototype.initAccordionElements=function($element){var _this=this;this.$scope.$applyAsync((function(){var closeDropdown=function(){$element.find("#upsert-column-dialog-source-field").data("dropdown").close()};angular_1.default.forEach(_this.accordionApiList,(function(value,key,obj){obj[key]=$element.find("#"+key).accordion().on("expand collapse",closeDropdown)})),$(".modal").on("beforeclose",(function(){angular_1.default.forEach(_this.accordionApiList,(function(api){api.destroy()}))}))}))},UpsertColumnCtrl.add=function(m){m.controller("eirUpsertColumn",UpsertColumnCtrl)},UpsertColumnCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,angular_constants_1.AngularConstants.ELEMENT,common_constant_1.InjectNames.TRANSLATION_MANAGEMENT_SERVICE,common_constant_1.InjectNames.EDITOR_SERVICE,common_constant_1.InjectNames.FEATURE_SWITCH_SERVICE,common_constant_1.InjectNames.DIALOG_SERVICE],UpsertColumnCtrl}(feature_switch_ctrl_1.FeatureSwitchCtrl);exports.UpsertColumnCtrl=UpsertColumnCtrl}).call(this,__webpack_require__(21))},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.EditExpressionDialogCtrl=void 0;var angular_1=__importDefault(__webpack_require__(12)),angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3);__webpack_require__(278),__webpack_require__(16);var dialog_service_1=__webpack_require__(13),defines_1=__webpack_require__(65);__webpack_require__(20),__webpack_require__(568);var helper_1=__webpack_require__(15),EditExpressionDialogCtrl=function(){function EditExpressionDialogCtrl($scope,editorService){this.$scope=$scope,this.editorService=editorService;var dialog=$scope.eirDialog;this.dialog=dialog,this.availableComponents=this.getAvailableComponents(),this.setOperators(),dialog.parameter.expression?this.selectedExpression=angular_1.default.copy(dialog.parameter.expression):this.selectedExpression={id:helper_1.Helper.generateUniqueId(),clauseOperator:common_constant_1.Operators.EQUALS,source:this.availableComponents[1].id,target:this.availableComponents[0].id,targetProperty:"",usedBy:this.editorService.getSelectedComponent().getId(),conditionType:dialog.parameter.expressionType},this.setAvailableSourceFields(),this.setAvailableTargetFields()}return EditExpressionDialogCtrl.prototype.save=function(){var result={button:dialog_service_1.DialogButtonType.Ok,value:this.selectedExpression};this.dialog.close(result)},EditExpressionDialogCtrl.prototype.cancel=function(){var result={button:dialog_service_1.DialogButtonType.Cancel};this.dialog.close(result)},EditExpressionDialogCtrl.prototype.setOperators=function(){this.operators=[{name:"Equals",value:common_constant_1.Operators.EQUALS},{name:"Not Equals",value:common_constant_1.Operators.NOT_EQUALS},{name:"Greater than",value:common_constant_1.Operators.GREATER},{name:"Equals or Greater",value:common_constant_1.Operators.SAME_GREATER},{name:"Lower than",value:common_constant_1.Operators.LOWER},{name:"Equals or Lower",value:common_constant_1.Operators.SAME_LOWER},{name:"Contains In",value:common_constant_1.Operators.INCLUDES}]},EditExpressionDialogCtrl.prototype.getAvailableComponents=function(){var availableSources=[defines_1.SourceComponent.STATIC_VALUE_OBJECT];return this.editorService.getAllBindableComponents().forEach((function(component){availableSources.push({id:component.getId(),name:component.getDisplayName(),isComponent:!0})})),availableSources},EditExpressionDialogCtrl.prototype.onSourceFieldChanged=function(){this.setAvailableSourceFields(),"<static>"===this.selectedExpression.source&&(this.selectedExpression.sourceProperty="")},EditExpressionDialogCtrl.prototype.onTargetFieldChanged=function(){this.setAvailableTargetFields(),"<static>"===this.selectedExpression.target&&(this.selectedExpression.targetProperty="")},EditExpressionDialogCtrl.prototype.setAvailableSourceFields=function(){var _this=this;"<static>"!==this.selectedExpression.source&&this.editorService.getComponentInstanceById(this.selectedExpression.source).getBindingMetaData().then((function(bindings){_this.availableSourceFields=bindings,_this.selectedExpression&&(_this.selectedExpression.sourceProperty=_this.setCurrentBinding(bindings,_this.selectedExpression.sourceProperty))}));this.availableTargets=this.filterSources(this.selectedExpression.source)},EditExpressionDialogCtrl.prototype.setAvailableTargetFields=function(){var _this=this;"<static>"!==this.selectedExpression.target&&this.editorService.getComponentInstanceById(this.selectedExpression.target).getBindingMetaData().then((function(bindings){_this.availableTargetFields=bindings,_this.selectedExpression&&(_this.selectedExpression.targetProperty=_this.setCurrentBinding(bindings,_this.selectedExpression.targetProperty))}));this.availableSources=this.filterSources(this.selectedExpression.target)},EditExpressionDialogCtrl.prototype.setCurrentBinding=function(bindings,property){var foundItem=bindings.find((function(item){return item.sourceKey===property}));return foundItem?foundItem.sourceKey:bindings[0].sourceKey},EditExpressionDialogCtrl.prototype.filterSources=function(filter){return angular_1.default.copy(this.availableComponents.filter((function(component){return component.id!==filter})))},EditExpressionDialogCtrl.add=function(m){m.controller("eirEditExpressionDialogCtrl",EditExpressionDialogCtrl)},EditExpressionDialogCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,common_constant_1.InjectNames.EDITOR_SERVICE],EditExpressionDialogCtrl}();exports.EditExpressionDialogCtrl=EditExpressionDialogCtrl},function(module,exports){module.exports='<div ng-controller="eirEditExpressionDialogCtrl as ctrl" class=edit-expression-dialog> <div class=field> <label for=source>Source</label> <select id=source class=dropdown ng-model=ctrl.selectedExpression.source ng-change=ctrl.onSourceFieldChanged() ng-options="availableSource.id as availableSource.name for availableSource in ctrl.availableSources" xi-drop-down> </select> </div> <div class=field ng-show="ctrl.selectedExpression.source !== \'<static>\'"> <label for=sourceProperty>Source Property</label> <select id=sourceProperty class=dropdown ng-model=ctrl.selectedExpression.sourceProperty ng-options="availableBinding.sourceKey as availableBinding.visibleName for availableBinding in ctrl.availableSourceFields" xi-drop-down> </select> </div> <div class=field ng-show="ctrl.selectedExpression.source === \'<static>\'"> <label for=sourceStatic>Static Value</label> <input type=text id=sourceStatic class=input ng-model=ctrl.selectedExpression.sourceProperty ng-model-options="{ updateOn: \'default\', debounce: {\'default\': 500, \'blur\': 0}}"/> </div> <div class=field> <label for=source>Operator</label> <select id=source class=dropdown ng-model=ctrl.selectedExpression.clauseOperator ng-options="operator.value as operator.name for operator in ctrl.operators" xi-drop-down> </select> </div> <div class=field> <label for=target>Target</label> <select id=target class=dropdown ng-model=ctrl.selectedExpression.target ng-change=ctrl.onTargetFieldChanged() ng-options="availableTarget.id as availableTarget.name for availableTarget in ctrl.availableTargets" xi-drop-down> </select> </div> <div class=field ng-show="ctrl.selectedExpression.target !== \'<static>\'"> <label for=targetProperty>Target Property</label> <select id=targetProperty class=dropdown ng-model=ctrl.selectedExpression.targetProperty ng-options="availableBinding.sourceKey as availableBinding.visibleName for availableBinding in ctrl.availableTargetFields" xi-drop-down> </select> </div> <div class=field ng-show="ctrl.selectedExpression.target === \'<static>\'"> <label for=targetStatic>Static Value</label> <input type=text id=targetStatic class=input ng-model=ctrl.selectedExpression.targetProperty ng-model-options="{ updateOn: \'default\', debounce: {\'default\': 500, \'blur\': 0}}"/> </div> <div class=modal-buttonset> <button type=button class=btn-modal ng-click=ctrl.cancel()>Cancel</button> <button type=button class=btn-modal-primary ng-click=ctrl.save()>Save</button> </div> </div>'},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.ManageCompositesCtrl=void 0;var user_control_es_1=__webpack_require__(148),common_constant_1=__webpack_require__(3),sohoxi_constant_1=__webpack_require__(40),helper_1=__webpack_require__(15),dialog_service_1=__webpack_require__(13),ManageCompositesCtrl=function(_super){function ManageCompositesCtrl(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(ManageCompositesCtrl,_super),ManageCompositesCtrl.prototype.export=function(){var _this=this,ids=this.selectedItems.map((function(item){return item.manifest.id})),projectId=this.editorService.getCurrentProject().getId(),exportDefaultName=helper_1.Helper.getFormattedDate();if(common_constant_1.Config.MG_PLATFORM===common_constant_1.MGPlatform.WEB){var options={title:"Export Composite Components",template:__webpack_require__(283),parameter:{type:"composite component",filename:exportDefaultName}};this.dialogService.show(options).then((function(result){if(result.button===dialog_service_1.DialogButtonType.Ok){var fileName_1=result.value;_this.save().then((function(){_this.projectService.exportProjectContent(projectId,ids,fileName_1,common_constant_1.SaveFlagsEnum.COMPOSITE_COMPONENTS)}))}}))}else user_control_es_1.WSForm.call({name:common_constant_1.ABFormScriptMethod.SHOW_SAVE_FILE_DIALOG,parameters:[exportDefaultName+".iac","Export Filename","AppBuilder Composite Component (*.iac)|*.iac"],onCompleted:function(filePath){_this.projectService.exportProjectContent(projectId,ids,filePath,common_constant_1.SaveFlagsEnum.COMPOSITE_COMPONENTS)}})},ManageCompositesCtrl.prototype.getItemSpecificData=function(){return{dataName:"Composite component",conflictKey:"manifest.displayName",urlName:common_constant_1.ServerPaths.COMPOSITE_COMPONENTS,maxAllowed:common_constant_1.ProjectLimit.MAX_COMPOSITE_COMPONENTS,maxErrorMessage:common_constant_1.ProjectLimit.COMPOSITE_COMPONENT_ERROR_MESSAGE}},ManageCompositesCtrl.prototype.getDataList=function(){return this.editorService.getCurrentProject().getCompositeComponents()},ManageCompositesCtrl.prototype.addItemsToProject=function(composites){var _this=this;composites.forEach((function(composite){_this.editorService.getCurrentProject().addCompositeComponent(composite)}))},ManageCompositesCtrl.prototype.initGrid=function(){var columns=[];columns.push({id:"selectionCheckbox",sortable:!1,resizable:!1,formatter:Soho.Formatters.SelectionCheckbox,align:"center"}),columns.push({id:"displayName",name:"Name",field:"manifest.displayName",width:266,resizable:!1,sortable:!0,formatter:Soho.Formatters.Ellipsis}),columns.push({id:"author",name:"Author",field:"manifest.authorDisplayName",width:240,resizable:!1,sortable:!0,formatter:Soho.Formatters.Ellipsis}),columns.push({id:"date",name:"Created",field:"manifest.creationDate",width:150,resizable:!1,sortable:!0,formatter:Soho.Formatters.Date}),columns.push({id:"datasources",name:"Data Services",field:"datasources.length",width:120,resizable:!1,sortable:!0,formatter:Soho.Formatters.Integer}),columns.push({id:"interactions",name:"Interactions",field:"interactions.length",width:120,resizable:!1,sortable:!0,formatter:Soho.Formatters.Integer}),columns.push({id:"expressions",name:"Expressions",field:"expressions.length",width:120,resizable:!1,sortable:!0,formatter:Soho.Formatters.Integer});var datagridOptions={columns:columns,dataset:[],selectable:sohoxi_constant_1.SelectableEnum.Multiple,enableTooltips:!0,toolbar:{title:"Local Composite Components",results:!1,dateFilter:!1,keywordFilter:!0,advancedFilter:!1,actions:!1,views:!0,rowHeight:!0,maxVisibleButtons:10}};this.datagridOptions=datagridOptions;var currentProject=this.editorService.getCurrentProject();this.datagridOptions.dataset=currentProject.getCompositeComponents()},ManageCompositesCtrl.prototype.save=function(){return this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.COMPOSITE_COMPONENTS+common_constant_1.SaveFlagsEnum.MANIFEST)},ManageCompositesCtrl.prototype.deleteItems=function(idsToDelete){var currentProject=this.editorService.getCurrentProject(),removedComposites=[],deferred=this.editorService.getNewDeferred();return idsToDelete.forEach((function(id){removedComposites.push(currentProject.removeCompositeComponent(id))})),deferred.resolve(removedComposites),deferred.promise},ManageCompositesCtrl.prototype.getItemDisplayName=function(item){return item.manifest.displayName},ManageCompositesCtrl.prototype.getItemId=function(item){return item.manifest.id},ManageCompositesCtrl.prototype.setItemId=function(item,newId){item.manifest.id=newId},ManageCompositesCtrl.add=function(m){m.controller("eirManageCompositesCtrl",ManageCompositesCtrl)},ManageCompositesCtrl}(__webpack_require__(569).ManageDialogBase);exports.ManageCompositesCtrl=ManageCompositesCtrl},function(module,exports){module.exports='<div class=manage-dialog ng-controller="eirManageRepositoryCtrl as ctrl"> <div class="global-datagrid manage-datagrid"> <div class=toolbar role=toolbar> <div class=title>Global Repository</div> <div class=buttonset> <label class=audible for=searchfield-global>Keyword Search</label> <input id=searchfield-global name=searchfield-global class=searchfield /> </div> </div> <div xi-datagrid=ctrl.repoDatagridOptions id=repository-grid class=datagrid-contained></div> </div> <div class=modal-buttonset> <button type=button class=btn-modal ng-click=ctrl.close()>Close</button> <button type=button class=btn-modal ng-click=ctrl.addToProject()>Add To Project</button> </div> </div>'},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ManageDatasourcesCtrl=void 0;var angular_1=__importDefault(__webpack_require__(12)),common_constant_1=__webpack_require__(3),sohoxi_constant_1=__webpack_require__(40),datasource_type_enum_1=__webpack_require__(57);__webpack_require__(41),__webpack_require__(77),__webpack_require__(537);var test_dataservice_dialog_1=__webpack_require__(281);__webpack_require__(68);var dialog_service_1=__webpack_require__(13),custom_formatters_1=__webpack_require__(133);__webpack_require__(285),__webpack_require__(434);var manage_dialog_base_1=__webpack_require__(569),helper_1=__webpack_require__(15),ManageDatasourcesCtrl=function(_super){function ManageDatasourcesCtrl(){return null!==_super&&_super.apply(this,arguments)||this}return __extends(ManageDatasourcesCtrl,_super),ManageDatasourcesCtrl.prototype.getItemSpecificData=function(){return{dataName:"Data Service",conflictKey:"displayName",urlName:common_constant_1.ServerPaths.DATASOURCES,maxAllowed:common_constant_1.ProjectLimit.MAX_DATASOURCES,maxErrorMessage:common_constant_1.ProjectLimit.DATASOURCE_ERROR_MESSAGE}},ManageDatasourcesCtrl.prototype.getDataList=function(){return this.editorService.getCurrentProject().getDatasourceDatabearers()},ManageDatasourcesCtrl.prototype.addItemsToProject=function(datasources){var _this=this;datasources.forEach((function(datasource){_this.editorService.getCurrentProject().addDatasource(datasource)}))},ManageDatasourcesCtrl.prototype.initGrid=function(){var _this=this,columns=[];columns.push({id:"selectionCheckbox",width:50,sortable:!1,resizable:!1,formatter:Soho.Formatters.SelectionCheckbox,align:"center"}),columns.push({id:"displayName",name:"Name",field:"displayName",width:200,sortable:!0,resizable:!1,formatter:Soho.Formatters.Ellipsis}),columns.push({id:"author",name:"Author",field:"authorDisplayName",width:150,sortable:!0,resizable:!1,formatter:Soho.Formatters.Ellipsis}),columns.push({id:"date",name:"Created",field:"creationDate",width:150,resizable:!1,sortable:!0,formatter:Soho.Formatters.Date}),columns.push({id:"description",name:"Description",field:"description",width:200,sortable:!0,resizable:!1,formatter:custom_formatters_1.CustomFormatters.Multi(custom_formatters_1.CustomFormatters.DataSourceDescription(),Soho.Formatters.Ellipsis)}),columns.push({id:"suite",name:"Type",field:"suite",width:100,sortable:!0,resizable:!1,formatter:custom_formatters_1.CustomFormatters.DatasourceSuiteFormatter()}),columns.push({id:"action",name:"Action",field:"",width:210,sortable:!0,resizable:!1,align:"center",formatter:Soho.Formatters.Button,click:function(_,rowsSelected){var item=rowsSelected[0].item;_this.repositoryService.getDatasources().then((function(datasources){return _this.openTestDataserviceDialog(item)})).catch((function(error){return _this.dialogService.showError("Could not test data service",error.message)}))},text:"Test Data Service"});var datagridOptions={columns:columns,dataset:[],selectable:sohoxi_constant_1.SelectableEnum.Multiple,enableTooltips:!0,toolbar:{title:"Data Services",results:!0,dateFilter:!1,keywordFilter:!0,advancedFilter:!0,actions:!0,views:!0,rowHeight:!0}};this.datagridOptions=datagridOptions;var currentProject=this.editorService.getCurrentProject();this.datagridOptions.dataset=currentProject.getDatasourceDatabearers()},ManageDatasourcesCtrl.prototype.openMapper=function(){this.openDataserviceWizard()},ManageDatasourcesCtrl.prototype.deleteItems=function(dataserviceIds){var _this=this,selectedComponent=this.editorService.getSelectedComponent(),currentProject=this.editorService.getCurrentProject();return this.getDataserviceIdsToRemove(dataserviceIds).then((function(dataserviceToRemove){_this.removeInteractionsConnectedWithDataservice(dataserviceToRemove);var removedDatasources=[];return dataserviceToRemove.forEach((function(idToDelete){_this.editorService.getCurrentRootComponentInstance().forEachChild((function(component){component.datasource&&component.datasource.id===idToDelete&&component.removeDatasource()}),!1),removedDatasources.push(currentProject.removeDatasource(idToDelete))})),_this.datagridOptions.dataset=currentProject.getDatasourceDatabearers(),selectedComponent.isGenerated?_this.editorService.deselectComponent():_this.editorService.setSelectedComponent(selectedComponent),removedDatasources}))},ManageDatasourcesCtrl.prototype.removeInteractionsConnectedWithDataservice=function(selectedDataserviceIds){var _this=this,interactions=this.editorService.getCurrentProject().getInteractions();selectedDataserviceIds.forEach((function(dataserviceId){_this.getComponentsUsingDataservice(dataserviceId).forEach((function(component){interactions.forEach((function(interaction){interaction.targetName===component.getId()&&_this.interactionManagementService.removeInteraction(interaction)}))}))}))},ManageDatasourcesCtrl.prototype.getDataserviceIdsToRemove=function(selectedDataserviceIds){for(var idsToRemove=[],promises=[],_loop_1=function(index){var dataserviceId=selectedDataserviceIds[index],componentsUsingDataservice=this_1.getComponentsUsingDataservice(dataserviceId);if(componentsUsingDataservice.length>0){var dataservice=this_1.editorService.getCurrentProject().getDatasources()[dataserviceId];promises.push(this_1.promptConfirmWhenDataserviceUsed(dataservice,componentsUsingDataservice.length).then((function(dialogResult){dialogResult.button===dialog_service_1.DialogButtonType.Yes&&idsToRemove.push(dataserviceId)})))}else idsToRemove.push(dataserviceId)},this_1=this,index=0;selectedDataserviceIds.length>index;index++)_loop_1(index);return this.editorService.onAllPromises(promises).then((function(){return idsToRemove}))},ManageDatasourcesCtrl.prototype.getComponentsUsingDataservice=function(dataserviceId){return this.editorService.getAllComponents().filter((function(component){return component.getDatasource()&&component.getDatasource().id===dataserviceId}))},ManageDatasourcesCtrl.prototype.promptConfirmWhenDataserviceUsed=function(dataservice,numberOfComponentsUsedIn){return this.dialogService.showYesNo("Warning",'The data service "'+dataservice.displayName+'"\n\t\t\tis used by '+numberOfComponentsUsedIn+"\n\t\t\tcomponent"+(numberOfComponentsUsedIn>1?"s":"")+".\n\t\t\tDo you want to remove it?","warning-text")},ManageDatasourcesCtrl.prototype.openTestDataserviceDialog=function(dataserviceToTest){var options={title:"Test Data Service",template:__webpack_require__(327),parameter:{dataservice:dataserviceToTest,type:test_dataservice_dialog_1.TestDataserviceDialogType.UNFORMATTED}};return this.dialogService.show(options)},ManageDatasourcesCtrl.prototype.openDataserviceWizard=function(datasource){var _this=this,title=(datasource?"Edit":"Create")+" Data Service",template="<eir-wizard ng-controller='eirDatasourceWizardCtrl as wizardCtrl'></eir-wizard>";if(datasource)switch(datasource.typedef){case datasource_type_enum_1.DatasourceTypeEnum.IDO:template="<eir-wizard ng-controller='eirLocalIdoDataserviceWizardCtrl as wizardCtrl'></eir-wizard>";break;case datasource_type_enum_1.DatasourceTypeEnum.INLINE_LIST:template="<eir-wizard ng-controller='eirInlineListDataserviceWizardCtrl as wizardCtrl'></eir-wizard>"}var options={title:title,parameter:{datasource:angular_1.default.copy(datasource)},template:template,cssClass:"wizard-dialog large",id:"datasource-wizard"};return this.dialogService.show(options).then((function(result){return result.button===dialog_service_1.DialogButtonType.Ok&&(datasource?_this.updateDatasource(result.value):_this.addDatasource(result.value)),result}))},ManageDatasourcesCtrl.prototype.createLocalDatasource=function(isSearch){var _this=this,project=this.editorService.getCurrentProject(),options={title:"Create from Wizard",parameter:{datasources:project.getDatasourceDatabearers(),datasource:null,isEdit:!1},cssClass:"select-source-modal",id:"dataservice-search-wizard"};helper_1.Helper.exceedAllowed(common_constant_1.ProjectLimit.MAX_DATASOURCES,project.getDatasourceDatabearers())?this.dialogService.showError("Create from Wizard",common_constant_1.ProjectLimit.DATASOURCE_ERROR_MESSAGE):isSearch&&(options.template=__webpack_require__(546),this.dialogService.show(options).then((function(result){result.button===dialog_service_1.DialogButtonType.Ok&&result.value&&_this.addDatasource(result.value)})))},ManageDatasourcesCtrl.prototype.populateUserInformation=function(datasource,isNew){isNew&&(datasource.id=helper_1.Helper.generateUniqueId(),datasource.author=common_constant_1.Config.USER.name,datasource.authorDisplayName=common_constant_1.Config.USER.displayName,datasource.creationDate=Date.now()),datasource.changedBy=common_constant_1.Config.USER.name,datasource.changedByDisplayName=common_constant_1.Config.USER.displayName,datasource.changedDate=Date.now()},ManageDatasourcesCtrl.prototype.addDatasource=function(datasource){this.populateUserInformation(datasource,!0),this.addItemsToProject([datasource]),this.datagridOptions.dataset.push(datasource),this.save()},ManageDatasourcesCtrl.prototype.updateDatasource=function(datasource){var _this=this;this.selectedItems[0]=datasource,this.populateUserInformation(datasource),this.addItemsToProject([datasource]),this.editorService.updateDatasourceOnComponents(datasource);var selectedComponent=this.editorService.getSelectedComponent();selectedComponent.isGenerated?this.editorService.deselectComponent():this.editorService.setSelectedComponent(selectedComponent),this.save().then((function(){return _this.datagridOptions.dataset=_this.editorService.getCurrentProject().getDatasourceDatabearers()}))},ManageDatasourcesCtrl.prototype.export=function(){var _this=this,ids=this.selectedItems.map((function(item){return item.id})),projectId=this.editorService.getCurrentProject().getId(),exportDefaultName=helper_1.Helper.getFormattedDate();if(common_constant_1.Config.MG_PLATFORM===common_constant_1.MGPlatform.WEB){var options={title:"Export Data Services",template:__webpack_require__(283),parameter:{type:"dataservice",filename:exportDefaultName}};this.dialogService.show(options).then((function(result){if(result.button===dialog_service_1.DialogButtonType.Ok){var fileName_1=result.value;_this.save().then((function(){_this.projectService.exportProjectContent(projectId,ids,fileName_1,common_constant_1.SaveFlagsEnum.DATASOURCES)}))}}))}},ManageDatasourcesCtrl.prototype.save=function(){return this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.DATASOURCES+common_constant_1.SaveFlagsEnum.MANIFEST+common_constant_1.SaveFlagsEnum.INTERACTIONS)},ManageDatasourcesCtrl.prototype.editDatasource=function(){var selectedDatasource=this.selectedItems[0],isCorrectVersion=(this.editorService.getCurrentProject(),2===selectedDatasource.version),typedef=selectedDatasource.typedef;!isCorrectVersion||typedef!==datasource_type_enum_1.DatasourceTypeEnum.generic&&typedef!==datasource_type_enum_1.DatasourceTypeEnum.IDO&&typedef!==datasource_type_enum_1.DatasourceTypeEnum.MONGOOSE&&typedef!==datasource_type_enum_1.DatasourceTypeEnum.INLINE_LIST?this.dialogService.showMessage({title:"Edit unavailable",message:"Edit of old Data Service of this type is not available.Please recreate your data service in new Data Service wizard.",standardButtons:dialog_service_1.StandardDialogButtons.Ok}):this.openDataserviceWizard(selectedDatasource)},ManageDatasourcesCtrl.prototype.getItemDisplayName=function(item){return item.displayName},ManageDatasourcesCtrl.prototype.getItemId=function(item){return item.id},ManageDatasourcesCtrl.prototype.setItemId=function(item,newId){item.id=newId},ManageDatasourcesCtrl.add=function(m){m.controller("eirManageDatasourcesCtrl",ManageDatasourcesCtrl)},ManageDatasourcesCtrl}(manage_dialog_base_1.ManageDialogBase);exports.ManageDatasourcesCtrl=ManageDatasourcesCtrl},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ManageRepositoryCtrl=void 0;var angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3);__webpack_require__(287),__webpack_require__(41),__webpack_require__(77),__webpack_require__(16);var dialog_service_1=__webpack_require__(13);__webpack_require__(93),__webpack_require__(210);var ManageRepositoryCtrl=function(){function ManageRepositoryCtrl(scope,$element,repositoryService,dialogService){var _this=this;this.scope=scope,this.$element=$element,this.repositoryService=repositoryService,this.dialogService=dialogService,this.selectedItems=[],this.loading=!1;var dialog=scope.eirDialog;this.dialog=dialog,this.repoDatagridOptions=dialog.parameter,this.$element.find("#repository-grid").on("selected",(function(e,args){args.length>0?_this.selectedItems=args.map((function(rowObject){return rowObject.data})):_this.selectedItems=[]}))}return ManageRepositoryCtrl.prototype.close=function(result){this.dialog.close(result)},ManageRepositoryCtrl.prototype.addToProject=function(){var result={value:this.selectedItems,button:dialog_service_1.DialogButtonType.Ok};this.close(result)},ManageRepositoryCtrl.add=function(m){m.controller("eirManageRepositoryCtrl",ManageRepositoryCtrl)},ManageRepositoryCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,angular_constants_1.AngularConstants.ELEMENT,common_constant_1.InjectNames.REPOSITORY_SERVICE,common_constant_1.InjectNames.DIALOG_SERVICE],ManageRepositoryCtrl}();exports.ManageRepositoryCtrl=ManageRepositoryCtrl},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.EditTabCtrl=void 0;var angular_1=__importDefault(__webpack_require__(12)),angular_constants_1=__webpack_require__(7),dialog_service_1=__webpack_require__(13);__webpack_require__(80);var feature_switch_ctrl_1=__webpack_require__(134);__webpack_require__(71),__webpack_require__(447),__webpack_require__(20);var common_constant_1=__webpack_require__(3);__webpack_require__(28);var EditTabCtrl=function(_super){function EditTabCtrl(scope,translationManagementService,frameworkService,editorService,featureSwitchService){var _this=_super.call(this,featureSwitchService)||this;_this.scope=scope,_this.translationManagementService=translationManagementService,_this.frameworkService=frameworkService,_this.editorService=editorService,_this.isDeleteDisabled=!1;var dialog=scope.eirDialog;_this.dialog=dialog;var parameter=dialog.parameter,tab=parameter.tab,component=parameter.component,fields=parameter.sourceFields;if(tab.field)for(var i=0;i<fields.length;i++)if(fields[i].sourceKeyShort===tab.field){_this.selectedSourceField=fields[i];break}return _this.sourceFields=fields,_this.tab=tab,_this.component=component,_this.isDeleteDisabled=1===component.getDatabearer().componentTabs.length,_this.lookupOptions=_this.translationManagementService.getLookupOptions(),_this.autocompleteOptions=_this.translationManagementService.getAutoOptions(),_this}return __extends(EditTabCtrl,_super),EditTabCtrl.prototype.openTranslations=function(){var _this=this;this.translationManagementService.openTranslations(this.component,this.tab.id).then((function(result){if(result.button===dialog_service_1.DialogButtonType.Ok){var changes=result.value;if(changes.savedComponentStrings.length>0){var selectedChanged=changes.savedComponentStrings.find((function(translation){return translation.component===_this.component.getId()&&translation.reference===_this.tab.id}));selectedChanged&&(_this.tab.name=selectedChanged.newValue),_this.editorService.updateTranslatables()}}result.button!==dialog_service_1.DialogButtonType.Ok||angular_1.default.equals({},result.value.savedGlobalStrings)||_this.translationManagementService.saveGlobalTranslations(result.value.savedGlobalStrings).then((function(){_this.editorService.updateTranslatables()})),result.button!==dialog_service_1.DialogButtonType.Ok||angular_1.default.equals({},result.value.deletedGlobalStrings)||_this.translationManagementService.deleteGlobalTranslations(result.value.deletedGlobalStrings).then((function(){_this.editorService.updateTranslatables()}))}))},EditTabCtrl.prototype.onChangeTabName=function(){var newValue={locale:this.translationManagementService.getSelectedLocale(),value:this.tab.name};this.translationManagementService.setTranslatableStringByProperty(this.component.getId(),this.tab.id,newValue)},EditTabCtrl.prototype.onFieldSelected=function(){var field=this.selectedSourceField;this.tab.name=field?field.visibleName.replace("("+field.sourceKeyShort+")",""):"",this.onChangeTabName()},EditTabCtrl.prototype.cancel=function(){this.dialog.close()},EditTabCtrl.prototype.save=function(){this.tab.value=this.frameworkService.getGlobalValue(this.tab.name,this.component),this.tab.field=this.selectedSourceField?this.selectedSourceField.sourceKeyShort:null;var result={value:this.tab,button:dialog_service_1.DialogButtonType.Ok};this.dialog.close(result)},EditTabCtrl.add=function(m){m.controller("eirEditTabCtrl",EditTabCtrl)},EditTabCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,common_constant_1.InjectNames.TRANSLATION_MANAGEMENT_SERVICE,common_constant_1.InjectNames.FRAMEWORK_SERVICE,common_constant_1.InjectNames.EDITOR_SERVICE,common_constant_1.InjectNames.FEATURE_SWITCH_SERVICE],EditTabCtrl}(feature_switch_ctrl_1.FeatureSwitchCtrl);exports.EditTabCtrl=EditTabCtrl},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.MaskSettingsDialogCtrl=void 0;var angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3),dialog_service_1=__webpack_require__(13),MaskSettingsDialogCtrl=function(_super){function MaskSettingsDialogCtrl(scope,dialogService){var _this=_super.call(this)||this;_this.dialogService=dialogService,_this.AVAILABLE_FORMATS=[{name:""+common_constant_1.DateFormat.FORMAT_1,value:common_constant_1.DateFormat.FORMAT_1},{name:""+common_constant_1.DateFormat.FORMAT_2,value:common_constant_1.DateFormat.FORMAT_2},{name:""+common_constant_1.DateFormat.FORMAT_3,value:common_constant_1.DateFormat.FORMAT_3},{name:""+common_constant_1.DateFormat.FORMAT_4,value:common_constant_1.DateFormat.FORMAT_4},{name:"ISO8601: "+common_constant_1.DateFormat.ISO8601,value:common_constant_1.DateFormat.ISO8601}],_this.errorList=[];var dialog=scope.eirDialog;return _this.dialog=dialog,_this.maskSetting=dialog.parameter.process,_this.mask=dialog.parameter,_this}return __extends(MaskSettingsDialogCtrl,_super),Object.defineProperty(MaskSettingsDialogCtrl.prototype,"isPrefixInvalid",{get:function(){return 0!==this.errorList.length},enumerable:!1,configurable:!0}),MaskSettingsDialogCtrl.prototype.onChangeMask=function(){this.maskSetting===common_constant_1.MaskProcess.NUMBER?this.mask={process:this.maskSetting,allowNegative:this.mask.allowNegative,integerLimit:this.mask.integerLimit,decimalLimit:this.mask.decimalLimit,allowThousandsSeparator:this.mask.allowThousandsSeparator,prefix:this.mask.prefix}:this.maskSetting!==common_constant_1.MaskProcess.DATE_TIME&&this.maskSetting!==common_constant_1.MaskProcess.STRING||(this.mask={process:this.maskSetting,format:this.mask.format})},MaskSettingsDialogCtrl.prototype.openMaskHelp=function(){var message;this.maskSetting===common_constant_1.MaskProcess.STRING?message="Use these characters to create your string masking patterns:<br><br><b>#</b> - (Pound or number symbol) This character allows only numerals, 0 through 9.<br><br><b>x</b> - (Lower case x) This character allows only alphabetic letters, both upper case and lower case.<br><br><b>*</b> - (Asterisk) This character allows both alphabetic and numeric characters.<br><br><b>a</b> - (Lower case a) This character allows only a, A, p, or P. It is used to represent the first letter in a time period designation (AM or PM). <br><br><b>m</b> - (Lower case m) This character allows only m or M. It is used to represent the second letter in a time period designation (AM or PM). ":this.maskSetting===common_constant_1.MaskProcess.DATE_TIME&&(message="A date format can be constructed by assembling the desired date and time format characters;<br> for example: yyyy-MM-DD HH:mm.<br><br>When creating a date-time format, these characters can be used as placeholders for input:<br><br><b>MMMM</b> - Displays the full name of the month; for example, August.<br><b>MMM</b> - Displays the abbreviated name of the month; for example, Aug.<br><b>MM</b> - Displays the number of the month, in 2-digit format; for example, 08 (for August).<br><b>M</b> - Displays the number of the month unpadded.<br><br><b>dd</b> - Displays the day/date padded with zeroes.<br><b>d</b> - Displays the day/date unpadded.<br><br><b>yyyy</b> - Displays the year using a 4-digit format. You should always use this format for the year.<br><b>yy</b> - Accepts input for the year using a 2-digit format, but if used, this is converted to the 4-digit format.<br><br><b>hh</b> - Displays the hour using a 12-hour format, with padding.<br><b>h</b> - Displays the hour using a 12-hour format, without padding.<br><b>HH</b> - Displays the hour using a 24-hour format, with padding.<br><b>H</b> - Displays the hour using a 24-hour format, without padding.<br><br><b>a</b> - Displays the am/pm part of the time with the 12-hour format.<br><b>mm</b> - Displays the minute digits.<br><br><b>ss</b> - Displays the seconds digits.<br><b>SSS</b> - Displays the milliseconds digits.<br><br><b>zz</b> - Displays the time zone name in short form, for example, EST, using the language of the current locale.<br><b>zzzz</b> - Displays the time zone name in long form; for example, Eastern Standard Time, using the language of the current locale.<br><br><b>EEEE</b> - Displays the full name of the day; for example: Monday");var showOptions={message:message,title:"Masking Help",cssClass:"mask-options-help"};this.dialogService.showMessage(showOptions)},MaskSettingsDialogCtrl.prototype.close=function(){this.dialog.close()},MaskSettingsDialogCtrl.prototype.save=function(){var result={button:dialog_service_1.DialogButtonType.Ok,value:this.mask};this.dialog.close(result)},MaskSettingsDialogCtrl.add=function(m){m.controller("eirMaskSettingsDialogCtrl",MaskSettingsDialogCtrl)},MaskSettingsDialogCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,common_constant_1.InjectNames.DIALOG_SERVICE],MaskSettingsDialogCtrl}(__webpack_require__(151).NotifiableComponent);exports.MaskSettingsDialogCtrl=MaskSettingsDialogCtrl},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.TranslationDialogCtrl=exports.TranslationTabEnum=void 0;var angular_1=__importDefault(__webpack_require__(12)),angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3),sohoxi_constant_1=__webpack_require__(40);__webpack_require__(116),__webpack_require__(77),__webpack_require__(416),__webpack_require__(16);var helper_1=__webpack_require__(15);__webpack_require__(68);var TranslationTabEnum,dialog_service_1=__webpack_require__(13),datagrid_helper_1=__webpack_require__(93);__webpack_require__(28),__webpack_require__(71),function(TranslationTabEnum){TranslationTabEnum[TranslationTabEnum.COMPONENT=0]="COMPONENT",TranslationTabEnum[TranslationTabEnum.GLOBAL=1]="GLOBAL"}(TranslationTabEnum=exports.TranslationTabEnum||(exports.TranslationTabEnum={}));var TranslationDialogCtrl=function(){function TranslationDialogCtrl(scope,$element,frameworkService,dialogService,translationManagementService){this.scope=scope,this.$element=$element,this.frameworkService=frameworkService,this.dialogService=dialogService,this.translationManagementService=translationManagementService,this.supportedLanguages=[],this.usedLanguages=[],this.tabEnum=TranslationTabEnum,this.currentTab=TranslationTabEnum.COMPONENT,this.dataset=[],this.deletedLanguages=[],this.addedLanguages=[],this.isChanged={savedComponentStrings:[],savedGlobalStrings:{},deletedGlobalStrings:{}},this.invalidPositions=[],this.validPositions=[],this.selectedFilterLanguage="All";var dialog=scope.eirDialog;this.dialog=dialog,this.selectedComponent=this.originalComponent=dialog.parameter.component,this.selectedProperty=dialog.parameter.property,this.buildDataset(),this.initComponentGridOptions(),this.buildGlobalDataset(),this.initGlobalGridOptions(),this.usedLanguages=this.translationManagementService.getProjectLanguages(),this.supportedLanguages=this.translationManagementService.getSupportedLanguages(),this.selectedGlobalLocale=this.currentLocale=this.translationManagementService.getCurrentLanguage(),this.currentLanguageDisplayName=this.translationManagementService.getLocaleDisplayName(this.currentLocale),this.updateDataset()}return TranslationDialogCtrl.prototype.onChangeTab=function(tab){this.currentTab=tab},TranslationDialogCtrl.prototype.save=function(){this.saveToProject();var result={button:dialog_service_1.DialogButtonType.Ok,value:this.isChanged};this.dialog.close(result)},TranslationDialogCtrl.prototype.close=function(){this.dialog.close({button:dialog_service_1.DialogButtonType.Cancel})},TranslationDialogCtrl.prototype.openLanguage=function(language){var _this=this;this.translationManagementService.fetchGlobalStrings(language.key).then((function(globalStrings){_this.selectedGlobalLocale=language.key;var stringList=[];for(var key in globalStrings)globalStrings.hasOwnProperty(key)&&"string"!=typeof globalStrings[key]&&stringList.push(globalStrings[key]);_this.reloadGlobalStringDatagrid(stringList)}))},TranslationDialogCtrl.prototype.toggleAllTranslations=function(){this.selectedComponent?this.selectedComponent=null:this.selectedComponent=this.originalComponent,this.reloadComponentDatagrid()},TranslationDialogCtrl.prototype.filterLanguage=function(localeKey){localeKey!==this.selectedFilterLanguage&&(this.selectedFilterLanguage===localeKey?this.selectedFilterLanguage="All":this.selectedFilterLanguage=localeKey,this.reloadComponentDatagrid())},TranslationDialogCtrl.prototype.addLanguage=function(language){var _this=this;this.usedLanguages.some((function(usedLanguage){return usedLanguage.key===language.key}))?this.dialogService.showError("Add Language","Language already exists."):(this.translationManagementService.projectHasLanguage(language.key)?this.deletedLanguages=this.deletedLanguages.filter((function(deletedLanguage){return language.key!==deletedLanguage.key})):this.updateLanguageLists(language,this.addedLanguages,this.deletedLanguages),this.usedLanguages.push(language),this.dataset.forEach((function(data){data.expanded=_this.isExpanded(data.id);var value=data.children[0].value;data.children.push({componentId:data.component.id,reference:data.property.ref,locale:language.key,displayName:language.value,value:value})})),this.updateDataset())},TranslationDialogCtrl.prototype.addNewString=function(){var _this=this;this.translationManagementService.openNewStringDialog().then((function(result){if(result.button===dialog_service_1.DialogButtonType.Ok){var newString_1=result.value,alreadyAddedItem=null;_this.isChanged.savedGlobalStrings.hasOwnProperty(_this.selectedGlobalLocale)&&(alreadyAddedItem=_this.isChanged.savedGlobalStrings[_this.selectedGlobalLocale].find((function(item){return item.Name===newString_1.Name}))),alreadyAddedItem?_this.dialogService.showError("Add String","String already added"):(_this.globalDataset.unshift(result.value),_this.globalDatagridOptions.dataset=_this.globalDataset,_this.saveString(newString_1))}}))},TranslationDialogCtrl.prototype.deleteGlobalString=function(){var _this=this,deletedString=this.selectedGlobalString,language=this.translationManagementService.getLocaleDisplayName(this.selectedGlobalLocale),options={title:"Delete "+this.selectedGlobalString.Name,message:'Are you sure you want to delete this string on language "'+language+'"?',standardButtons:dialog_service_1.StandardDialogButtons.YesNo};this.dialogService.showMessage(options).then((function(result){if(result.button===dialog_service_1.DialogButtonType.Yes){var deletedStrings=_this.isChanged.deletedGlobalStrings[_this.selectedGlobalLocale];if(deletedStrings){var existingIndex=deletedStrings.findIndex((function(stringItem){return stringItem.Name===deletedString.Name}));-1===existingIndex?deletedStrings.push(deletedString):deletedStrings[existingIndex]=deletedString}else _this.isChanged.deletedGlobalStrings[_this.selectedGlobalLocale]=[deletedString];_this.deleteStringFromDataset(deletedString.Name)}}))},TranslationDialogCtrl.prototype.deleteLanguage=function(language){var _this=this;language.key!==common_constant_1.LanguageConsts.DEFAULT.key?(this.translationManagementService.projectHasLanguage(language.key)?this.updateLanguageLists(language,this.deletedLanguages,this.addedLanguages):this.addedLanguages=this.addedLanguages.filter((function(addedLanguage){return language.key!==addedLanguage.key})),this.usedLanguages=this.usedLanguages.filter((function(usedLanguage){return usedLanguage.key!==language.key})),this.dataset.forEach((function(data,datasetIndex){data.expanded=_this.isExpanded(data.id);for(var translations=data.children,i=0;i<translations.length;i++)if(_this.translationManagementService.localeEquals(translations[i].locale,language.key)){translations.splice(i,1);break}})),this.updateDataset()):this.dialogService.showError("Delete Language","Can not delete Language: "+common_constant_1.LanguageConsts.DEFAULT.value)},TranslationDialogCtrl.prototype.isExpanded=function(id){var expanded=!1,component=this.componentDatagridOptions.dataset.find((function(languageComponent){return languageComponent.id===id}));return component&&(expanded=component.expanded),expanded},TranslationDialogCtrl.prototype.reloadComponentDatagrid=function(){this.componentDatagridOptions=null,this.initComponentGridOptions(),this.updateDataset(),this.$element.find("#component-tab").find(".datagrid-container").data("datagrid").updateColumns(this.componentDatagridOptions.columns)},TranslationDialogCtrl.prototype.updateDataset=function(){var _this=this,filteredDataset=angular_1.default.copy(this.dataset);this.selectedComponent&&(filteredDataset=filteredDataset.filter((function(languageComponent){return languageComponent.component.id===_this.selectedComponent.getId()})));for(var i=0;i<filteredDataset.length;i++)filteredDataset[i].children=filteredDataset[i].children.filter((function(child){return _this.usedLanguages.find((function(usedLanguage){return usedLanguage.key===child.locale}))}));this.filterDatasetOnLocale(filteredDataset)},TranslationDialogCtrl.prototype.filterDatasetOnLocale=function(dataset){var _this=this;void 0===dataset&&(dataset=this.dataset);var filteredDataset=angular_1.default.copy(dataset);if("All"!==this.selectedFilterLanguage&&filteredDataset[0].children.length>0)for(var i=0;i<filteredDataset.length;i++)filteredDataset[i].children=filteredDataset[i].children.filter((function(child){return child.locale===_this.selectedFilterLanguage}));this.componentDatagridOptions.dataset=filteredDataset},TranslationDialogCtrl.prototype.deleteStringFromDataset=function(stringName){var index=this.globalDataset.findIndex((function(stringItem){return stringItem.Name===stringName}));-1!==index&&(this.globalDataset.splice(index,1),this.selectedGlobalString=null)},TranslationDialogCtrl.prototype.reloadGlobalStringDatagrid=function(globalStrings){this.globalDataset=globalStrings,this.initGlobalGridOptions(),this.$element.find("#global-language-grid").data("datagrid").updated()},TranslationDialogCtrl.prototype.saveString=function(modifiedString){var modifiedStrings=this.isChanged.savedGlobalStrings[this.selectedGlobalLocale];if(modifiedStrings){var existingIndex=modifiedStrings.findIndex((function(stringItem){return stringItem.Name===modifiedString.Name}));-1===existingIndex?modifiedStrings.push(modifiedString):modifiedStrings[existingIndex]=modifiedString}else this.isChanged.savedGlobalStrings[this.selectedGlobalLocale]=[modifiedString]},TranslationDialogCtrl.prototype.buildGlobalDataset=function(){this.globalDataset=angular_1.default.copy(this.translationManagementService.getCurrentStringsList())},TranslationDialogCtrl.prototype.buildDataset=function(){var _this=this,newDataset=[];this.frameworkService.getCurrentProject().getTranslationsList().forEach((function(languageComponent,componentIndex){var componentInstance=_this.frameworkService.getComponentInstance(languageComponent.componentId);if(componentInstance){var isExpanded=!1,datasetComponent_1=_this.dataset[componentIndex];datasetComponent_1?isExpanded=_this.dataset[componentIndex].expanded:_this.originalComponent?languageComponent.componentId===_this.originalComponent.getId()&&languageComponent.property===_this.selectedProperty&&(isExpanded=!0):languageComponent.property===_this.selectedProperty&&(isExpanded=!0);var componentId_1=languageComponent.componentId,property_1=languageComponent.property,componentName=helper_1.Helper.htmlEncode(componentInstance.getDisplayName()),propertyName=_this.frameworkService.getTranslatableFieldDisplayName(componentId_1,property_1);property_1===common_constant_1.SettingKeys.APPLICATION_HEADER&&(componentName="Application Header",propertyName="Content");var datasetLanguage_1={id:languageComponent.id,component:{displayName:componentName,id:componentId_1},property:{ref:languageComponent.property,displayName:propertyName},children:[],expanded:isExpanded};languageComponent.translations.forEach((function(translation,translationIndex){if(translation.locale===_this.selectedFilterLanguage||"All"===_this.selectedFilterLanguage){var value=void 0;datasetComponent_1&&datasetComponent_1.children[translationIndex]&&(value=datasetComponent_1.children[translationIndex].value),datasetLanguage_1.children.push({componentId:componentId_1,reference:property_1,displayName:_this.translationManagementService.getLocaleDisplayName(translation.locale),locale:translation.locale,value:value||translation.value})}})),newDataset.push(datasetLanguage_1)}else _this.translationManagementService.removeTranslation(languageComponent.componentId)})),this.dataset=newDataset},TranslationDialogCtrl.prototype.validate=function(args){var cellElement=args.target[0],position={row:args.row,column:args.cell},tagExistsOld=-1!==args.rowData.value.indexOf(common_constant_1.SubstitutionTags.VALUE),tagExistsNew=-1!==args.value.indexOf(common_constant_1.SubstitutionTags.VALUE),isInvalid=this.existsInArray(position,this.invalidPositions),isValid=this.existsInArray(position,this.validPositions);if(tagExistsOld||isInvalid)if(tagExistsNew||isValid){if(tagExistsNew){var updatedInvalids=this.invalidPositions.filter((function(position){return position.row!==args.row&&position.column!==args.cell}));this.invalidPositions=updatedInvalids,cellElement.classList.remove("error")}}else this.invalidPositions.push(position),cellElement.classList.add("error"),cellElement.setAttribute("data-errormessage","Required");else this.validPositions.push(position);this.updateSaveButton()},TranslationDialogCtrl.prototype.existsInArray=function(position,array){return array.some((function(invalidPosition,index){return invalidPosition.row===position.row&&invalidPosition.column===position.column}))},TranslationDialogCtrl.prototype.updateSaveButton=function(){var saveButtonElement=angular_1.default.element(".translation-save"),errorTextElement=this.$element.find(".error-text");this.invalidPositions.length>0?(saveButtonElement.prop("disabled",!0),errorTextElement.css(common_constant_1.CssConstantKeys.DISPLAY,common_constant_1.CssConstantValues.INLINE_BLOCK)):(saveButtonElement.prop("disabled",!1),errorTextElement.css(common_constant_1.CssConstantKeys.DISPLAY,common_constant_1.CssConstantValues.NONE))},TranslationDialogCtrl.prototype.updateLanguageLists=function(updatedLanguage,firstLanguageList,secondLanguageList){firstLanguageList.some((function(language){return language.key===updatedLanguage.key}))||(firstLanguageList.push(updatedLanguage),secondLanguageList=secondLanguageList.filter((function(language){return language.key!==updatedLanguage.key})))},TranslationDialogCtrl.prototype.saveToProject=function(){var _this=this;this.addedLanguages.length>0&&this.addedLanguages.forEach((function(language){_this.translationManagementService.addLanguage(language)})),this.deletedLanguages.length>0&&this.deletedLanguages.forEach((function(language){_this.translationManagementService.deleteLanguage(language)})),this.dataset.forEach((function(data,componentIndex){data.children.forEach((function(translation,translationIndex){_this.translationManagementService.setTranslatableStringByTranslationIndex(componentIndex,translationIndex,translation.value)}))}))},TranslationDialogCtrl.prototype.initGlobalGridOptions=function(){var _this=this,columns=[];columns.push({id:"Name",name:"Name",field:"Name",width:"50%",resizable:!1,sortable:!0,formatter:Soho.Formatters.Ellipsis}),columns.push({id:"Value",name:"Value",field:"Value",width:"50%",resizable:!1,sortable:!0,editor:Soho.Editors.Input,isEditable:function(){return!0},formatter:Soho.Formatters.Ellipsis}),this.globalDatagridOptions={columns:columns,dataset:[],selectable:sohoxi_constant_1.SelectableEnum.Single,editable:!0,isList:!0,paging:!0,toolbar:{title:"Translations",keywordFilter:!0},source:function(req,response){req.total=_this.globalDataset.length;var datasetCopy=angular_1.default.copy(_this.globalDataset);req.filterExpr&&req.filterExpr[0]&&(datasetCopy=datagrid_helper_1.DatagridHelper.getSearchResultOnPaths(datasetCopy,req.filterExpr[0],"Name")),response(datagrid_helper_1.DatagridHelper.getPage(datasetCopy,req),req)}},this.$element.find("#global-language-grid").on("selected",(function(e,args){args.length>0&&_this.scope.$evalAsync((function(){_this.selectedGlobalString={Name:args[0].data.Name,Value:args[0].data.Value}}))})),this.$element.find("#global-language-grid").on("cellchange",(function(e,args){if(args.value!==args.oldValue&&void 0!==args.oldValue){var modifiedString={Name:args.rowData.Name,Value:args.rowData.Value,ScopeInfo:{ScopeType:args.rowData.ScopeInfo?args.rowData.ScopeInfo.ScopeType:null}};_this.saveString(modifiedString)}}))},TranslationDialogCtrl.prototype.initComponentGridOptions=function(){var _this=this,columns=[];this.selectedComponent||columns.push({id:"component",name:"Component",field:"component.displayName",width:"25%",sortable:!0,formatter:Soho.Formatters.Tree}),columns.push({id:"property",name:"Property",field:"property.displayName",width:"25%",sortable:!0,formatter:this.selectedComponent?Soho.Formatters.Tree:Soho.Formatters.Ellipsis}),columns.push({id:"id",name:"Id",field:"id",hidden:!0}),columns.push({id:"name",name:"Language",field:"displayName",width:"25%",sortable:!0}),columns.push({id:"value",name:"Translation",field:"value",width:"25%",sortable:!0,editor:Soho.Editors.Input,isEditable:function(){return!0},formatter:Soho.Formatters.Ellipsis}),this.componentDatagridOptions={columns:columns,dataset:[],treeGrid:!0,selectable:sohoxi_constant_1.SelectableEnum.Single,editable:!0,isList:!0,toolbar:{title:"Translations",keywordFilter:!0,results:!0,dateFilter:!1,advancedFilter:!0,actions:!0,views:!0,rowHeight:!0}},this.$element.find("#component-language-grid").on("cellchange",(function(_,args){if(args.value!==args.oldValue&&void 0!==args.rowData.value){_this.validate(args),_this.syncDataset(args);var currentLocale=_this.translationManagementService.getCurrentLanguage();_this.translationManagementService.localeEquals(currentLocale,args.rowData.locale)&&_this.updateTranslationChange(args)}}))},TranslationDialogCtrl.prototype.syncDataset=function(item){for(var i=0;i<this.dataset.length;i++){var correctComponent=this.dataset[i].component.id===item.rowData.componentId,correctProperty=this.dataset[i].property.ref===item.rowData.reference;if(correctComponent&&correctProperty)for(var j=0;j<this.dataset[i].children.length;j++){this.dataset[i].children[j].locale===item.rowData.locale&&(this.dataset[i].children[j].value=item.value)}}},TranslationDialogCtrl.prototype.updateTranslationChange=function(datagridArgs){var componentId=datagridArgs.rowData.componentId,ref=datagridArgs.rowData.reference,newValue=datagridArgs.value,existingValue=this.isChanged.savedComponentStrings.find((function(value){return value.component===componentId&&value.reference===ref}));existingValue?existingValue.newValue!==newValue&&(existingValue.newValue=newValue):this.isChanged.savedComponentStrings.push({component:componentId,reference:ref,newValue:newValue})},TranslationDialogCtrl.add=function(m){m.controller("eirTranslationDialogCtrl",TranslationDialogCtrl)},TranslationDialogCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,angular_constants_1.AngularConstants.ELEMENT,common_constant_1.InjectNames.FRAMEWORK_SERVICE,common_constant_1.InjectNames.DIALOG_SERVICE,common_constant_1.InjectNames.TRANSLATION_MANAGEMENT_SERVICE],TranslationDialogCtrl}();exports.TranslationDialogCtrl=TranslationDialogCtrl},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProjectSettingsCtrl=void 0;var angular_1=__importDefault(__webpack_require__(12)),angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3),feature_switch_ctrl_1=__webpack_require__(134),dialog_service_1=__webpack_require__(13),ProjectSettingsCtrl=function(_super){function ProjectSettingsCtrl(scope,editorService,dialogService,saveService,translationManagementService,featureService){var _a,_this=_super.call(this,featureService)||this;_this.scope=scope,_this.editorService=editorService,_this.dialogService=dialogService,_this.saveService=saveService,_this.translationManagementService=translationManagementService,_this.themes=((_a={})[common_constant_1.ThemeEnum.LIGHT]={id:common_constant_1.ThemeEnum.LIGHT,name:"LIGHT"},_a[common_constant_1.ThemeEnum.DARK]={id:common_constant_1.ThemeEnum.DARK,name:"DARK"},_a[common_constant_1.ThemeEnum.HIGH_CONTRAST]={id:common_constant_1.ThemeEnum.HIGH_CONTRAST,name:"High Contrast"},_a[common_constant_1.ThemeEnum.LIGHT_TRANSPARENT]={id:common_constant_1.ThemeEnum.LIGHT_TRANSPARENT,name:"LIGHT Transparent"},_a[common_constant_1.ThemeEnum.DARK_TRANSPARENT]={id:common_constant_1.ThemeEnum.DARK_TRANSPARENT,name:"DARK Transparent"},_a),_this.errorList=[],_this.tagsChanged=!1,_this.newTags=[];var dialog=scope.eirDialog;return _this.dialog=dialog,_this.originalManifest=dialog.parameter,_this.manifest=angular_1.default.copy(_this.originalManifest),_this.defaultTheme=_this.themes[_this.manifest.defaultTheme],_this.currentProject=_this.editorService.getCurrentProject(),_this}return __extends(ProjectSettingsCtrl,_super),Object.defineProperty(ProjectSettingsCtrl.prototype,"isManifestInvalid",{get:function(){return 0!==this.errorList.length},enumerable:!1,configurable:!0}),ProjectSettingsCtrl.prototype.close=function(){this.dialog.close()},ProjectSettingsCtrl.prototype.saveTags=function(tags){this.tagsChanged=!0,this.newTags=tags},ProjectSettingsCtrl.prototype.save=function(){var _this=this;if(this.tagsChanged&&this.currentProject.setTags(this.newTags),this.manifest.title!==this.originalManifest.title){var rootId=this.editorService.getCurrentRootComponentInstance().getId(),updatedValue={locale:this.translationManagementService.getSelectedLocale(),value:this.manifest.title};this.translationManagementService.setTranslatableStringByProperty(rootId,common_constant_1.SettingKeys.APPLICATION_HEADER,updatedValue)}this.manifest.displayName!==this.originalManifest.displayName?this.editorService.renameProject(this.manifest.id,this.manifest.displayName).then((function(){_this.saveManifest()})).catch((function(exception){_this.errorOnSave(exception)})):this.saveManifest()},ProjectSettingsCtrl.prototype.errorOnSave=function(exception){this.dialogService.showError("Server Error",exception.message),this.editorService.setManifest(this.originalManifest),this.saveService.saveStateEvent.raise(this.saveService.saveStates.saved)},ProjectSettingsCtrl.prototype.saveManifest=function(){var _this=this;this.manifest.defaultTheme=this.defaultTheme.id,this.editorService.setManifest(this.manifest),this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.MANIFEST).then((function(){_this.editorService.saveCurrent(common_constant_1.SaveFlagsEnum.TRANSLATIONS|common_constant_1.SaveFlagsEnum.TAGS).then((function(){var result={button:dialog_service_1.DialogButtonType.Ok};_this.dialog.close(result)}))})).catch((function(exception){_this.errorOnSave(exception)}))},ProjectSettingsCtrl.add=function(m){m.controller("eirProjectSettingsCtrl",ProjectSettingsCtrl)},ProjectSettingsCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,common_constant_1.InjectNames.EDITOR_SERVICE,common_constant_1.InjectNames.DIALOG_SERVICE,common_constant_1.InjectNames.SAVE_SERVICE,common_constant_1.InjectNames.TRANSLATION_MANAGEMENT_SERVICE,common_constant_1.InjectNames.FEATURE_SWITCH_SERVICE],ProjectSettingsCtrl}(feature_switch_ctrl_1.FeatureSwitchCtrl);exports.ProjectSettingsCtrl=ProjectSettingsCtrl},function(module,exports,__webpack_require__){"use strict";(function($){Object.defineProperty(exports,"__esModule",{value:!0}),exports.BoundaryEditorCtrl=void 0;var angular_constants_1=__webpack_require__(7);__webpack_require__(105),__webpack_require__(16);var dialog_service_1=__webpack_require__(13),BoundaryEditorCtrl=function(){function BoundaryEditorCtrl(scope){this.scope=scope;var dialog=scope.eirDialog;this.dialog=dialog;var boundary=dialog.parameter;this.settingLimitX=String(boundary.limitX),this.boundary=boundary}return BoundaryEditorCtrl.prototype.close=function(){this.dialog.close()},BoundaryEditorCtrl.prototype.getNewLimitX=function(){var parsedNumber=parseInt(this.settingLimitX);return parsedNumber||this.boundary.limitX},BoundaryEditorCtrl.prototype.save=function(){$("#boundaryName").focus(),this.boundary.limitX=this.getNewLimitX();var result={value:this.boundary,button:dialog_service_1.DialogButtonType.Ok};this.dialog.close(result)},BoundaryEditorCtrl.add=function(m){m.controller("eirBoundaryEditorCtrl",BoundaryEditorCtrl)},BoundaryEditorCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE],BoundaryEditorCtrl}();exports.BoundaryEditorCtrl=BoundaryEditorCtrl}).call(this,__webpack_require__(21))},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseDialogController=void 0;var angular_1=__importDefault(__webpack_require__(12)),angular_constants_1=__webpack_require__(7),dialog_service_1=__webpack_require__(13),common_constant_1=__webpack_require__(3),sohoxi_constant_1=__webpack_require__(40),questions_enum_1=__webpack_require__(417);__webpack_require__(20);var BaseDialogController=function(){function BaseDialogController($scope,$element,dialogService,editorService){this.$scope=$scope,this.$element=$element,this.dialogService=dialogService,this.editorService=editorService;var dialog=$scope.eirDialog;this.dialog=dialog,this.initGridOptions(),this.initQuestionsData()}return BaseDialogController.prototype.initGridOptions=function(){var _this=this,options={dataset:[],columns:[{id:"component",name:"Component",field:"component",sortable:!0,formatter:Soho.Formatters.Ellipsis,width:"25%"},{id:"type",name:"Type",field:"type",sortable:!0,formatter:Soho.Formatters.Ellipsis,width:"25%"},{id:"setting",name:"Setting",field:"setting.key",sortable:!0,formatter:Soho.Formatters.Ellipsis,width:"25%"},{id:"text",name:"Text",field:"setting.text",sortable:!0,formatter:Soho.Formatters.Ellipsis,width:"25%"}],isList:!0,selectable:sohoxi_constant_1.SelectableEnum.Single,toolbar:{title:"Questions",results:!0,dateFilter:!1,keywordFilter:!0,advancedFilter:!0,actions:!0,views:!0,rowHeight:!0}};this.datagridOptions=options,this.$element.find("#datagrid-questions").on("selected",(function(e,args){_this.$scope.$evalAsync((function(){args.length>0?_this.selectedQuestion=args[0].data:_this.selectedQuestion=null}))}))},BaseDialogController.prototype.initQuestionsData=function(){var _this=this,projectQuestions=this.editorService.getCurrentProject().getQuestions(),dataset=[];projectQuestions.forEach((function(question){var datasetQuestion={id:question.id,component:question.componentId,type:_this.getTypeName(question.type)};question.type===questions_enum_1.QuestionDefinitionsEnum.COMPONENT_SETTINGS?question.settings.forEach((function(questionSetting){datasetQuestion.setting={id:questionSetting.id,text:questionSetting.text,key:questionSetting.key},dataset.push(angular_1.default.copy(datasetQuestion))})):dataset.push(datasetQuestion)})),this.datagridOptions.dataset=dataset},BaseDialogController.prototype.deleteQuestion=function(){var _this=this;this.dialogService.showYesNo("Delete Question","Do you want to delete this Question?").then((function(result){var _a;if(result.button===dialog_service_1.DialogButtonType.Yes){var questionId=_this.selectedQuestion.id,settingId=null===(_a=_this.selectedQuestion.setting)||void 0===_a?void 0:_a.id;_this.editorService.getCurrentProject().deleteQuestion(questionId,settingId),_this.clearSelected(),_this.initQuestionsData()}}))},BaseDialogController.prototype.addQuestion=function(){var _this=this,options={title:"New Base Question",template:__webpack_require__(1196)};this.dialogService.show(options).then((function(result){result.button===dialog_service_1.DialogButtonType.Ok&&(_this.editorService.getCurrentProject().addQuestion(result.value),_this.initQuestionsData())}))},BaseDialogController.prototype.clearSelected=function(){this.selectedQuestion=null;var api=this.$element.find("#datagrid-questions").data("datagrid");api&&api.deSelectAllRows()},BaseDialogController.prototype.getTypeName=function(type){switch(type){case questions_enum_1.QuestionDefinitionsEnum.COMPONENT_SETTINGS:return"Setting";case questions_enum_1.QuestionDefinitionsEnum.SEEKS_BINDING:return"Binding"}},BaseDialogController.prototype.close=function(){this.dialog.close()},BaseDialogController.prototype.save=function(){var result={button:dialog_service_1.DialogButtonType.Ok};this.dialog.close(result)},BaseDialogController.add=function(m){m.controller("eirBaseDialogController",BaseDialogController)},BaseDialogController.$inject=[angular_constants_1.AngularConstants.SCOPE,angular_constants_1.AngularConstants.ELEMENT,common_constant_1.InjectNames.DIALOG_SERVICE,common_constant_1.InjectNames.EDITOR_SERVICE],BaseDialogController}();exports.BaseDialogController=BaseDialogController},function(module,exports){module.exports='<div ng-controller="eirUpsertQuestionDialogCtrl as ctrl" class=edit-expression-dialog> <div class=field> <label for=component>Component</label> <select id=component class=dropdown ng-model=ctrl.selectedQuestion.componentId ng-change=ctrl.onComponentChange() ng-options="availableComponent.id as availableComponent.name for availableComponent in ctrl.availableComponents" xi-drop-down> </select> </div> <div class=field> <label for=typeProperty>Type</label> <select id=typeProperty class=dropdown ng-model=ctrl.selectedQuestion.type ng-change=ctrl.onTypeChange() ng-options="type.value as type.name for type in ctrl.availableTypes" xi-drop-down> </select> </div> <div class=field> <label for=componentSetting>Setting</label> <select id=componentSetting class=dropdown ng-disabled="ctrl.selectedQuestion.type === 0" ng-model=ctrl.selectedQuestion.settings[0].key ng-options="setting.value as setting.name for setting in ctrl.availableComponentSettings" xi-drop-down> </select> </div> <div class=field> <label for=textValue>Text</label> <input type=textValue class=input ng-disabled="ctrl.selectedQuestion.type === 0" ng-model=ctrl.selectedQuestion.settings[0].text ng-model-options="{ updateOn: \'default\', debounce: {\'default\': 500, \'blur\': 0}}"/> </div> <div class=modal-buttonset> <button type=button class=btn-modal ng-click=ctrl.cancel()>Cancel</button> <button type=button class=btn-modal-primary ng-click=ctrl.save()>Save</button> </div> </div>'},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UpsertQuestionDialogCtrl=void 0;var angular_constants_1=__webpack_require__(7),helper_1=__webpack_require__(15),dialog_service_1=__webpack_require__(13);__webpack_require__(20);var common_constant_1=__webpack_require__(3),questions_enum_1=__webpack_require__(417),UpsertQuestionDialogCtrl=function(){function UpsertQuestionDialogCtrl($scope,editorService){this.$scope=$scope,this.editorService=editorService,this.availableTypes=[],this.availableComponentSettings=[];var dialog=$scope.eirDialog;this.dialog=dialog,this.selectedQuestion={id:helper_1.Helper.generateUniqueId(),componentId:"",type:questions_enum_1.QuestionDefinitionsEnum.COMPONENT_SETTINGS,settings:[{id:helper_1.Helper.generateUniqueId(),text:"",key:""}]},this.getAvailableComponents(),this.availableTypes=[{name:"Setting",value:questions_enum_1.QuestionDefinitionsEnum.COMPONENT_SETTINGS},{name:"Binding",value:questions_enum_1.QuestionDefinitionsEnum.SEEKS_BINDING}],this.getAvailableComponentSettings(this.availableComponents[0].id)}return UpsertQuestionDialogCtrl.prototype.getType=function(typeName){switch(typeName){case"Setting":return questions_enum_1.QuestionDefinitionsEnum.COMPONENT_SETTINGS;case"Binding":return questions_enum_1.QuestionDefinitionsEnum.SEEKS_BINDING}},UpsertQuestionDialogCtrl.prototype.save=function(){var result={button:dialog_service_1.DialogButtonType.Ok,value:this.selectedQuestion};this.dialog.close(result)},UpsertQuestionDialogCtrl.prototype.cancel=function(){var result={button:dialog_service_1.DialogButtonType.Cancel};this.dialog.close(result)},UpsertQuestionDialogCtrl.prototype.getAvailableComponents=function(){var availableSources=[];this.editorService.getAllComponents().forEach((function(component){availableSources.push({id:component.getId(),name:component.getDisplayName(),isComponent:!0})})),this.availableComponents=availableSources,this.selectedQuestion.componentId=this.availableComponents[0].id},UpsertQuestionDialogCtrl.prototype.onComponentChange=function(){this.getAvailableComponentSettings(this.selectedQuestion.componentId)},UpsertQuestionDialogCtrl.prototype.onTypeChange=function(){this.selectedQuestion.type===questions_enum_1.QuestionDefinitionsEnum.SEEKS_BINDING?this.selectedQuestion.settings=[]:(this.selectedQuestion.settings=[{id:helper_1.Helper.generateUniqueId(),text:"",key:""}],this.getAvailableComponentSettings(this.selectedQuestion.componentId))},UpsertQuestionDialogCtrl.prototype.getAvailableComponentSettings=function(componentId){var _this=this,availableSettings=[];this.editorService.getComponentInstanceById(componentId).getFieldSettings().forEach((function(setting){setting.settings.forEach((function(data){data.inputType!==common_constant_1.SettingInputKeys.SWITCH&&data.inputType!==common_constant_1.SettingInputKeys.CHECKBOX||availableSettings.push({value:data.ref,name:_this.prettyPrint(data.ref)})}))})),this.availableComponentSettings=availableSettings,this.selectedQuestion.settings[0].key=this.availableComponentSettings[0].value},UpsertQuestionDialogCtrl.prototype.prettyPrint=function(settingReference){return settingReference.match(/^[a-z]+|[A-Z][a-z]*/g).map((function(word){return word[0].toUpperCase()+word.substr(1).toLowerCase()})).join(" ")},UpsertQuestionDialogCtrl.add=function(m){m.controller("eirUpsertQuestionDialogCtrl",UpsertQuestionDialogCtrl)},UpsertQuestionDialogCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,common_constant_1.InjectNames.EDITOR_SERVICE],UpsertQuestionDialogCtrl}();exports.UpsertQuestionDialogCtrl=UpsertQuestionDialogCtrl},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CopyFormDialogController=void 0;var angular_constants_1=__webpack_require__(7);__webpack_require__(16);var dialog_service_1=__webpack_require__(13);__webpack_require__(94);var CopyFormDialogController=function(){function CopyFormDialogController(scope){this.formName="",this.errorList=[];var dialog=scope.eirDialog;this.dialog=dialog,this.errorList=[],this.formName=this.dialog.parameter}return Object.defineProperty(CopyFormDialogController.prototype,"isNameInvalid",{get:function(){return 0!==this.errorList.length},enumerable:!1,configurable:!0}),CopyFormDialogController.prototype.saveForm=function(){var result={button:dialog_service_1.DialogButtonType.Ok,value:this.formName};this.dialog.close(result)},CopyFormDialogController.prototype.close=function(){this.dialog.close()},CopyFormDialogController.add=function(m){m.controller("eirCopyFormDialogController",CopyFormDialogController)},CopyFormDialogController.$inject=[angular_constants_1.AngularConstants.SCOPE],CopyFormDialogController}();exports.CopyFormDialogController=CopyFormDialogController},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.UrlVariableDialogCtrl=void 0;var angular_1=__importDefault(__webpack_require__(12)),angular_constants_1=__webpack_require__(7),common_constant_1=__webpack_require__(3);__webpack_require__(1200),__webpack_require__(16);var dialog_service_1=__webpack_require__(13);__webpack_require__(94);var notifiable_component_1=__webpack_require__(151),helper_1=__webpack_require__(15);__webpack_require__(20);var UrlVariableDialogCtrl=function(_super){function UrlVariableDialogCtrl(scope,editorService,$timeout){var _this=_super.call(this)||this;_this.$timeout=$timeout,_this.newVariable="",_this.newDescription="",_this.errorList=[];var dialog=scope.eirDialog;return _this.dialog=dialog,_this.variables=angular_1.default.copy(editorService.getCurrentProject().getUrlVariables()),_this.errorList=[],_this.saveDisabled=!0,_this.hasError=!1,_this.oldVariables=angular_1.default.copy(_this.variables),_this}return __extends(UrlVariableDialogCtrl,_super),Object.defineProperty(UrlVariableDialogCtrl.prototype,"ErrorList",{get:function(){return this.hasError=this.errorList.filter((function(item){return"boolean"!=typeof item})).length>0,this.updateSaveDisabled(),this.errorList},enumerable:!1,configurable:!0}),UrlVariableDialogCtrl.prototype.updateSaveDisabled=function(){var _this=this,value=!helper_1.Helper.isDifferent(this.variables,this.oldVariables)||this.hasError;value!==this.saveDisabled&&this.$timeout((function(){_this.saveDisabled=value}))},UrlVariableDialogCtrl.prototype.addVariable=function(){this.variables.push({id:helper_1.Helper.generateUniqueId(),name:this.newVariable,description:this.newDescription}),this.clearInput(),this.updateSaveDisabled()},UrlVariableDialogCtrl.prototype.removeVariable=function(variable){this.variables=this.variables.filter((function(oldVariable){return oldVariable.id!==variable.id})),this.updateSaveDisabled()},UrlVariableDialogCtrl.prototype.saveVariables=function(){var result={value:this.variables,button:dialog_service_1.DialogButtonType.Ok};this.dialog.close(result)},UrlVariableDialogCtrl.prototype.close=function(){this.dialog.close()},UrlVariableDialogCtrl.prototype.isNameUnique=function(newVariable){return!this.variables.find((function(variable){return variable.name===newVariable.name&&variable.id!==newVariable.id}))},UrlVariableDialogCtrl.prototype.validate=function($data){return this.isNameUnique({id:$data.id,name:$data.value})},UrlVariableDialogCtrl.prototype.getValidation=function($data){var result;return"validate"===$data.validator&&(result=this.validate($data)),result},UrlVariableDialogCtrl.prototype.clearInput=function(){this.newVariable="",this.newDescription=""},UrlVariableDialogCtrl.add=function(m){m.controller("eirUrlVariableDialogCtrl",UrlVariableDialogCtrl)},UrlVariableDialogCtrl.$inject=[angular_constants_1.AngularConstants.SCOPE,common_constant_1.InjectNames.EDITOR_SERVICE,angular_constants_1.AngularConstants.TIMEOUT],UrlVariableDialogCtrl}(notifiable_component_1.NotifiableComponent);exports.UrlVariableDialogCtrl=UrlVariableDialogCtrl},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0})},function(module,exports,__webpack_require__){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.RootModule=void 0;var core_1=__webpack_require__(1),platform_browser_1=__webpack_require__(290),static_1=__webpack_require__(257),angular_hybrid_1=__webpack_require__(407),app_states_1=__webpack_require__(507),app_1=__webpack_require__(505),app_launcher_module_1=__webpack_require__(1202);__webpack_require__(1218);var RootModule=function(){function RootModule(upgrade){this.upgrade=upgrade}var _a;return RootModule.prototype.ngDoBootstrap=function(){this.upgrade.bootstrap(document.body,[app_1.appBuilder.name])},RootModule=__decorate([core_1.NgModule({imports:[platform_browser_1.BrowserModule,static_1.UpgradeModule,angular_hybrid_1.UIRouterUpgradeModule.forRoot({states:app_states_1.appStates}),app_launcher_module_1.AppLauncherModule],declarations:[],entryComponents:[]}),__metadata("design:paramtypes",["function"==typeof(_a=void 0!==static_1.UpgradeModule&&static_1.UpgradeModule)?_a:Object])],RootModule)}();exports.RootModule=RootModule},function(module,exports,__webpack_require__){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};Object.defineProperty(exports,"__esModule",{value:!0}),exports.AppLauncherModule=void 0;var common_1=__webpack_require__(5),core_1=__webpack_require__(1),app_launcher_hybrid_component_1=__webpack_require__(508),app_launcher_component_1=__webpack_require__(1203),runtime_canvas_component_1=__webpack_require__(1204),components_module_1=__webpack_require__(1210),AppLauncherModule=function(){function AppLauncherModule(){}return AppLauncherModule=__decorate([core_1.NgModule({imports:[common_1.CommonModule,components_module_1.ComponentsModule],declarations:[app_launcher_hybrid_component_1.AppLauncherHybridComponent,app_launcher_component_1.AppLauncherComponent,runtime_canvas_component_1.RuntimeCanvasComponent],exports:[app_launcher_component_1.AppLauncherComponent]})],AppLauncherModule)}();exports.AppLauncherModule=AppLauncherModule},function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.AppLauncherComponent=void 0;var core_1=__webpack_require__(1),isEmpty_1=__importDefault(__webpack_require__(230)),app_launcher_base_1=__webpack_require__(509),framework_service_1=__webpack_require__(103),AppLauncherComponent=function(_super){function AppLauncherComponent(frameworkService){return _super.call(this,frameworkService)||this}var _a,_b;return __extends(AppLauncherComponent,_super),AppLauncherComponent.prototype.ngOnInit=function(){},AppLauncherComponent.prototype.ngOnChanges=function(changes){var projectIdChanges=changes.projectId;projectIdChanges.previousValue===projectIdChanges.currentValue||isEmpty_1.default(projectIdChanges.currentValue)||(this.runtimeApp=this.frameworkService.loadProject(projectIdChanges.currentValue),this.showMashup=!0)},__decorate([core_1.Input(),__metadata("design:type","function"==typeof(_a="undefined"!=typeof IWidgetSize&&IWidgetSize)?_a:Object)],AppLauncherComponent.prototype,"widgetSize",void 0),AppLauncherComponent=__decorate([core_1.Component({selector:"ng2-app-launcher",template:'\n\t\t<ng2-runtime-canvas\n\t\t\t*ngIf="showMashup"\n\t\t\t[app]="runtimeApp"\n\t\t\t[widgetSize]="widgetSize"\n\t\t></ng2-runtime-canvas>\n\t'}),__metadata("design:paramtypes",["function"==typeof(_b=void 0!==framework_service_1.FrameworkService&&framework_service_1.FrameworkService)?_b:Object])],AppLauncherComponent)}(app_launcher_base_1.AppLauncherBase);exports.AppLauncherComponent=AppLauncherComponent},function(module,exports,__webpack_require__){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.RuntimeCanvasComponent=void 0;var core_1=__webpack_require__(1),operators_1=__webpack_require__(106),runtime_app_1=__webpack_require__(269),application_parent_1=__webpack_require__(1205),framework_service_1=__webpack_require__(103),RuntimeCanvasComponent=function(){function RuntimeCanvasComponent(frameworkService,changeDetectorRef){this.frameworkService=frameworkService,this.changeDetectorRef=changeDetectorRef}var _a,_b,_c,_d,_e;return Object.defineProperty(RuntimeCanvasComponent.prototype,"app",{get:function(){return this._app},set:function(value){this._app=value,this.loadApplication()},enumerable:!1,configurable:!0}),RuntimeCanvasComponent.prototype.ngOnInit=function(){this.loadApplication()},RuntimeCanvasComponent.prototype.ngAfterViewChecked=function(){this.changeDetectorRef.detectChanges()},RuntimeCanvasComponent.prototype.onComponentReady=function(componentInstance){var _this=this;console.info("[RuntimeDirective] Root component ready"),this.parent.addChildInstance(componentInstance),this.frameworkService.rootComponentInstance=componentInstance,this.frameworkService.runStartupInteractions().pipe(operators_1.take(1)).subscribe({complete:function(){if(_this.widgetSize){var cols=_this.widgetSize.cols;_this.frameworkService.currentBoundary=_this.frameworkService.getBoundaryByWidgetSize(cols)}else{var currentBrowserWidth=window.innerWidth;_this.frameworkService.currentBoundary=_this.frameworkService.getBoundaryByWidth(currentBrowserWidth)}componentInstance.onBoundaryChange(_this.frameworkService.currentBoundary).pipe(operators_1.take(1)).subscribe({next:function(value){return console.info(value)},complete:function(){return _this.changeDetectorRef.detectChanges()}})}})},RuntimeCanvasComponent.prototype.loadApplication=function(){var manifest=this.app.manifest;this.parent=new application_parent_1.ApplicationParent(application_parent_1.ApplicationParent.APPLICATION_PARENT_DATABEARER,application_parent_1.ApplicationParent.createSpoofElement(),null,manifest),this.context={},this.rootComponent=this.app.rootComponent},__decorate([core_1.Input(),__metadata("design:type","function"==typeof(_a=void 0!==runtime_app_1.RuntimeApp&&runtime_app_1.RuntimeApp)?_a:Object),__metadata("design:paramtypes",["function"==typeof(_b=void 0!==runtime_app_1.RuntimeApp&&runtime_app_1.RuntimeApp)?_b:Object])],RuntimeCanvasComponent.prototype,"app",null),__decorate([core_1.Input(),__metadata("design:type","function"==typeof(_c="undefined"!=typeof IWidgetSize&&IWidgetSize)?_c:Object)],RuntimeCanvasComponent.prototype,"widgetSize",void 0),RuntimeCanvasComponent=__decorate([core_1.Component({selector:"ng2-runtime-canvas",template:'\n\t\t<ng2-titlebar remove-host\n\t\t\t[manifest]="app.getManifest()"\n\t\t></ng2-titlebar>\n\t\t<section class="page-container mashupRootContainer runtimeMode">\n\t\t\t<component-container\n\t\t\t\t*ngIf="rootComponent"\n\t\t\t\t[component]="rootComponent"\n\t\t\t\t[context]="context"\n\t\t\t\t[parent]="parent"\n\t\t\t\t(componentReady)="onComponentReady($event)"\n\t\t\t></component-container>\n\t\t</section>\n\t'}),__metadata("design:paramtypes",["function"==typeof(_d=void 0!==framework_service_1.FrameworkService&&framework_service_1.FrameworkService)?_d:Object,"function"==typeof(_e=void 0!==core_1.ChangeDetectorRef&&core_1.ChangeDetectorRef)?_e:Object])],RuntimeCanvasComponent)}();exports.RuntimeCanvasComponent=RuntimeCanvasComponent},function(module,exports,__webpack_require__){"use strict";(function($){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0}),exports.ApplicationParent=void 0;var common_constant_1=__webpack_require__(3);__webpack_require__(44);var size_type_enum_1=__webpack_require__(29),value_type_enum_1=__webpack_require__(26),ApplicationParent=function(_super){function ApplicationParent(databearer,element,parent,manifest){var _this=_super.call(this,null,null,null,null,null,null)||this;return _this.currentTheme=1,_this.manifest=manifest,_this.language=null,_this}return __extends(ApplicationParent,_super),Object.defineProperty(ApplicationParent.prototype,"hasIndividualChildSizes",{get:function(){return!!this.manifest.showTitleBar},enumerable:!1,configurable:!0}),ApplicationParent.prototype.addChildInstance=function(child){this.children[0]=child},ApplicationParent.createSpoofElement=function(){var element=$("<div></div>");return element.data("eir-scope",this),element},ApplicationParent.prototype.getPxPerPercentComponent=function(ori){return 0},ApplicationParent.APPLICATION_PARENT_DATABEARER={typedef:ApplicationParent.name,id:"Application",displayName:"Application",isReadonly:!1,boundarySettings:{}},ApplicationParent.BINDABLE_FIELDS_2=[{name:"$Language",ref:common_constant_1.SettingKeys.LANGUAGE,valueType:value_type_enum_1.ValueTypeEnum.STRING,write:!1,read:!0}],ApplicationParent.DEFAULT_WIDTH={sizeType:size_type_enum_1.SizeTypeEnum.PERCENT},ApplicationParent.DEFAULT_HEIGHT={sizeType:size_type_enum_1.SizeTypeEnum.PERCENT},ApplicationParent.DEFAULT_TRIGGER=common_constant_1.InteractionPairOperation.ON_STARTUP,ApplicationParent.DEFAULT_ACTION=common_constant_1.InteractionPairOperation.NONE,ApplicationParent.SOURCE_TRIGGERS=[common_constant_1.InteractionPairOperation.ON_STARTUP],ApplicationParent.TARGET_ACTIONS=[common_constant_1.InteractionPairOperation.NONE],ApplicationParent}(__webpack_require__(451).LayoutComponent);exports.ApplicationParent=ApplicationParent}).call(this,__webpack_require__(21))},,,,,function(module,exports,__webpack_require__){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ComponentsModule=void 0;var common_1=__webpack_require__(5),http_1=__webpack_require__(313),core_1=__webpack_require__(1),forms_1=__webpack_require__(220),ids_enterprise_ng_1=__webpack_require__(135),remove_host_directive_1=__webpack_require__(1211),button_component_1=__webpack_require__(573),children_component_container_component_1=__webpack_require__(1212),component_container_component_1=__webpack_require__(1213),dropdown_component_1=__webpack_require__(574),flexbox_component_1=__webpack_require__(575),list_component_1=__webpack_require__(576),lookup_component_1=__webpack_require__(577),textbox_component_1=__webpack_require__(578),titlebar_component_1=__webpack_require__(1217),component_service_1=__webpack_require__(511),data_service_service_1=__webpack_require__(512),dynamic_component_service_1=__webpack_require__(104),framework_service_1=__webpack_require__(103),ComponentsModule=function(){function ComponentsModule(){}return ComponentsModule=__decorate([core_1.NgModule({imports:[common_1.CommonModule,http_1.HttpClientModule,forms_1.FormsModule,ids_enterprise_ng_1.SohoComponentsModule],exports:[children_component_container_component_1.ChildrenComponentContainer,component_container_component_1.ComponentContainer,button_component_1.ButtonComponent,dropdown_component_1.DropdownComponent,flexbox_component_1.FlexboxComponent,list_component_1.ListComponent,lookup_component_1.LookupComponent,titlebar_component_1.TitlebarComponent,remove_host_directive_1.RemoveHostDirective],declarations:[children_component_container_component_1.ChildrenComponentContainer,component_container_component_1.ComponentContainer,button_component_1.ButtonComponent,dropdown_component_1.DropdownComponent,flexbox_component_1.FlexboxComponent,list_component_1.ListComponent,lookup_component_1.LookupComponent,textbox_component_1.TextboxComponent,titlebar_component_1.TitlebarComponent,remove_host_directive_1.RemoveHostDirective],entryComponents:[button_component_1.ButtonComponent,dropdown_component_1.DropdownComponent,flexbox_component_1.FlexboxComponent,list_component_1.ListComponent,lookup_component_1.LookupComponent,textbox_component_1.TextboxComponent],providers:[component_service_1.ComponentService,data_service_service_1.DataServiceBuilder,dynamic_component_service_1.DynamicComponentService,framework_service_1.FrameworkService]})],ComponentsModule)}();exports.ComponentsModule=ComponentsModule},function(module,exports,__webpack_require__){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.RemoveHostDirective=void 0;var core_1=__webpack_require__(1),RemoveHostDirective=function(){function RemoveHostDirective(elementRef){this.elementRef=elementRef}var _a;return RemoveHostDirective.prototype.ngOnInit=function(){for(var nativeElement=this.elementRef.nativeElement,parentElement=nativeElement.parentElement;nativeElement.firstChild;)parentElement.insertBefore(nativeElement.firstChild,nativeElement);parentElement.removeChild(nativeElement)},RemoveHostDirective=__decorate([core_1.Directive({selector:"[remove-host]"}),__metadata("design:paramtypes",["function"==typeof(_a=void 0!==core_1.ElementRef&&core_1.ElementRef)?_a:Object])],RemoveHostDirective)}();exports.RemoveHostDirective=RemoveHostDirective},function(module,exports,__webpack_require__){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ChildrenComponentContainer=void 0;var core_1=__webpack_require__(1),ChildrenComponentContainer=function(){function ChildrenComponentContainer(){this.onChildrenReady=new core_1.EventEmitter}var _a;return ChildrenComponentContainer.prototype.ngOnInit=function(){var parentInstance=this.parent;this.parentChildren=parentInstance.getDatabearer().children,this.numberOfChildren=this.parentChildren.length,0===this.numberOfChildren&&this.onChildrenReady.emit(),this.context=parentInstance.context},ChildrenComponentContainer.prototype.onComponentReady=function(component){this.numberOfChildren--,console.info("ID: "+this.parent.displayName+", TYPEDEF: "+this.parent.typedef+":\n\tChild Component: '"+component.displayName+"' in '"+this.parent.displayName+"' is ready!\n\tNumber of children left "+this.numberOfChildren+" to render");var index=this.parentChildren.findIndex((function(child){return child.id===component.id}));if(-1===index)throw Error("Should not happen");this.parent.children[index]=component,0===this.numberOfChildren&&this.onChildrenReady.emit()},__decorate([core_1.Input(),__metadata("design:type","function"==typeof(_a="undefined"!=typeof ILayoutComponent&&ILayoutComponent)?_a:Object)],ChildrenComponentContainer.prototype,"parent",void 0),__decorate([core_1.Output(),__metadata("design:type",Object)],ChildrenComponentContainer.prototype,"onChildrenReady",void 0),ChildrenComponentContainer=__decorate([core_1.Component({selector:"children-component-container",template:'\n\t\t<component-container\n\t\t\t*ngFor="let child of parent.getDatabearer().children"\n\t\t\t[component]="child"\n\t\t\t[context]="context"\n\t\t\t[parent]="parent"\n\t\t\t(componentReady)="onComponentReady($event)"\n\t\t></component-container>\n\t'})],ChildrenComponentContainer)}();exports.ChildrenComponentContainer=ChildrenComponentContainer},function(module,exports,__webpack_require__){"use strict";(function($){var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)},__importDefault=this&&this.__importDefault||function(mod){return mod&&mod.__esModule?mod:{default:mod}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ComponentContainer=void 0;var core_1=__webpack_require__(1),ids_enterprise_ng_1=__webpack_require__(135),isUndefined_1=__importDefault(__webpack_require__(84)),layout_component_1=__webpack_require__(451),button_component_1=__webpack_require__(573),dropdown_component_1=__webpack_require__(574),flexbox_component_1=__webpack_require__(575),list_component_1=__webpack_require__(576),lookup_component_1=__webpack_require__(577),textbox_component_1=__webpack_require__(578),dynamic_component_service_1=__webpack_require__(104),ComponentContainer=function(){function ComponentContainer(renderer,elementRef,dynamicComponentService){this.renderer=renderer,this.elementRef=elementRef,this.dynamicComponentService=dynamicComponentService,this.componentReady=new core_1.EventEmitter,this.totalChildren=0}var _a,_b,_c,_d,_e,_f,_g,_h;return ComponentContainer.prototype.ngAfterViewInit=function(){this.dynamicComponentService.setRootViewContainerRef(this.viewContainerRef),this.setComponentContainerProperties(),this.attachComponent(),this.onComponentReady(),this.onBoundaryChange()},ComponentContainer.prototype.ngOnChanges=function(changes){var newComponentChange=changes.component;isUndefined_1.default(newComponentChange.previousValue)||(this.component=newComponentChange.currentValue,this.dynamicComponentService.destroyComponent(),$("#child-cage-AppPanel").remove(),this.ngAfterViewInit())},ComponentContainer.prototype.setComponentContainerProperties=function(){var component=this.component;this.id=component.id,(component instanceof layout_component_1.LayoutComponent||component.children)&&(this.totalChildren=component.children.length)},ComponentContainer.prototype.attachComponent=function(){var componentRef,cssClass=["eir2-component"];switch(this.component.typedef){case"Button":componentRef=this.dynamicComponentService.addComponent(button_component_1.ButtonComponent),cssClass.push("eir2-button-component");break;case"Dropdown":componentRef=this.dynamicComponentService.addComponent(dropdown_component_1.DropdownComponent),cssClass.push("eir2-dropdown-component");break;case"Flexbox":componentRef=this.dynamicComponentService.addComponent(flexbox_component_1.FlexboxComponent),cssClass.push("eir2-flexbox-component");break;case"List":componentRef=this.dynamicComponentService.addComponent(list_component_1.ListComponent),cssClass.push("eir2-list-component");break;case"Lookup":componentRef=this.dynamicComponentService.addComponent(lookup_component_1.LookupComponent),cssClass.push("eir2-lookup-component");break;case"Textbox":case"TextBox":componentRef=this.dynamicComponentService.addComponent(textbox_component_1.TextboxComponent),cssClass.push("eir2-textbox-component");break;default:throw Error("Invalid component")}this.class=cssClass.join(" "),this.componentInstance=componentRef.instance,this.setAttachedComponentProperties(),this.componentInstance.initializeBinding(this.component)},ComponentContainer.prototype.setAttachedComponentProperties=function(){this.componentInstance.id=this.component.id,this.componentInstance.displayName=this.component.displayName,this.componentInstance.typedef=this.component.typedef,this.componentInstance.isReadonly=this.component.isReadonly;var component=this.component,componentInstance=this.componentInstance;component.style&&(componentInstance.style=component.style),this.componentInstance.databearer=this.component,this.componentInstance.parent=this.parent,this.componentInstance.context=this.context},ComponentContainer.prototype.onComponentReady=function(){var _this=this;this.componentInstance.componentReady$.subscribe({next:function(value){value instanceof layout_component_1.LayoutComponent&&(_this.totalChildren--,console.info(value.id+" is ready! Number of children left to render "+_this.totalChildren)),_this.busyIndicator.activated=value.isLoading,_this.componentReady.emit(value)}})},ComponentContainer.prototype.onBoundaryChange=function(){var _this=this;this.componentInstance.boundaryChange$.subscribe({next:function(value){if(value instanceof layout_component_1.LayoutComponent){var componentElement=_this.elementRef.nativeElement;value.isVisible?_this.renderer.removeClass(componentElement,"is-hidden"):_this.renderer.addClass(componentElement,"is-hidden"),console.info(value.id+" has boundary change! isVisible: "+value.isVisible)}}})},__decorate([core_1.Input(),__metadata("design:type","function"==typeof(_a="undefined"!=typeof IJsonComponent&&IJsonComponent)?_a:Object)],ComponentContainer.prototype,"component",void 0),__decorate([core_1.Input(),__metadata("design:type","function"==typeof(_b="undefined"!=typeof IContext&&IContext)?_b:Object)],ComponentContainer.prototype,"context",void 0),__decorate([core_1.Input(),__metadata("design:type","function"==typeof(_c="undefined"!=typeof ILayoutComponent&&ILayoutComponent)?_c:Object)],ComponentContainer.prototype,"parent",void 0),__decorate([core_1.Output(),__metadata("design:type",Object)],ComponentContainer.prototype,"componentReady",void 0),__decorate([core_1.ViewChild("dynamic",{read:core_1.ViewContainerRef}),__metadata("design:type","function"==typeof(_d=void 0!==core_1.ViewContainerRef&&core_1.ViewContainerRef)?_d:Object)],ComponentContainer.prototype,"viewContainerRef",void 0),__decorate([core_1.ViewChild(ids_enterprise_ng_1.SohoBusyIndicatorDirective,{static:!0}),__metadata("design:type","function"==typeof(_e=void 0!==ids_enterprise_ng_1.SohoBusyIndicatorDirective&&ids_enterprise_ng_1.SohoBusyIndicatorDirective)?_e:Object)],ComponentContainer.prototype,"busyIndicator",void 0),__decorate([core_1.HostBinding("id"),__metadata("design:type",String)],ComponentContainer.prototype,"id",void 0),__decorate([core_1.HostBinding("class"),__metadata("design:type",String)],ComponentContainer.prototype,"class",void 0),ComponentContainer=__decorate([core_1.Component({selector:"component-container",template:'\n\t\t<div [hidden]="false"\n\t\t\tsoho-busyindicator [activated]="true" [blockUI]="true"\n\t\t></div>\n\t\t<ng-template #dynamic></ng-template>\n\t',styles:["\n\t\t.eir2-component {\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t}\n\t"]}),__metadata("design:paramtypes",["function"==typeof(_f=void 0!==core_1.Renderer2&&core_1.Renderer2)?_f:Object,"function"==typeof(_g=void 0!==core_1.ElementRef&&core_1.ElementRef)?_g:Object,"function"==typeof(_h=void 0!==dynamic_component_service_1.DynamicComponentService&&dynamic_component_service_1.DynamicComponentService)?_h:Object])],ComponentContainer)}();exports.ComponentContainer=ComponentContainer}).call(this,__webpack_require__(21))},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DropdownMetadata=void 0;var common_constant_1=__webpack_require__(3),interaction_defines_constant_1=__webpack_require__(52),binding_type_enum_1=__webpack_require__(30),size_type_enum_1=__webpack_require__(29),value_type_enum_1=__webpack_require__(26),component_metadata_1=__webpack_require__(240),DropdownMetadata=function(){function DropdownMetadata(){}return DropdownMetadata.DEFAULT_WIDTH={sizeType:size_type_enum_1.SizeTypeEnum.AUTO},DropdownMetadata.DEFAULT_HEIGHT={sizeType:size_type_enum_1.SizeTypeEnum.AUTO},DropdownMetadata.SOURCE_TRIGGERS=interaction_defines_constant_1.InteractionDefines.SOURCE_TRIGGERS.concat([common_constant_1.InteractionPairOperation.ON_ITEM_CHANGED]),DropdownMetadata.TARGET_ACTIONS=[common_constant_1.InteractionPairOperation.LIST,common_constant_1.InteractionPairOperation.SET_CURRENT_ITEM,common_constant_1.InteractionPairOperation.CLEAR],DropdownMetadata.DEFAULT_TRIGGER=common_constant_1.InteractionPairOperation.ON_ITEM_CHANGED,DropdownMetadata.DEFAULT_ACTION=common_constant_1.InteractionPairOperation.LIST,DropdownMetadata.SETTING_FIELDS=[{title:"Options",tab:common_constant_1.SidebarTabTypes.CONTENT,settings:[{title:"Keep Selection",tooltip:"Keep previous selected item on reload. (With ION APIs, an object ID is preferred if using this)",ref:common_constant_1.SettingKeys.KEEP_SELECTED,inputType:common_constant_1.SettingInputKeys.CHECKBOX,defaultValue:!0}]},{title:"Style",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{title:"Show Label",boundarySetting:!0,ref:common_constant_1.SettingKeys.SHOW_LABEL,inputType:common_constant_1.SettingInputKeys.CHECKBOX,defaultValue:!0},{title:"Disabled",ref:common_constant_1.SettingKeys.IS_READONLY,inputType:common_constant_1.SettingInputKeys.CHECKBOX,defaultValue:!1,button:{icon:"#icon-unlocked",tooltip:"Disable Component When...",dialog:!0}}]}].concat(component_metadata_1.BaseComponentMetadata.SETTING_FIELDS),DropdownMetadata.BINDABLE_FIELDS_2=[{name:"Selected Item",ref:common_constant_1.SettingKeys.CURRENT_ITEM,valueType:value_type_enum_1.ValueTypeEnum.OBJECT,write:!1,read:!0},{name:"Label",ref:common_constant_1.SettingKeys.LABEL,valueType:value_type_enum_1.ValueTypeEnum.LOCALIZED_STRING,write:!0,read:!1,defaultValue:{Type:binding_type_enum_1.BindingTypeEnum.STATIC_VALUE,value:""}},{name:"Display Value",ref:common_constant_1.SettingKeys.DISPLAY_VALUE,valueType:value_type_enum_1.ValueTypeEnum.STRING,write:!0,read:!1,defaultValue:{Type:binding_type_enum_1.BindingTypeEnum.STATIC_VALUE,value:""}}],DropdownMetadata}();exports.DropdownMetadata=DropdownMetadata},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FlexboxMetadata=void 0;var colors_constant_1=__webpack_require__(423),common_constant_1=__webpack_require__(3),interaction_defines_constant_1=__webpack_require__(52),orientation_enum_1=__webpack_require__(44),size_type_enum_1=__webpack_require__(29),component_metadata_1=__webpack_require__(240),FlexboxMetadata=function(){function FlexboxMetadata(){}return FlexboxMetadata.availableOrientations=[{name:"Vertical",value:orientation_enum_1.OrientationEnum.VERTICAL},{name:"Horizontal",value:orientation_enum_1.OrientationEnum.HORIZONTAL}],FlexboxMetadata.availableHorizontalAlignments=[{name:"Left",value:common_constant_1.AlignmentEnum.FLEX_START},{name:"Center",value:common_constant_1.AlignmentEnum.CENTER},{name:"Right",value:common_constant_1.AlignmentEnum.FLEX_END}],FlexboxMetadata.availableVerticalAlignments=[{name:"Top",value:common_constant_1.AlignmentEnum.FLEX_START},{name:"Middle",value:common_constant_1.AlignmentEnum.CENTER},{name:"Bottom",value:common_constant_1.AlignmentEnum.FLEX_END}],FlexboxMetadata.availableFlexSizeTypes=[{name:"Relative",value:common_constant_1.FlexSizeTypeEnum.FLEX},{name:"Pixel",value:common_constant_1.FlexSizeTypeEnum.PIXELS}],FlexboxMetadata.availableColors=[{name:"Automatic",value:void 0},{name:"Azure 1",value:colors_constant_1.colors.azure01},{name:"Azure 2",value:colors_constant_1.colors.azure02},{name:"Azure 3",value:colors_constant_1.colors.azure03},{name:"Graphite 1",value:colors_constant_1.colors.graphite01},{name:"Graphite 2",value:colors_constant_1.colors.graphite02},{name:"Graphite 3",value:colors_constant_1.colors.graphite03},{name:"Graphite 4",value:colors_constant_1.colors.graphite04},{name:"Graphite 5",value:colors_constant_1.colors.graphite05},{name:"White",value:"#ffffff"}],FlexboxMetadata.availableOverflows=[{name:"Hidden",value:common_constant_1.FlexOverflowEnum.HIDDEN},{name:"Wrap",value:common_constant_1.FlexOverflowEnum.WRAP},{name:"Scroll",value:common_constant_1.FlexOverflowEnum.SCROLL}],FlexboxMetadata.DEFAULT_WIDTH={sizeType:size_type_enum_1.SizeTypeEnum.PERCENT},FlexboxMetadata.DEFAULT_HEIGHT={sizeType:size_type_enum_1.SizeTypeEnum.AUTO},FlexboxMetadata.SOURCE_TRIGGERS=interaction_defines_constant_1.InteractionDefines.SOURCE_TRIGGERS,FlexboxMetadata.TARGET_ACTIONS=[common_constant_1.InteractionPairOperation.GET,common_constant_1.InteractionPairOperation.CLEAR],FlexboxMetadata.DEFAULT_TRIGGER=common_constant_1.InteractionPairOperation.ON_LOAD,FlexboxMetadata.DEFAULT_ACTION=common_constant_1.InteractionPairOperation.GET,FlexboxMetadata.BINDABLE_FIELDS_2=[],FlexboxMetadata.SETTING_FIELDS=[{title:"Orientation",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{ref:common_constant_1.SettingKeys.ORIENTATION,boundarySetting:!0,inputType:common_constant_1.SettingInputKeys.DROPDOWN,dataset:FlexboxMetadata.availableOrientations,defaultValue:orientation_enum_1.OrientationEnum.VERTICAL}]},{title:"Width",tab:common_constant_1.SidebarTabTypes.STYLE,condition:"parent.orientation === "+orientation_enum_1.OrientationEnum.HORIZONTAL,settings:[{ref:common_constant_1.SettingKeys.SIZE_TYPE,boundarySetting:!0,inputType:common_constant_1.SettingInputKeys.RADIO,dataset:FlexboxMetadata.availableFlexSizeTypes,defaultValue:common_constant_1.FlexSizeTypeEnum.FLEX},{title:"Value",ref:common_constant_1.SettingKeys.SIZE,boundarySetting:!0,inputType:common_constant_1.SettingInputKeys.TEXT,defaultValue:1}]},{title:"Height",tab:common_constant_1.SidebarTabTypes.STYLE,condition:"parent.orientation === "+orientation_enum_1.OrientationEnum.VERTICAL,settings:[{ref:common_constant_1.SettingKeys.SIZE_TYPE,boundarySetting:!0,inputType:common_constant_1.SettingInputKeys.RADIO,dataset:FlexboxMetadata.availableFlexSizeTypes,defaultValue:common_constant_1.FlexSizeTypeEnum.FLEX},{title:"Value",ref:common_constant_1.SettingKeys.SIZE,boundarySetting:!0,inputType:common_constant_1.SettingInputKeys.TEXT,defaultValue:1}]},{title:"Overflow",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{ref:common_constant_1.SettingKeys.OVERFLOW,boundarySetting:!0,inputType:common_constant_1.SettingInputKeys.DROPDOWN,dataset:FlexboxMetadata.availableOverflows,defaultValue:common_constant_1.FlexOverflowEnum.HIDDEN}]},{title:"Background Color",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{ref:common_constant_1.SettingKeys.BACKGROUND_COLOR,boundarySetting:!0,inputType:common_constant_1.SettingInputKeys.DROPDOWN,dataset:FlexboxMetadata.availableColors}]},{title:"Alignment",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{title:"Horizontal",ref:common_constant_1.SettingKeys.ALIGNMENT_HORIZONTAL,boundarySetting:!0,dataset:FlexboxMetadata.availableHorizontalAlignments,inputType:common_constant_1.SettingInputKeys.DROPDOWN,defaultValue:common_constant_1.AlignmentEnum.FLEX_START},{title:"Vertical",ref:common_constant_1.SettingKeys.ALIGNMENT_VERTICAL,boundarySetting:!0,dataset:FlexboxMetadata.availableVerticalAlignments,inputType:common_constant_1.SettingInputKeys.DROPDOWN,defaultValue:common_constant_1.AlignmentEnum.FLEX_START}]},{title:"Padding",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{title:"Padding",ref:common_constant_1.SettingKeys.MARGIN,boundarySetting:!0,inputType:common_constant_1.SettingInputKeys.MARGIN,defaultValue:{left:10,top:10,right:10,bottom:10}}]}].concat(component_metadata_1.BaseComponentMetadata.SETTING_FIELDS.filter((function(settingCategory){return!settingCategory.settings.some((function(setting){return setting.ref===common_constant_1.SettingKeys.MARGIN}))}))),FlexboxMetadata}();exports.FlexboxMetadata=FlexboxMetadata},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LookupMetadata=void 0;var common_constant_1=__webpack_require__(3),binding_type_enum_1=__webpack_require__(30),size_type_enum_1=__webpack_require__(29),value_type_enum_1=__webpack_require__(26),component_metadata_1=__webpack_require__(240),LookupMetadata=function(){function LookupMetadata(){}return LookupMetadata.OUTPUT_SETTING_TITLE="Dialog Output Value",LookupMetadata.DEFAULT_WIDTH={sizeType:size_type_enum_1.SizeTypeEnum.AUTO},LookupMetadata.DEFAULT_HEIGHT={sizeType:size_type_enum_1.SizeTypeEnum.AUTO},LookupMetadata.SOURCE_TRIGGERS=[common_constant_1.InteractionPairOperation.ON_CLICK],LookupMetadata.TARGET_ACTIONS=[common_constant_1.InteractionPairOperation.GET,common_constant_1.InteractionPairOperation.CLEAR],LookupMetadata.DEFAULT_ACTION=common_constant_1.InteractionPairOperation.LIST,LookupMetadata.DEFAULT_TRIGGER=common_constant_1.InteractionPairOperation.ON_CLICK,LookupMetadata.BINDABLE_FIELDS_2=[{name:"Label",ref:common_constant_1.SettingKeys.LABEL,valueType:value_type_enum_1.ValueTypeEnum.LOCALIZED_STRING,write:!0,read:!1,defaultValue:{Type:binding_type_enum_1.BindingTypeEnum.STATIC_VALUE,value:""}},{name:"Text",ref:common_constant_1.SettingKeys.TEXT,valueType:value_type_enum_1.ValueTypeEnum.STRING,write:!0,read:!0,defaultValue:{Type:binding_type_enum_1.BindingTypeEnum.STATIC_VALUE,value:""}}],LookupMetadata.SETTING_FIELDS=[{title:LookupMetadata.OUTPUT_SETTING_TITLE,tab:common_constant_1.SidebarTabTypes.CONTENT,settings:[{dataset:[],title:"",ref:common_constant_1.SettingKeys.LOOKUP_OUTPUT_ID,inputType:common_constant_1.SettingInputKeys.DROPDOWN}]},{title:"Style",tab:common_constant_1.SidebarTabTypes.STYLE,settings:[{title:"Show Label",boundarySetting:!0,ref:common_constant_1.SettingKeys.SHOW_LABEL,inputType:common_constant_1.SettingInputKeys.CHECKBOX,defaultValue:!0},{title:"Read Only",ref:common_constant_1.SettingKeys.IS_READONLY,inputType:common_constant_1.SettingInputKeys.CHECKBOX,defaultValue:!1,button:{icon:"#icon-unlocked",tooltip:"Disable Component When...",dialog:!0}}]}].concat(component_metadata_1.BaseComponentMetadata.SETTING_FIELDS),LookupMetadata}();exports.LookupMetadata=LookupMetadata},function(module,exports,__webpack_require__){"use strict";var __decorate=this&&this.__decorate||function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r},__metadata=this&&this.__metadata||function(k,v){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(k,v)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.TitlebarComponent=void 0;var core_1=__webpack_require__(1),ids_enterprise_ng_1=__webpack_require__(135),common_constant_1=__webpack_require__(3),TitlebarComponent=function(){function TitlebarComponent(){}var _a,_b;return TitlebarComponent.prototype.ngOnInit=function(){},TitlebarComponent.prototype.ngAfterViewInit=function(){this.personalize=this.queryList.first,this.themes=this.personalize.themes(),this.personalize.theme=this.getCurrentTheme()},TitlebarComponent.prototype.getCurrentTheme=function(){switch(this.manifest.defaultTheme){case common_constant_1.ThemeEnum.DARK:return this.themes[1].id;case common_constant_1.ThemeEnum.HIGH_CONTRAST:return this.themes[2].id;case common_constant_1.ThemeEnum.LIGHT_TRANSPARENT:return this.themes[3].id;case common_constant_1.ThemeEnum.DARK_TRANSPARENT:return this.themes[4].id;case common_constant_1.ThemeEnum.DEFAULT:case common_constant_1.ThemeEnum.LIGHT:default:return this.themes[0].id}},TitlebarComponent.prototype.onChangeTheme=function(event){console.info(event)},__decorate([core_1.Input(),__metadata("design:type","function"==typeof(_a="undefined"!=typeof IJsonDesignerManifest&&IJsonDesignerManifest)?_a:Object)],TitlebarComponent.prototype,"manifest",void 0),__decorate([core_1.ViewChildren(ids_enterprise_ng_1.SohoPersonalizeDirective),__metadata("design:type","function"==typeof(_b=void 0!==core_1.QueryList&&core_1.QueryList)?_b:Object)],TitlebarComponent.prototype,"queryList",void 0),TitlebarComponent=__decorate([core_1.Component({selector:"ng2-titlebar",template:'\n\t\t<soho-header *ngIf="manifest.showTitleBar"\n\t\t\t[hasToolbar]="true"\n\t\t>\n\t\t\t<soho-toolbar-flex maxVisibleButtons="5" hasMoreButton="true">\n\t\t\t\t<soho-toolbar-flex-section [isTitle]="true">\n\t\t\t\t\t<h1>\n\t\t\t\t\t\t<span soho-toolbar-flex-page-title>{{ manifest.title }}</span>\n\t\t\t\t\t\t\x3c!-- <span soho-toolbar-flex-section-title>{{ manifest.title }}</span> --\x3e\n\t\t\t\t\t</h1>\n\t\t\t\t</soho-toolbar-flex-section>\n\n\t\t\t\t<soho-toolbar-flex-more-button>\n\t\t\t\t\t<ul class="popupmenu">\n\t\t\t\t\t\t\x3c!-- <li *ngFor="let theme of themes" class="is-selectable">\n\t\t\t\t\t\t\t<a href="#"\n\t\t\t\t\t\t\t\tdata-theme-variant="theme.id"\n\t\t\t\t\t\t\t\tdata-translate="text">{{ theme.variantName }}</a>\n\t\t\t\t\t\t</li> --\x3e\n\t\t\t\t\t\t<li class="is-selectable">\n\t\t\t\t\t\t\t<a href="#"\n\t\t\t\t\t\t\t\tdata-theme-variant="light"\n\t\t\t\t\t\t\t\tdata-translate="text">Light</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class="is-selectable">\n\t\t\t\t\t\t\t<a href="#"\n\t\t\t\t\t\t\t\tdata-theme-variant="dark"\n\t\t\t\t\t\t\t\tdata-translate="text">Dark</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li class="is-selectable">\n\t\t\t\t\t\t\t<a href="#"\n\t\t\t\t\t\t\t\tdata-theme-variant="contrast"\n\t\t\t\t\t\t\t\tdata-translate="text">High Contrast</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t<div soho-personalize\n\t\t\t\t\t\t(changetheme)="onChangeTheme($event)"\n\t\t\t\t\t\t(changecolors)="onChangeColors($event)"\n\t\t\t\t\t></div>\n\t\t\t\t</soho-toolbar-flex-more-button>\n\t\t\t</soho-toolbar-flex>\n\t\t</soho-header>\n\t'})],TitlebarComponent)}();exports.TitlebarComponent=TitlebarComponent},function(module,exports,__webpack_require__){}]);
//# sourceMappingURL=designer.js.map